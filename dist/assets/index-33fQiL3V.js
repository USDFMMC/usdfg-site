const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/contract-DjQxHweE.js","assets/ui-C_ecRgbg.js","assets/vendor-BoDUibaF.js"])))=>i.map(i=>d[i]);
import{j as e,V as t,R as n,A as r,C as i,T as s,D as o,P as a,S as l,a as c,b as u,c as d,d as h,e as f,f as p,g as m,u as g,h as y}from"./ui-C_ecRgbg.js";import{d as b,e as w,r as v,g as x,f as k,R as S,a as E,L as _,u as N,h as A,B as T,i as C,j}from"./vendor-BoDUibaF.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var I,R={},O={};var P,M,D={};
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function L(){return M||(M=1,function(e){const t=function(){if(I)return O;I=1,O.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},O.toByteArray=function(e){var r,i,o=s(e),a=o[0],l=o[1],c=new n(function(e,t,n){return 3*(t+n)/4-n}(0,a,l)),u=0,d=l>0?a-4:a;for(i=0;i<d;i+=4)r=t[e.charCodeAt(i)]<<18|t[e.charCodeAt(i+1)]<<12|t[e.charCodeAt(i+2)]<<6|t[e.charCodeAt(i+3)],c[u++]=r>>16&255,c[u++]=r>>8&255,c[u++]=255&r;return 2===l&&(r=t[e.charCodeAt(i)]<<2|t[e.charCodeAt(i+1)]>>4,c[u++]=255&r),1===l&&(r=t[e.charCodeAt(i)]<<10|t[e.charCodeAt(i+1)]<<4|t[e.charCodeAt(i+2)]>>2,c[u++]=r>>8&255,c[u++]=255&r),c},O.fromByteArray=function(t){for(var n,r=t.length,i=r%3,s=[],o=16383,l=0,c=r-i;l<c;l+=o)s.push(a(t,l,l+o>c?c:l+o));return 1===i?(n=t[r-1],s.push(e[n>>2]+e[n<<4&63]+"==")):2===i&&(n=(t[r-2]<<8)+t[r-1],s.push(e[n>>10]+e[n>>4&63]+e[n<<2&63]+"=")),s.join("")};for(var e=[],t=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0;i<64;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function o(t){return e[t>>18&63]+e[t>>12&63]+e[t>>6&63]+e[63&t]}function a(e,t,n){for(var r,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(o(r));return i.join("")}return t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63,O}(),n=(P||(P=1,D.read=function(e,t,n,r,i){var s,o,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,s=f&(1<<-u)-1,f>>=-u,u+=a;u>0;s=256*s+e[t+d],d+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=r;u>0;o=256*o+e[t+d],d+=h,u-=8);if(0===s)s=1-c;else{if(s===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),s-=c}return(f?-1:1)*o*Math.pow(2,s-r)},D.write=function(e,t,n,r,i,s){var o,a,l,c=8*s-i-1,u=(1<<c)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:s-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),(t+=o+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(o++,l/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(t*l-1)*Math.pow(2,i),o+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[n+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[n+f]=255&o,f+=p,o/=256,c-=8);e[n+f-p]|=128*m}),D),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=function(e){+e!=e&&(e=0);return o.alloc(+e)},e.INSPECT_MAX_BYTES=50;const i=2147483647;function s(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return a(e,t,n)}function a(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|f(e,t);let r=s(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return u(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return d(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return d(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return o.from(r,t,n);const i=function(e){if(o.isBuffer(e)){const t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||Z(e.length)?s(0):u(e);if("Buffer"===e.type&&Array.isArray(e.data))return u(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),s(e<0?0:0|h(e))}function u(e){const t=e.length<0?0:0|h(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,o.prototype),r}function h(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function f(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(i)return r?-1:$(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return N(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Z(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=o.from(t,r)),o.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){let s,o=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,a/=2,l/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let r=-1;for(s=n;s<a;s++)if(c(e,s)===c(t,-1===r?0:s-r)){if(-1===r&&(r=s),s-r+1===l)return r*o}else-1!==r&&(s-=s-r),r=-1}else for(n+l>a&&(n=a-l),s=n;s>=0;s--){let n=!0;for(let r=0;r<l;r++)if(c(e,s+r)!==c(t,r)){n=!1;break}if(n)return s}return-1}function b(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const s=t.length;let o;for(r>s/2&&(r=s/2),o=0;o<r;++o){const r=parseInt(t.substr(2*o,2),16);if(Z(r))return o;e[n+o]=r}return o}function w(e,t,n,r){return Q($(t,e.length-n),e,n,r)}function v(e,t,n,r){return Q(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return Q(Y(t),e,n,r)}function k(e,t,n,r){return Q(function(e,t){let n,r,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,s.push(i),s.push(r);return s}(t,e.length-n),e,n,r)}function S(e,n,r){return 0===n&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,r))}function E(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=n){let n,r,a,l;switch(o){case 1:t<128&&(s=t);break;case 2:n=e[i+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(s=l));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(s=l));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,l>65535&&l<1114112&&(s=l))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=o}return function(e){const t=e.length;if(t<=_)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=_));return n}(r)}e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,n){return a(e,t,n)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},o.allocUnsafe=function(e){return c(e)},o.allocUnsafeSlow=function(e){return c(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(X(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,s=Math.min(n,r);i<s;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=o.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(X(t,Uint8Array))i+t.length>r.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!o.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},o.byteLength=f,o.prototype._isBuffer=!0,o.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},o.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},o.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},o.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):p.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(e,t,n,r,i){if(X(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let s=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const l=Math.min(s,a),c=this.slice(r,i),u=e.slice(t,n);for(let o=0;o<l;++o)if(c[o]!==u[o]){s=c[o],a=u[o];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},o.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},o.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},o.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let s=!1;for(;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return v(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const _=4096;function N(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function T(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let s=t;s<n;++s)i+=J[e[s]];return i}function C(e,t,n){const r=e.slice(t,n);let i="";for(let s=0;s<r.length-1;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function j(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r,i){G(t,r,i,e,n,7);let s=Number(t&BigInt(4294967295));e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function L(e,t,n,r,i){G(t,r,i,e,n,7);let s=Number(t&BigInt(4294967295));e[n+7]=s,s>>=8,e[n+6]=s,s>>=8,e[n+5]=s,s>>=8,e[n+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}function B(e,t,n,r,i,s){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,r,i,s){return t=+t,r>>>=0,s||B(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function F(e,t,r,i,s){return t=+t,r>>>=0,s||B(e,0,r,8),n.write(e,t,r,i,52,8),r+8}o.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,o.prototype),r},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=this[e],i=1,s=0;for(;++s<t&&(i*=256);)r+=this[e+s]*i;return r},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||j(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=ee(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))}),o.prototype.readBigUInt64BE=ee(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),o.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=this[e],i=1,s=0;for(;++s<t&&(i*=256);)r+=this[e+s]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},o.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||j(e,t,this.length);let r=t,i=1,s=this[e+--r];for(;r>0&&(i*=256);)s+=this[e+--r]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},o.prototype.readInt8=function(e,t){return e>>>=0,t||j(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||j(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(e,t){e>>>=0,t||j(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||j(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=ee(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),o.prototype.readBigInt64BE=ee(function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||H(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)}),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||j(e,4,this.length),n.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||j(e,4,this.length),n.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||j(e,8,this.length),n.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||j(e,8,this.length),n.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<n&&(i*=256);)this[t+s]=e/i&255;return t+n},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+n},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=ee(function(e,t=0){return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=ee(function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let i=0,s=1,o=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+n},o.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let i=n-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s|0)-o&255;return t+n},o.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=ee(function(e,t=0){return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=ee(function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},o.prototype.copy=function(e,t,n,r){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},o.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const s=o.isBuffer(e)?e:o.from(e,r),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=s[i%a]}return this};const z={};function V(e,t,n){z[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function q(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function G(e,t,n,r,i,s){if(e>n||e<t){const n="bigint"==typeof t?"n":"";let r;throw r=0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`,new z.ERR_OUT_OF_RANGE("value",r,e)}!function(e,t,n){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||H(t,e.length-(n+1))}(r,i,s)}function W(e,t){if("number"!=typeof e)throw new z.ERR_INVALID_ARG_TYPE(t,"number",e)}function H(e,t,n){if(Math.floor(e)!==e)throw W(e,n),new z.ERR_OUT_OF_RANGE("offset","an integer",e);if(t<0)throw new z.ERR_BUFFER_OUT_OF_BOUNDS;throw new z.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${t}`,e)}V("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),V("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),V("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=q(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=q(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r},RangeError);const K=/[^+/0-9A-Za-z-_]/g;function $(e,t){let n;t=t||1/0;const r=e.length;let i=null;const s=[];for(let o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;s.push(n)}else if(n<2048){if((t-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function Y(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Q(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function ee(e){return"undefined"==typeof BigInt?te:e}function te(){throw new Error("BigInt not supported")}}(R)),R}var B,U,F,z,V=L(),q={exports:{}},G={},W={exports:{}},H={};function K(){return U||(U=1,W.exports=(B||(B=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,o=s>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var i=n(c);null!==i;){if(null===i.callback)r(c);else{if(!(i.startTime<=e))break;r(c),i.sortIndex=i.expirationTime,t(l,i)}i=n(c)}}function x(e){if(m=!1,v(e),!p)if(null!==n(l))p=!0,S||(S=!0,k());else{var t=n(c);null!==t&&I(x,t.startTime-e)}}var k,S=!1,E=-1,_=5,N=-1;function A(){return!(!g&&e.unstable_now()-N<_)}function T(){if(g=!1,S){var t=e.unstable_now();N=t;var i=!0;try{e:{p=!1,m&&(m=!1,b(E),E=-1),f=!0;var s=h;try{t:{for(v(t),d=n(l);null!==d&&!(d.expirationTime>t&&A());){var o=d.callback;if("function"==typeof o){d.callback=null,h=d.priorityLevel;var a=o(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof a){d.callback=a,v(t),i=!0;break t}d===n(l)&&r(l),v(t)}else r(l);d=n(l)}if(null!==d)i=!0;else{var u=n(c);null!==u&&I(x,u.startTime-t),i=!1}}break e}finally{d=null,h=s,f=!1}i=void 0}}finally{i?k():S=!1}}}if("function"==typeof w)k=function(){w(T)};else if("undefined"!=typeof MessageChannel){var C=new MessageChannel,j=C.port2;C.port1.onmessage=T,k=function(){j.postMessage(null)}}else k=function(){y(T,0)};function I(t,n){E=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,s){var o=e.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?o+s:o,r){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return r={id:u++,callback:i,priorityLevel:r,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(r.sortIndex=s,t(c,r),null===n(l)&&r===n(c)&&(m?(b(E),E=-1):m=!0,I(x,s-o))):(r.sortIndex=a,t(l,r),p||f||(p=!0,S||(S=!0,k()))),r},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(H)),H)),W.exports}function $(){if(F)return G;F=1;
/**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
var e=K(),t=b(),n=w();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function o(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function a(e){if(s(e)!==e)throw Error(r(188))}function l(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=l(e)))return t;e=e.sibling}return null}var c=Object.assign,u=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function C(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=T&&e[T]||e["@@iterator"])?e:null}var j=Symbol.for("react.client.reference");function I(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===j?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case f:return"Fragment";case m:return"Profiler";case p:return"StrictMode";case k:return"Suspense";case S:return"SuspenseList";case N:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case h:return"Portal";case v:return(e.displayName||"Context")+".Provider";case y:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:I(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return I(e(t))}catch(n){}}return null}var R=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},D=[],L=-1;function B(e){return{current:e}}function U(e){0>L||(e.current=D[L],D[L]=null,L--)}function z(e,t){L++,D[L]=e.current,e.current=t}var V=B(null),q=B(null),W=B(null),H=B(null);function $(e,t){switch(z(W,t),z(q,e),z(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(V),z(V,e)}function Y(){U(V),U(q),U(W)}function Q(e){null!==e.memoizedState&&z(H,e);var t=V.current,n=ad(t,e.type);t!==n&&(z(q,e),z(V,n))}function X(e){q.current===e&&(U(V),U(q)),H.current===e&&(U(H),Qd._currentValue=M)}var Z=Object.prototype.hasOwnProperty,J=e.unstable_scheduleCallback,ee=e.unstable_cancelCallback,te=e.unstable_shouldYield,ne=e.unstable_requestPaint,re=e.unstable_now,ie=e.unstable_getCurrentPriorityLevel,se=e.unstable_ImmediatePriority,oe=e.unstable_UserBlockingPriority,ae=e.unstable_NormalPriority,le=e.unstable_LowPriority,ce=e.unstable_IdlePriority,ue=e.log,de=e.unstable_setDisableYieldValue,he=null,fe=null;function pe(e){if("function"==typeof ue&&de(e),fe&&"function"==typeof fe.setStrictMode)try{fe.setStrictMode(he,e)}catch(t){}}var me=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ge(e)/ye|0)|0},ge=Math.log,ye=Math.LN2;var be=256,we=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~s)?i=ve(r):0!==(o&=a)?i=ve(o):n||0!==(n=a&~e)&&(i=ve(n)):0!==(a=r&~s)?i=ve(a):0!==o?i=ve(o):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&4194048&n)?t:i}function ke(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Se(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ee(){var e=be;return!(4194048&(be<<=1))&&(be=256),e}function _e(){var e=we;return!(62914560&(we<<=1))&&(we=4194304),e}function Ne(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ae(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-me(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Ce(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-me(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function je(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ie(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Re(){var e=P.p;return 0!==e?e:void 0===(e=window.event)?32:dh(e.type)}var Oe=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Oe,Me="__reactProps$"+Oe,De="__reactContainer$"+Oe,Le="__reactEvents$"+Oe,Be="__reactListeners$"+Oe,Ue="__reactHandles$"+Oe,Fe="__reactResources$"+Oe,ze="__reactMarker$"+Oe;function Ve(e){delete e[Pe],delete e[Me],delete e[Le],delete e[Be],delete e[Ue]}function qe(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xd(e);null!==e;){if(n=e[Pe])return n;e=xd(e)}return t}n=(e=n).parentNode}return null}function Ge(e){if(e=e[Pe]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function We(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function He(e){var t=e[Fe];return t||(t=e[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[ze]=!0}var $e=new Set,Ye={};function Qe(e,t){Xe(e,t),Xe(e+"Capture",t)}function Xe(e,t){for(Ye[e]=t,e=0;e<t.length;e++)$e.add(t[e])}var Ze,Je,et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},nt={};function rt(e,t,n){if(i=t,Z.call(nt,i)||!Z.call(tt,i)&&(et.test(i)?nt[i]=!0:(tt[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function it(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function st(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ot(e){if(void 0===Ze)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ze=t&&t[1]||"",Je=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ze+e+Je}var at=!1;function lt(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"==typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var l=o.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function ct(e){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return lt(e.type,!1);case 11:return lt(e.type.render,!1);case 1:return lt(e.type,!0);case 31:return ot("Activity");default:return""}}function ut(e){try{var t="";do{t+=ct(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){e._valueTracker||(e._valueTracker=function(e){var t=ht(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,n,r,i,s,o,a){e.name="",null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?vt(e,o,dt(t)):null!=n?vt(e,o,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.name=""+dt(a):e.removeAttribute("name")}function wt(e,t,n,r,i,s,o,a){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return;n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.name=o)}function vt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function kt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(r(92));if(R(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function At(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&Nt(e,s,i)}else for(var o in t)t.hasOwnProperty(o)&&Nt(e,o,t[o])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function It(e){return jt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Rt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Mt=null;function Dt(e){var t=Ge(e);if(t&&(e=t.stateNode)){var n=e[Me]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[Me]||null;if(!s)throw Error(r(90));bt(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&pt(i)}break e;case"textarea":kt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Lt=!1;function Bt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Pt||null!==Mt)&&(qc(),Pt&&(t=Pt,e=Mt,Mt=Pt=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Me]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Ft=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),zt=!1;if(Ft)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Mh){zt=!1}var qt=null,Gt=null,Wt=null;function Ht(){if(Wt)return Wt;var e,t,n=Gt,r=n.length,i="value"in qt?qt.value:qt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Wt=i.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Yt(){return!1}function Qt(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?$t:Yt,this.isPropagationStopped=Yt,this}return c(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Xt,Zt,Jt,en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tn=Qt(en),nn=c({},en,{view:0,detail:0}),rn=Qt(nn),sn=c({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Xt=e.screenX-Jt.screenX,Zt=e.screenY-Jt.screenY):Zt=Xt=0,Jt=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),on=Qt(sn),an=Qt(c({},sn,{dataTransfer:0})),ln=Qt(c({},nn,{relatedTarget:0})),cn=Qt(c({},en,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Qt(c({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Qt(c({},en,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function gn(){return mn}var yn=Qt(c({},nn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Qt(c({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=Qt(c({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),vn=Qt(c({},en,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Qt(c({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kn=Qt(c({},en,{newState:0,oldState:0})),Sn=[9,13,27,32],En=Ft&&"CompositionEvent"in window,_n=null;Ft&&"documentMode"in document&&(_n=document.documentMode);var Nn=Ft&&"TextEvent"in window&&!_n,An=Ft&&(!En||_n&&8<_n&&11>=_n),Tn=String.fromCharCode(32),Cn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function Mn(e,t,n,r){Pt?Mt?Mt.push(r):Mt=[r]:Pt=r,0<(t=Hu(t,"onChange")).length&&(n=new tn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Ln=null;function Bn(e){Bu(e,0)}function Un(e){if(pt(We(e)))return e}function Fn(e,t){if("change"===e)return t}var zn=!1;if(Ft){var Vn;if(Ft){var qn="oninput"in document;if(!qn){var Gn=document.createElement("div");Gn.setAttribute("oninput","return;"),qn="function"==typeof Gn.oninput}Vn=qn}else Vn=!1;zn=Vn&&(!document.documentMode||9<document.documentMode)}function Wn(){Dn&&(Dn.detachEvent("onpropertychange",Hn),Ln=Dn=null)}function Hn(e){if("value"===e.propertyName&&Un(Ln)){var t=[];Mn(t,Ln,e,Ot(e)),Bt(Bn,t)}}function Kn(e,t,n){"focusin"===e?(Wn(),Ln=n,(Dn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Wn()}function $n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(Ln)}function Yn(e,t){if("click"===e)return Un(t)}function Qn(e,t){if("input"===e||"change"===e)return Un(t)}var Xn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Zn(e,t){if(Xn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Z.call(t,i)||!Xn(e[i],t[i]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function er(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function tr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function nr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=Ft&&"documentMode"in document&&11>=document.documentMode,sr=null,or=null,ar=null,lr=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==sr||sr!==mt(r)||("selectionStart"in(r=sr)&&rr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&Zn(ar,r)||(ar=r,0<(r=Hu(or,"onSelect")).length&&(t=new tn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},hr={},fr={};function pr(e){if(hr[e])return hr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return hr[e]=n[t];return e}Ft&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var mr=pr("animationend"),gr=pr("animationiteration"),yr=pr("animationstart"),br=pr("transitionrun"),wr=pr("transitionstart"),vr=pr("transitioncancel"),xr=pr("transitionend"),kr=new Map,Sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){kr.set(e,t),Qe(t,[e])}Sr.push("scrollEnd");var _r=new WeakMap;function Nr(e,t){if("object"==typeof e&&null!==e){var n=_r.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ut(t)},_r.set(e,t),t)}return{value:e,source:t,stack:ut(t)}}var Ar=[],Tr=0,Cr=0;function jr(){for(var e=Tr,t=Cr=Tr=0;t<e;){var n=Ar[t];Ar[t++]=null;var r=Ar[t];Ar[t++]=null;var i=Ar[t];Ar[t++]=null;var s=Ar[t];if(Ar[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==s&&Pr(n,i,s)}}function Ir(e,t,n,r){Ar[Tr++]=e,Ar[Tr++]=t,Ar[Tr++]=n,Ar[Tr++]=r,Cr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Ir(e,t,n,r),Mr(e)}function Or(e,t){return Ir(e,null,null,t),Mr(e)}function Pr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-me(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Mr(e){if(50<Pc)throw Pc=0,Mc=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(e,t,n,r){return new Lr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=Br(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,i,s,o){var a=0;if(i=e,"function"==typeof e)Ur(e)&&(a=1);else if("string"==typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,V.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case N:return(e=Br(31,n,t,s)).elementType=N,e.lanes=o,e;case f:return qr(n.children,s,o,t);case p:a=8,s|=24;break;case m:return(e=Br(12,n,t,2|s)).elementType=m,e.lanes=o,e;case k:return(e=Br(13,n,t,s)).elementType=k,e.lanes=o,e;case S:return(e=Br(19,n,t,s)).elementType=S,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case g:case v:a=10;break e;case y:a=9;break e;case x:a=11;break e;case E:a=14;break e;case _:a=16,i=null;break e}a=29,n=Error(r(130,null===e?"null":typeof e,"")),i=null}return(t=Br(a,n,t,s)).elementType=e,t.type=i,t.lanes=o,t}function qr(e,t,n,r){return(e=Br(7,e,r,t)).lanes=n,e}function Gr(e,t,n){return(e=Br(6,e,null,t)).lanes=n,e}function Wr(e,t,n){return(t=Br(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Kr=0,$r=null,Yr=0,Qr=[],Xr=0,Zr=null,Jr=1,ei="";function ti(e,t){Hr[Kr++]=Yr,Hr[Kr++]=$r,$r=e,Yr=t}function ni(e,t,n){Qr[Xr++]=Jr,Qr[Xr++]=ei,Qr[Xr++]=Zr,Zr=e;var r=Jr;e=ei;var i=32-me(r)-1;r&=~(1<<i),n+=1;var s=32-me(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Jr=1<<32-me(t)+i|n<<i|r,ei=s+e}else Jr=1<<s|n<<i|r,ei=e}function ri(e){null!==e.return&&(ti(e,1),ni(e,1,0))}function ii(e){for(;e===$r;)$r=Hr[--Kr],Hr[Kr]=null,Yr=Hr[--Kr],Hr[Kr]=null;for(;e===Zr;)Zr=Qr[--Xr],Qr[Xr]=null,ei=Qr[--Xr],Qr[Xr]=null,Jr=Qr[--Xr],Qr[Xr]=null}var si=null,oi=null,ai=!1,li=null,ci=!1,ui=Error(r(519));function di(e){throw yi(Nr(Error(r(418,"")),e)),ui}function hi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pe]=e,t[Me]=r,n){case"dialog":Uu("cancel",t),Uu("close",t);break;case"iframe":case"object":case"embed":Uu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Uu(Du[n],t);break;case"source":Uu("error",t);break;case"img":case"image":case"link":Uu("error",t),Uu("load",t);break;case"details":Uu("toggle",t);break;case"input":Uu("invalid",t),wt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ft(t);break;case"select":Uu("invalid",t);break;case"textarea":Uu("invalid",t),St(t,r.value,r.defaultValue,r.children),ft(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Zu(t.textContent,n)?(null!=r.popover&&(Uu("beforetoggle",t),Uu("toggle",t)),null!=r.onScroll&&Uu("scroll",t),null!=r.onScrollEnd&&Uu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||di(e)}function fi(e){for(si=e.return;si;)switch(si.tag){case 5:case 13:return void(ci=!1);case 27:case 3:return void(ci=!0);default:si=si.return}}function pi(e){if(e!==si)return!1;if(!ai)return fi(e),ai=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ld(e.type,e.memoizedProps)),t=!t),t&&oi&&di(e),fi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){oi=wd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}oi=null}}else 27===n?(n=oi,md(e.type)?(e=vd,vd=null,oi=e):oi=n):oi=si?wd(e.stateNode.nextSibling):null;return!0}function mi(){oi=si=null,ai=!1}function gi(){var e=li;return null!==e&&(null===xc?xc=e:xc.push.apply(xc,e),li=null),e}function yi(e){null===li?li=[e]:li.push(e)}var bi=B(null),wi=null,vi=null;function xi(e,t,n){z(bi,t._currentValue),t._currentValue=n}function ki(e){e._currentValue=bi.current,U(bi)}function Si(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ei(e,t,n,i){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var o=s.dependencies;if(null!==o){var a=s.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Si(o.return,n,e),i||(a=null);break e}o=l.next}}else if(18===s.tag){if(null===(a=s.return))throw Error(r(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),Si(a,n,e),a=null}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===e){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}}function _i(e,t,n,i){e=null;for(var s=t,o=!1;null!==s;){if(!o)if(524288&s.flags)o=!0;else if(262144&s.flags)break;if(10===s.tag){var a=s.alternate;if(null===a)throw Error(r(387));if(null!==(a=a.memoizedProps)){var l=s.type;Xn(s.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(s===H.current){if(null===(a=s.alternate))throw Error(r(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}s=s.return}null!==e&&Ei(t,e,n,i),t.flags|=262144}function Ni(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){wi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ti(e){return ji(wi,e)}function Ci(e,t){return null===wi&&Ai(e),ji(e,t)}function ji(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(r(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var Ii="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ri=e.unstable_scheduleCallback,Oi=e.unstable_NormalPriority,Pi={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mi(){return{controller:new Ii,data:new Map,refCount:0}}function Di(e){e.refCount--,0===e.refCount&&Ri(Oi,function(){e.controller.abort()})}var Li=null,Bi=0,Ui=0,Fi=null;function zi(){if(0===--Bi&&null!==Li){null!==Fi&&(Fi.status="fulfilled");var e=Li;Li=null,Ui=0,Fi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vi=O.S;O.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Li){var n=Li=[];Bi=0,Ui=Iu(),Fi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Bi++,t.then(zi,zi)}(0,t),null!==Vi&&Vi(e,t)};var qi=B(null);function Gi(){var e=qi.current;return null!==e?e:sc.pooledCache}function Wi(e,t){z(qi,null===t?qi.current:t.pool)}function Hi(){var e=Gi();return null===e?null:{parent:Pi._currentValue,pool:e}}var Ki=Error(r(460)),$i=Error(r(474)),Yi=Error(r(542)),Qi={then:function(){}};function Xi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Zi(){}function Ji(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Zi,Zi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ns(e=t.reason),e;default:if("string"==typeof t.status)t.then(Zi,Zi);else{if(null!==(e=sc)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ns(e=t.reason),e}throw es=t,Ki}}var es=null;function ts(){if(null===es)throw Error(r(459));var e=es;return es=null,e}function ns(e){if(e===Ki||e===Yi)throw Error(r(483))}var rs=!1;function is(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ss(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function os(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function as(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&ic){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Mr(e),Pr(e,null,n),t}return Ir(e,r,t,n),Mr(e)}function ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}function cs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var us=!1;function ds(){if(us){if(null!==Fi)throw Fi}}function hs(e,t,n,r){us=!1;var i=e.updateQueue;rs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var d=e.alternate;null!==d&&((a=(d=d.updateQueue).lastBaseUpdate)!==o&&(null===a?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,d=u=l=null,a=s;;){var f=-536870913&a.lane,p=f!==a.lane;if(p?(ac&f)===f:(r&f)===f){0!==f&&f===Ui&&(us=!0),null!==d&&(d=d.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;f=t;var y=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){h=m.call(y,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(y,h,f):m))break e;h=c({},h,f);break e;case 2:rs=!0}}null!==(f=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(u=d=p,l=h):d=d.next=p,o|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===d&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,null===s&&(i.shared.lanes=0),mc|=o,e.lanes=o,e.memoizedState=h}}function fs(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function ps(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)fs(n[e],t)}var ms=B(null),gs=B(0);function ys(e,t){z(gs,e=fc),z(ms,t),fc=e|t.baseLanes}function bs(){z(gs,fc),z(ms,ms.current)}function ws(){fc=gs.current,U(ms),U(gs)}var vs=0,xs=null,ks=null,Ss=null,Es=!1,_s=!1,Ns=!1,As=0,Ts=0,Cs=null,js=0;function Is(){throw Error(r(321))}function Rs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function Os(e,t,n,r,i,s){return vs=s,xs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?$o:Yo,Ns=!1,s=n(r,i),Ns=!1,_s&&(s=Ms(t,n,r,i)),Ps(e),s}function Ps(e){O.H=Ko;var t=null!==ks&&null!==ks.next;if(vs=0,Ss=ks=xs=null,Es=!1,Ts=0,Cs=null,t)throw Error(r(300));null===e||Ca||null!==(e=e.dependencies)&&Ni(e)&&(Ca=!0)}function Ms(e,t,n,i){xs=e;var s=0;do{if(_s&&(Cs=null),Ts=0,_s=!1,25<=s)throw Error(r(301));if(s+=1,Ss=ks=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}O.H=Qo,o=t(n,i)}while(_s);return o}function Ds(){var e=O.H,t=e.useState()[0];return t="function"==typeof t.then?Vs(t):t,e=e.useState()[0],(null!==ks?ks.memoizedState:null)!==e&&(xs.flags|=1024),t}function Ls(){var e=0!==As;return As=0,e}function Bs(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Us(e){if(Es){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Es=!1}vs=0,Ss=ks=xs=null,_s=!1,Ts=As=0,Cs=null}function Fs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ss?xs.memoizedState=Ss=e:Ss=Ss.next=e,Ss}function zs(){if(null===ks){var e=xs.alternate;e=null!==e?e.memoizedState:null}else e=ks.next;var t=null===Ss?xs.memoizedState:Ss.next;if(null!==t)Ss=t,ks=e;else{if(null===e){if(null===xs.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(ks=e).memoizedState,baseState:ks.baseState,baseQueue:ks.baseQueue,queue:ks.queue,next:null},null===Ss?xs.memoizedState=Ss=e:Ss=Ss.next=e}return Ss}function Vs(e){var t=Ts;return Ts+=1,null===Cs&&(Cs=[]),e=Ji(Cs,e,t),t=xs,null===(null===Ss?t.memoizedState:Ss.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?$o:Yo),e}function qs(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Vs(e);if(e.$$typeof===v)return Ti(e)}throw Error(r(438,String(e)))}function Gs(e){var t=null,n=xs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=xs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function Ws(e,t){return"function"==typeof t?t(e):t}function Hs(e){return Ks(zs(),ks,e)}function Ks(e,t,n){var i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=n;var s=e.baseQueue,o=i.pending;if(null!==o){if(null!==s){var a=s.next;s.next=o.next,o.next=a}t.baseQueue=s=o,i.pending=null}if(o=e.baseState,null===s)e.memoizedState=o;else{var l=a=null,c=null,u=t=s.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(ac&h)===h:(vs&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Ui&&(d=!0);else{if((vs&f)===f){u=u.next,f===Ui&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,xs.lanes|=f,mc|=f}h=u.action,Ns&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=o):c=c.next=f,xs.lanes|=h,mc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Xn(o,e.memoizedState)&&(Ca=!0,d&&null!==(n=Fi)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,i.lastRenderedState=o}return null===s&&(i.lanes=0),[e.memoizedState,i.dispatch]}function $s(e){var t=zs(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,o=t.memoizedState;if(null!==s){n.pending=null;var a=s=s.next;do{o=e(o,a.action),a=a.next}while(a!==s);Xn(o,t.memoizedState)||(Ca=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Ys(e,t,n){var i=xs,s=zs(),o=ai;if(o){if(void 0===n)throw Error(r(407));n=n()}else n=t();var a=!Xn((ks||s).memoizedState,n);if(a&&(s.memoizedState=n,Ca=!0),s=s.queue,wo(2048,8,Zs.bind(null,i,s,e),[e]),s.getSnapshot!==t||a||null!==Ss&&1&Ss.memoizedState.tag){if(i.flags|=2048,go(9,{destroy:void 0,resource:void 0},Xs.bind(null,i,s,n,t),null),null===sc)throw Error(r(349));o||124&vs||Qs(i,t,n)}return n}function Qs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Xs(e,t,n,r){t.value=n,t.getSnapshot=r,Js(t)&&eo(e)}function Zs(e,t,n){return n(function(){Js(t)&&eo(e)})}function Js(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function eo(e){var t=Or(e,2);null!==t&&Bc(t,e,2)}function to(e){var t=Fs();if("function"==typeof e){var n=e;if(e=n(),Ns){pe(!0);try{n()}finally{pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:e},t}function no(e,t,n,r){return e.baseState=n,Ks(e,ks,"function"==typeof r?r:Ws)}function ro(e,t,n,i,s){if(Go(e))throw Error(r(485));if(null!==(e=t.action)){var o={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==O.T?n(!0):o.isTransition=!1,i(o),null===(n=t.pending)?(o.next=t.pending=o,io(t,o)):(o.next=n.next,t.pending=n.next=o)}}function io(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=O.T,o={};O.T=o;try{var a=n(i,r),l=O.S;null!==l&&l(o,a),so(e,t,a)}catch(c){ao(e,t,c)}finally{O.T=s}}else try{so(e,t,s=n(i,r))}catch(u){ao(e,t,u)}}function so(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){oo(e,t,n)},function(n){return ao(e,t,n)}):oo(e,t,n)}function oo(e,t,n){t.status="fulfilled",t.value=n,lo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,io(e,n)))}function ao(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,lo(t),t=t.next}while(t!==r)}e.action=null}function lo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function co(e,t){return t}function uo(e,t){if(ai){var n=sc.formState;if(null!==n){e:{var r=xs;if(ai){if(oi){t:{for(var i=oi,s=ci;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=wd(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){oi=wd(i.nextSibling),r="F!"===i.data;break e}}di(r)}r=!1}r&&(t=n[0])}}return(n=Fs()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:co,lastRenderedState:t},n.queue=r,n=zo.bind(null,xs,r),r.dispatch=n,r=to(!1),s=qo.bind(null,xs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=Fs()).queue=i,n=ro.bind(null,xs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ho(e){return fo(zs(),ks,e)}function fo(e,t,n){if(t=Ks(e,t,co)[0],e=Hs(Ws)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Vs(t)}catch(o){if(o===Ki)throw Yi;throw o}else r=t;var i=(t=zs()).queue,s=i.dispatch;return n!==t.memoizedState&&(xs.flags|=2048,go(9,{destroy:void 0,resource:void 0},po.bind(null,i,n),null)),[r,s,e]}function po(e,t){e.action=t}function mo(e){var t=zs(),n=ks;if(null!==n)return fo(t,n,e);zs(),t=t.memoizedState;var r=(n=zs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function go(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=xs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(){return zs().memoizedState}function bo(e,t,n,r){var i=Fs();r=void 0===r?null:r,xs.flags|=e,i.memoizedState=go(1|t,{destroy:void 0,resource:void 0},n,r)}function wo(e,t,n,r){var i=zs();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==ks&&null!==r&&Rs(r,ks.memoizedState.deps)?i.memoizedState=go(t,s,n,r):(xs.flags|=e,i.memoizedState=go(1|t,s,n,r))}function vo(e,t){bo(8390656,8,e,t)}function xo(e,t){wo(2048,8,e,t)}function ko(e,t){return wo(4,2,e,t)}function So(e,t){return wo(4,4,e,t)}function Eo(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function _o(e,t,n){n=null!=n?n.concat([e]):null,wo(4,4,Eo.bind(null,t,e),n)}function No(){}function Ao(e,t){var n=zs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Rs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function To(e,t){var n=zs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Rs(t,r[1]))return r[0];if(r=e(),Ns){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r}function Co(e,t,n){return void 0===n||1073741824&vs?e.memoizedState=t:(e.memoizedState=n,e=Lc(),xs.lanes|=e,mc|=e,n)}function jo(e,t,n,r){return Xn(n,t)?n:null!==ms.current?(e=Co(e,n,r),Xn(e,t)||(Ca=!0),e):42&vs?(e=Lc(),xs.lanes|=e,mc|=e,t):(Ca=!0,e.memoizedState=n)}function Io(e,t,n,r,i){var s=P.p;P.p=0!==s&&8>s?s:8;var o,a,l,c=O.T,u={};O.T=u,qo(e,!1,t,n);try{var d=i(),h=O.S;if(null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then){var f=(o=r,a=[],l={status:"pending",value:null,reason:null,then:function(e){a.push(e)}},d.then(function(){l.status="fulfilled",l.value=o;for(var e=0;e<a.length;e++)(0,a[e])(o)},function(e){for(l.status="rejected",l.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)}),l);Vo(e,t,f,Dc())}else Vo(e,t,r,Dc())}catch(p){Vo(e,t,{then:function(){},status:"rejected",reason:p},Dc())}finally{P.p=s,O.T=c}}function Ro(){}function Oo(e,t,n,i){if(5!==e.tag)throw Error(r(476));var s=Po(e).queue;Io(e,s,t,M,null===n?Ro:function(){return Mo(e),n(i)})}function Po(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:M},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Mo(e){Vo(e,Po(e).next.queue,{},Dc())}function Do(){return Ti(Qd)}function Lo(){return zs().memoizedState}function Bo(){return zs().memoizedState}function Uo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=as(t,e=os(n),n);return null!==r&&(Bc(r,t,n),ls(r,t,n)),t={cache:Mi()},void(e.payload=t)}t=t.return}}function Fo(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Go(e)?Wo(t,n):null!==(n=Rr(e,t,n,r))&&(Bc(n,e,r),Ho(n,t,r))}function zo(e,t,n){Vo(e,t,n,Dc())}function Vo(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Go(e))Wo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Xn(a,o))return Ir(e,t,i,0),null===sc&&jr(),!1}catch(l){}if(null!==(n=Rr(e,t,i,r)))return Bc(n,e,r),Ho(n,t,r),!0}return!1}function qo(e,t,n,i){if(i={lane:2,revertLane:Iu(),action:i,hasEagerState:!1,eagerState:null,next:null},Go(e)){if(t)throw Error(r(479))}else null!==(t=Rr(e,n,i,2))&&Bc(t,e,2)}function Go(e){var t=e.alternate;return e===xs||null!==t&&t===xs}function Wo(e,t){_s=Es=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ho(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ce(e,n)}}var Ko={readContext:Ti,use:qs,useCallback:Is,useContext:Is,useEffect:Is,useImperativeHandle:Is,useLayoutEffect:Is,useInsertionEffect:Is,useMemo:Is,useReducer:Is,useRef:Is,useState:Is,useDebugValue:Is,useDeferredValue:Is,useTransition:Is,useSyncExternalStore:Is,useId:Is,useHostTransitionStatus:Is,useFormState:Is,useActionState:Is,useOptimistic:Is,useMemoCache:Is,useCacheRefresh:Is},$o={readContext:Ti,use:qs,useCallback:function(e,t){return Fs().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:vo,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,bo(4194308,4,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4194308,4,e,t)},useInsertionEffect:function(e,t){bo(4,2,e,t)},useMemo:function(e,t){var n=Fs();t=void 0===t?null:t;var r=e();if(Ns){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fs();if(void 0!==n){var i=n(t);if(Ns){pe(!0);try{n(t)}finally{pe(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=Fo.bind(null,xs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Fs().memoizedState=e},useState:function(e){var t=(e=to(e)).queue,n=zo.bind(null,xs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:No,useDeferredValue:function(e,t){return Co(Fs(),e,t)},useTransition:function(){var e=to(!1);return e=Io.bind(null,xs,e.queue,!0,!1),Fs().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=xs,s=Fs();if(ai){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===sc)throw Error(r(349));124&ac||Qs(i,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,vo(Zs.bind(null,i,o,e),[e]),i.flags|=2048,go(9,{destroy:void 0,resource:void 0},Xs.bind(null,i,o,n,t),null),n},useId:function(){var e=Fs(),t=sc.identifierPrefix;if(ai){var n=ei;t="«"+t+"R"+(n=(Jr&~(1<<32-me(Jr)-1)).toString(32)+n),0<(n=As++)&&(t+="H"+n.toString(32)),t+="»"}else t="«"+t+"r"+(n=js++).toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Do,useFormState:uo,useActionState:uo,useOptimistic:function(e){var t=Fs();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=qo.bind(null,xs,!0,n),n.dispatch=t,[e,t]},useMemoCache:Gs,useCacheRefresh:function(){return Fs().memoizedState=Uo.bind(null,xs)}},Yo={readContext:Ti,use:qs,useCallback:Ao,useContext:Ti,useEffect:xo,useImperativeHandle:_o,useInsertionEffect:ko,useLayoutEffect:So,useMemo:To,useReducer:Hs,useRef:yo,useState:function(){return Hs(Ws)},useDebugValue:No,useDeferredValue:function(e,t){return jo(zs(),ks.memoizedState,e,t)},useTransition:function(){var e=Hs(Ws)[0],t=zs().memoizedState;return["boolean"==typeof e?e:Vs(e),t]},useSyncExternalStore:Ys,useId:Lo,useHostTransitionStatus:Do,useFormState:ho,useActionState:ho,useOptimistic:function(e,t){return no(zs(),0,e,t)},useMemoCache:Gs,useCacheRefresh:Bo},Qo={readContext:Ti,use:qs,useCallback:Ao,useContext:Ti,useEffect:xo,useImperativeHandle:_o,useInsertionEffect:ko,useLayoutEffect:So,useMemo:To,useReducer:$s,useRef:yo,useState:function(){return $s(Ws)},useDebugValue:No,useDeferredValue:function(e,t){var n=zs();return null===ks?Co(n,e,t):jo(n,ks.memoizedState,e,t)},useTransition:function(){var e=$s(Ws)[0],t=zs().memoizedState;return["boolean"==typeof e?e:Vs(e),t]},useSyncExternalStore:Ys,useId:Lo,useHostTransitionStatus:Do,useFormState:mo,useActionState:mo,useOptimistic:function(e,t){var n=zs();return null!==ks?no(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Gs,useCacheRefresh:Bo},Xo=null,Zo=0;function Jo(e){var t=Zo;return Zo+=1,null===Xo&&(Xo=[]),Ji(Xo,e,t)}function ea(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ta(e,t){if(t.$$typeof===u)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function na(e){return(0,e._init)(e._payload)}function ra(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gr(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===f?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===_&&na(i)===t.type)?(ea(t=s(t,n.props),n),t.return=e,t):(ea(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function p(e,t,n,r,i){return null===t||7!==t.tag?((t=qr(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function m(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Gr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case d:return ea(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=Wr(t,e.mode,n)).return=e,t;case _:return m(e,t=(0,t._init)(t._payload),n)}if(R(t)||C(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return m(e,Jo(t),n);if(t.$$typeof===v)return m(e,Ci(e,t),n);ta(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case d:return n.key===i?c(e,t,n,r):null;case h:return n.key===i?u(e,t,n,r):null;case _:return g(e,t,n=(i=n._init)(n._payload),r)}if(R(n)||C(n))return null!==i?null:p(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,Jo(n),r);if(n.$$typeof===v)return g(e,t,Ci(e,n),r);ta(e,n)}return null}function y(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case d:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case h:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(R(r)||C(r))return p(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return y(e,t,n,Jo(r),i);if(r.$$typeof===v)return y(e,t,n,Ci(t,r),i);ta(t,r)}return null}function b(l,c,u,p){if("object"==typeof u&&null!==u&&u.type===f&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case d:e:{for(var w=u.key;null!==c;){if(c.key===w){if((w=u.type)===f){if(7===c.tag){n(l,c.sibling),(p=s(c,u.props.children)).return=l,l=p;break e}}else if(c.elementType===w||"object"==typeof w&&null!==w&&w.$$typeof===_&&na(w)===c.type){n(l,c.sibling),ea(p=s(c,u.props),u),p.return=l,l=p;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===f?((p=qr(u.props.children,l.mode,p,u.key)).return=l,l=p):(ea(p=Vr(u.type,u.key,u.props,null,l.mode,p),u),p.return=l,l=p)}return a(l);case h:e:{for(w=u.key;null!==c;){if(c.key===w){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(p=s(c,u.children||[])).return=l,l=p;break e}n(l,c);break}t(l,c),c=c.sibling}(p=Wr(u,l.mode,p)).return=l,l=p}return a(l);case _:return b(l,c,u=(w=u._init)(u._payload),p)}if(R(u))return function(r,s,a,l){for(var c=null,u=null,d=s,h=s=0,f=null;null!==d&&h<a.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var p=g(r,d,a[h],l);if(null===p){null===d&&(d=f);break}e&&d&&null===p.alternate&&t(r,d),s=o(p,s,h),null===u?c=p:u.sibling=p,u=p,d=f}if(h===a.length)return n(r,d),ai&&ti(r,h),c;if(null===d){for(;h<a.length;h++)null!==(d=m(r,a[h],l))&&(s=o(d,s,h),null===u?c=d:u.sibling=d,u=d);return ai&&ti(r,h),c}for(d=i(d);h<a.length;h++)null!==(f=y(d,r,h,a[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),s=o(f,s,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return t(r,e)}),ai&&ti(r,h),c}(l,c,u,p);if(C(u)){if("function"!=typeof(w=C(u)))throw Error(r(150));return function(s,a,l,c){if(null==l)throw Error(r(151));for(var u=null,d=null,h=a,f=a=0,p=null,b=l.next();null!==h&&!b.done;f++,b=l.next()){h.index>f?(p=h,h=null):p=h.sibling;var w=g(s,h,b.value,c);if(null===w){null===h&&(h=p);break}e&&h&&null===w.alternate&&t(s,h),a=o(w,a,f),null===d?u=w:d.sibling=w,d=w,h=p}if(b.done)return n(s,h),ai&&ti(s,f),u;if(null===h){for(;!b.done;f++,b=l.next())null!==(b=m(s,b.value,c))&&(a=o(b,a,f),null===d?u=b:d.sibling=b,d=b);return ai&&ti(s,f),u}for(h=i(h);!b.done;f++,b=l.next())null!==(b=y(h,s,f,b.value,c))&&(e&&null!==b.alternate&&h.delete(null===b.key?f:b.key),a=o(b,a,f),null===d?u=b:d.sibling=b,d=b);return e&&h.forEach(function(e){return t(s,e)}),ai&&ti(s,f),u}(l,c,u=w.call(u),p)}if("function"==typeof u.then)return b(l,c,Jo(u),p);if(u.$$typeof===v)return b(l,c,Ci(l,u),p);ta(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(p=s(c,u)).return=l,l=p):(n(l,c),(p=Gr(u,l.mode,p)).return=l,l=p),a(l)):n(l,c)}return function(e,t,n,r){try{Zo=0;var i=b(e,t,n,r);return Xo=null,i}catch(o){if(o===Ki||o===Yi)throw o;var s=Br(29,o,null,e.mode);return s.lanes=r,s.return=e,s}}}var ia=ra(!0),sa=ra(!1),oa=B(null),aa=null;function la(e){var t=e.alternate;z(ha,1&ha.current),z(oa,e),null===aa&&(null===t||null!==ms.current||null!==t.memoizedState)&&(aa=e)}function ca(e){if(22===e.tag){if(z(ha,ha.current),z(oa,e),null===aa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(aa=e)}}else ua()}function ua(){z(ha,ha.current),z(oa,oa.current)}function da(e){U(oa),aa===e&&(aa=null),U(ha)}var ha=B(0);function fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||bd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function pa(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=os(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=as(e,i,r))&&(Bc(t,e,r),ls(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=os(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=as(e,i,r))&&(Bc(t,e,r),ls(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=os(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=as(e,r,n))&&(Bc(t,e,n),ls(t,e,n))}};function ga(e,t,n,r,i,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(i,s))}function ya(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ba(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=c({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var wa="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function va(e){wa(e)}function xa(e){console.error(e)}function ka(e){wa(e)}function Sa(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ea(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function _a(e,t,n){return(n=os(n)).tag=3,n.payload={element:null},n.callback=function(){Sa(e,t)},n}function Na(e){return(e=os(e)).tag=3,e}function Aa(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Ea(t,n,r)}}var o=n.stateNode;null!==o&&"function"==typeof o.componentDidCatch&&(e.callback=function(){Ea(t,n,r),"function"!=typeof i&&(null===Nc?Nc=new Set([this]):Nc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ta=Error(r(461)),Ca=!1;function ja(e,t,n,r){t.child=null===e?sa(t,null,n,r):ia(t,e.child,n,r)}function Ia(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var a in r)"ref"!==a&&(o[a]=r[a])}else o=r;return Ai(t),r=Os(e,t,n,o,s,i),a=Ls(),null===e||Ca?(ai&&a&&ri(t),t.flags|=1,ja(e,t,r,i),t.child):(Bs(e,t,i),Xa(e,t,i))}function Ra(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||Ur(s)||void 0!==s.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Oa(e,t,s,r,i))}if(s=e.child,!Za(e,i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(o,r)&&e.ref===t.ref)return Xa(e,t,i)}return t.flags|=1,(e=Fr(s,r)).ref=t.ref,e.return=t,t.child=e}function Oa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Zn(s,r)&&e.ref===t.ref){if(Ca=!1,t.pendingProps=r=s,!Za(e,i))return t.lanes=e.lanes,Xa(e,t,i);131072&e.flags&&(Ca=!0)}}return La(e,t,n,r,i)}function Pa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Ma(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Ma(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Wi(0,null!==s?s.cachePool:null),null!==s?ys(t,s):bs(),ca(t)}else null!==s?(Wi(0,s.cachePool),ys(t,s),ua(),t.memoizedState=null):(null!==e&&Wi(0,null),bs(),ua());return ja(e,t,i,n),t.child}function Ma(e,t,n,r){var i=Gi();return i=null===i?null:{parent:Pi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Wi(0,null),bs(),ca(t),null!==e&&_i(e,t,r,!0),null}function Da(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function La(e,t,n,r,i){return Ai(t),n=Os(e,t,n,r,void 0,i),r=Ls(),null===e||Ca?(ai&&r&&ri(t),t.flags|=1,ja(e,t,n,i),t.child):(Bs(e,t,i),Xa(e,t,i))}function Ba(e,t,n,r,i,s){return Ai(t),t.updateQueue=null,n=Ms(t,r,n,i),Ps(e),r=Ls(),null===e||Ca?(ai&&r&&ri(t),t.flags|=1,ja(e,t,n,s),t.child):(Bs(e,t,s),Xa(e,t,s))}function Ua(e,t,n,r,i){if(Ai(t),null===t.stateNode){var s=Dr,o=n.contextType;"object"==typeof o&&null!==o&&(s=Ti(o)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=ma,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},is(t),o=n.contextType,s.context="object"==typeof o&&null!==o?Ti(o):Dr,s.state=t.memoizedState,"function"==typeof(o=n.getDerivedStateFromProps)&&(pa(t,n,o,r),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(o=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&ma.enqueueReplaceState(s,s.state,null),hs(t,r,s,i),ds(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,l=ba(n,a);s.props=l;var c=s.context,u=n.contextType;o=Dr,"object"==typeof u&&null!==u&&(o=Ti(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a||c!==o)&&ya(t,s,r,o),rs=!1;var h=t.memoizedState;s.state=h,hs(t,r,s,i),ds(),c=t.memoizedState,a||h!==c||rs?("function"==typeof d&&(pa(t,n,d,r),c=t.memoizedState),(l=rs||ga(t,n,l,r,h,c,o))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=o,r=l):("function"==typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ss(e,t),u=ba(n,o=t.memoizedProps),s.props=u,d=t.pendingProps,h=s.context,c=n.contextType,l=Dr,"object"==typeof c&&null!==c&&(l=Ti(c)),(c="function"==typeof(a=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==d||h!==l)&&ya(t,s,r,l),rs=!1,h=t.memoizedState,s.state=h,hs(t,r,s,i),ds();var f=t.memoizedState;o!==d||h!==f||rs||null!==e&&null!==e.dependencies&&Ni(e.dependencies)?("function"==typeof a&&(pa(t,n,a,r),f=t.memoizedState),(u=rs||ga(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Ni(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Da(e,t),r=!!(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=ia(t,e.child,null,i),t.child=ia(t,null,n,i)):ja(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Xa(e,t,i),e}function Fa(e,t,n,r){return mi(),t.flags|=256,ja(e,t,n,r),t.child}var za={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Va(e){return{baseLanes:e,cachePool:Hi()}}function qa(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=bc),e}function Ga(e,t,n){var i,s=t.pendingProps,o=!1,a=!!(128&t.flags);if((i=a)||(i=(null===e||null!==e.memoizedState)&&!!(2&ha.current)),i&&(o=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(ai){if(o?la(t):ua(),ai){var l,c=oi;if(l=c){e:{for(l=c,c=ci;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=wd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Zr?{id:Jr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},(l=Br(18,null,null,0)).stateNode=c,l.return=t,t.child=l,si=t,oi=null,l=!0):l=!1}l||di(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return bd(c)?t.lanes=32:t.lanes=536870912,null;da(t)}return c=s.children,s=s.fallback,o?(ua(),c=Ha({mode:"hidden",children:c},o=t.mode),s=qr(s,o,n,null),c.return=t,s.return=t,c.sibling=s,t.child=c,(o=t.child).memoizedState=Va(n),o.childLanes=qa(e,i,n),t.memoizedState=za,s):(la(t),Wa(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(la(t),t.flags&=-257,t=Ka(e,t,n)):null!==t.memoizedState?(ua(),t.child=e.child,t.flags|=128,t=null):(ua(),o=s.fallback,c=t.mode,s=Ha({mode:"visible",children:s.children},c),(o=qr(o,c,n,null)).flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,ia(t,e.child,null,n),(s=t.child).memoizedState=Va(n),s.childLanes=qa(e,i,n),t.memoizedState=za,t=o);else if(la(t),bd(c)){if(i=c.nextSibling&&c.nextSibling.dataset)var u=i.dgst;i=u,(s=Error(r(419))).stack="",s.digest=i,yi({value:s,source:null,stack:null}),t=Ka(e,t,n)}else if(Ca||_i(e,t,n,!1),i=0!==(n&e.childLanes),Ca||i){if(null!==(i=sc)&&(0!==(s=0!==((s=42&(s=n&-n)?1:je(s))&(i.suspendedLanes|n))?0:s)&&s!==l.retryLane))throw l.retryLane=s,Or(e,s),Bc(i,e,s),Ta;"$?"===c.data||Yc(),t=Ka(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,oi=wd(c.nextSibling),si=t,ai=!0,li=null,ci=!1,null!==e&&(Qr[Xr++]=Jr,Qr[Xr++]=ei,Qr[Xr++]=Zr,Jr=e.id,ei=e.overflow,Zr=t),(t=Wa(t,s.children)).flags|=4096);return t}return o?(ua(),o=s.fallback,c=t.mode,u=(l=e.child).sibling,(s=Fr(l,{mode:"hidden",children:s.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=Fr(u,o):(o=qr(o,c,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,null===(c=e.child.memoizedState)?c=Va(n):(null!==(l=c.cachePool)?(u=Pi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Hi(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=qa(e,i,n),t.memoizedState=za,s):(la(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Wa(e,t){return(t=Ha({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ha(e,t){return(e=Br(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ka(e,t,n){return ia(t,e.child,null,n),(e=Wa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $a(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Si(e.return,t,n)}function Ya(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ja(e,t,r.children,n),2&(r=ha.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n,t);else if(19===e.tag)$a(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(ha,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ya(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ya(t,!0,n,null,s);break;case"together":Ya(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),mc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(_i(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Za(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ni(e))}function Ja(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ca=!0;else{if(!(Za(e,n)||128&t.flags))return Ca=!1,function(e,t,n){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),xi(0,Pi,e.memoizedState.cache),mi();break;case 27:case 5:Q(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:xi(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(la(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Ga(e,t,n):(la(t),null!==(e=Xa(e,t,n))?e.sibling:null);la(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(_i(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(ha,ha.current),r)break;return null;case 22:case 23:return t.lanes=0,Pa(e,t,n);case 24:xi(0,Pi,e.memoizedState.cache)}return Xa(e,t,n)}(e,t,n);Ca=!!(131072&e.flags)}else Ca=!1,ai&&1048576&t.flags&&ni(t,Yr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,s=i._init;if(i=s(i._payload),t.type=i,"function"!=typeof i){if(null!=i){if((s=i.$$typeof)===x){t.tag=11,t=Ia(null,t,i,e,n);break e}if(s===E){t.tag=14,t=Ra(null,t,i,e,n);break e}}throw t=I(i)||i,Error(r(306,t,""))}Ur(i)?(e=ba(i,e),t.tag=1,t=Ua(null,t,i,e,n)):(t.tag=0,t=La(null,t,i,e,n))}return t;case 0:return La(e,t,t.type,t.pendingProps,n);case 1:return Ua(e,t,i=t.type,s=ba(i,t.pendingProps),n);case 3:e:{if($(t,t.stateNode.containerInfo),null===e)throw Error(r(387));i=t.pendingProps;var o=t.memoizedState;s=o.element,ss(e,t),hs(t,i,null,n);var a=t.memoizedState;if(i=a.cache,xi(0,Pi,i),i!==o.cache&&Ei(t,[Pi],n,!0),ds(),i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Fa(e,t,i,n);break e}if(i!==s){yi(s=Nr(Error(r(424)),t)),t=Fa(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(oi=wd(e.firstChild),si=t,ai=!0,li=null,ci=!0,n=sa(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mi(),i===s){t=Xa(e,t,n);break e}ja(e,t,i,n)}t=t.child}return t;case 26:return Da(e,t),null===e?(n=jd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ai||(n=t.type,e=t.pendingProps,(i=sd(W.current).createElement(n))[Pe]=t,i[Me]=e,nd(i,n,e),Ke(i),t.stateNode=i):t.memoizedState=jd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&ai&&(i=t.stateNode=kd(t.type,t.pendingProps,W.current),si=t,ci=!0,s=oi,md(t.type)?(vd=s,oi=wd(i.firstChild)):oi=s),ja(e,t,t.pendingProps.children,n),Da(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ai&&((s=i=oi)&&(null!==(i=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=wd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,ci))?(t.stateNode=i,si=t,oi=wd(i.firstChild),ci=!1,s=!0):s=!1),s||di(t)),Q(t),s=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,i=o.children,ld(s,o)?i=null:null!==a&&ld(s,a)&&(t.flags|=32),null!==t.memoizedState&&(s=Os(e,t,Ds,null,null,n),Qd._currentValue=s),Da(e,t),ja(e,t,i,n),t.child;case 6:return null===e&&ai&&((e=n=oi)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=wd(e.nextSibling)))return null}return e}(n,t.pendingProps,ci))?(t.stateNode=n,si=t,oi=null,e=!0):e=!1),e||di(t)),null;case 13:return Ga(e,t,n);case 4:return $(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ia(t,null,i,n):ja(e,t,i,n),t.child;case 11:return Ia(e,t,t.type,t.pendingProps,n);case 7:return ja(e,t,t.pendingProps,n),t.child;case 8:case 12:return ja(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,xi(0,t.type,i.value),ja(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,Ai(t),i=i(s=Ti(s)),t.flags|=1,ja(e,t,i,n),t.child;case 14:return Ra(e,t,t.type,t.pendingProps,n);case 15:return Oa(e,t,t.type,t.pendingProps,n);case 19:return Qa(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},null===e?((n=Ha(i,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Fr(e.child,i)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Pa(e,t,n);case 24:return Ai(t),i=Ti(Pi),null===e?(null===(s=Gi())&&(s=sc,o=Mi(),s.pooledCache=o,o.refCount++,null!==o&&(s.pooledCacheLanes|=n),s=o),t.memoizedState={parent:i,cache:s},is(t),xi(0,Pi,s)):(0!==(e.lanes&n)&&(ss(e,t),hs(t,null,null,n),ds()),s=e.memoizedState,o=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),xi(0,Pi,i)):(i=o.cache,xi(0,Pi,i),i!==s.cache&&Ei(t,[Pi],n,!0))),ja(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function el(e){e.flags|=4}function tl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!qd(t)){if(null!==(t=oa.current)&&((4194048&ac)===ac?null!==aa:(62914560&ac)!==ac&&!(536870912&ac)||t!==aa))throw es=Qi,$i;e.flags|=8192}}function nl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?_e():536870912,e.lanes|=t,wc|=t)}function rl(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function il(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sl(e,t,n){var i=t.pendingProps;switch(ii(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return il(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ki(Pi),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(pi(t)?el(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,gi())),il(t),null;case 26:return n=t.memoizedState,null===e?(el(t),null!==n?(il(t),tl(t,n)):(il(t),t.flags&=-16777217)):n?n!==e.memoizedState?(el(t),il(t),tl(t,n)):(il(t),t.flags&=-16777217):(e.memoizedProps!==i&&el(t),il(t),t.flags&=-16777217),null;case 27:X(t),n=W.current;var s=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&el(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return il(t),null}e=V.current,pi(t)?hi(t):(e=kd(s,i,n),t.stateNode=e,el(t))}return il(t),null;case 5:if(X(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&el(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return il(t),null}if(e=V.current,pi(t))hi(t);else{switch(s=sd(W.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof i.is?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"==typeof i.is?s.createElement(n,{is:i.is}):s.createElement(n)}}e[Pe]=t,e[Me]=i;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)e.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(nd(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&el(t)}}return il(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&el(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(e=W.current,pi(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(s=si))switch(s.tag){case 27:case 5:i=s.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Zu(e.nodeValue,n)))||di(t)}else(e=sd(e).createTextNode(i))[Pe]=t,t.stateNode=e}return il(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=pi(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[Pe]=t}else mi(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;il(t),s=!1}else s=gi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(da(t),t):(da(t),null)}if(da(t),128&t.flags)return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){s=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(s=i.alternate.memoizedState.cachePool.pool);var o=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(o=i.memoizedState.cachePool.pool),o!==s&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),nl(t,t.updateQueue),il(t),null;case 4:return Y(),null===e&&Vu(t.stateNode.containerInfo),il(t),null;case 10:return ki(t.type),il(t),null;case 19:if(U(ha),null===(s=t.memoizedState))return il(t),null;if(i=!!(128&t.flags),null===(o=s.rendering))if(i)rl(s,!1);else{if(0!==pc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=fa(e))){for(t.flags|=128,rl(s,!1),e=o.updateQueue,t.updateQueue=e,nl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return z(ha,1&ha.current|2),t.child}e=e.sibling}null!==s.tail&&re()>Ec&&(t.flags|=128,i=!0,rl(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=fa(o))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,nl(t,e),rl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!o.alternate&&!ai)return il(t),null}else 2*re()-s.renderingStartTime>Ec&&536870912!==n&&(t.flags|=128,i=!0,rl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=s.last)?e.sibling=o:t.child=o,s.last=o)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=re(),t.sibling=null,e=ha.current,z(ha,i?1&e|2:1&e),t):(il(t),null);case 22:case 23:return da(t),ws(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(il(t),6&t.subtreeFlags&&(t.flags|=8192)):il(t),null!==(n=t.updateQueue)&&nl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&U(qi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ki(Pi),il(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function ol(e,t){switch(ii(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ki(Pi),Y(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 13:if(da(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));mi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(ha),null;case 4:return Y(),null;case 10:return ki(t.type),null;case 22:case 23:return da(t),ws(),null!==e&&U(qi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ki(Pi),null;default:return null}}function al(e,t){switch(ii(t),t.tag){case 3:ki(Pi),Y();break;case 26:case 27:case 5:X(t);break;case 4:Y();break;case 13:da(t);break;case 19:U(ha);break;case 10:ki(t.type);break;case 22:case 23:da(t),ws(),null!==e&&U(qi);break;case 24:ki(Pi)}}function ll(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(a){hu(t,t.return,a)}}function cl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(u){hu(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){hu(t,t.return,u)}}function ul(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ps(t,n)}catch(r){hu(e,e.return,r)}}}function dl(e,t,n){n.props=ba(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){hu(e,t,r)}}function hl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(i){hu(e,t,i)}}function fl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(i){hu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(s){hu(e,t,s)}else n.current=null}function pl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){hu(e,e.return,i)}}function ml(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,o=null,a=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(p)||ed(e,t,p,null,i,h)}}for(var f in i){var p=i[f];if(h=n[f],i.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":o=p;break;case"name":s=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(r(137,t));break;default:p!==h&&ed(e,t,f,p,i,h)}}return void bt(e,a,l,c,u,d,o,s);case"select":for(o in p=a=l=f=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":p=c;default:i.hasOwnProperty(o)||ed(e,t,o,null,i,c)}for(s in i)if(o=i[s],c=n[s],i.hasOwnProperty(s)&&(null!=o||null!=c))switch(s){case"value":f=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&ed(e,t,s,o,i,c)}return t=l,n=a,i=p,void(null!=f?xt(e,!!n,f,!1):!!i!=!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ed(e,t,l,null,i,s)}for(a in i)if(s=i[a],o=n[a],i.hasOwnProperty(a)&&(null!=s||null!=o))switch(a){case"value":f=s;break;case"defaultValue":p=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(r(91));break;default:s!==o&&ed(e,t,a,s,i,o)}return void kt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!i.hasOwnProperty(m))if("selected"===m)e.selected=!1;else ed(e,t,m,null,i,f);for(c in i)if(f=i[c],p=n[c],i.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f;else ed(e,t,c,f,i,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!i.hasOwnProperty(g)&&ed(e,t,g,null,i,f);for(u in i)if(f=i[u],p=n[u],i.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:ed(e,t,u,f,i,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!i.hasOwnProperty(y)&&td(e,t,y,void 0,i,f);for(d in i)f=i[d],p=n[d],!i.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||td(e,t,d,f,i,p);return}}for(var b in n)f=n[b],n.hasOwnProperty(b)&&null!=f&&!i.hasOwnProperty(b)&&ed(e,t,b,null,i,f);for(h in i)f=i[h],p=n[h],!i.hasOwnProperty(h)||f===p||null==f&&null==p||ed(e,t,h,f,i,p)}(i,e.type,n,t),i[Me]=t}catch(s){hu(e,e.return,s)}}function gl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&md(e.type)||4===e.tag}function yl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&md(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function bl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&md(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}function wl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&md(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(wl(e,t,n),e=e.sibling;null!==e;)wl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);nd(t,r,n),t[Pe]=e,t[Me]=n}catch(s){hu(e,e.return,s)}}var xl=!1,kl=!1,Sl=!1,El="function"==typeof WeakSet?WeakSet:Set,_l=null;function Nl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ul(e,n),4&r&&ll(5,n);break;case 1:if(Ul(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){hu(n,n.return,o)}else{var i=ba(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){hu(n,n.return,a)}}64&r&&ul(n),512&r&&hl(n,n.return);break;case 3:if(Ul(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ps(e,t)}catch(o){hu(n,n.return,o)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Ul(e,n),null===t&&4&r&&pl(n),512&r&&hl(n,n.return);break;case 12:Ul(e,n);break;case 13:Ul(e,n),4&r&&Rl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=gu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||xl)){t=null!==t&&null!==t.memoizedState||kl,i=xl;var s=kl;xl=r,(kl=t)&&!s?zl(e,n,!!(8772&n.subtreeFlags)):Ul(e,n),xl=i,kl=s}break;case 30:break;default:Ul(e,n)}}function Al(e){var t=e.alternate;null!==t&&(e.alternate=null,Al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ve(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,Cl=!1;function jl(e,t,n){for(n=n.child;null!==n;)Il(e,t,n),n=n.sibling}function Il(e,t,n){if(fe&&"function"==typeof fe.onCommitFiberUnmount)try{fe.onCommitFiberUnmount(he,n)}catch(s){}switch(n.tag){case 26:kl||fl(n,t),jl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:kl||fl(n,t);var r=Tl,i=Cl;md(n.type)&&(Tl=n.stateNode,Cl=!1),jl(e,t,n),Sd(n.stateNode),Tl=r,Cl=i;break;case 5:kl||fl(n,t);case 6:if(r=Tl,i=Cl,Tl=null,jl(e,t,n),Cl=i,null!==(Tl=r))if(Cl)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(o){hu(n,t,o)}else try{Tl.removeChild(n.stateNode)}catch(o){hu(n,t,o)}break;case 18:null!==Tl&&(Cl?(gd(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Ch(e)):gd(Tl,n.stateNode));break;case 4:r=Tl,i=Cl,Tl=n.stateNode.containerInfo,Cl=!0,jl(e,t,n),Tl=r,Cl=i;break;case 0:case 11:case 14:case 15:kl||cl(2,n,t),kl||cl(4,n,t),jl(e,t,n);break;case 1:kl||(fl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&dl(n,t,r)),jl(e,t,n);break;case 21:jl(e,t,n);break;case 22:kl=(r=kl)||null!==n.memoizedState,jl(e,t,n),kl=r;break;default:jl(e,t,n)}}function Rl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ch(e)}catch(n){hu(t,t.return,n)}}function Ol(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new El),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new El),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){var r=yu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Pl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var s=n[i],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(md(l.type)){Tl=l.stateNode,Cl=!1;break e}break;case 5:Tl=l.stateNode,Cl=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,Cl=!0;break e}l=l.return}if(null===Tl)throw Error(r(160));Il(o,a,s),Tl=null,Cl=!1,null!==(o=s.alternate)&&(o.return=null),s.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Ml=null;function Dl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pl(t,e),Ll(e),4&i&&(cl(3,e,e.return),ll(3,e),cl(5,e,e.return));break;case 1:Pl(t,e),Ll(e),512&i&&(kl||null===n||fl(n,n.return)),64&i&&xl&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var s=Ml;if(Pl(t,e),Ll(e),512&i&&(kl||null===n||fl(n,n.return)),4&i){var o=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":(!(o=s.getElementsByTagName("title")[0])||o[ze]||o[Pe]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=s.createElement(i),s.head.insertBefore(o,s.querySelector("head > title"))),nd(o,i,n),o[Pe]=e,Ke(o),i=o;break e;case"link":var a=zd("link","href",s).get(i+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}nd(o=s.createElement(i),i,n),s.head.appendChild(o);break;case"meta":if(a=zd("meta","content",s).get(i+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}nd(o=s.createElement(i),i,n),s.head.appendChild(o);break;default:throw Error(r(468,i))}o[Pe]=e,Ke(o),i=o}e.stateNode=i}else Vd(s,e.type,e.stateNode);else e.stateNode=Dd(s,i,e.memoizedProps);else o!==i?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===i?Vd(s,e.type,e.stateNode):Dd(s,i,e.memoizedProps)):null===i&&null!==e.stateNode&&ml(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pl(t,e),Ll(e),512&i&&(kl||null===n||fl(n,n.return)),null!==n&&4&i&&ml(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pl(t,e),Ll(e),512&i&&(kl||null===n||fl(n,n.return)),32&e.flags){s=e.stateNode;try{Et(s,"")}catch(p){hu(e,e.return,p)}}4&i&&null!=e.stateNode&&ml(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&i&&(Sl=!0);break;case 6:if(Pl(t,e),Ll(e),4&i){if(null===e.stateNode)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(p){hu(e,e.return,p)}}break;case 3:if(Fd=null,s=Ml,Ml=Nd(t.containerInfo),Pl(t,e),Ml=s,Ll(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ch(t.containerInfo)}catch(p){hu(e,e.return,p)}Sl&&(Sl=!1,Bl(e));break;case 4:i=Ml,Ml=Nd(e.stateNode.containerInfo),Pl(t,e),Ll(e),Ml=i;break;case 12:default:Pl(t,e),Ll(e);break;case 13:Pl(t,e),Ll(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Sc=re()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Ol(e,i)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=xl,d=kl;if(xl=u||s,kl=d||c,Pl(t,e),kl=d,xl=u,Ll(e),8192&i)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||xl||kl||Fl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,s)"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(p){hu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(p){hu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Ol(e,n))));break;case 19:Pl(t,e),Ll(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Ol(e,i)));case 30:case 21:}}function Ll(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(gl(i)){n=i;break}i=i.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var s=n.stateNode;wl(e,yl(e),s);break;case 5:var o=n.stateNode;32&n.flags&&(Et(o,""),n.flags&=-33),wl(e,yl(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;bl(e,yl(e),a);break;default:throw Error(r(161))}}catch(l){hu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Bl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Bl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ul(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Nl(e,t.alternate,t),t=t.sibling}function Fl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cl(4,t,t.return),Fl(t);break;case 1:fl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&dl(t,t.return,n),Fl(t);break;case 27:Sd(t.stateNode);case 26:case 5:fl(t,t.return),Fl(t);break;case 22:null===t.memoizedState&&Fl(t);break;default:Fl(t)}e=e.sibling}}function zl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:zl(i,s,n),ll(4,s);break;case 1:if(zl(i,s,n),"function"==typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){hu(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)fs(l[i],a)}catch(c){hu(r,r.return,c)}}n&&64&o&&ul(s),hl(s,s.return);break;case 27:vl(s);case 26:case 5:zl(i,s,n),n&&null===r&&4&o&&pl(s),hl(s,s.return);break;case 12:zl(i,s,n);break;case 13:zl(i,s,n),n&&4&o&&Rl(i,s);break;case 22:null===s.memoizedState&&zl(i,s,n),hl(s,s.return);break;case 30:break;default:zl(i,s,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Di(n))}function ql(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e))}function Gl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Wl(e,t,n,r),t=t.sibling}function Wl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Gl(e,t,n,r),2048&i&&ll(9,t);break;case 1:case 13:default:Gl(e,t,n,r);break;case 3:Gl(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e)));break;case 12:if(2048&i){Gl(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"==typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){hu(t,t.return,l)}}else Gl(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?Gl(e,t,n,r):Kl(e,t):2&s._visibility?Gl(e,t,n,r):(s._visibility|=2,Hl(e,t,n,r,!!(10256&t.subtreeFlags))),2048&i&&Vl(o,t);break;case 24:Gl(e,t,n,r),2048&i&&ql(t.alternate,t)}}function Hl(e,t,n,r,i){for(i=i&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,o=t,a=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:Hl(s,o,a,l,i),ll(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?Hl(s,o,a,l,i):Kl(s,o):(u._visibility|=2,Hl(s,o,a,l,i)),i&&2048&c&&Vl(o.alternate,o);break;case 24:Hl(s,o,a,l,i),i&&2048&c&&ql(o.alternate,o);break;default:Hl(s,o,a,l,i)}t=t.sibling}}function Kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Kl(n,r),2048&i&&Vl(r.alternate,r);break;case 24:Kl(n,r),2048&i&&ql(r.alternate,r);break;default:Kl(n,r)}t=t.sibling}}var $l=8192;function Yl(e){if(e.subtreeFlags&$l)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 26:Yl(e),e.flags&$l&&null!==e.memoizedState&&function(e,t,n){if(null===Gd)throw Error(r(475));var i=Gd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var s=Id(n.href),o=e.querySelector(Rd(s));if(o)return null!==(e=o._p)&&"object"==typeof e&&"function"==typeof e.then&&(i.count++,i=Hd.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=o,void Ke(o);o=e.ownerDocument||e,n=Od(n),(s=Ed.get(s))&&Bd(n,s),Ke(o=o.createElement("link"));var a=o;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),nd(o,"link",n),t.instance=o}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(i.count++,t=Hd.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ml,e.memoizedState,e.memoizedProps);break;case 5:default:Yl(e);break;case 3:case 4:var t=Ml;Ml=Nd(e.stateNode.containerInfo),Yl(e),Ml=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=$l,$l=16777216,Yl(e),$l=t):Yl(e))}}function Xl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Zl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_l=r,tc(r,e)}Xl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Zl(e),2048&e.flags&&cl(9,e,e.return);break;case 3:case 12:default:Zl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ec(e)):Zl(e)}}function ec(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];_l=r,tc(r,e)}Xl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:cl(8,t,t.return),ec(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ec(t));break;default:ec(t)}e=e.sibling}}function tc(e,t){for(;null!==_l;){var n=_l;switch(n.tag){case 0:case 11:case 15:cl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Di(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,_l=r;else e:for(n=e;null!==_l;){var i=(r=_l).sibling,s=r.return;if(Al(r),r===n){_l=null;break e}if(null!==i){i.return=s,_l=i;break e}_l=s}}}var nc={getCacheForType:function(e){var t=Ti(Pi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},rc="function"==typeof WeakMap?WeakMap:Map,ic=0,sc=null,oc=null,ac=0,lc=0,cc=null,uc=!1,dc=!1,hc=!1,fc=0,pc=0,mc=0,gc=0,yc=0,bc=0,wc=0,vc=null,xc=null,kc=!1,Sc=0,Ec=1/0,_c=null,Nc=null,Ac=0,Tc=null,Cc=null,jc=0,Ic=0,Rc=null,Oc=null,Pc=0,Mc=null;function Dc(){if(2&ic&&0!==ac)return ac&-ac;if(null!==O.T){return 0!==Ui?Ui:Iu()}return Re()}function Lc(){0===bc&&(bc=536870912&ac&&!ai?536870912:Ee());var e=oa.current;return null!==e&&(e.flags|=32),bc}function Bc(e,t,n){(e!==sc||2!==lc&&9!==lc)&&null===e.cancelPendingCommit||(Wc(e,0),Vc(e,ac,bc,!1)),Ae(e,n),2&ic&&e===sc||(e===sc&&(!(2&ic)&&(gc|=n),4===pc&&Vc(e,ac,bc,!1)),Eu(e))}function Uc(e,t,n){if(6&ic)throw Error(r(327));for(var i=!n&&!(124&t)&&0===(t&e.expiredLanes)||ke(e,t),s=i?function(e,t){var n=ic;ic|=2;var i=Kc(),s=$c();sc!==e||ac!==t?(_c=null,Ec=re()+500,Wc(e,t)):dc=ke(e,t);e:for(;;)try{if(0!==lc&&null!==oc){t=oc;var o=cc;t:switch(lc){case 1:lc=0,cc=null,tu(e,t,o,1);break;case 2:case 9:if(Xi(o)){lc=0,cc=null,eu(t);break}t=function(){2!==lc&&9!==lc||sc!==e||(lc=7),Eu(e)},o.then(t,t);break e;case 3:lc=7;break e;case 4:lc=5;break e;case 7:Xi(o)?(lc=0,cc=null,eu(t)):(lc=0,cc=null,tu(e,t,o,7));break;case 5:var a=null;switch(oc.tag){case 26:a=oc.memoizedState;case 5:case 27:var l=oc;if(!a||qd(a)){lc=0,cc=null;var c=l.sibling;if(null!==c)oc=c;else{var u=l.return;null!==u?(oc=u,nu(u)):oc=null}break t}}lc=0,cc=null,tu(e,t,o,5);break;case 6:lc=0,cc=null,tu(e,t,o,6);break;case 8:Gc(),pc=6;break e;default:throw Error(r(462))}}Zc();break}catch(d){Hc(e,d)}return vi=wi=null,O.H=i,O.A=s,ic=n,null!==oc?0:(sc=null,ac=0,jr(),pc)}(e,t):Qc(e,t,!0),o=i;;){if(0===s){dc&&!i&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!o||zc(n)){if(2===s){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;s=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Wc(l,a).flags|=256),2!==(a=Qc(l,a,!1))){if(hc&&!c){l.errorRecoveryDisabledLanes|=o,gc|=o,s=4;break e}o=xc,xc=s,null!==o&&(null===xc?xc=o:xc.push.apply(xc,o))}s=a}if(o=!1,2!==s)continue}}if(1===s){Wc(e,0),Vc(e,t,0,!0);break}e:{switch(i=e,o=s){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:Vc(i,t,bc,!uc);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(s=Sc+300-re())){if(Vc(i,t,bc,!uc),0!==xe(i,0,!0))break e;i.timeoutHandle=ud(Fc.bind(null,i,n,xc,_c,kc,t,bc,gc,wc,uc,o,2,-0,0),s)}else Fc(i,n,xc,_c,kc,t,bc,gc,wc,uc,o,0,-0,0)}break}s=Qc(e,t,!1),o=!1}Eu(e)}function Fc(e,t,n,i,s,o,a,l,c,u,d,h,f,p){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||!(16785408&~h))&&(Gd={stylesheets:null,count:0,unsuspend:Wd},Ql(t),null!==(h=function(){if(null===Gd)throw Error(r(475));var e=Gd;return e.stylesheets&&0===e.count&&$d(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&$d(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(iu.bind(null,e,t,o,n,i,s,a,l,c,d,1,f,p)),void Vc(e,o,a,!u);iu(e,t,o,n,i,s,a,l,c)}function zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Xn(s(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,r){t&=~yc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-me(i),o=1<<s;r[s]=-1,i&=~o}0!==n&&Te(e,n,t)}function qc(){return!!(6&ic)||(_u(0),!1)}function Gc(){if(null!==oc){if(0===lc)var e=oc.return;else vi=wi=null,Us(e=oc),Xo=null,Zo=0,e=oc;for(;null!==e;)al(e.alternate,e),e=e.return;oc=null}}function Wc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,dd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Gc(),sc=e,oc=n=Fr(e.current,null),ac=t,lc=0,cc=null,uc=!1,dc=ke(e,t),hc=!1,wc=bc=yc=gc=mc=pc=0,xc=vc=null,kc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-me(r),s=1<<i;t|=e[i],r&=~s}return fc=t,jr(),n}function Hc(e,t){xs=null,O.H=Ko,t===Ki||t===Yi?(t=ts(),lc=3):t===$i?(t=ts(),lc=4):lc=t===Ta?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,cc=t,null===oc&&(pc=1,Sa(e,Nr(t,e.current)))}function Kc(){var e=O.H;return O.H=Ko,null===e?Ko:e}function $c(){var e=O.A;return O.A=nc,e}function Yc(){pc=4,uc||(4194048&ac)!==ac&&null!==oa.current||(dc=!0),!(134217727&mc)&&!(134217727&gc)||null===sc||Vc(sc,ac,bc,!1)}function Qc(e,t,n){var r=ic;ic|=2;var i=Kc(),s=$c();sc===e&&ac===t||(_c=null,Wc(e,t)),t=!1;var o=pc;e:for(;;)try{if(0!==lc&&null!==oc){var a=oc,l=cc;switch(lc){case 8:Gc(),o=6;break e;case 3:case 2:case 9:case 6:null===oa.current&&(t=!0);var c=lc;if(lc=0,cc=null,tu(e,a,l,c),n&&dc){o=0;break e}break;default:c=lc,lc=0,cc=null,tu(e,a,l,c)}}Xc(),o=pc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,vi=wi=null,ic=r,O.H=i,O.A=s,null===oc&&(sc=null,ac=0,jr()),o}function Xc(){for(;null!==oc;)Jc(oc)}function Zc(){for(;null!==oc&&!te();)Jc(oc)}function Jc(e){var t=Ja(e.alternate,e,fc);e.memoizedProps=e.pendingProps,null===t?nu(e):oc=t}function eu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ba(n,t,t.pendingProps,t.type,void 0,ac);break;case 11:t=Ba(n,t,t.pendingProps,t.type.render,t.ref,ac);break;case 5:Us(t);default:al(n,t),t=Ja(n,t=oc=zr(t,fc),fc)}e.memoizedProps=e.pendingProps,null===t?nu(e):oc=t}function tu(e,t,n,i){vi=wi=null,Us(t),Xo=null,Zo=0;var s=t.return;try{if(function(e,t,n,i,s){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&_i(t,n,s,!0),null!==(n=oa.current)){switch(n.tag){case 13:return null===aa?Yc():null===n.alternate&&0===pc&&(pc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===Qi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),fu(e,i,s)),!1;case 22:return n.flags|=65536,i===Qi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),fu(e,i,s)),!1}throw Error(r(435,n.tag))}return fu(e,i,s),Yc(),!1}if(ai)return null!==(t=oa.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==ui&&yi(Nr(e=Error(r(422),{cause:i}),n))):(i!==ui&&yi(Nr(t=Error(r(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,i=Nr(i,n),cs(e,s=_a(e.stateNode,i,s)),4!==pc&&(pc=2)),!1;var o=Error(r(520),{cause:i});if(o=Nr(o,n),null===vc?vc=[o]:vc.push(o),4!==pc&&(pc=2),null===t)return!0;i=Nr(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,cs(n,e=_a(n.stateNode,i,e)),!1;case 1:if(t=n.type,o=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===o||"function"!=typeof o.componentDidCatch||null!==Nc&&Nc.has(o))))return n.flags|=65536,s&=-s,n.lanes|=s,Aa(s=Na(s),e,n,i),cs(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,ac))return pc=1,Sa(e,Nr(n,e.current)),void(oc=null)}catch(o){if(null!==s)throw oc=s,o;return pc=1,Sa(e,Nr(n,e.current)),void(oc=null)}32768&t.flags?(ai||1===i?e=!0:dc||536870912&ac?e=!1:(uc=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=oa.current)&&13===i.tag&&(i.flags|=16384))),ru(t,e)):nu(t)}function nu(e){var t=e;do{if(32768&t.flags)return void ru(t,uc);e=t.return;var n=sl(t.alternate,t,fc);if(null!==n)return void(oc=n);if(null!==(t=t.sibling))return void(oc=t);oc=t=e}while(null!==t);0===pc&&(pc=5)}function ru(e,t){do{var n=ol(e.alternate,e);if(null!==n)return n.flags&=32767,void(oc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(oc=e);oc=e=n}while(null!==e);pc=6,oc=null}function iu(e,t,n,i,s,o,a,l,c){e.cancelPendingCommit=null;do{cu()}while(0!==Ac);if(6&ic)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-me(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Te(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,n,o|=Cr,a,l,c),e===sc&&(oc=sc=null,ac=0),Cc=t,Tc=e,jc=n,Ic=o,Rc=s,Oc=i,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,J(ae,function(){return uu(),null})):(e.callbackNode=null,e.callbackPriority=0),i=!!(13878&t.flags),13878&t.subtreeFlags||i){i=O.T,O.T=null,s=P.p,P.p=2,a=ic,ic|=4;try{!function(e,t){if(e=e.containerInfo,rd=ih,rr(e=nr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(l=a+s),h!==o||0!==i&&3!==h.nodeType||(c=a+i),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=a),f===o&&++d===i&&(c=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(id={focusedElem:e,selectionRange:n},ih=!1,_l=t;null!==_l;)if(e=(t=_l).child,1024&t.subtreeFlags&&null!==e)e.return=t,_l=e;else for(;null!==_l;){switch(o=(t=_l).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==o){e=void 0,n=t,s=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var m=ba(n.type,s,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(m,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(y){hu(n,n.return,y)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))yd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,_l=e;break}_l=t.return}}(e,t)}finally{ic=a,P.p=s,O.T=i}}Ac=1,su(),ou(),au()}}function su(){if(1===Ac){Ac=0;var e=Tc,t=Cc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=O.T,O.T=null;var r=P.p;P.p=2;var i=ic;ic|=4;try{Dl(t,e);var s=id,o=nr(e.containerInfo),a=s.focusedElem,l=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&tr(a.ownerDocument.documentElement,a)){if(null!==l&&rr(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var y=er(a,m),b=er(a,g);if(y&&b&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==b.node||f.focusOffset!==b.offset)){var w=d.createRange();w.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(w),f.extend(b.node,b.offset)):(w.setEnd(b.node,b.offset),f.addRange(w))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof a.focus&&a.focus(),a=0;a<d.length;a++){var v=d[a];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}ih=!!rd,id=rd=null}finally{ic=i,P.p=r,O.T=n}}e.current=t,Ac=2}}function ou(){if(2===Ac){Ac=0;var e=Tc,t=Cc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=O.T,O.T=null;var r=P.p;P.p=2;var i=ic;ic|=4;try{Nl(e,t.alternate,t)}finally{ic=i,P.p=r,O.T=n}}Ac=3}}function au(){if(4===Ac||3===Ac){Ac=0,ne();var e=Tc,t=Cc,n=jc,r=Oc;10256&t.subtreeFlags||10256&t.flags?Ac=5:(Ac=0,Cc=Tc=null,lu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Nc=null),Ie(n),t=t.stateNode,fe&&"function"==typeof fe.onCommitFiberRoot)try{fe.onCommitFiberRoot(he,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==r){t=O.T,i=P.p,P.p=2,O.T=null;try{for(var s=e.onRecoverableError,o=0;o<r.length;o++){var a=r[o];s(a.value,{componentStack:a.stack})}}finally{O.T=t,P.p=i}}3&jc&&cu(),Eu(e),i=e.pendingLanes,4194090&n&&42&i?e===Mc?Pc++:(Pc=0,Mc=e):Pc=0,_u(0)}}function lu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Di(t)))}function cu(e){return su(),ou(),au(),uu()}function uu(){if(5!==Ac)return!1;var e=Tc,t=Ic;Ic=0;var n=Ie(jc),i=O.T,s=P.p;try{P.p=32>n?32:n,O.T=null,n=Rc,Rc=null;var o=Tc,a=jc;if(Ac=0,Cc=Tc=null,jc=0,6&ic)throw Error(r(331));var l=ic;if(ic|=4,Jl(o.current),Wl(o,o.current,a,n),ic=l,_u(0,!1),fe&&"function"==typeof fe.onPostCommitFiberRoot)try{fe.onPostCommitFiberRoot(he,o)}catch(c){}return!0}finally{P.p=s,O.T=i,lu(e,t)}}function du(e,t,n){t=Nr(n,t),null!==(e=as(e,t=_a(e.stateNode,t,2),2))&&(Ae(e,2),Eu(e))}function hu(e,t,n){if(3===e.tag)du(e,e,n);else for(;null!==t;){if(3===t.tag){du(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Nc||!Nc.has(r))){e=Nr(n,e),null!==(r=as(t,n=Na(2),2))&&(Aa(n,r,t,e),Ae(r,2),Eu(r));break}}t=t.return}}function fu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new rc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(hc=!0,i.add(n),e=pu.bind(null,e,t,n),t.then(e,e))}function pu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,sc===e&&(ac&n)===n&&(4===pc||3===pc&&(62914560&ac)===ac&&300>re()-Sc?!(2&ic)&&Wc(e,0):yc|=n,wc===ac&&(wc=0)),Eu(e)}function mu(e,t){0===t&&(t=_e()),null!==(e=Or(e,t))&&(Ae(e,t),Eu(e))}function gu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),mu(e,n)}function yu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==i&&i.delete(t),mu(e,n)}var bu=null,wu=null,vu=!1,xu=!1,ku=!1,Su=0;function Eu(e){e!==wu&&null===e.next&&(null===wu?bu=wu=e:wu=wu.next=e),xu=!0,vu||(vu=!0,fd(function(){6&ic?J(se,Nu):Au()}))}function _u(e,t){if(!ku&&xu){ku=!0;do{for(var n=!1,r=bu;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-me(42|e)+1)-1,s=201326741&(s&=i&~(o&~a))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,ju(r,s))}else s=ac,!(3&(s=xe(r,r===sc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ke(r,s)||(n=!0,ju(r,s));r=r.next}}while(n);ku=!1}}function Nu(){Au()}function Au(){xu=vu=!1;var e=0;0!==Su&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==cd&&(cd=e,!0);return cd=null,!1}()&&(e=Su),Su=0);for(var t=re(),n=null,r=bu;null!==r;){var i=r.next,s=Tu(r,t);0===s?(r.next=null,null===n?bu=i:n.next=i,null===i&&(wu=n)):(n=r,(0!==e||3&s)&&(xu=!0)),r=i}_u(e)}function Tu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-me(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=Se(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}if(n=ac,n=xe(e,e===(t=sc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===lc||9===lc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ee(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||ke(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ee(r),Ie(n)){case 2:case 8:n=oe;break;case 32:default:n=ae;break;case 268435456:n=ce}return r=Cu.bind(null,e),n=J(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ee(r),e.callbackPriority=2,e.callbackNode=null,2}function Cu(e,t){if(0!==Ac&&5!==Ac)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var r=ac;return 0===(r=xe(e,e===sc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Uc(e,r,t),Tu(e,re()),null!=e.callbackNode&&e.callbackNode===n?Cu.bind(null,e):null)}function ju(e,t){if(cu())return null;Uc(e,t,!0)}function Iu(){return 0===Su&&(Su=Ee()),Su}function Ru(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:It(""+e)}function Ou(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pu=0;Pu<Sr.length;Pu++){var Mu=Sr[Pu];Er(Mu.toLowerCase(),"on"+(Mu[0].toUpperCase()+Mu.slice(1)))}Er(mr,"onAnimationEnd"),Er(gr,"onAnimationIteration"),Er(yr,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(br,"onTransitionRun"),Er(wr,"onTransitionStart"),Er(vr,"onTransitionCancel"),Er(xr,"onTransitionEnd"),Xe("onMouseEnter",["mouseout","mouseover"]),Xe("onMouseLeave",["mouseout","mouseover"]),Xe("onPointerEnter",["pointerout","pointerover"]),Xe("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Bu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=c;try{s(i)}catch(u){wa(u)}i.currentTarget=null,s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=c;try{s(i)}catch(u){wa(u)}i.currentTarget=null,s=l}}}}function Uu(e,t){var n=t[Le];void 0===n&&(n=t[Le]=new Set);var r=e+"__bubble";n.has(r)||(qu(t,e,2,!1),n.add(r))}function Fu(e,t,n){var r=0;t&&(r|=4),qu(n,e,r,t)}var zu="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[zu]){e[zu]=!0,$e.forEach(function(t){"selectionchange"!==t&&(Lu.has(t)||Fu(t,!1,e),Fu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zu]||(t[zu]=!0,Fu("selectionchange",!1,t))}}function qu(e,t,n,r){switch(dh(t)){case 2:var i=sh;break;case 8:i=oh;break;default:i=ah}n=i.bind(null,t,n,e),i=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gu(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var l=r.stateNode.containerInfo;if(l===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==l;){if(null===(a=qe(l)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=o=a;continue e}l=l.parentNode}}r=r.return}Bt(function(){var r=o,i=Ot(n),a=[];e:{var l=kr.get(e);if(void 0!==l){var c=tn,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=ln;break;case"focusout":u="blur",c=ln;break;case"beforeblur":case"afterblur":c=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=wn;break;case mr:case gr:case yr:c=cn;break;case xr:c=vn;break;case"scroll":case"scrollend":c=rn;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=kn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==l?l+"Capture":null:l;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ut(m,f))&&d.push(Wu(m,g,p)),h)break;m=m.return}0<d.length&&(l=new c(l,u,null,n,i),a.push({event:l,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!qe(u)&&!u[De])&&(c||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?qe(u):null)&&(h=s(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=on,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?l:We(c),p=null==u?l:We(u),(l=new d(g,m+"leave",c,n,i)).target=h,l.relatedTarget=p,g=null,qe(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,m=0,p=d=c;p;p=Ku(p))m++;for(p=0,g=f;g;g=Ku(g))p++;for(;0<m-p;)d=Ku(d),m--;for(;0<p-m;)f=Ku(f),p--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=Ku(d),f=Ku(f)}d=null}else d=null;null!==c&&$u(a,l,c,d,!1),null!==u&&null!==h&&$u(a,h,u,d,!0)}if("select"===(c=(l=r?We(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var y=Fn;else if(Pn(l))if(zn)y=Qn;else{y=$n;var b=Kn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&Tt(r.elementType)&&(y=Fn):y=Yn;switch(y&&(y=y(e,r))?Mn(a,y,n,i):(b&&b(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&vt(l,"number",l.value)),b=r?We(r):window,e){case"focusin":(Pn(b)||"true"===b.contentEditable)&&(sr=b,or=r,ar=null);break;case"focusout":ar=or=sr=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,cr(a,n,i);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":cr(a,n,i)}var w;if(En)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Rn?jn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(An&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Rn&&(w=Ht()):(Gt="value"in(qt=i)?qt.value:qt.textContent,Rn=!0)),0<(b=Hu(r,v)).length&&(v=new dn(v,e,null,n,i),a.push({event:v,listeners:b}),w?v.data=w:null!==(w=In(n))&&(v.data=w))),(w=Nn?function(e,t){switch(e){case"compositionend":return In(t);case"keypress":return 32!==t.which?null:(Cn=!0,Tn);case"textInput":return(e=t.data)===Tn&&Cn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!En&&jn(e,t)?(e=Ht(),Wt=Gt=qt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(v=Hu(r,"onBeforeInput")).length&&(b=new dn("onBeforeInput","beforeinput",null,n,i),a.push({event:b,listeners:v}),b.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Ru((i[Me]||null).action),o=r.submitter;o&&null!==(t=(t=o[Me]||null)?Ru(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new tn("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Su){var e=o?Ou(i,o):new FormData(i);Oo(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"==typeof s&&(a.preventDefault(),e=o?Ou(i,o):new FormData(i),Oo(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}Bu(a,t)})}function Wu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Ut(e,n))&&r.unshift(Wu(e,i,s)),null!=(i=Ut(e,t))&&r.push(Wu(e,i,s))),3===e.tag)return r;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function $u(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=Ut(n,s))&&o.unshift(Wu(n,c,l)):i||null!=(c=Ut(n,s))&&o.push(Wu(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yu=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Xu(e){return("string"==typeof e?e:""+e).replace(Yu,"\n").replace(Qu,"")}function Zu(e,t){return t=Xu(t),Xu(e)===t}function Ju(){}function ed(e,t,n,i,s,o){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||Et(e,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==t&&Et(e,""+i);break;case"className":it(e,"class",i);break;case"tabIndex":it(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":it(e,n,i);break;case"style":At(e,i,o);break;case"data":if("object"!==t){it(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=It(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof o&&("formAction"===n?("input"!==t&&ed(e,t,"name",s.name,s,null),ed(e,t,"formEncType",s.formEncType,s,null),ed(e,t,"formMethod",s.formMethod,s,null),ed(e,t,"formTarget",s.formTarget,s,null)):(ed(e,t,"encType",s.encType,s,null),ed(e,t,"method",s.method,s,null),ed(e,t,"target",s.target,s,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=It(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Ju);break;case"onScroll":null!=i&&Uu("scroll",e);break;case"onScrollEnd":null!=i&&Uu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=s.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}n=It(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Uu("beforetoggle",e),Uu("toggle",e),rt(e,"popover",i);break;case"xlinkActuate":st(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":st(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":st(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":st(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":st(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":st(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":st(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":st(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":st(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":rt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&rt(e,n=Ct.get(n)||n,i)}}function td(e,t,n,i,s,o){switch(n){case"style":At(e,i,o);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=s.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof i?Et(e,i):("number"==typeof i||"bigint"==typeof i)&&Et(e,""+i);break;case"onScroll":null!=i&&Uu("scroll",e);break;case"onScrollEnd":null!=i&&Uu("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ye.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"==typeof(o=null!=(o=e[Me]||null)?o[n]:null)&&e.removeEventListener(t,o,s),"function"!=typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):rt(e,n,i):("function"!=typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s)))}}function nd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Uu("error",e),Uu("load",e);var i,s=!1,o=!1;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(null!=a)switch(i){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ed(e,t,i,a,n,null)}}return o&&ed(e,t,"srcSet",n.srcSet,n,null),void(s&&ed(e,t,"src",n.src,n,null));case"input":Uu("invalid",e);var l=i=a=o=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:ed(e,t,s,d,n,null)}}return wt(e,i,l,c,u,a,o,!1),void ft(e);case"select":for(o in Uu("invalid",e),s=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"multiple":s=l;default:ed(e,t,o,l,n,null)}return t=i,n=a,e.multiple=!!s,void(null!=t?xt(e,!!s,t,!1):null!=n&&xt(e,!!s,n,!0));case"textarea":for(a in Uu("invalid",e),i=o=s=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":s=l;break;case"defaultValue":o=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:ed(e,t,a,l,n,null)}return St(e,s,o,i),void ft(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!=typeof s&&"symbol"!=typeof s;else ed(e,t,c,s,n,null);return;case"dialog":Uu("beforetoggle",e),Uu("toggle",e),Uu("cancel",e),Uu("close",e);break;case"iframe":case"object":Uu("load",e);break;case"video":case"audio":for(s=0;s<Du.length;s++)Uu(Du[s],e);break;case"image":Uu("error",e),Uu("load",e);break;case"details":Uu("toggle",e);break;case"embed":case"source":case"link":Uu("error",e),Uu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ed(e,t,u,s,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(s=n[d])&&td(e,t,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&ed(e,t,l,s,n,null))}var rd=null,id=null;function sd(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ld(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var cd=null;var ud="function"==typeof setTimeout?setTimeout:void 0,dd="function"==typeof clearTimeout?clearTimeout:void 0,hd="function"==typeof Promise?Promise:void 0,fd="function"==typeof queueMicrotask?queueMicrotask:void 0!==hd?function(e){return hd.resolve(null).then(e).catch(pd)}:ud;function pd(e){setTimeout(function(){throw e})}function md(e){return"head"===e}function gd(e,t){var n=t,r=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&Sd(o.documentElement),2&n&&Sd(o.body),4&n)for(Sd(n=o.head),o=n.firstChild;o;){var a=o.nextSibling,l=o.nodeName;o[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=a}}if(0===i)return e.removeChild(s),void Ch(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Ch(t)}function yd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":yd(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function bd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function wd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function xd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function kd(e,t,n){switch(t=sd(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function Sd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ve(e)}var Ed=new Map,_d=new Set;function Nd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ad=P.d;P.d={f:function(){var e=Ad.f(),t=qc();return e||t},r:function(e){var t=Ge(e);null!==t&&5===t.tag&&"form"===t.type?Mo(t):Ad.r(e)},D:function(e){Ad.D(e),Cd("dns-prefetch",e,null)},C:function(e,t){Ad.C(e,t),Cd("preconnect",e,t)},L:function(e,t,n){Ad.L(e,t,n);var r=Td;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var s=i;switch(t){case"style":s=Id(e);break;case"script":s=Pd(e)}Ed.has(s)||(e=c({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Ed.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Rd(s))||"script"===t&&r.querySelector(Md(s))||(nd(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}},m:function(e,t){Ad.m(e,t);var n=Td;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Pd(e)}if(!Ed.has(s)&&(e=c({rel:"modulepreload",href:e},t),Ed.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Md(s)))return}nd(r=n.createElement("link"),"link",e),Ke(r),n.head.appendChild(r)}}},X:function(e,t){Ad.X(e,t);var n=Td;if(n&&e){var r=He(n).hoistableScripts,i=Pd(e),s=r.get(i);s||((s=n.querySelector(Md(i)))||(e=c({src:e,async:!0},t),(t=Ed.get(i))&&Ud(e,t),Ke(s=n.createElement("script")),nd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){Ad.S(e,t,n);var r=Td;if(r&&e){var i=He(r).hoistableStyles,s=Id(e);t=t||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(Rd(s)))a.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ed.get(s))&&Bd(e,n);var l=o=r.createElement("link");Ke(l),nd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Ld(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}},M:function(e,t){Ad.M(e,t);var n=Td;if(n&&e){var r=He(n).hoistableScripts,i=Pd(e),s=r.get(i);s||((s=n.querySelector(Md(i)))||(e=c({src:e,async:!0,type:"module"},t),(t=Ed.get(i))&&Ud(e,t),Ke(s=n.createElement("script")),nd(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Td="undefined"==typeof document?null:document;function Cd(e,t,n){var r=Td;if(r&&"string"==typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),_d.has(i)||(_d.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(nd(t=r.createElement("link"),"link",e),Ke(t),r.head.appendChild(t)))}}function jd(e,t,n,i){var s,o,a,l,c=(c=W.current)?Nd(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Id(n.href),(i=(n=He(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Id(n.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Rd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Ed.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ed.set(e,n),u||(s=c,o=e,a=n,l=d.state,s.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=s.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),nd(o,"link",a),Ke(o),s.head.appendChild(o))))),t&&null===i)throw Error(r(528,""));return d}if(t&&null!==i)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Pd(n),(i=(n=He(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Id(e){return'href="'+yt(e)+'"'}function Rd(e){return'link[rel="stylesheet"]['+e+"]"}function Od(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function Pd(e){return'[src="'+yt(e)+'"]'}function Md(e){return"script[async]"+e}function Dd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(i)return t.instance=i,Ke(i),i;var s=c({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ke(i=(e.ownerDocument||e).createElement("style")),nd(i,"style",s),Ld(i,n.precedence,e),t.instance=i;case"stylesheet":s=Id(n.href);var o=e.querySelector(Rd(s));if(o)return t.state.loading|=4,t.instance=o,Ke(o),o;i=Od(n),(s=Ed.get(s))&&Bd(i,s),Ke(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),nd(o,"link",i),t.state.loading|=4,Ld(o,n.precedence,e),t.instance=o;case"script":return o=Pd(n.src),(s=e.querySelector(Md(o)))?(t.instance=s,Ke(s),s):(i=n,(s=Ed.get(o))&&Ud(i=c({},n),s),Ke(s=(e=e.ownerDocument||e).createElement("script")),nd(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Ld(i,n.precedence,e));return t.instance}function Ld(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Bd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Ud(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Fd=null;function zd(e,t,n){if(null===Fd){var r=new Map,i=Fd=new Map;i.set(n,r)}else(r=(i=Fd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[ze]||s[Pe]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function Vd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function qd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Gd=null;function Wd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kd=null;function $d(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kd=new Map,t.forEach(Yd,e),Kd=null,Hd.call(e))}function Yd(e,t){if(!(4&t.state.loading)){var n=Kd.get(e);if(n)var r=n.get(null);else{n=new Map,Kd.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(s=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=Hd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Qd={$$typeof:v,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function Xd(e,t,n,r,i,s,o,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ne(0),this.hiddenUpdates=Ne(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Zd(e,t,n,r,i,s,o,a,l,c,u,d){return e=new Xd(e,t,n,o,a,l,c,d),t=1,!0===s&&(t|=24),s=Br(3,null,null,t),e.current=s,s.stateNode=e,(t=Mi()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},is(s),e}function Jd(e){return e?e=Dr:Dr}function eh(e,t,n,r,i,s){i=Jd(i),null===r.context?r.context=i:r.pendingContext=i,(r=os(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=as(e,r,t))&&(Bc(n,0,t),ls(n,e,t))}function th(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nh(e,t){th(e,t),(e=e.alternate)&&th(e,t)}function rh(e){if(13===e.tag){var t=Or(e,67108864);null!==t&&Bc(t,0,67108864),nh(e,67108864)}}var ih=!0;function sh(e,t,n,r){var i=O.T;O.T=null;var s=P.p;try{P.p=2,ah(e,t,n,r)}finally{P.p=s,O.T=i}}function oh(e,t,n,r){var i=O.T;O.T=null;var s=P.p;try{P.p=8,ah(e,t,n,r)}finally{P.p=s,O.T=i}}function ah(e,t,n,r){if(ih){var i=lh(r);if(null===i)Gu(e,t,r,ch,n),vh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return fh=xh(fh,e,t,n,r,i),!0;case"dragenter":return ph=xh(ph,e,t,n,r,i),!0;case"mouseover":return mh=xh(mh,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return gh.set(s,xh(gh.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,yh.set(s,xh(yh.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<wh.indexOf(e)){for(;null!==i;){var s=Ge(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=ve(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var l=1<<31-me(o);a.entanglements[1]|=l,o&=~l}Eu(s),!(6&ic)&&(Ec=re()+500,_u(0))}}break;case 13:null!==(a=Or(s,2))&&Bc(a,0,2),qc(),nh(s,2)}if(null===(s=lh(r))&&Gu(e,t,r,ch,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Gu(e,t,r,null,n)}}function lh(e){return uh(e=Ot(e))}var ch=null;function uh(e){if(ch=null,null!==(e=qe(e))){var t=s(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=o(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ch=e,null}function dh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ie()){case se:return 2;case oe:return 8;case ae:case le:return 32;case ce:return 268435456;default:return 32}default:return 32}}var hh=!1,fh=null,ph=null,mh=null,gh=new Map,yh=new Map,bh=[],wh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":fh=null;break;case"dragenter":case"dragleave":ph=null;break;case"mouseover":case"mouseout":mh=null;break;case"pointerover":case"pointerout":gh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yh.delete(t.pointerId)}}function xh(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Ge(t))&&rh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function kh(e){var t=qe(e.target);if(null!==t){var n=s(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=o(n)))return e.blockedOn=t,void function(e,t){var n=P.p;try{return P.p=e,t()}finally{P.p=n}}(e.priority,function(){if(13===n.tag){var e=Dc();e=je(e);var t=Or(n,e);null!==t&&Bc(t,0,e),nh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Sh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=lh(e.nativeEvent);if(null!==n)return null!==(t=Ge(n))&&rh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function Eh(e,t,n){Sh(e)&&n.delete(t)}function _h(){hh=!1,null!==fh&&Sh(fh)&&(fh=null),null!==ph&&Sh(ph)&&(ph=null),null!==mh&&Sh(mh)&&(mh=null),gh.forEach(Eh),yh.forEach(Eh)}function Nh(t,n){t.blockedOn===n&&(t.blockedOn=null,hh||(hh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_h)))}var Ah=null;function Th(t){Ah!==t&&(Ah=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ah===t&&(Ah=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if("function"!=typeof r){if(null===uh(r||n))continue;break}var s=Ge(n);null!==s&&(t.splice(e,3),e-=3,Oo(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ch(e){function t(t){return Nh(t,e)}null!==fh&&Nh(fh,e),null!==ph&&Nh(ph,e),null!==mh&&Nh(mh,e),gh.forEach(t),yh.forEach(t);for(var n=0;n<bh.length;n++){var r=bh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<bh.length&&null===(n=bh[0]).blockedOn;)kh(n),null===n.blockedOn&&bh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[Me]||null;if("function"==typeof s)o||Th(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[Me]||null)a=o.formAction;else if(null!==uh(i))continue}else a=o.action;"function"==typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Th(n)}}}function jh(e){this._internalRoot=e}function Ih(e){this._internalRoot=e}Ih.prototype.render=jh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));eh(t.current,Dc(),e,t,null,null)},Ih.prototype.unmount=jh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;eh(e.current,2,null,e,null,null),qc(),t[De]=null}},Ih.prototype.unstable_scheduleHydration=function(e){if(e){var t=Re();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bh.length&&0!==t&&t<bh[n].priority;n++);bh.splice(n,0,e),0===n&&kh(e)}};var Rh=t.version;if("19.1.1"!==Rh)throw Error(r(527,Rh,"19.1.1"));P.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var l=o.alternate;if(null===l){if(null!==(i=o.return)){n=i;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return a(o),e;if(l===i)return a(o),t;l=l.sibling}throw Error(r(188))}if(n.return!==i.return)n=o,i=l;else{for(var c=!1,u=o.child;u;){if(u===n){c=!0,n=o,i=l;break}if(u===i){c=!0,i=o,n=l;break}u=u.sibling}if(!c){for(u=l.child;u;){if(u===n){c=!0,n=l,i=o;break}if(u===i){c=!0,i=l,n=o;break}u=u.sibling}if(!c)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?l(e):null)?null:e.stateNode};var Oh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{he=Ph.inject(Oh),fe=Ph}catch(Dh){}}return G.createRoot=function(e,t){if(!i(e))throw Error(r(299));var n=!1,s="",o=va,a=xa,l=ka;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Zd(e,1,!1,null,0,n,s,o,a,l,0,null),e[De]=t.current,Vu(e),new jh(t)},G.hydrateRoot=function(e,t,n){if(!i(e))throw Error(r(299));var s=!1,o="",a=va,l=xa,c=ka,u=null;return null!=n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Zd(e,1,!0,t,0,s,o,a,l,c,0,u)).context=Jd(null),n=t.current,(o=os(s=je(s=Dc()))).callback=null,as(n,o,s),n=s,t.current.lanes=n,Ae(t,n),Eu(t),e[De]=t.current,Vu(e),new Ih(t)},G.version="19.1.1",G}var Y=(z||(z=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),q.exports=$()),q.exports),Q=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},X={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Z=new class{#e=X;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}};var J="undefined"==typeof window||"Deno"in globalThis;function ee(){}function te(e,t){return"function"==typeof e?e(t):e}function ne(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o)if(r){if(t.queryHash!==ie(o,t.options))return!1}else if(!oe(t.queryKey,o))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!=typeof a||t.isStale()===a)&&((!i||i===t.state.fetchStatus)&&!(s&&!s(t)))}function re(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(se(t.options.mutationKey)!==se(s))return!1}else if(!oe(t.options.mutationKey,s))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function ie(e,t){return(t?.queryKeyHashFn||se)(e)}function se(e){return JSON.stringify(e,(e,t)=>ue(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function oe(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every(n=>oe(e[n],t[n])))}var ae=Object.prototype.hasOwnProperty;function le(e,t){if(e===t)return e;const n=ce(e)&&ce(t);if(!(n||ue(e)&&ue(t)))return t;const r=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),s=i.length,o=n?new Array(s):{};let a=0;for(let l=0;l<s;l++){const s=n?l:i[l],c=e[s],u=t[s];if(c===u){o[s]=c,(n?l<r:ae.call(e,s))&&a++;continue}if(null===c||null===u||"object"!=typeof c||"object"!=typeof u){o[s]=u;continue}const d=le(c,u);o[s]=d,d===c&&a++}return r===s&&a===r?e:o}function ce(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ue(e){if(!de(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!de(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function de(e){return"[object Object]"===Object.prototype.toString.call(e)}function he(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?le(e,t):t}function fe(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function pe(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var me=Symbol();function ge(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==me?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var ye=new class extends Q{#n;#r;#i;constructor(){super(),this.#i=e=>{if(!J&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#r||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(e){this.#i=e,this.#r?.(),this.#r=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#n!==e&&(this.#n=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#n?this.#n:"hidden"!==globalThis.document?.visibilityState}};var be=function(e){setTimeout(e,0)};var we=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=be;const s=r=>{t?e.push(r):i(()=>{n(r)})};return{batch:s=>{let o;t++;try{o=s()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i(()=>{r(()=>{t.forEach(e=>{n(e)})})})})()}return o},batchCalls:e=>(...t)=>{s(()=>{e(...t)})},schedule:s,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),ve=new class extends Q{#s=!0;#r;#i;constructor(){super(),this.#i=e=>{if(!J&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#r||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(e){this.#i=e,this.#r?.(),this.#r=e(this.setOnline.bind(this))}setOnline(e){this.#s!==e&&(this.#s=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#s}};function xe(e){return Math.min(1e3*2**e,3e4)}function ke(e){return"online"!==(e??"online")||ve.isOnline()}var Se=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Ee(e){let t,n=!1,r=0;const i=function(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}(),s=()=>"pending"!==i.status,o=()=>ye.isFocused()&&("always"===e.networkMode||ve.isOnline())&&e.canRun(),a=()=>ke(e.networkMode)&&e.canRun(),l=e=>{s()||(t?.(),i.resolve(e))},c=e=>{s()||(t?.(),i.reject(e))},u=()=>new Promise(n=>{t=e=>{(s()||o())&&n(e)},e.onPause?.()}).then(()=>{t=void 0,s()||e.onContinue?.()}),d=()=>{if(s())return;let t;const i=0===r?e.initialPromise:void 0;try{t=i??e.fn()}catch(a){t=Promise.reject(a)}Promise.resolve(t).then(l).catch(t=>{if(s())return;const i=e.retry??(J?0:3),a=e.retryDelay??xe,l="function"==typeof a?a(r,t):a,h=!0===i||"number"==typeof i&&r<i||"function"==typeof i&&i(r,t);var f;!n&&h?(r++,e.onFail?.(r,t),(f=l,new Promise(e=>{Z.setTimeout(e,f)})).then(()=>o()?void 0:u()).then(()=>{n?c(t):d()})):c(t)})};return{promise:i,status:()=>i.status,cancel:t=>{if(!s()){const n=new Se(t);c(n),e.onCancel?.(n)}},continue:()=>(t?.(),i),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:a,start:()=>(a()?d():u().then(d),i)}}var _e=class{#o;destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.gcTime)&&e>=0&&e!==1/0&&(this.#o=Z.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(J?1/0:3e5))}clearGcTimeout(){this.#o&&(Z.clearTimeout(this.#o),this.#o=void 0)}},Ne=class extends _e{#a;#l;#c;#u;#d;#h;#f;constructor(e){super(),this.#f=!1,this.#h=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#u=e.client,this.#c=this.#u.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#a=Ae(this.options),this.state=e.state??this.#a,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#d?.promise}setOptions(e){if(this.options={...this.#h,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=Ae(this.options);void 0!==e.data&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#a=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#c.remove(this)}setData(e,t){const n=he(this.state.data,e,this.options);return this.#p({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#p({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#d?.promise;return this.#d?.cancel(e),t?t.then(ee).catch(ee):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#a)}isActive(){return this.observers.some(e=>{return!1!==(t=e.options.enabled,n=this,"function"==typeof t?t(n):t);var t,n})}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===me||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===te(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e))}onFocus(){const e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#d?.continue()}onOnline(){const e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#d?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#c.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#d&&(this.#f?this.#d.cancel({revert:!0}):this.#d.cancelRetry()),this.scheduleGc()),this.#c.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#p({type:"invalidate"})}async fetch(e,t){if("idle"!==this.state.fetchStatus&&"rejected"!==this.#d?.status())if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#d)return this.#d.continueRetry(),this.#d.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const n=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#f=!0,n.signal)})},i=()=>{const e=ge(this.options,t),n=(()=>{const e={client:this.#u,queryKey:this.queryKey,meta:this.meta};return r(e),e})();return this.#f=!1,this.options.persister?this.options.persister(e,n,this):e(n)},s=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#u,state:this.state,fetchFn:i};return r(e),e})();this.options.behavior?.onFetch(s,this),this.#l=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===s.fetchOptions?.meta||this.#p({type:"fetch",meta:s.fetchOptions?.meta}),this.#d=Ee({initialPromise:t?.initialPromise,fn:s.fetchFn,onCancel:e=>{e instanceof Se&&e.revert&&this.setState({...this.#l,fetchStatus:"idle"}),n.abort()},onFail:(e,t)=>{this.#p({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#p({type:"pause"})},onContinue:()=>{this.#p({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0});try{const e=await this.#d.start();if(void 0===e)throw new Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#c.config.onSuccess?.(e,this),this.#c.config.onSettled?.(e,this.state.error,this),e}catch(o){if(o instanceof Se){if(o.silent)return this.#d.promise;if(o.revert){if(void 0===this.state.data)throw o;return this.state.data}}throw this.#p({type:"error",error:o}),this.#c.config.onError?.(o,this),this.#c.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#p(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...(n=t.data,r=this.options,{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ke(r.networkMode)?"fetching":"paused",...void 0===n&&{error:null,status:"pending"}}),fetchMeta:e.meta??null};case"success":const i={...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#l=e.manual?i:void 0,i;case"error":const s=e.error;return{...t,error:s,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}var n,r})(this.state),we.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#c.notify({query:this,type:"updated",action:e})})}};function Ae(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Te(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let n=!1;const c=ge(t.options,t.fetchOptions),u=async(e,r,i)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const s=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:r,direction:i?"backward":"forward",meta:t.options.meta};var s;return s=e,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",()=>{n=!0}),t.signal)}),e})(),o=await c(s),{maxPages:a}=t.options,l=i?pe:fe;return{pages:l(e.pages,o,a),pageParams:l(e.pageParams,r,a)}};if(i&&s.length){const e="backward"===i,t={pages:s,pageParams:o},n=(e?je:Ce)(r,t);a=await u(t,n,e)}else{const t=e??s.length;do{const e=0===l?o[0]??r.initialPageParam:Ce(r,a);if(l>0&&null==e)break;a=await u(a,e),l++}while(l<t)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function Ce(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function je(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Ie=class extends _e{#u;#m;#g;#d;constructor(e){super(),this.#u=e.client,this.mutationId=e.mutationId,this.#g=e.mutationCache,this.#m=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#m.includes(e)||(this.#m.push(e),this.clearGcTimeout(),this.#g.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#m=this.#m.filter(t=>t!==e),this.scheduleGc(),this.#g.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#m.length||("pending"===this.state.status?this.scheduleGc():this.#g.remove(this))}continue(){return this.#d?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#p({type:"continue"})},n={client:this.#u,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#d=Ee({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#p({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#p({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#g.canRun(this)});const r="pending"===this.state.status,i=!this.#d.canStart();try{if(r)t();else{this.#p({type:"pending",variables:e,isPaused:i}),await(this.#g.config.onMutate?.(e,this,n));const t=await(this.options.onMutate?.(e,n));t!==this.state.context&&this.#p({type:"pending",context:t,variables:e,isPaused:i})}const s=await this.#d.start();return await(this.#g.config.onSuccess?.(s,e,this.state.context,this,n)),await(this.options.onSuccess?.(s,e,this.state.context,n)),await(this.#g.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n)),await(this.options.onSettled?.(s,null,e,this.state.context,n)),this.#p({type:"success",data:s}),s}catch(s){try{throw await(this.#g.config.onError?.(s,e,this.state.context,this,n)),await(this.options.onError?.(s,e,this.state.context,n)),await(this.#g.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n)),await(this.options.onSettled?.(void 0,s,e,this.state.context,n)),s}finally{this.#p({type:"error",error:s})}}finally{this.#g.runNext(this)}}#p(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),we.batch(()=>{this.#m.forEach(t=>{t.onMutationUpdate(e)}),this.#g.notify({mutation:this,type:"updated",action:e})})}};var Re=class extends Q{constructor(e={}){super(),this.config=e,this.#y=new Set,this.#b=new Map,this.#w=0}#y;#b;#w;build(e,t,n){const r=new Ie({client:e,mutationCache:this,mutationId:++this.#w,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#y.add(e);const t=Oe(e);if("string"==typeof t){const n=this.#b.get(t);n?n.push(e):this.#b.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#y.delete(e)){const t=Oe(e);if("string"==typeof t){const n=this.#b.get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&this.#b.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Oe(e);if("string"==typeof t){const n=this.#b.get(t),r=n?.find(e=>"pending"===e.state.status);return!r||r===e}return!0}runNext(e){const t=Oe(e);if("string"==typeof t){const n=this.#b.get(t)?.find(t=>t!==e&&t.state.isPaused);return n?.continue()??Promise.resolve()}return Promise.resolve()}clear(){we.batch(()=>{this.#y.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#y.clear(),this.#b.clear()})}getAll(){return Array.from(this.#y)}find(e){const t={exact:!0,...e};return this.getAll().find(e=>re(t,e))}findAll(e={}){return this.getAll().filter(t=>re(e,t))}notify(e){we.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return we.batch(()=>Promise.all(e.map(e=>e.continue().catch(ee))))}};function Oe(e){return e.options.scope?.id}var Pe=class extends Q{constructor(e={}){super(),this.config=e,this.#v=new Map}#v;build(e,t,n){const r=t.queryKey,i=t.queryHash??ie(r,t);let s=this.get(i);return s||(s=new Ne({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#v.has(e.queryHash)||(this.#v.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#v.get(e.queryHash);t&&(e.destroy(),t===e&&this.#v.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){we.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#v.get(e)}getAll(){return[...this.#v.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>ne(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>ne(e,t)):t}notify(e){we.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){we.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){we.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Me=v.createContext(void 0),De=({client:t,children:n})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(Me.Provider,{value:t,children:n}));const Le=new class{#x;#g;#h;#k;#S;#E;#_;#N;constructor(e={}){this.#x=e.queryCache||new Pe,this.#g=e.mutationCache||new Re,this.#h=e.defaultOptions||{},this.#k=new Map,this.#S=new Map,this.#E=0}mount(){this.#E++,1===this.#E&&(this.#_=ye.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#x.onFocus())}),this.#N=ve.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#x.onOnline())}))}unmount(){this.#E--,0===this.#E&&(this.#_?.(),this.#_=void 0,this.#N?.(),this.#N=void 0)}isFetching(e){return this.#x.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#g.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#x.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#x.build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(te(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#x.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#x.get(r.queryHash),s=i?.state.data,o=function(e,t){return"function"==typeof e?e(t):e}(t,s);if(void 0!==o)return this.#x.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return we.batch(()=>this.#x.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#x.get(t.queryHash)?.state}removeQueries(e){const t=this.#x;we.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const n=this.#x;return we.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=we.batch(()=>this.#x.findAll(e).map(e=>e.cancel(n)));return Promise.all(r).then(ee).catch(ee)}invalidateQueries(e,t={}){return we.batch(()=>(this.#x.findAll(e).forEach(e=>{e.invalidate()}),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=we.batch(()=>this.#x.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(ee)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(r).then(ee)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#x.build(this,t);return n.isStaleByTime(te(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ee).catch(ee)}fetchInfiniteQuery(e){return e.behavior=Te(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ee).catch(ee)}ensureInfiniteQueryData(e){return e.behavior=Te(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ve.isOnline()?this.#g.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#x}getMutationCache(){return this.#g}getDefaultOptions(){return this.#h}setDefaultOptions(e){this.#h=e}setQueryDefaults(e,t){this.#k.set(se(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#k.values()],n={};return t.forEach(t=>{oe(e,t.queryKey)&&Object.assign(n,t.defaultOptions)}),n}setMutationDefaults(e,t){this.#S.set(se(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#S.values()],n={};return t.forEach(t=>{oe(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#h.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ie(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===me&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#h.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#x.clear(),this.#g.clear()}}({defaultOptions:{queries:{queryFn:(({on401:e})=>async({queryKey:e})=>{const t=await fetch(e[0],{credentials:"include"});return await async function(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}(t),await t.json()})({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});let Be=0;const Ue=new Map,Fe=e=>{if(Ue.has(e))return;const t=setTimeout(()=>{Ue.delete(e),Ge({type:"REMOVE_TOAST",toastId:e})},1e6);Ue.set(e,t)},ze=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Fe(n):e.toasts.forEach(e=>{Fe(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},Ve=[];let qe={toasts:[]};function Ge(e){qe=ze(qe,e),Ve.forEach(e=>{e(qe)})}function We({...e}){const t=(Be=(Be+1)%Number.MAX_SAFE_INTEGER,Be.toString()),n=()=>Ge({type:"DISMISS_TOAST",toastId:t});return Ge({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||n()}}}),{id:t,dismiss:n,update:e=>Ge({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function He(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=He(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ke(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=He(e))&&(r&&(r+=" "),r+=t);return r}const $e=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,Ye=Ke,Qe=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return Ye(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(e=>{const t=null==n?void 0:n[e],r=null==s?void 0:s[e];if(null===t)return null;const o=$e(t)||$e(r);return i[e][o]}),a=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...s,...a}[t]):{...s,...a}[t]===n})?[...e,n,r]:e},[]);return Ye(e,o,l,null==n?void 0:n.class,null==n?void 0:n.className)},Xe=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ze=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),Je=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};
/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var et={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>v.createElement("svg",{ref:l,...et,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:Ze("lucide",i),...!s&&!Je(a)&&{"aria-hidden":"true"},...a},[...o.map(([e,t])=>v.createElement(e,t)),...Array.isArray(s)?s:[s]])),nt=(e,t)=>{const n=v.forwardRef(({className:n,...r},i)=>{return v.createElement(tt,{ref:i,iconNode:t,className:Ze(`lucide-${s=Xe(e),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...r});var s});return n.displayName=Xe(e),n},rt=nt("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),it=nt("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),st=nt("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ot=nt("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),at=nt("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),lt=nt("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),ct=nt("gamepad-2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]),ut=nt("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),dt=nt("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),ht=nt("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ft=nt("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),pt=nt("mic-off",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),mt=nt("mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),gt=nt("music-2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]),yt=nt("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),bt=nt("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),wt=nt("trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),vt=nt("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),xt=nt("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),kt=nt("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),St=nt("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Et=e=>{const t=Tt(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),_t(n,t)||At(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}},_t=(e,t)=>{if(0===e.length)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?_t(e.slice(1),r):void 0;if(i)return i;if(0===t.validators.length)return;const s=e.join("-");return t.validators.find(({validator:e})=>e(s))?.classGroupId},Nt=/^\[(.+)\]$/,At=e=>{if(Nt.test(e)){const t=Nt.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Tt=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Rt(Object.entries(e.classGroups),n).forEach(([e,n])=>{Ct(n,r,e,t)}),r},Ct=(e,t,n,r)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:jt(t,e)).classGroupId=n)}if("function"==typeof e)return It(e)?void Ct(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(([e,i])=>{Ct(i,jt(t,e),n,r)})})},jt=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},It=e=>e.isThemeGetter,Rt=(e,t)=>t?e.map(([e,n])=>[e,n.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,n])=>[t+e,n])):e)]):e,Ot=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,s)=>{n.set(i,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},Pt=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,i=t[0],s=t.length,o=e=>{const n=[];let o,a=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===a){if(c===i&&(r||e.slice(d,d+s)===t)){n.push(e.slice(l,d)),l=d+s;continue}if("/"===c){o=d;continue}}"["===c?a++:"]"===c&&a--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:o&&o>l?o-l:void 0}};return n?e=>n({className:e,parseClassName:o}):o},Mt=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t},Dt=/\s+/;
/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function Lt(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Bt(e))&&(r&&(r+=" "),r+=t);return r}const Bt=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Bt(e[r]))&&(n&&(n+=" "),n+=t);return n};function Ut(e,...t){let n,r,i,s=function(a){const l=t.reduce((e,t)=>t(e),e());return n=(e=>({cache:Ot(e.cacheSize),parseClassName:Pt(e),...Et(e)}))(l),r=n.cache.get,i=n.cache.set,s=o,o(a)};function o(e){const t=r(e);if(t)return t;const s=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(Dt);let a="";for(let l=o.length-1;l>=0;l-=1){const e=o[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let h=Boolean(d),f=r(h?u.substring(0,d):u);if(!f){if(!h){a=e+(a.length>0?" "+a:a);continue}if(f=r(u),!f){a=e+(a.length>0?" "+a:a);continue}h=!1}const p=Mt(t).join(":"),m=c?p+"!":p,g=m+f;if(s.includes(g))continue;s.push(g);const y=i(f,h);for(let n=0;n<y.length;++n){const e=y[n];s.push(m+e)}a=e+(a.length>0?" "+a:a)}return a})(e,n);return i(e,s),s}return function(){return s(Lt.apply(null,arguments))}}const Ft=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},zt=/^\[(?:([a-z-]+):)?(.+)\]$/i,Vt=/^\d+\/\d+$/,qt=new Set(["px","full","screen"]),Gt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Wt=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ht=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Kt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$t=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yt=e=>Xt(e)||qt.has(e)||Vt.test(e),Qt=e=>dn(e,"length",hn),Xt=e=>Boolean(e)&&!Number.isNaN(Number(e)),Zt=e=>dn(e,"number",Xt),Jt=e=>Boolean(e)&&Number.isInteger(Number(e)),en=e=>e.endsWith("%")&&Xt(e.slice(0,-1)),tn=e=>zt.test(e),nn=e=>Gt.test(e),rn=new Set(["length","size","percentage"]),sn=e=>dn(e,rn,fn),on=e=>dn(e,"position",fn),an=new Set(["image","url"]),ln=e=>dn(e,an,mn),cn=e=>dn(e,"",pn),un=()=>!0,dn=(e,t,n)=>{const r=zt.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):n(r[2]))},hn=e=>Wt.test(e)&&!Ht.test(e),fn=()=>!1,pn=e=>Kt.test(e),mn=e=>$t.test(e),gn=Ut(()=>{const e=Ft("colors"),t=Ft("spacing"),n=Ft("blur"),r=Ft("brightness"),i=Ft("borderColor"),s=Ft("borderRadius"),o=Ft("borderSpacing"),a=Ft("borderWidth"),l=Ft("contrast"),c=Ft("grayscale"),u=Ft("hueRotate"),d=Ft("invert"),h=Ft("gap"),f=Ft("gradientColorStops"),p=Ft("gradientColorStopPositions"),m=Ft("inset"),g=Ft("margin"),y=Ft("opacity"),b=Ft("padding"),w=Ft("saturate"),v=Ft("scale"),x=Ft("sepia"),k=Ft("skew"),S=Ft("space"),E=Ft("translate"),_=()=>["auto",tn,t],N=()=>[tn,t],A=()=>["",Yt,Qt],T=()=>["auto",Xt,tn],C=()=>["","0",tn],j=()=>[Xt,tn];return{cacheSize:500,separator:":",theme:{colors:[un],spacing:[Yt,Qt],blur:["none","",nn,tn],brightness:j(),borderColor:[e],borderRadius:["none","","full",nn,tn],borderSpacing:N(),borderWidth:A(),contrast:j(),grayscale:C(),hueRotate:j(),invert:C(),gap:N(),gradientColorStops:[e],gradientColorStopPositions:[en,Qt],inset:_(),margin:_(),opacity:j(),padding:N(),saturate:j(),scale:j(),sepia:C(),skew:j(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",tn]}],container:["container"],columns:[{columns:[nn]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",tn]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jt,tn]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tn]}],grow:[{grow:C()}],shrink:[{shrink:C()}],order:[{order:["first","last","none",Jt,tn]}],"grid-cols":[{"grid-cols":[un]}],"col-start-end":[{col:["auto",{span:["full",Jt,tn]},tn]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[un]}],"row-start-end":[{row:["auto",{span:[Jt,tn]},tn]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tn]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tn,t]}],"min-w":[{"min-w":[tn,t,"min","max","fit"]}],"max-w":[{"max-w":[tn,t,"none","full","min","max","fit","prose",{screen:[nn]},nn]}],h:[{h:[tn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",nn,Qt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zt]}],"font-family":[{font:[un]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tn]}],"line-clamp":[{"line-clamp":["none",Xt,Zt]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yt,tn]}],"list-image":[{"list-image":["none",tn]}],"list-style-type":[{list:["none","disc","decimal",tn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yt,Qt]}],"underline-offset":[{"underline-offset":["auto",Yt,tn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",on]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sn]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ln]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Yt,tn]}],"outline-w":[{outline:[Yt,Qt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Yt,Qt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",nn,cn]}],"shadow-color":[{shadow:[un]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",nn,tn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[x]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[x]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tn]}],duration:[{duration:j()}],ease:[{ease:["linear","in","out","in-out",tn]}],delay:[{delay:j()}],animate:[{animate:["none","spin","ping","pulse","bounce",tn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[Jt,tn]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Yt,Qt,Zt]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function yn(...e){return gn(Ke(e))}const bn=a,wn=v.forwardRef(({className:n,...r},i)=>e.jsx(t,{ref:i,className:yn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...r}));wn.displayName=t.displayName;const vn=Qe("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-white text-black",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xn=v.forwardRef(({className:t,variant:r,...i},s)=>e.jsx(n,{ref:s,className:yn(vn({variant:r}),t),...i}));xn.displayName=n.displayName;v.forwardRef(({className:t,...n},i)=>e.jsx(r,{ref:i,className:yn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...n})).displayName=r.displayName;const kn=v.forwardRef(({className:t,...n},r)=>e.jsx(i,{ref:r,className:yn("absolute right-2 top-2 rounded-md p-1 text-black/50 opacity-0 transition-opacity hover:text-black focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...n,children:e.jsx(kt,{className:"h-4 w-4"})}));kn.displayName=i.displayName;const Sn=v.forwardRef(({className:t,...n},r)=>e.jsx(s,{ref:r,className:yn("text-sm font-semibold",t),...n}));Sn.displayName=s.displayName;const En=v.forwardRef(({className:t,...n},r)=>e.jsx(o,{ref:r,className:yn("text-sm opacity-90",t),...n}));function _n(){const{toasts:t}=function(){const[e,t]=v.useState(qe);return v.useEffect(()=>(Ve.push(t),()=>{const e=Ve.indexOf(t);e>-1&&Ve.splice(e,1)}),[e]),{...e,toast:We,dismiss:e=>Ge({type:"DISMISS_TOAST",toastId:e})}}();return e.jsxs(bn,{children:[t.map(function({id:t,title:n,description:r,action:i,...s}){return e.jsxs(xn,{...s,children:[e.jsxs("div",{className:"grid gap-1",children:[n&&e.jsx(Sn,{children:n}),r&&e.jsx(En,{children:r})]}),i,e.jsx(kn,{})]},t)}),e.jsx(wn,{})]})}En.displayName=o.displayName;const Nn="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function An(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Tn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Cn(e,...t){if(!An(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function jn(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");Tn(e.outputLen),Tn(e.blockLen)}function In(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Rn(e,t){Cn(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function On(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Pn(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Mn(e,t){return e<<32-t|e>>>t}function Dn(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const Ln=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])()?e=>e:function(e){for(let t=0;t<e.length;t++)e[t]=Dn(e[t]);return e},Bn=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),Un=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Fn(e){if(Cn(e),Bn)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=Un[e[n]];return t}const zn=48,Vn=57,qn=65,Gn=70,Wn=97,Hn=102;function Kn(e){return e>=zn&&e<=Vn?e-zn:e>=qn&&e<=Gn?e-(qn-10):e>=Wn&&e<=Hn?e-(Wn-10):void 0}function $n(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(Bn)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const t=Kn(e.charCodeAt(s)),n=Kn(e.charCodeAt(s+1));if(void 0===t||void 0===n){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}r[i]=16*t+n}return r}function Yn(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e)),Cn(e),e}function Qn(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];Cn(n),t+=n.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const t=e[r];n.set(t,i),i+=t.length}return n}class Xn{}function Zn(e){const t=t=>e().update(Yn(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Jn(e=32){if(Nn&&"function"==typeof Nn.getRandomValues)return Nn.getRandomValues(new Uint8Array(e));if(Nn&&"function"==typeof Nn.randomBytes)return Uint8Array.from(Nn.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function er(e,t,n){return e&t^~e&n}function tr(e,t,n){return e&t^e&n^t&n}class nr extends Xn{constructor(e,t,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(e),this.view=Pn(this.buffer)}update(e){In(this),Cn(e=Yn(e));const{view:t,buffer:n,blockLen:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){const t=Pn(e);for(;r<=i-s;s+=r)this.process(t,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){In(this),Rn(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;t[s++]=128,On(this.buffer.subarray(s)),this.padOffset>r-s&&(this.process(n,0),s=0);for(let u=s;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;e.setUint32(t+l,o,r),e.setUint32(t+c,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=Pn(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)o.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return e.destroyed=s,e.finished=i,e.length=r,e.pos=o,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const rr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ir=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),sr=BigInt(2**32-1),or=BigInt(32);function ar(e,t=!1){return t?{h:Number(e&sr),l:Number(e>>or&sr)}:{h:0|Number(e>>or&sr),l:0|Number(e&sr)}}function lr(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:n,l:o}=ar(e[s],t);[r[s],i[s]]=[n,o]}return[r,i]}const cr=(e,t,n)=>e>>>n,ur=(e,t,n)=>e<<32-n|t>>>n,dr=(e,t,n)=>e>>>n|t<<32-n,hr=(e,t,n)=>e<<32-n|t>>>n,fr=(e,t,n)=>e<<64-n|t>>>n-32,pr=(e,t,n)=>e>>>n-32|t<<64-n;function mr(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}const gr=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),yr=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,br=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),wr=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,vr=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),xr=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,kr=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Sr=new Uint32Array(64);class Er extends nr{constructor(e=32){super(64,e,8,!1),this.A=0|rr[0],this.B=0|rr[1],this.C=0|rr[2],this.D=0|rr[3],this.E=0|rr[4],this.F=0|rr[5],this.G=0|rr[6],this.H=0|rr[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:s,G:o,H:a}=this;return[e,t,n,r,i,s,o,a]}set(e,t,n,r,i,s,o,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(e,t){for(let u=0;u<16;u++,t+=4)Sr[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=Sr[u-15],t=Sr[u-2],n=Mn(e,7)^Mn(e,18)^e>>>3,r=Mn(t,17)^Mn(t,19)^t>>>10;Sr[u]=r+Sr[u-7]+n+Sr[u-16]|0}let{A:n,B:r,C:i,D:s,E:o,F:a,G:l,H:c}=this;for(let u=0;u<64;u++){const e=c+(Mn(o,6)^Mn(o,11)^Mn(o,25))+er(o,a,l)+kr[u]+Sr[u]|0,t=(Mn(n,2)^Mn(n,13)^Mn(n,22))+tr(n,r,i)|0;c=l,l=a,a=o,o=s+e|0,s=i,i=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,i,s,o,a,l,c)}roundClean(){On(Sr)}destroy(){this.set(0,0,0,0,0,0,0,0),On(this.buffer)}}const _r=(()=>lr(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),Nr=(()=>_r[0])(),Ar=(()=>_r[1])(),Tr=new Uint32Array(80),Cr=new Uint32Array(80);class jr extends nr{constructor(e=64){super(128,e,16,!1),this.Ah=0|ir[0],this.Al=0|ir[1],this.Bh=0|ir[2],this.Bl=0|ir[3],this.Ch=0|ir[4],this.Cl=0|ir[5],this.Dh=0|ir[6],this.Dl=0|ir[7],this.Eh=0|ir[8],this.El=0|ir[9],this.Fh=0|ir[10],this.Fl=0|ir[11],this.Gh=0|ir[12],this.Gl=0|ir[13],this.Hh=0|ir[14],this.Hl=0|ir[15]}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:s,Dh:o,Dl:a,Eh:l,El:c,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:m}=this;return[e,t,n,r,i,s,o,a,l,c,u,d,h,f,p,m]}set(e,t,n,r,i,s,o,a,l,c,u,d,h,f,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let b=0;b<16;b++,t+=4)Tr[b]=e.getUint32(t),Cr[b]=e.getUint32(t+=4);for(let b=16;b<80;b++){const e=0|Tr[b-15],t=0|Cr[b-15],n=dr(e,t,1)^dr(e,t,8)^cr(e,0,7),r=hr(e,t,1)^hr(e,t,8)^ur(e,t,7),i=0|Tr[b-2],s=0|Cr[b-2],o=dr(i,s,19)^fr(i,s,61)^cr(i,0,6),a=hr(i,s,19)^pr(i,s,61)^ur(i,s,6),l=br(r,a,Cr[b-7],Cr[b-16]),c=wr(l,n,o,Tr[b-7],Tr[b-16]);Tr[b]=0|c,Cr[b]=0|l}let{Ah:n,Al:r,Bh:i,Bl:s,Ch:o,Cl:a,Dh:l,Dl:c,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;for(let b=0;b<80;b++){const e=dr(u,d,14)^dr(u,d,18)^fr(u,d,41),t=hr(u,d,14)^hr(u,d,18)^pr(u,d,41),w=u&h^~u&p,v=vr(y,t,d&f^~d&m,Ar[b],Cr[b]),x=xr(v,g,e,w,Nr[b],Tr[b]),k=0|v,S=dr(n,r,28)^fr(n,r,34)^fr(n,r,39),E=hr(n,r,28)^pr(n,r,34)^pr(n,r,39),_=n&i^n&o^i&o,N=r&s^r&a^s&a;g=0|p,y=0|m,p=0|h,m=0|f,h=0|u,f=0|d,({h:u,l:d}=mr(0|l,0|c,0|x,0|k)),l=0|o,c=0|a,o=0|i,a=0|s,i=0|n,s=0|r;const A=gr(k,E,N);n=yr(A,x,S,_),r=0|A}({h:n,l:r}=mr(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:s}=mr(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=mr(0|this.Ch,0|this.Cl,0|o,0|a)),({h:l,l:c}=mr(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:d}=mr(0|this.Eh,0|this.El,0|u,0|d)),({h:h,l:f}=mr(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:m}=mr(0|this.Gh,0|this.Gl,0|p,0|m)),({h:g,l:y}=mr(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(n,r,i,s,o,a,l,c,u,d,h,f,p,m,g,y)}roundClean(){On(Tr,Cr)}destroy(){On(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Ir=Zn(()=>new Er),Rr=Zn(()=>new jr),Or=BigInt(0),Pr=BigInt(1);function Mr(e,t=""){if("boolean"!=typeof e){throw new Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e)}return e}function Dr(e,t,n=""){const r=An(e),i=e?.length,s=void 0!==t;if(!r||s&&i!==t){throw new Error((n&&`"${n}" `)+"expected Uint8Array"+(s?` of length ${t}`:"")+", got "+(r?`length=${i}`:"type="+typeof e))}return e}function Lr(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function Br(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Or:BigInt("0x"+e)}function Ur(e){return Br(Fn(e))}function Fr(e){return Cn(e),Br(Fn(Uint8Array.from(e).reverse()))}function zr(e,t){return $n(e.toString(16).padStart(2*t,"0"))}function Vr(e,t){return zr(e,t).reverse()}function qr(e,t,n){let r;if("string"==typeof t)try{r=$n(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else{if(!An(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function Gr(e){return Uint8Array.from(e)}const Wr=e=>"bigint"==typeof e&&Or<=e;function Hr(e,t,n,r){if(!function(e,t,n){return Wr(e)&&Wr(t)&&Wr(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Kr(e){let t;for(t=0;e>Or;e>>=Pr,t+=1);return t}const $r=e=>(Pr<<BigInt(e))-Pr;function Yr(e,t,n={}){if(!e||"object"!=typeof e)throw new Error("expected valid options object");function r(t,n,r){const i=e[t];if(r&&void 0===i)return;const s=typeof i;if(s!==n||null===i)throw new Error(`param "${t}" is invalid: expected ${n}, got ${s}`)}Object.entries(t).forEach(([e,t])=>r(e,t,!1)),Object.entries(n).forEach(([e,t])=>r(e,t,!0))}function Qr(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(void 0!==i)return i;const s=e(n,...r);return t.set(n,s),s}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xr=BigInt(0),Zr=BigInt(1),Jr=BigInt(2),ei=BigInt(3),ti=BigInt(4),ni=BigInt(5),ri=BigInt(7),ii=BigInt(8),si=BigInt(9),oi=BigInt(16);function ai(e,t){const n=e%t;return n>=Xr?n:t+n}function li(e,t,n){let r=e;for(;t-- >Xr;)r*=r,r%=n;return r}function ci(e,t){if(e===Xr)throw new Error("invert: expected non-zero number");if(t<=Xr)throw new Error("invert: expected positive modulus, got "+t);let n=ai(e,t),r=t,i=Xr,s=Zr;for(;n!==Xr;){const e=r%n,t=i-s*(r/n);r=n,n=e,i=s,s=t}if(r!==Zr)throw new Error("invert: does not exist");return ai(i,t)}function ui(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function di(e,t){const n=(e.ORDER+Zr)/ti,r=e.pow(t,n);return ui(e,r,t),r}function hi(e,t){const n=(e.ORDER-ni)/ii,r=e.mul(t,Jr),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,Jr),i),a=e.mul(s,e.sub(o,e.ONE));return ui(e,a,t),a}function fi(e){if(e<ei)throw new Error("sqrt is not defined for small field");let t=e-Zr,n=0;for(;t%Jr===Xr;)t/=Jr,n++;let r=Jr;const i=wi(e);for(;1===yi(i,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return di;let s=i.pow(r,t);const o=(t+Zr)/Jr;return function(e,r){if(e.is0(r))return r;if(1!==yi(e,r))throw new Error("Cannot find square root");let i=n,a=e.mul(e.ONE,s),l=e.pow(r,t),c=e.pow(r,o);for(;!e.eql(l,e.ONE);){if(e.is0(l))return e.ZERO;let t=1,n=e.sqr(l);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===i)throw new Error("Cannot find square root");const r=Zr<<BigInt(i-t-1),s=e.pow(a,r);i=t,a=e.sqr(s),l=e.mul(l,a),c=e.mul(c,s)}return c}}function pi(e){return e%ti===ei?di:e%ii===ni?hi:e%oi===si?function(e){const t=wi(e),n=fi(e),r=n(t,t.neg(t.ONE)),i=n(t,r),s=n(t,t.neg(r)),o=(e+ri)/oi;return(e,t)=>{let n=e.pow(t,o),a=e.mul(n,r);const l=e.mul(n,i),c=e.mul(n,s),u=e.eql(e.sqr(a),t),d=e.eql(e.sqr(l),t);n=e.cmov(n,a,u),a=e.cmov(c,l,d);const h=e.eql(e.sqr(a),t),f=e.cmov(n,a,h);return ui(e,f,t),f}}(e):fi(e)}const mi=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function gi(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),s=e.inv(i);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),s),r}function yi(e,t){const n=(e.ORDER-Zr)/Jr,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function bi(e,t){void 0!==t&&Tn(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function wi(e,t,n=!1,r={}){if(e<=Xr)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,s,o,a=!1;if("object"==typeof t&&null!=t){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const e=t;e.BITS&&(i=e.BITS),e.sqrt&&(s=e.sqrt),"boolean"==typeof e.isLE&&(n=e.isLE),"boolean"==typeof e.modFromBytes&&(a=e.modFromBytes),o=e.allowedLengths}else"number"==typeof t&&(i=t),r.sqrt&&(s=r.sqrt);const{nBitLength:l,nByteLength:c}=bi(e,i);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const d=Object.freeze({ORDER:e,isLE:n,BITS:l,BYTES:c,MASK:$r(l),ZERO:Xr,ONE:Zr,allowedLengths:o,create:t=>ai(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return Xr<=t&&t<e},is0:e=>e===Xr,isValidNot0:e=>!d.is0(e)&&d.isValid(e),isOdd:e=>(e&Zr)===Zr,neg:t=>ai(-t,e),eql:(e,t)=>e===t,sqr:t=>ai(t*t,e),add:(t,n)=>ai(t+n,e),sub:(t,n)=>ai(t-n,e),mul:(t,n)=>ai(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Xr)throw new Error("invalid exponent, negatives unsupported");if(n===Xr)return e.ONE;if(n===Zr)return t;let r=e.ONE,i=t;for(;n>Xr;)n&Zr&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Zr;return r}(d,e,t),div:(t,n)=>ai(t*ci(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ci(t,e),sqrt:s||(t=>(u||(u=pi(e)),u(d,t))),toBytes:e=>n?Vr(e,c):zr(e,c),fromBytes:(t,r=!0)=>{if(o){if(!o.includes(t.length)||t.length>c)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+t.length);const e=new Uint8Array(c);e.set(t,n?0:e.length-t.length),t=e}if(t.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+t.length);let i=n?Fr(t):Ur(t);if(a&&(i=ai(i,e)),!r&&!d.isValid(i))throw new Error("invalid field element: outside of range 0..ORDER");return i},invertBatch:e=>gi(d,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(d)}function vi(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function xi(e){const t=vi(e);return t+Math.ceil(t/2)}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const ki=BigInt(0),Si=BigInt(1);function Ei(e,t){const n=t.negate();return e?n:t}function _i(e,t){const n=gi(e.Fp,t.map(e=>e.Z));return t.map((t,r)=>e.fromAffine(t.toAffine(n[r])))}function Ni(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Ai(e,t){Ni(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:$r(e),maxNumber:n,shiftBy:BigInt(e)}}function Ti(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),l=e>>o;a>r&&(a-=s,l+=Si);const c=t*r;return{nextN:l,offset:c+Math.abs(a)-1,isZero:0===a,isNeg:a<0,isNegF:t%2!=0,offsetF:c}}const Ci=new WeakMap,ji=new WeakMap;function Ii(e){return ji.get(e)||1}function Ri(e){if(e!==ki)throw new Error("invalid wNAF")}class Oi{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,n=this.ZERO){let r=e;for(;t>ki;)t&Si&&(n=n.add(r)),r=r.double(),t>>=Si;return n}precomputeWindow(e,t){const{windows:n,windowSize:r}=Ai(t,this.bits),i=[];let s=e,o=s;for(let a=0;a<n;a++){o=s,i.push(o);for(let e=1;e<r;e++)o=o.add(s),i.push(o);s=o.double()}return i}wNAF(e,t,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let r=this.ZERO,i=this.BASE;const s=Ai(e,this.bits);for(let o=0;o<s.windows;o++){const{nextN:e,offset:a,isZero:l,isNeg:c,isNegF:u,offsetF:d}=Ti(n,o,s);n=e,l?i=i.add(Ei(u,t[d])):r=r.add(Ei(c,t[a]))}return Ri(n),{p:r,f:i}}wNAFUnsafe(e,t,n,r=this.ZERO){const i=Ai(e,this.bits);for(let s=0;s<i.windows&&n!==ki;s++){const{nextN:e,offset:o,isZero:a,isNeg:l}=Ti(n,s,i);if(n=e,!a){const e=t[o];r=r.add(l?e.negate():e)}}return Ri(n),r}getPrecomputes(e,t,n){let r=Ci.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&("function"==typeof n&&(r=n(r)),Ci.set(t,r))),r}cached(e,t,n){const r=Ii(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)}unsafe(e,t,n,r){const i=Ii(e);return 1===i?this._unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)}createCache(e,t){Ni(t,this.bits),ji.set(e,t),Ci.delete(e)}hasCache(e){return 1!==Ii(e)}}function Pi(e,t,n,r){!function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=Kr(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=$r(l),u=new Array(Number(c)+1).fill(o);let d=o;for(let h=Math.floor((t.BITS-1)/l)*l;h>=0;h-=l){u.fill(o);for(let t=0;t<s;t++){const e=r[t],i=Number(e>>BigInt(h)&c);u[i]=u[i].add(n[t])}let e=o;for(let t=u.length-1,n=o;t>0;t--)n=n.add(u[t]),e=e.add(n);if(d=d.add(e),0!==h)for(let t=0;t<l;t++)d=d.double()}return d}function Mi(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(e){Yr(e,mi.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(t),t}return wi(e,{isLE:n})}function Di(e,t,n={},r){if(void 0===r&&(r="edwards"===e),!t||"object"!=typeof t)throw new Error(`expected valid ${e} CURVE object`);for(const a of["p","n","h"]){const e=t[a];if(!("bigint"==typeof e&&e>ki))throw new Error(`CURVE.${a} must be positive bigint`)}const i=Mi(t.p,n.Fp,r),s=Mi(t.n,n.Fn,r),o=["Gx","Gy","a","weierstrass"===e?"b":"d"];for(const a of o)if(!i.isValid(t[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:i,Fn:s}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Li=BigInt(0),Bi=BigInt(1),Ui=BigInt(2),Fi=BigInt(8);function zi(e,t,n={}){if("function"!=typeof t)throw new Error('"hash" function param is required');Yr(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:s,Fn:o}=e,a=n.randomBytes||Jn,l=n.adjustScalarBytes||(e=>e),c=n.domain||((e,t,n)=>{if(Mr(n,"phflag"),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function u(e){return o.create(Fr(e))}function d(e){const{head:n,prefix:r,scalar:s}=function(e){const n=g.secretKey;e=qr("private key",e,n);const r=qr("hashed private key",t(e),2*n),i=l(r.slice(0,n));return{head:i,prefix:r.slice(n,2*n),scalar:u(i)}}(e),o=i.multiply(s),a=o.toBytes();return{head:n,prefix:r,scalar:s,point:o,pointBytes:a}}function h(e){return d(e).pointBytes}function f(e=Uint8Array.of(),...n){const i=Qn(...n);return u(t(c(i,qr("context",e),!!r)))}const p={zip215:!0};const m=s.BYTES,g={secretKey:m,publicKey:m,signature:2*m,seed:m};function y(e=a(g.seed)){return Dr(e,g.seed,"seed")}const b={getExtendedPublicKey:d,randomSecretKey:y,isValidSecretKey:function(e){return An(e)&&e.length===o.BYTES},isValidPublicKey:function(t,n){try{return!!e.fromBytes(t,n)}catch(r){return!1}},toMontgomery(t){const{y:n}=e.fromBytes(t),r=g.publicKey,i=32===r;if(!i&&57!==r)throw new Error("only defined for 25519 and 448");const o=i?s.div(Bi+n,Bi-n):s.div(n-Bi,n+Bi);return s.toBytes(o)},toMontgomerySecret(e){const n=g.secretKey;Dr(e,n);const r=t(e.subarray(0,n));return l(r).subarray(0,n)},randomPrivateKey:y,precompute:(t=8,n=e.BASE)=>n.precompute(t,!1)};return Object.freeze({keygen:function(e){const t=b.randomSecretKey(e);return{secretKey:t,publicKey:h(t)}},getPublicKey:h,sign:function(e,t,n={}){e=qr("message",e),r&&(e=r(e));const{prefix:s,scalar:a,pointBytes:l}=d(t),c=f(n.context,s,e),u=i.multiply(c).toBytes(),h=f(n.context,u,l,e),p=o.create(c+h*a);if(!o.isValid(p))throw new Error("sign failed: invalid s");return Dr(Qn(u,o.toBytes(p)),g.signature,"result")},verify:function(t,n,s,o=p){const{context:a,zip215:l}=o,c=g.signature;t=qr("signature",t,c),n=qr("message",n),s=qr("publicKey",s,g.publicKey),void 0!==l&&Mr(l,"zip215"),r&&(n=r(n));const u=c/2,d=t.subarray(0,u),h=Fr(t.subarray(u,c));let m,y,b;try{m=e.fromBytes(s,l),y=e.fromBytes(d,l),b=i.multiplyUnsafe(h)}catch(v){return!1}if(!l&&m.isSmallOrder())return!1;const w=f(a,y.toBytes(),m.toBytes(),n);return y.add(m.multiplyUnsafe(w)).subtract(b).clearCofactor().is0()},utils:b,Point:e,lengths:g})}function Vi(e){const{CURVE:t,curveOpts:n,hash:r,eddsaOpts:i}=function(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n={Fp:e.Fp,Fn:wi(t.n,e.nBitLength,!0),uvRatio:e.uvRatio},r={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:n,hash:e.hash,eddsaOpts:r}}(e),s=function(e,t={}){const n=Di("edwards",e,t,t.FpFnLE),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o}=s;Yr(t,{},{uvRatio:"function"});const a=Ui<<BigInt(8*i.BYTES)-Bi,l=e=>r.create(e),c=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(r.div(e,t))}}catch(n){return{isValid:!1,value:Li}}});if(!function(e,t,n,r){const i=e.sqr(n),s=e.sqr(r),o=e.add(e.mul(t.a,i),s),a=e.add(e.ONE,e.mul(t.d,e.mul(i,s)));return e.eql(o,a)}(r,s,s.Gx,s.Gy))throw new Error("bad curve params: generator point");function u(e,t,n=!1){return Hr("coordinate "+e,t,n?Bi:Li,a),t}function d(e){if(!(e instanceof p))throw new Error("ExtendedPoint expected")}const h=Qr((e,t)=>{const{X:n,Y:i,Z:s}=e,o=e.is0();null==t&&(t=o?Fi:r.inv(s));const a=l(n*t),c=l(i*t),u=r.mul(s,t);if(o)return{x:Li,y:Bi};if(u!==Bi)throw new Error("invZ was invalid");return{x:a,y:c}}),f=Qr(e=>{const{a:t,d:n}=s;if(e.is0())throw new Error("bad point: ZERO");const{X:r,Y:i,Z:o,T:a}=e,c=l(r*r),u=l(i*i),d=l(o*o),h=l(d*d),f=l(c*t);if(l(d*l(f+u))!==l(h+l(n*l(c*u))))throw new Error("bad point: equation left != right (1)");if(l(r*i)!==l(o*a))throw new Error("bad point: equation left != right (2)");return!0});class p{constructor(e,t,n,r){this.X=u("x",e),this.Y=u("y",t),this.Z=u("z",n,!0),this.T=u("t",r),Object.freeze(this)}static CURVE(){return s}static fromAffine(e){if(e instanceof p)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return u("x",t),u("y",n),new p(t,n,Bi,l(t*n))}static fromBytes(e,t=!1){const n=r.BYTES,{a:i,d:o}=s;e=Gr(Dr(e,n,"point")),Mr(t,"zip215");const u=Gr(e),d=e[n-1];u[n-1]=-129&d;const h=Fr(u),f=t?a:r.ORDER;Hr("point.y",h,Li,f);const m=l(h*h),g=l(m-Bi),y=l(o*m-i);let{isValid:b,value:w}=c(g,y);if(!b)throw new Error("bad point: invalid y coordinate");const v=(w&Bi)===Bi,x=!!(128&d);if(!t&&w===Li&&x)throw new Error("bad point: x=0 and x_0=1");return x!==v&&(w=l(-w)),p.fromAffine({x:w,y:h})}static fromHex(e,t=!1){return p.fromBytes(qr("point",e),t)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return m.createCache(this,e),t||this.multiply(Ui),this}assertValidity(){f(this)}equals(e){d(e);const{X:t,Y:n,Z:r}=this,{X:i,Y:s,Z:o}=e,a=l(t*o),c=l(i*r),u=l(n*o),h=l(s*r);return a===c&&u===h}is0(){return this.equals(p.ZERO)}negate(){return new p(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:e}=s,{X:t,Y:n,Z:r}=this,i=l(t*t),o=l(n*n),a=l(Ui*l(r*r)),c=l(e*i),u=t+n,d=l(l(u*u)-i-o),h=c+o,f=h-a,m=c-o,g=l(d*f),y=l(h*m),b=l(d*m),w=l(f*h);return new p(g,y,w,b)}add(e){d(e);const{a:t,d:n}=s,{X:r,Y:i,Z:o,T:a}=this,{X:c,Y:u,Z:h,T:f}=e,m=l(r*c),g=l(i*u),y=l(a*n*f),b=l(o*h),w=l((r+i)*(c+u)-m-g),v=b-y,x=b+y,k=l(g-t*m),S=l(w*v),E=l(x*k),_=l(w*k),N=l(v*x);return new p(S,E,N,_)}subtract(e){return this.add(e.negate())}multiply(e){if(!i.isValidNot0(e))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:t,f:n}=m.cached(this,e,e=>_i(p,e));return _i(p,[t,n])[0]}multiplyUnsafe(e,t=p.ZERO){if(!i.isValid(e))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return e===Li?p.ZERO:this.is0()||e===Bi?this:m.unsafe(this,e,e=>_i(p,e),t)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return m.unsafe(this,s.n).is0()}toAffine(e){return h(this,e)}clearCofactor(){return o===Bi?this:this.multiplyUnsafe(o)}toBytes(){const{x:e,y:t}=this.toAffine(),n=r.toBytes(t);return n[n.length-1]|=e&Bi?128:0,n}toHex(){return Fn(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(e){return _i(p,e)}static msm(e,t){return Pi(p,i,e,t)}_setWindowSize(e){this.precompute(e)}toRawBytes(){return this.toBytes()}}p.BASE=new p(s.Gx,s.Gy,Bi,l(s.Gx*s.Gy)),p.ZERO=new p(Li,Bi,Bi,Li),p.Fp=r,p.Fn=i;const m=new Oi(p,i.BITS);return p.BASE.precompute(8),p}(t,n);return function(e,t){const n=t.Point;return Object.assign({},t,{ExtendedPoint:n,CURVE:e,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}(e,zi(s,r,i))}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qi=BigInt(1),Gi=BigInt(2);BigInt(3);const Wi=BigInt(5),Hi=BigInt(8),Ki=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),$i=(()=>({p:Ki,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:Hi,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")}))();function Yi(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const Qi=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Xi(e,t){const n=Ki,r=ai(t*t*t,n),i=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Ki,o=e*e%s*e%s,a=li(o,Gi,s)*o%s,l=li(a,qi,s)*e%s,c=li(l,Wi,s)*l%s,u=li(c,t,s)*c%s,d=li(u,n,s)*u%s,h=li(d,r,s)*d%s,f=li(h,i,s)*h%s,p=li(f,i,s)*h%s,m=li(p,t,s)*c%s;return{pow_p_5_8:li(m,Gi,s)*e%s,b2:o}}(e*ai(r*r*t,n)).pow_p_5_8;let s=ai(e*r*i,n);const o=ai(t*s*s,n),a=s,l=ai(s*Qi,n),c=o===e,u=o===ai(-e,n),d=o===ai(-e*Qi,n);return c&&(s=a),(u||d)&&(s=l),(ai(s,n)&Zr)===Zr&&(s=ai(-s,n)),{isValid:c||u,value:s}}const Zi=(()=>wi($i.p,{isLE:!0}))(),Ji=(()=>({...$i,Fp:Zi,hash:Rr,adjustScalarBytes:Yi,uvRatio:Xi}))(),es=(()=>Vi(Ji))();var ts={exports:{}};const ns=x(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var rs,is=ts.exports;function ss(){return rs||(rs=1,function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function i(e,t,n){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var s;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:ns.Buffer}catch(N){}function o(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function a(e,t,n){var r=o(e,n);return n-1>=t&&(r|=o(e,n-1)<<4),r}function l(e,t,r,i){for(var s=0,o=0,a=Math.min(e.length,r),l=t;l<a;l++){var c=e.charCodeAt(l)-48;s*=i,o=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&o<i,"Invalid character"),s+=o}return s}function c(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},i.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},i.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},i.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,s=0,o=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=a(e,t,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)i=a(e,t,r)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},i.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var s=e.length-n,o=s%r,a=Math.min(s,s-o)+n,c=0,u=n;u<a;u+=r)c=l(e,u,u+r,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var d=1;for(c=l(e,u,e.length,t),u=0;u<o;u++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype._move=function(e){c(e,this)},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch(N){i.prototype.inspect=u}else i.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function p(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,l=o/67108864|0;n.words[0]=a;for(var c=1;c<r;c++){for(var u=l>>>26,d=67108863&l,h=Math.min(c,t.length-1),f=Math.max(0,c-e.length+1);f<=h;f++){var p=c-f|0;u+=(o=(i=0|e.words[p])*(s=0|t.words[f])+d)/67108864|0,d=67108863&o}n.words[c]=0|d,l=0|u}return 0!==l?n.words[c]=0|l:n.length--,n._strip()}i.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],l=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?d[6-l.length]+l+r:l+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],u=f[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modrn(u).toString(e);r=(p=p.idivn(u)).isZero()?m+r:d[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,s);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,i),o},i.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|r;e[n++]=255&o,n<e.length&&(e[n++]=o>>8&255),n<e.length&&(e[n++]=o>>16&255),6===s?(n<e.length&&(e[n++]=o>>24&255),r=0,s=0):(r=o>>>24,s+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},i.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|r;e[n--]=255&o,n>=0&&(e[n--]=o>>8&255),n>=0&&(e[n--]=o>>16&255),6===s?(n>=0&&(e[n--]=o>>24&255),r=0,s=0):(r=o>>>24,s+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 8191&t||(n+=13,t>>>=13),127&t||(n+=7,t>>>=7),15&t||(n+=4,t>>>=4),3&t||(n+=2,t>>>=2),1&t||n++,n},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},i.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},i.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},i.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},i.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,s=0;s<r.length;s++)t=(0|n.words[s])+(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<n.length;s++)t=(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var s=0,o=0;o<r.length;o++)s=(t=(0|n.words[o])-(0|r.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<n.length;o++)s=(t=(0|n.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<n.length&&n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this.length=Math.max(this.length,o),n!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var m=function(e,t,n){var r,i,s,o=e.words,a=t.words,l=n.words,c=0,u=0|o[0],d=8191&u,h=u>>>13,f=0|o[1],p=8191&f,m=f>>>13,g=0|o[2],y=8191&g,b=g>>>13,w=0|o[3],v=8191&w,x=w>>>13,k=0|o[4],S=8191&k,E=k>>>13,_=0|o[5],N=8191&_,A=_>>>13,T=0|o[6],C=8191&T,j=T>>>13,I=0|o[7],R=8191&I,O=I>>>13,P=0|o[8],M=8191&P,D=P>>>13,L=0|o[9],B=8191&L,U=L>>>13,F=0|a[0],z=8191&F,V=F>>>13,q=0|a[1],G=8191&q,W=q>>>13,H=0|a[2],K=8191&H,$=H>>>13,Y=0|a[3],Q=8191&Y,X=Y>>>13,Z=0|a[4],J=8191&Z,ee=Z>>>13,te=0|a[5],ne=8191&te,re=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],le=8191&ae,ce=ae>>>13,ue=0|a[8],de=8191&ue,he=ue>>>13,fe=0|a[9],pe=8191&fe,me=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(c+(r=Math.imul(d,z))|0)+((8191&(i=(i=Math.imul(d,V))+Math.imul(h,z)|0))<<13)|0;c=((s=Math.imul(h,V))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,z),i=(i=Math.imul(p,V))+Math.imul(m,z)|0,s=Math.imul(m,V);var ye=(c+(r=r+Math.imul(d,G)|0)|0)+((8191&(i=(i=i+Math.imul(d,W)|0)+Math.imul(h,G)|0))<<13)|0;c=((s=s+Math.imul(h,W)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,z),i=(i=Math.imul(y,V))+Math.imul(b,z)|0,s=Math.imul(b,V),r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(m,G)|0,s=s+Math.imul(m,W)|0;var be=(c+(r=r+Math.imul(d,K)|0)|0)+((8191&(i=(i=i+Math.imul(d,$)|0)+Math.imul(h,K)|0))<<13)|0;c=((s=s+Math.imul(h,$)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(v,z),i=(i=Math.imul(v,V))+Math.imul(x,z)|0,s=Math.imul(x,V),r=r+Math.imul(y,G)|0,i=(i=i+Math.imul(y,W)|0)+Math.imul(b,G)|0,s=s+Math.imul(b,W)|0,r=r+Math.imul(p,K)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,K)|0,s=s+Math.imul(m,$)|0;var we=(c+(r=r+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(h,Q)|0))<<13)|0;c=((s=s+Math.imul(h,X)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(S,z),i=(i=Math.imul(S,V))+Math.imul(E,z)|0,s=Math.imul(E,V),r=r+Math.imul(v,G)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,W)|0,r=r+Math.imul(y,K)|0,i=(i=i+Math.imul(y,$)|0)+Math.imul(b,K)|0,s=s+Math.imul(b,$)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,Q)|0,s=s+Math.imul(m,X)|0;var ve=(c+(r=r+Math.imul(d,J)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(h,J)|0))<<13)|0;c=((s=s+Math.imul(h,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(N,z),i=(i=Math.imul(N,V))+Math.imul(A,z)|0,s=Math.imul(A,V),r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,W)|0)+Math.imul(E,G)|0,s=s+Math.imul(E,W)|0,r=r+Math.imul(v,K)|0,i=(i=i+Math.imul(v,$)|0)+Math.imul(x,K)|0,s=s+Math.imul(x,$)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(b,Q)|0,s=s+Math.imul(b,X)|0,r=r+Math.imul(p,J)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,J)|0,s=s+Math.imul(m,ee)|0;var xe=(c+(r=r+Math.imul(d,ne)|0)|0)+((8191&(i=(i=i+Math.imul(d,re)|0)+Math.imul(h,ne)|0))<<13)|0;c=((s=s+Math.imul(h,re)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(C,z),i=(i=Math.imul(C,V))+Math.imul(j,z)|0,s=Math.imul(j,V),r=r+Math.imul(N,G)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(A,G)|0,s=s+Math.imul(A,W)|0,r=r+Math.imul(S,K)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(E,K)|0,s=s+Math.imul(E,$)|0,r=r+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(x,Q)|0,s=s+Math.imul(x,X)|0,r=r+Math.imul(y,J)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,J)|0,s=s+Math.imul(b,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(m,ne)|0,s=s+Math.imul(m,re)|0;var ke=(c+(r=r+Math.imul(d,se)|0)|0)+((8191&(i=(i=i+Math.imul(d,oe)|0)+Math.imul(h,se)|0))<<13)|0;c=((s=s+Math.imul(h,oe)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(R,z),i=(i=Math.imul(R,V))+Math.imul(O,z)|0,s=Math.imul(O,V),r=r+Math.imul(C,G)|0,i=(i=i+Math.imul(C,W)|0)+Math.imul(j,G)|0,s=s+Math.imul(j,W)|0,r=r+Math.imul(N,K)|0,i=(i=i+Math.imul(N,$)|0)+Math.imul(A,K)|0,s=s+Math.imul(A,$)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(E,Q)|0,s=s+Math.imul(E,X)|0,r=r+Math.imul(v,J)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(x,J)|0,s=s+Math.imul(x,ee)|0,r=r+Math.imul(y,ne)|0,i=(i=i+Math.imul(y,re)|0)+Math.imul(b,ne)|0,s=s+Math.imul(b,re)|0,r=r+Math.imul(p,se)|0,i=(i=i+Math.imul(p,oe)|0)+Math.imul(m,se)|0,s=s+Math.imul(m,oe)|0;var Se=(c+(r=r+Math.imul(d,le)|0)|0)+((8191&(i=(i=i+Math.imul(d,ce)|0)+Math.imul(h,le)|0))<<13)|0;c=((s=s+Math.imul(h,ce)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(M,z),i=(i=Math.imul(M,V))+Math.imul(D,z)|0,s=Math.imul(D,V),r=r+Math.imul(R,G)|0,i=(i=i+Math.imul(R,W)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,W)|0,r=r+Math.imul(C,K)|0,i=(i=i+Math.imul(C,$)|0)+Math.imul(j,K)|0,s=s+Math.imul(j,$)|0,r=r+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,X)|0)+Math.imul(A,Q)|0,s=s+Math.imul(A,X)|0,r=r+Math.imul(S,J)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(E,J)|0,s=s+Math.imul(E,ee)|0,r=r+Math.imul(v,ne)|0,i=(i=i+Math.imul(v,re)|0)+Math.imul(x,ne)|0,s=s+Math.imul(x,re)|0,r=r+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0,r=r+Math.imul(p,le)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(m,le)|0,s=s+Math.imul(m,ce)|0;var Ee=(c+(r=r+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;c=((s=s+Math.imul(h,he)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(B,z),i=(i=Math.imul(B,V))+Math.imul(U,z)|0,s=Math.imul(U,V),r=r+Math.imul(M,G)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(D,G)|0,s=s+Math.imul(D,W)|0,r=r+Math.imul(R,K)|0,i=(i=i+Math.imul(R,$)|0)+Math.imul(O,K)|0,s=s+Math.imul(O,$)|0,r=r+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(j,Q)|0,s=s+Math.imul(j,X)|0,r=r+Math.imul(N,J)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(A,J)|0,s=s+Math.imul(A,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(E,ne)|0,s=s+Math.imul(E,re)|0,r=r+Math.imul(v,se)|0,i=(i=i+Math.imul(v,oe)|0)+Math.imul(x,se)|0,s=s+Math.imul(x,oe)|0,r=r+Math.imul(y,le)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(b,le)|0,s=s+Math.imul(b,ce)|0,r=r+Math.imul(p,de)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(m,de)|0,s=s+Math.imul(m,he)|0;var _e=(c+(r=r+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,me)|0)+Math.imul(h,pe)|0))<<13)|0;c=((s=s+Math.imul(h,me)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(B,G),i=(i=Math.imul(B,W))+Math.imul(U,G)|0,s=Math.imul(U,W),r=r+Math.imul(M,K)|0,i=(i=i+Math.imul(M,$)|0)+Math.imul(D,K)|0,s=s+Math.imul(D,$)|0,r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(O,Q)|0,s=s+Math.imul(O,X)|0,r=r+Math.imul(C,J)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(j,J)|0,s=s+Math.imul(j,ee)|0,r=r+Math.imul(N,ne)|0,i=(i=i+Math.imul(N,re)|0)+Math.imul(A,ne)|0,s=s+Math.imul(A,re)|0,r=r+Math.imul(S,se)|0,i=(i=i+Math.imul(S,oe)|0)+Math.imul(E,se)|0,s=s+Math.imul(E,oe)|0,r=r+Math.imul(v,le)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(x,le)|0,s=s+Math.imul(x,ce)|0,r=r+Math.imul(y,de)|0,i=(i=i+Math.imul(y,he)|0)+Math.imul(b,de)|0,s=s+Math.imul(b,he)|0;var Ne=(c+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;c=((s=s+Math.imul(m,me)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(B,K),i=(i=Math.imul(B,$))+Math.imul(U,K)|0,s=Math.imul(U,$),r=r+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(D,Q)|0,s=s+Math.imul(D,X)|0,r=r+Math.imul(R,J)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,ee)|0,r=r+Math.imul(C,ne)|0,i=(i=i+Math.imul(C,re)|0)+Math.imul(j,ne)|0,s=s+Math.imul(j,re)|0,r=r+Math.imul(N,se)|0,i=(i=i+Math.imul(N,oe)|0)+Math.imul(A,se)|0,s=s+Math.imul(A,oe)|0,r=r+Math.imul(S,le)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(E,le)|0,s=s+Math.imul(E,ce)|0,r=r+Math.imul(v,de)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(x,de)|0,s=s+Math.imul(x,he)|0;var Ae=(c+(r=r+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(b,pe)|0))<<13)|0;c=((s=s+Math.imul(b,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(B,Q),i=(i=Math.imul(B,X))+Math.imul(U,Q)|0,s=Math.imul(U,X),r=r+Math.imul(M,J)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(D,J)|0,s=s+Math.imul(D,ee)|0,r=r+Math.imul(R,ne)|0,i=(i=i+Math.imul(R,re)|0)+Math.imul(O,ne)|0,s=s+Math.imul(O,re)|0,r=r+Math.imul(C,se)|0,i=(i=i+Math.imul(C,oe)|0)+Math.imul(j,se)|0,s=s+Math.imul(j,oe)|0,r=r+Math.imul(N,le)|0,i=(i=i+Math.imul(N,ce)|0)+Math.imul(A,le)|0,s=s+Math.imul(A,ce)|0,r=r+Math.imul(S,de)|0,i=(i=i+Math.imul(S,he)|0)+Math.imul(E,de)|0,s=s+Math.imul(E,he)|0;var Te=(c+(r=r+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,me)|0)+Math.imul(x,pe)|0))<<13)|0;c=((s=s+Math.imul(x,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(B,J),i=(i=Math.imul(B,ee))+Math.imul(U,J)|0,s=Math.imul(U,ee),r=r+Math.imul(M,ne)|0,i=(i=i+Math.imul(M,re)|0)+Math.imul(D,ne)|0,s=s+Math.imul(D,re)|0,r=r+Math.imul(R,se)|0,i=(i=i+Math.imul(R,oe)|0)+Math.imul(O,se)|0,s=s+Math.imul(O,oe)|0,r=r+Math.imul(C,le)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(j,le)|0,s=s+Math.imul(j,ce)|0,r=r+Math.imul(N,de)|0,i=(i=i+Math.imul(N,he)|0)+Math.imul(A,de)|0,s=s+Math.imul(A,he)|0;var Ce=(c+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,me)|0)+Math.imul(E,pe)|0))<<13)|0;c=((s=s+Math.imul(E,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(B,ne),i=(i=Math.imul(B,re))+Math.imul(U,ne)|0,s=Math.imul(U,re),r=r+Math.imul(M,se)|0,i=(i=i+Math.imul(M,oe)|0)+Math.imul(D,se)|0,s=s+Math.imul(D,oe)|0,r=r+Math.imul(R,le)|0,i=(i=i+Math.imul(R,ce)|0)+Math.imul(O,le)|0,s=s+Math.imul(O,ce)|0,r=r+Math.imul(C,de)|0,i=(i=i+Math.imul(C,he)|0)+Math.imul(j,de)|0,s=s+Math.imul(j,he)|0;var je=(c+(r=r+Math.imul(N,pe)|0)|0)+((8191&(i=(i=i+Math.imul(N,me)|0)+Math.imul(A,pe)|0))<<13)|0;c=((s=s+Math.imul(A,me)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,r=Math.imul(B,se),i=(i=Math.imul(B,oe))+Math.imul(U,se)|0,s=Math.imul(U,oe),r=r+Math.imul(M,le)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(D,le)|0,s=s+Math.imul(D,ce)|0,r=r+Math.imul(R,de)|0,i=(i=i+Math.imul(R,he)|0)+Math.imul(O,de)|0,s=s+Math.imul(O,he)|0;var Ie=(c+(r=r+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,me)|0)+Math.imul(j,pe)|0))<<13)|0;c=((s=s+Math.imul(j,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(B,le),i=(i=Math.imul(B,ce))+Math.imul(U,le)|0,s=Math.imul(U,ce),r=r+Math.imul(M,de)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(D,de)|0,s=s+Math.imul(D,he)|0;var Re=(c+(r=r+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,me)|0)+Math.imul(O,pe)|0))<<13)|0;c=((s=s+Math.imul(O,me)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(B,de),i=(i=Math.imul(B,he))+Math.imul(U,de)|0,s=Math.imul(U,he);var Oe=(c+(r=r+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,me)|0)+Math.imul(D,pe)|0))<<13)|0;c=((s=s+Math.imul(D,me)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863;var Pe=(c+(r=Math.imul(B,pe))|0)+((8191&(i=(i=Math.imul(B,me))+Math.imul(U,pe)|0))<<13)|0;return c=((s=Math.imul(U,me))+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,l[0]=ge,l[1]=ye,l[2]=be,l[3]=we,l[4]=ve,l[5]=xe,l[6]=ke,l[7]=Se,l[8]=Ee,l[9]=_e,l[10]=Ne,l[11]=Ae,l[12]=Te,l[13]=Ce,l[14]=je,l[15]=Ie,l[16]=Re,l[17]=Oe,l[18]=Pe,0!==c&&(l[19]=c,n.length++),n};function g(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,s=0;s<n.length-1;s++){var o=i;i=0;for(var a=67108863&r,l=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=l;c++){var u=s-c,d=(0|e.words[u])*(0|t.words[c]),h=67108863&d;a=67108863&(h=h+a|0),i+=(o=(o=o+(d/67108864|0)|0)+(h>>>26)|0)>>>26,o&=67108863}n.words[s]=a,r=o,o=i}return 0!==r?n.words[s]=r:n.length--,n._strip()}function y(e,t,n){return g(e,t,n)}Math.imul||(m=p),i.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?m(this,e,t):n<63?p(this,e,t):n<1024?g(this,e,t):y(this,e,t)},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),y(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,o=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=o>>>26,this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),this.length=0===e?1:this.length,t?this.ineg():this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new i(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var s=n.sqr();r<t.length;r++,s=s.sqr())0!==t[r]&&(n=n.mul(s));return n},i.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,l=(0|this.words[t])-a<<r;this.words[t]=l|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,l=r;if(i-=o,i=Math.max(0,i),l){for(var c=0;c<o;c++)l.words[c]=this.words[c];l.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var u=0;for(c=this.length-1;c>=0&&(0!==u||c>=i);c--){var d=0|this.words[c];this.words[c]=u<<26-s|d>>>s,u=d&a}return l&&0!==u&&(l.words[l.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r||!(this.words[r]&i))},i.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var l=(0|e.words[i])*t;a=((s-=67108863&l)>>26)-(l/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},i.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),s=e,o=0|s.words[s.length-1];0!=(n=26-this._countBits(o))&&(s=s.ushln(n),r.iushln(n),o=0|s.words[s.length-1]);var a,l=r.length-s.length;if("mod"!==t){(a=new i(null)).length=l+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var u=r.clone()._ishlnsubmul(s,1,l);0===u.negative&&(r=u,a&&(a.words[l]=1));for(var d=l-1;d>=0;d--){var h=67108864*(0|r.words[s.length+d])+(0|r.words[s.length+d-1]);for(h=Math.min(h/o|0,67108863),r._ishlnsubmul(s,h,d);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(s,1,d),r.isZero()||(r.negative^=1);a&&(a.words[d]=h)}return a&&a._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},i.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(s=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:s,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(s=a.div.neg()),{div:s,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modrn(e.words[0]))}:this._wordDiv(e,t);var s,o,a},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),s=n.cmp(r);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(r*i+(0|this.words[s]))%e;return t?-i:i},i.prototype.modn=function(e){return this.modrn(e)},i.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*r;this.words[i]=s/e|0,r=s%e}return this._strip(),t?this.ineg():this},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s=new i(1),o=new i(0),a=new i(0),l=new i(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var u=r.clone(),d=t.clone();!t.isZero();){for(var h=0,f=1;0===(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(s.isOdd()||o.isOdd())&&(s.iadd(u),o.isub(d)),s.iushrn(1),o.iushrn(1);for(var p=0,m=1;0===(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(u),l.isub(d)),a.iushrn(1),l.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a),o.isub(l)):(r.isub(t),a.isub(s),l.isub(o))}return{a:a,b:l,gcd:r.iushln(c)}},i.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var s,o=new i(1),a=new i(0),l=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,u=1;0===(t.words[0]&u)&&c<26;++c,u<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(l),o.iushrn(1);for(var d=0,h=1;0===(r.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(r.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(s=0===t.cmpn(1)?o:a).cmpn(0)<0&&s.iadd(e),s},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var s=t;t=n,n=s}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return!(1&this.words[0])},i.prototype.isOdd=function(){return!(1&~this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new E(e)},i.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function k(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function _(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},r(v,w),v.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&n,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&n)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(x,w),r(k,w),r(S,w),S.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(b[e])return b[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new x;else if("p192"===e)t=new k;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return b[e]=t,t},E.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(c(e,e.umod(this.m)._forceRed(this)),e)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},E.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new i(1)).iushrn(2);return this.pow(e,r)}for(var s=this.m.subn(1),o=0;!s.isZero()&&0===s.andln(1);)o++,s.iushrn(1);n(!s.isZero());var a=new i(1).toRed(this),l=a.redNeg(),c=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new i(2*u*u).toRed(this);0!==this.pow(u,c).cmp(l);)u.redIAdd(l);for(var d=this.pow(u,s),h=this.pow(e,s.addn(1).iushrn(1)),f=this.pow(e,s),p=o;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();n(g<p);var y=this.pow(d,new i(1).iushln(p-g-1));h=h.redMul(y),d=y.redSqr(),f=f.redMul(d),p=g}return h},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new i(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var s=n[0],o=0,a=0,l=t.bitLength()%26;for(0===l&&(l=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],u=l-1;u>=0;u--){var d=c>>u&1;s!==n[0]&&(s=this.sqr(s)),0!==d||0!==o?(o<<=1,o|=d,(4===++a||0===r&&0===u)&&(s=this.mul(s,n[o]),a=0,o=0)):a=0}l=26}return s},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new _(e)},r(_,E),_.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},_.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},_.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},_.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=n.isub(r).iushrn(this.shift),o=s;return s.cmp(this.m)>=0?o=s.isub(this.m):s.cmpn(0)<0&&(o=s.iadd(this.m)),o._forceRed(this)},_.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(ts,is)),ts.exports}const os=k(ss());var as,ls,cs,us,ds,hs={exports:{}};
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */function fs(){if(cs)return ls;cs=1;var e=(as||(as=1,function(e,t){var n=L(),r=n.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=s),s.prototype=Object.create(r.prototype),i(r,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}}(hs,hs.exports)),hs.exports).Buffer;return ls=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==n[o])throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return e.alloc(0);for(var r=0,i=0,s=0;t[r]===l;)i++,r++;for(var o=(t.length-r)*c+1>>>0,u=new Uint8Array(o);r<t.length;){var d=t.charCodeAt(r);if(d>255)return;var h=n[d];if(255===h)return;for(var f=0,p=o-1;(0!==h||f<s)&&-1!==p;p--,f++)h+=a*u[p]>>>0,u[p]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");s=f,r++}for(var m=o-s;m!==o&&0===u[m];)m++;var g=e.allocUnsafe(i+(o-m));g.fill(0,0,i);for(var y=i;m!==o;)g[y++]=u[m++];return g}return{encode:function(n){if((Array.isArray(n)||n instanceof Uint8Array)&&(n=e.from(n)),!e.isBuffer(n))throw new TypeError("Expected Buffer");if(0===n.length)return"";for(var r=0,i=0,s=0,o=n.length;s!==o&&0===n[s];)s++,r++;for(var c=(o-s)*u+1>>>0,d=new Uint8Array(c);s!==o;){for(var h=n[s],f=0,p=c-1;(0!==h||f<i)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=f,s++}for(var m=c-i;m!==c&&0===d[m];)m++;for(var g=l.repeat(r);m<c;++m)g+=t.charAt(d[m]);return g},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+a+" character")}}},ls}function ps(){if(ds)return us;ds=1;var e=fs();return us=e("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}const ms=k(ps()),gs=Ir;var ys={};function bs(e,t,n){return t<=e&&e<=n}function ws(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function vs(e){this.tokens=[].slice.call(e)}vs.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var xs=-1;function ks(e,t){if(e)throw TypeError("Decoder error");return t||65533}var Ss="utf-8";function Es(e,t){if(!(this instanceof Es))return new Es(e,t);if((e=void 0!==e?String(e).toLowerCase():Ss)!==Ss)throw new Error("Encoding not supported. Only utf-8 is supported");t=ws(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function _s(e,t){if(!(this instanceof _s))return new _s(e,t);if((e=void 0!==e?String(e).toLowerCase():Ss)!==Ss)throw new Error("Encoding not supported. Only utf-8 is supported");t=ws(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function Ns(e){var t=e.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(e,a){if(-1===a&&0!==i)return i=0,ks(t);if(-1===a)return xs;if(0===i){if(bs(a,0,127))return a;if(bs(a,194,223))i=1,n=a-192;else if(bs(a,224,239))224===a&&(s=160),237===a&&(o=159),i=2,n=a-224;else{if(!bs(a,240,244))return ks(t);240===a&&(s=144),244===a&&(o=143),i=3,n=a-240}return n<<=6*i,null}if(!bs(a,s,o))return n=i=r=0,s=128,o=191,e.prepend(a),ks(t);if(s=128,o=191,n+=a-128<<6*(i-(r+=1)),r!==i)return null;var l=n;return n=i=r=0,l}}function As(e){e.fatal,this.handler=function(e,t){if(-1===t)return xs;if(bs(t,0,127))return t;var n,r;bs(t,128,2047)?(n=1,r=192):bs(t,2048,65535)?(n=2,r=224):bs(t,65536,1114111)&&(n=3,r=240);for(var i=[(t>>6*n)+r];n>0;){var s=t>>6*(n-1);i.push(128|63&s),n-=1}return i}}Es.prototype={decode:function(e,t){var n;n="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=ws(t),this._streaming||(this._decoder=new Ns({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var r,i=new vs(n),s=[];!i.endOfStream()&&(r=this._decoder.handler(i,i.read()))!==xs;)null!==r&&(Array.isArray(r)?s.push.apply(s,r):s.push(r));if(!this._streaming){do{if((r=this._decoder.handler(i,i.read()))===xs)break;null!==r&&(Array.isArray(r)?s.push.apply(s,r):s.push(r))}while(!i.endOfStream());this._decoder=null}return s.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===s[0]?(this._BOMseen=!0,s.shift()):this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return t}(s)}},_s.prototype={encode:function(e,t){e=e?String(e):"",t=ws(t),this._streaming||(this._encoder=new As(this._options)),this._streaming=Boolean(t.stream);for(var n,r=[],i=new vs(function(e){for(var t=String(e),n=t.length,r=0,i=[];r<n;){var s=t.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=e.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=1023&s,l=1023&o;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}(e));!i.endOfStream()&&(n=this._encoder.handler(i,i.read()))!==xs;)Array.isArray(n)?r.push.apply(r,n):r.push(n);if(!this._streaming){for(;(n=this._encoder.handler(i,i.read()))!==xs;)Array.isArray(n)?r.push.apply(r,n):r.push(n);this._encoder=null}return new Uint8Array(r)}};const Ts=x(Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Es,TextEncoder:_s},Symbol.toStringTag,{value:"Module"})));var Cs;var js,Is=function(){if(Cs)return ys;Cs=1;var e=ys&&ys.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),t=ys&&ys.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=ys&&ys.__decorate||function(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o},r=ys&&ys.__importStar||function(n){if(n&&n.__esModule)return n;var r={};if(null!=n)for(var i in n)"default"!==i&&Object.hasOwnProperty.call(n,i)&&e(r,n,i);return t(r,n),r},i=ys&&ys.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ys,"__esModule",{value:!0}),ys.deserializeUnchecked=ys.deserialize=ys.serialize=ys.BinaryReader=ys.BinaryWriter=ys.BorshError=ys.baseDecode=ys.baseEncode=void 0;const s=i(ss()),o=i(ps()),a=r(Ts),l=new("function"!=typeof TextDecoder?a.TextDecoder:TextDecoder)("utf-8",{fatal:!0});ys.baseEncode=function(e){return"string"==typeof e&&(e=Buffer.from(e,"utf8")),o.default.encode(Buffer.from(e))},ys.baseDecode=function(e){return Buffer.from(o.default.decode(e))};const c=1024;class u extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}ys.BorshError=u;class d{constructor(){this.buf=Buffer.alloc(c),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(c)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new s.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new s.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new s.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new s.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(c)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}}function h(e,t,n){const r=n.value;n.value=function(...e){try{return r.apply(this,e)}catch(t){if(t instanceof RangeError){const e=t.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new u("Reached the end of buffer when deserializing")}throw t}}}ys.BinaryWriter=d;class f{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new s.default(e,"le")}readU128(){const e=this.readBuffer(16);return new s.default(e,"le")}readU256(){const e=this.readBuffer(32);return new s.default(e,"le")}readU512(){const e=this.readBuffer(64);return new s.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new u(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return l.decode(t)}catch(n){throw new u(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),n=Array();for(let r=0;r<t;++r)n.push(e());return n}}function p(e){return e.charAt(0).toUpperCase()+e.slice(1)}function m(e,t,n,r,i){try{if("string"==typeof r)i[`write${p(r)}`](n);else if(r instanceof Array)if("number"==typeof r[0]){if(n.length!==r[0])throw new u(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(2===r.length&&"number"==typeof r[1]){if(n.length!==r[1])throw new u(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let t=0;t<r[1];t++)m(e,null,n[t],r[0],i)}else i.writeArray(n,n=>{m(e,t,n,r[0],i)});else if(void 0!==r.kind)switch(r.kind){case"option":null==n?i.writeU8(0):(i.writeU8(1),m(e,t,n,r.type,i));break;case"map":i.writeU32(n.size),n.forEach((n,s)=>{m(e,t,s,r.key,i),m(e,t,n,r.value,i)});break;default:throw new u(`FieldType ${r} unrecognized`)}else g(e,n,i)}catch(s){throw s instanceof u&&s.addToFieldPath(t),s}}function g(e,t,n){if("function"==typeof t.borshSerialize)return void t.borshSerialize(n);const r=e.get(t.constructor);if(!r)throw new u(`Class ${t.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map(([r,i])=>{m(e,r,t[r],i,n)});else{if("enum"!==r.kind)throw new u(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`);{const i=t[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),m(e,o,t[o],a,n);break}}}}}function y(e,t,n,r){try{if("string"==typeof n)return r[`read${p(n)}`]();if(n instanceof Array){if("number"==typeof n[0])return r.readFixedArray(n[0]);if("number"==typeof n[1]){const t=[];for(let i=0;i<n[1];i++)t.push(y(e,null,n[0],r));return t}return r.readArray(()=>y(e,t,n[0],r))}if("option"===n.kind){return r.readU8()?y(e,t,n.type,r):void 0}if("map"===n.kind){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const s=y(e,t,n.key,r),o=y(e,t,n.value,r);i.set(s,o)}return i}return b(e,n,r)}catch(i){throw i instanceof u&&i.addToFieldPath(t),i}}function b(e,t,n){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(n);const r=e.get(t);if(!r)throw new u(`Class ${t.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[i,s]of e.get(t).fields)r[i]=y(e,i,s,n);return new t(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new u(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=y(e,s,o,n);return new t({[s]:a})}throw new u(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}return n([h],f.prototype,"readU8",null),n([h],f.prototype,"readU16",null),n([h],f.prototype,"readU32",null),n([h],f.prototype,"readU64",null),n([h],f.prototype,"readU128",null),n([h],f.prototype,"readU256",null),n([h],f.prototype,"readU512",null),n([h],f.prototype,"readString",null),n([h],f.prototype,"readFixedArray",null),n([h],f.prototype,"readArray",null),ys.BinaryReader=f,ys.serialize=function(e,t,n=d){const r=new n;return g(e,t,r),r.toArray()},ys.deserialize=function(e,t,n,r=f){const i=new r(n),s=b(e,t,i);if(i.offset<n.length)throw new u(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s},ys.deserializeUnchecked=function(e,t,n,r=f){return b(e,t,new r(n))},ys}(),Rs={};var Os=function(){if(js)return Rs;js=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.s16=Rs.s8=Rs.nu64be=Rs.u48be=Rs.u40be=Rs.u32be=Rs.u24be=Rs.u16be=Rs.nu64=Rs.u48=Rs.u40=Rs.u32=Rs.u24=Rs.u16=Rs.u8=Rs.offset=Rs.greedy=Rs.Constant=Rs.UTF8=Rs.CString=Rs.Blob=Rs.Boolean=Rs.BitField=Rs.BitStructure=Rs.VariantLayout=Rs.Union=Rs.UnionLayoutDiscriminator=Rs.UnionDiscriminator=Rs.Structure=Rs.Sequence=Rs.DoubleBE=Rs.Double=Rs.FloatBE=Rs.Float=Rs.NearInt64BE=Rs.NearInt64=Rs.NearUInt64BE=Rs.NearUInt64=Rs.IntBE=Rs.Int=Rs.UIntBE=Rs.UInt=Rs.OffsetLayout=Rs.GreedyCount=Rs.ExternalLayout=Rs.bindConstructorLayout=Rs.nameWithProperty=Rs.Layout=Rs.uint8ArrayToBuffer=Rs.checkUint8Array=void 0,Rs.constant=Rs.utf8=Rs.cstr=Rs.blob=Rs.unionLayoutDiscriminator=Rs.union=Rs.seq=Rs.bits=Rs.struct=Rs.f64be=Rs.f64=Rs.f32be=Rs.f32=Rs.ns64be=Rs.s48be=Rs.s40be=Rs.s32be=Rs.s24be=Rs.s16be=Rs.ns64=Rs.s48=Rs.s40=Rs.s32=Rs.s24=void 0;const e=L();function t(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function n(n){return t(n),e.Buffer.from(n.buffer,n.byteOffset,n.length)}Rs.checkUint8Array=t,Rs.uint8ArrayToBuffer=n;class r{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function i(e,t){return t.property?e+"["+t.property+"]":e}Rs.Layout=r,Rs.nameWithProperty=i,Rs.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(e,"decode",{value:(e,n)=>t.decode(e,n),writable:!0})};class s extends r{isCount(){throw new Error("ExternalLayout is abstract")}}Rs.ExternalLayout=s;class o extends s{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,n=0){t(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,t,n){return 0}}Rs.GreedyCount=o;class a extends s{constructor(e,t=0,n){if(!(e instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof l||this.layout instanceof c}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}}Rs.OffsetLayout=a;class l extends r{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return n(e).readUIntLE(t,this.span)}encode(e,t,r=0){return n(t).writeUIntLE(e,r,this.span),this.span}}Rs.UInt=l;class c extends r{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return n(e).readUIntBE(t,this.span)}encode(e,t,r=0){return n(t).writeUIntBE(e,r,this.span),this.span}}Rs.UIntBE=c;class u extends r{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return n(e).readIntLE(t,this.span)}encode(e,t,r=0){return n(t).writeIntLE(e,r,this.span),this.span}}Rs.Int=u;class d extends r{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return n(e).readIntBE(t,this.span)}encode(e,t,r=0){return n(t).writeIntBE(e,r,this.span),this.span}}Rs.IntBE=d;const h=Math.pow(2,32);function f(e){const t=Math.floor(e/h);return{hi32:t,lo32:e-t*h}}function p(e,t){return e*h+t}class m extends r{constructor(e){super(8,e)}decode(e,t=0){const r=n(e),i=r.readUInt32LE(t);return p(r.readUInt32LE(t+4),i)}encode(e,t,r=0){const i=f(e),s=n(t);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}Rs.NearUInt64=m;class g extends r{constructor(e){super(8,e)}decode(e,t=0){const r=n(e);return p(r.readUInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){const i=f(e),s=n(t);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}Rs.NearUInt64BE=g;class y extends r{constructor(e){super(8,e)}decode(e,t=0){const r=n(e),i=r.readUInt32LE(t);return p(r.readInt32LE(t+4),i)}encode(e,t,r=0){const i=f(e),s=n(t);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}Rs.NearInt64=y;class b extends r{constructor(e){super(8,e)}decode(e,t=0){const r=n(e);return p(r.readInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){const i=f(e),s=n(t);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}Rs.NearInt64BE=b;class w extends r{constructor(e){super(4,e)}decode(e,t=0){return n(e).readFloatLE(t)}encode(e,t,r=0){return n(t).writeFloatLE(e,r),4}}Rs.Float=w;class v extends r{constructor(e){super(4,e)}decode(e,t=0){return n(e).readFloatBE(t)}encode(e,t,r=0){return n(t).writeFloatBE(e,r),4}}Rs.FloatBE=v;class x extends r{constructor(e){super(8,e)}decode(e,t=0){return n(e).readDoubleLE(t)}encode(e,t,r=0){return n(t).writeDoubleLE(e,r),8}}Rs.Double=x;class k extends r{constructor(e){super(8,e)}decode(e,t=0){return n(e).readDoubleBE(t)}encode(e,t,r=0){return n(t).writeDoubleBE(e,r),8}}Rs.DoubleBE=k;class S extends r{constructor(e,t,n){if(!(e instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof s&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(t instanceof s)&&0<e.span&&(i=t*e.span),super(i,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof s&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e,t=0){const n=[];let r=0,i=this.count;for(i instanceof s&&(i=i.decode(e,t));r<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t,n=0){const r=this.elementLayout,i=e.reduce((e,i)=>e+r.encode(i,t,n+e),0);return this.count instanceof s&&this.count.encode(e.length,t,n),i}}Rs.Sequence=S;class E extends r{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce((e,t)=>e&&t instanceof r,!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const r of e)if(0>r.span&&void 0===r.property)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((e,t)=>e+t.getSpan(),0)}catch(s){}super(i,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i},0)}catch(r){throw new RangeError("indeterminate span")}return n}decode(e,n=0){t(e);const r=this.makeDestinationObject();for(const t of this.fields)if(void 0!==t.property&&(r[t.property]=t.decode(e,n)),n+=t.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,t,n=0){const r=n;let i=0,s=0;for(const o of this.fields){let r=o.span;if(s=0<r?r:0,void 0!==o.property){const i=e[o.property];void 0!==i&&(s=o.encode(i,t,n),0>r&&(r=o.getSpan(t,n)))}i=n,n+=r}return i+s-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}Rs.Structure=E;class _{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}}Rs.UnionDiscriminator=_;class N extends _{constructor(e,t){if(!(e instanceof s&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}Rs.UnionLayoutDiscriminator=N;class A extends r{constructor(e,t,n){let i;if(e instanceof l||e instanceof c)i=new N(new a(e));else if(e instanceof s&&e.isCount())i=new N(e);else{if(!(e instanceof _))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");i=e}if(void 0===t&&(t=null),!(null===t||t instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let o=-1;t&&(o=t.span,0<=o&&(e instanceof l||e instanceof c)&&(o+=i.layout.span)),super(o,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof l||e instanceof c,this.defaultLayout=t,this.registry={};let u=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return u(e)},this.configGetSourceVariant=function(e){u=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n;const r=this.discriminator,i=r.decode(e,t),s=this.registry[i];if(void 0===s){const s=this.defaultLayout;let o=0;this.usesPrefixDiscriminator&&(o=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[s.property]=s.decode(e,t+o)}else n=s.decode(e,t);return n}encode(e,t,n=0){const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=r.layout.span),r.encode(e[r.property],t,n),s+i.encode(e[i.property],t,n+s)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new T(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t=0){let n;return n=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[n]}}Rs.Union=A;class T extends r{constructor(e,t,n,i){if(!(e instanceof A))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===i&&(i=n,n=null),n){if(!(n instanceof r))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof i)throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let r=0;return this.layout&&(r=this.layout.getSpan(e,t+n)),n+r}decode(e,t=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function C(e){return 0>e&&(e+=4294967296),e}Rs.VariantLayout=T;class j extends r{constructor(e,t,n){if(!(e instanceof l||e instanceof c))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===n&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let r=0;this._packedSetValue=function(e){return r=C(e),this},this._packedGetValue=function(){return r}}decode(e,t=0){const n=this.makeDestinationObject(),r=this.word.decode(e,t);this._packedSetValue(r);for(const i of this.fields)void 0!==i.property&&(n[i.property]=i.decode(e));return n}encode(e,t,n=0){const r=this.word.decode(t,n);this._packedSetValue(r);for(const i of this.fields)if(void 0!==i.property){const t=e[i.property];void 0!==t&&i.encode(t)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new I(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new R(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}Rs.BitStructure=j;class I{constructor(e,t,n){if(!(e instanceof j))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const r=8*e.span,i=e.fields.reduce((e,t)=>e+t.bits,0);if(t+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-t),this.wordMask=C(this.valueMask<<this.start),this.property=n}decode(e,t){return C(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==C(e&this.valueMask))throw new TypeError(i("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=C(e<<this.start);this.container._packedSetValue(C(t&~this.wordMask)|n)}}Rs.BitField=I;class R extends I{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e=+e),super.encode(e)}}Rs.Boolean=R;class O extends r{constructor(e,t){if(!(e instanceof s&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof s||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),n(e).slice(t,t+r)}encode(e,t,r){let o=this.length;if(this.length instanceof s&&(o=e.length),!(e instanceof Uint8Array&&o===e.length))throw new TypeError(i("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(r+o>t.length)throw new RangeError("encoding overruns Uint8Array");const a=n(e);return n(t).write(a.toString("hex"),r,o,"hex"),this.length instanceof s&&this.length.encode(o,t,r),o}}Rs.Blob=O;class P extends r{constructor(e){super(-1,e)}getSpan(e,n=0){t(e);let r=n;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-n}decode(e,t=0){const r=this.getSpan(e,t);return n(e).slice(t,t+r-1).toString("utf-8")}encode(t,r,i=0){"string"!=typeof t&&(t=String(t));const s=e.Buffer.from(t,"utf8"),o=s.length;if(i+o>r.length)throw new RangeError("encoding overruns Buffer");const a=n(r);return s.copy(a,i),a[i+o]=0,o+1}}Rs.CString=P;class M extends r{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,n=0){return t(e),e.length-n}decode(e,t=0){const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return n(e).slice(t,t+r).toString("utf-8")}encode(t,r,i=0){"string"!=typeof t&&(t=String(t));const s=e.Buffer.from(t,"utf8"),o=s.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(i+o>r.length)throw new RangeError("encoding overruns Buffer");return s.copy(n(r),i),o}}Rs.UTF8=M;class D extends r{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}}return Rs.Constant=D,Rs.greedy=(e,t)=>new o(e,t),Rs.offset=(e,t,n)=>new a(e,t,n),Rs.u8=e=>new l(1,e),Rs.u16=e=>new l(2,e),Rs.u24=e=>new l(3,e),Rs.u32=e=>new l(4,e),Rs.u40=e=>new l(5,e),Rs.u48=e=>new l(6,e),Rs.nu64=e=>new m(e),Rs.u16be=e=>new c(2,e),Rs.u24be=e=>new c(3,e),Rs.u32be=e=>new c(4,e),Rs.u40be=e=>new c(5,e),Rs.u48be=e=>new c(6,e),Rs.nu64be=e=>new g(e),Rs.s8=e=>new u(1,e),Rs.s16=e=>new u(2,e),Rs.s24=e=>new u(3,e),Rs.s32=e=>new u(4,e),Rs.s40=e=>new u(5,e),Rs.s48=e=>new u(6,e),Rs.ns64=e=>new y(e),Rs.s16be=e=>new d(2,e),Rs.s24be=e=>new d(3,e),Rs.s32be=e=>new d(4,e),Rs.s40be=e=>new d(5,e),Rs.s48be=e=>new d(6,e),Rs.ns64be=e=>new b(e),Rs.f32=e=>new w(e),Rs.f32be=e=>new v(e),Rs.f64=e=>new x(e),Rs.f64be=e=>new k(e),Rs.struct=(e,t,n)=>new E(e,t,n),Rs.bits=(e,t,n)=>new j(e,t,n),Rs.seq=(e,t,n)=>new S(e,t,n),Rs.union=(e,t,n)=>new A(e,t,n),Rs.unionLayoutDiscriminator=(e,t)=>new N(e,t),Rs.blob=(e,t)=>new O(e,t),Rs.cstr=e=>new P(e),Rs.utf8=(e,t)=>new M(e,t),Rs.constant=(e,t)=>new D(e,t),Rs}();function Ps(e){if(Array.isArray(e)){return"%5B"+e.map(Ps).join("%2C%20")+"%5D"}return"bigint"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function Ms([e,t]){return`${e}=${Ps(t)}`}function Ds(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${function(e){const t=Object.entries(e).map(Ms).join("&");return btoa(t)}(t)}'`),`${n}\``}}var Ls=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;if(t){const{cause:e,...i}=t;e&&(r={cause:e}),Object.keys(i).length>0&&(n=i)}super(Ds(e,n),r),this.context={__code:e,...n},this.name="SolanaError"}};function Bs(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function Us(e){return 1!==e?.endian}function Fs(e){return t={fixedSize:e.size,write(t,n,r){e.range&&function(e,t,n,r){if(r<t||r>n)throw new Ls(8078011,{codecDescription:e,max:n,min:t,value:r})}(e.name,e.range[0],e.range[1],t);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,Us(e.config)),n.set(new Uint8Array(i),r),r+e.size}},Object.freeze({...t,encode:e=>{const n=new Uint8Array(function(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}(e,t));return t.write(e,n,0),n}});var t}function zs(e){return t={fixedSize:e.size,read(t,n=0){!function(e,t,n=0){if(t.length-n<=0)throw new Ls(8078e3,{codecDescription:e})}(e.name,t,n),function(e,t,n,r=0){const i=n.length-r;if(i<t)throw new Ls(8078001,{bytesLength:i,codecDescription:e,expected:t})}(e.name,e.size,t,n);const r=new DataView(function(e,t,n){const r=e.byteOffset+(t??0),i=n??e.byteLength;return e.buffer.slice(r,r+i)}(t,n,e.size));return[e.get(r,Us(e.config)),n+e.size]}},Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]});var t}var Vs=(e={})=>Fs({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,n)=>e.setBigUint64(0,BigInt(t),n),size:8}),qs=(e={})=>function(e,t){if(Bs(e)!==Bs(t))throw new Ls(8078004);if(Bs(e)&&Bs(t)&&e.fixedSize!==t.fixedSize)throw new Ls(8078005,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!Bs(e)&&!Bs(t)&&e.maxSize!==t.maxSize)throw new Ls(8078006,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}(Vs(e),((e={})=>zs({config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}))(e));let Gs=class extends TypeError{constructor(e,t){let n;const{message:r,explanation:i,...s}=e,{path:o}=e,a=0===o.length?r:`At path: ${o.join(".")} -- ${r}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}};function Ws(e){return"object"==typeof e&&null!=e}function Hs(e){return Ws(e)&&!Array.isArray(e)}function Ks(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function $s(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:s}=t,{type:o}=n,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Ks(r)}\``}=e;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:l}}function*Ys(e,t,n,r){var i;Ws(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]);for(const s of e){const e=$s(s,t,n,r);e&&(yield e)}}function*Qs(e,t,n={}){const{path:r=[],branch:i=[e],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(e=t.coercer(e,a));let l="valid";for(const c of t.validator(e,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,u,d]of t.entries(e,a)){const t=Qs(u,d,{path:void 0===c?r:[...r,c],branch:void 0===c?i:[...i,u],coerce:s,mask:o,message:n.message});for(const n of t)n[0]?(l=null!=n[0].refinement?"not_refined":"not_valid",yield[n[0],void 0]):s&&(u=n[1],void 0===c?e=u:e instanceof Map?e.set(c,u):e instanceof Set?e.add(u):Ws(e)&&(void 0!==u||c in e)&&(e[c]=u))}if("not_valid"!==l)for(const c of t.refiner(e,a))c.explanation=n.message,l="not_refined",yield[c,void 0];"valid"===l&&(yield[void 0,e])}let Xs=class{constructor(e){const{type:t,schema:n,validator:r,refiner:i,coercer:s=e=>e,entries:o=function*(){}}=e;this.type=t,this.schema=n,this.entries=o,this.coercer=s,this.validator=r?(e,t)=>Ys(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>Ys(i(e,t),t,this,e):()=>[]}assert(e,t){return Zs(e,this,t)}create(e,t){return Js(e,this,t)}is(e){return eo(e,this)}mask(e,t){return function(e,t,n){const r=to(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return to(e,this,t)}};function Zs(e,t,n){const r=to(e,t,{message:n});if(r[0])throw r[0]}function Js(e,t,n){const r=to(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function eo(e,t){return!to(e,t)[0]}function to(e,t,n={}){const r=Qs(e,t,n),i=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(i[0]){return[new Gs(i[0],function*(){for(const e of r)e[0]&&(yield e[0])}),void 0]}return[void 0,i[1]]}function no(e,t){return new Xs({type:e,schema:null,validator:t})}function ro(e){return new Xs({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${Ks(e)}`})}function io(){return no("boolean",e=>"boolean"==typeof e)}function so(e){return no("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Ks(t)}`)}function oo(e){const t=Ks(e),n=typeof e;return new Xs({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${Ks(n)}`})}function ao(e){return new Xs({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function lo(){return no("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${Ks(e)}`)}function co(e){return new Xs({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function uo(e,t){return new Xs({type:"record",schema:null,*entries(n){if(Ws(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator:e=>Hs(e)||`Expected an object, but received: ${Ks(e)}`,coercer:e=>Hs(e)?{...e}:e})}function ho(){return no("string",e=>"string"==typeof e||`Expected a string, but received: ${Ks(e)}`)}function fo(e){const t=no("never",()=>!1);return new Xs({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${Ks(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function po(e){const t=Object.keys(e);return new Xs({type:"type",schema:e,*entries(n){if(Ws(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>Hs(e)||`Expected an object, but received: ${Ks(e)}`,coercer:e=>Hs(e)?{...e}:e})}function mo(e){const t=e.map(e=>e.type).join(" | ");return new Xs({type:"union",schema:null,coercer(t,n){for(const r of e){const[e,i]=r.validate(t,{coerce:!0,mask:n.mask});if(!e)return i}return t},validator(n,r){const i=[];for(const t of e){const[...e]=Qs(n,t,r),[s]=e;if(!s[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Ks(n)}`,...i]}})}function go(){return no("unknown",()=>!0)}function yo(e,t,n){return new Xs({...e,coercer:(r,i)=>eo(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}var bo,wo=new Uint8Array(16);function vo(){if(!bo&&!(bo="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bo(wo)}const xo=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ko(e){return"string"==typeof e&&xo.test(e)}for(var So,Eo,_o=[],No=0;No<256;++No)_o.push((No+256).toString(16).substr(1));function Ao(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(_o[e[t+0]]+_o[e[t+1]]+_o[e[t+2]]+_o[e[t+3]]+"-"+_o[e[t+4]]+_o[e[t+5]]+"-"+_o[e[t+6]]+_o[e[t+7]]+"-"+_o[e[t+8]]+_o[e[t+9]]+"-"+_o[e[t+10]]+_o[e[t+11]]+_o[e[t+12]]+_o[e[t+13]]+_o[e[t+14]]+_o[e[t+15]]).toLowerCase();if(!ko(n))throw TypeError("Stringified UUID is invalid");return n}var To=0,Co=0;function jo(e){if(!ko(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}function Io(e,t,n){function r(e,r,i,s){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=jo(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var o=new Uint8Array(16+e.length);if(o.set(r),o.set(e,r.length),(o=n(o))[6]=15&o[6]|t,o[8]=63&o[8]|128,i){s=s||0;for(var a=0;a<16;++a)i[s+a]=o[a];return i}return Ao(o)}try{r.name=e}catch(i){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function Ro(e){return 14+(e+64>>>9<<4)+1}function Oo(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function Po(e,t,n,r,i,s){return Oo((o=Oo(Oo(t,e),Oo(r,s)))<<(a=i)|o>>>32-a,n);var o,a}function Mo(e,t,n,r,i,s,o){return Po(t&n|~t&r,e,t,i,s,o)}function Do(e,t,n,r,i,s,o){return Po(t&r|n&~r,e,t,i,s,o)}function Lo(e,t,n,r,i,s,o){return Po(t^n^r,e,t,i,s,o)}function Bo(e,t,n,r,i,s,o){return Po(n^(t|~r),e,t,i,s,o)}var Uo=Io("v3",48,function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var s=e[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(15&s),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[Ro(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<e.length;o+=16){var a=n,l=r,c=i,u=s;n=Mo(n,r,i,s,e[o],7,-680876936),s=Mo(s,n,r,i,e[o+1],12,-389564586),i=Mo(i,s,n,r,e[o+2],17,606105819),r=Mo(r,i,s,n,e[o+3],22,-1044525330),n=Mo(n,r,i,s,e[o+4],7,-176418897),s=Mo(s,n,r,i,e[o+5],12,1200080426),i=Mo(i,s,n,r,e[o+6],17,-1473231341),r=Mo(r,i,s,n,e[o+7],22,-45705983),n=Mo(n,r,i,s,e[o+8],7,1770035416),s=Mo(s,n,r,i,e[o+9],12,-1958414417),i=Mo(i,s,n,r,e[o+10],17,-42063),r=Mo(r,i,s,n,e[o+11],22,-1990404162),n=Mo(n,r,i,s,e[o+12],7,1804603682),s=Mo(s,n,r,i,e[o+13],12,-40341101),i=Mo(i,s,n,r,e[o+14],17,-1502002290),n=Do(n,r=Mo(r,i,s,n,e[o+15],22,1236535329),i,s,e[o+1],5,-165796510),s=Do(s,n,r,i,e[o+6],9,-1069501632),i=Do(i,s,n,r,e[o+11],14,643717713),r=Do(r,i,s,n,e[o],20,-373897302),n=Do(n,r,i,s,e[o+5],5,-701558691),s=Do(s,n,r,i,e[o+10],9,38016083),i=Do(i,s,n,r,e[o+15],14,-660478335),r=Do(r,i,s,n,e[o+4],20,-405537848),n=Do(n,r,i,s,e[o+9],5,568446438),s=Do(s,n,r,i,e[o+14],9,-1019803690),i=Do(i,s,n,r,e[o+3],14,-187363961),r=Do(r,i,s,n,e[o+8],20,1163531501),n=Do(n,r,i,s,e[o+13],5,-1444681467),s=Do(s,n,r,i,e[o+2],9,-51403784),i=Do(i,s,n,r,e[o+7],14,1735328473),n=Lo(n,r=Do(r,i,s,n,e[o+12],20,-1926607734),i,s,e[o+5],4,-378558),s=Lo(s,n,r,i,e[o+8],11,-2022574463),i=Lo(i,s,n,r,e[o+11],16,1839030562),r=Lo(r,i,s,n,e[o+14],23,-35309556),n=Lo(n,r,i,s,e[o+1],4,-1530992060),s=Lo(s,n,r,i,e[o+4],11,1272893353),i=Lo(i,s,n,r,e[o+7],16,-155497632),r=Lo(r,i,s,n,e[o+10],23,-1094730640),n=Lo(n,r,i,s,e[o+13],4,681279174),s=Lo(s,n,r,i,e[o],11,-358537222),i=Lo(i,s,n,r,e[o+3],16,-722521979),r=Lo(r,i,s,n,e[o+6],23,76029189),n=Lo(n,r,i,s,e[o+9],4,-640364487),s=Lo(s,n,r,i,e[o+12],11,-421815835),i=Lo(i,s,n,r,e[o+15],16,530742520),n=Bo(n,r=Lo(r,i,s,n,e[o+2],23,-995338651),i,s,e[o],6,-198630844),s=Bo(s,n,r,i,e[o+7],10,1126891415),i=Bo(i,s,n,r,e[o+14],15,-1416354905),r=Bo(r,i,s,n,e[o+5],21,-57434055),n=Bo(n,r,i,s,e[o+12],6,1700485571),s=Bo(s,n,r,i,e[o+3],10,-1894986606),i=Bo(i,s,n,r,e[o+10],15,-1051523),r=Bo(r,i,s,n,e[o+1],21,-2054922799),n=Bo(n,r,i,s,e[o+8],6,1873313359),s=Bo(s,n,r,i,e[o+15],10,-30611744),i=Bo(i,s,n,r,e[o+6],15,-1560198380),r=Bo(r,i,s,n,e[o+13],21,1309151649),n=Bo(n,r,i,s,e[o+4],6,-145523070),s=Bo(s,n,r,i,e[o+11],10,-1120210379),i=Bo(i,s,n,r,e[o+2],15,718787259),r=Bo(r,i,s,n,e[o+9],21,-343485551),n=Oo(n,a),r=Oo(r,l),i=Oo(i,c),s=Oo(s,u)}return[n,r,i,s]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(Ro(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))});function Fo(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function zo(e,t){return e<<t|e>>>32-t}var Vo=Io("v5",80,function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,o=Math.ceil(s/16),a=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=e[64*l+4*u]<<24|e[64*l+4*u+1]<<16|e[64*l+4*u+2]<<8|e[64*l+4*u+3];a[l]=c}a[o-1][14]=8*(e.length-1)/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<o;++d){for(var h=new Uint32Array(80),f=0;f<16;++f)h[f]=a[d][f];for(var p=16;p<80;++p)h[p]=zo(h[p-3]^h[p-8]^h[p-14]^h[p-16],1);for(var m=n[0],g=n[1],y=n[2],b=n[3],w=n[4],v=0;v<80;++v){var x=Math.floor(v/20),k=zo(m,5)+Fo(x,g,y,b)+w+t[x]+h[v]>>>0;w=b,b=y,y=zo(g,30)>>>0,g=m,m=k}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+b>>>0,n[4]=n[4]+w>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]});const qo=Object.freeze(Object.defineProperty({__proto__:null,NIL:"00000000-0000-0000-0000-000000000000",parse:jo,stringify:Ao,v1:function(e,t,n){var r=t&&n||0,i=t||new Array(16),s=(e=e||{}).node||So,o=void 0!==e.clockseq?e.clockseq:Eo;if(null==s||null==o){var a=e.random||(e.rng||vo)();null==s&&(s=So=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==o&&(o=Eo=16383&(a[6]<<8|a[7]))}var l=void 0!==e.msecs?e.msecs:Date.now(),c=void 0!==e.nsecs?e.nsecs:Co+1,u=l-To+(c-Co)/1e4;if(u<0&&void 0===e.clockseq&&(o=o+1&16383),(u<0||l>To)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");To=l,Co=c,Eo=o;var d=(1e4*(268435455&(l+=122192928e5))+c)%4294967296;i[r++]=d>>>24&255,i[r++]=d>>>16&255,i[r++]=d>>>8&255,i[r++]=255&d;var h=l/4294967296*1e4&268435455;i[r++]=h>>>8&255,i[r++]=255&h,i[r++]=h>>>24&15|16,i[r++]=h>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var f=0;f<6;++f)i[r+f]=s[f];return t||Ao(i)},v3:Uo,v4:function(e,t,n){var r=(e=e||{}).random||(e.rng||vo)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Ao(r)},v5:Vo,validate:ko,version:function(e){if(!ko(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},Symbol.toStringTag,{value:"Module"})),Go=x(qo);var Wo,Ho,Ko,$o;var Yo=function(){if($o)return Ko;$o=1;const e=Go.v4,t=function(){if(Ho)return Wo;Ho=1;const e=Go.v4;return Wo=function(t,n,r,i){if("string"!=typeof t)throw new TypeError(t+" must be a string");const s="number"==typeof(i=i||{}).version?i.version:2;if(1!==s&&2!==s)throw new TypeError(s+" must be 1 or 2");const o={method:t};if(2===s&&(o.jsonrpc="2.0"),n){if("object"!=typeof n&&!Array.isArray(n))throw new TypeError(n+" must be an object, array or omitted");o.params=n}if(void 0===r){const t="function"==typeof i.generator?i.generator:function(){return e()};o.id=t(o,i)}else 2===s&&null===r?i.notificationIdNull&&(o.id=null):o.id=r;return o}}(),n=function(t,r){if(!(this instanceof n))return new n(t,r);r||(r={}),this.options={reviver:void 0!==r.reviver?r.reviver:null,replacer:void 0!==r.replacer?r.replacer:null,generator:void 0!==r.generator?r.generator:function(){return e()},version:void 0!==r.version?r.version:2,notificationIdNull:"boolean"==typeof r.notificationIdNull&&r.notificationIdNull},this.callServer=t};return Ko=n,n.prototype.request=function(e,n,r,i){const s=this;let o=null;const a=Array.isArray(e)&&"function"==typeof n;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&e&&"object"==typeof e&&"function"==typeof n)i=n,o=e;else{"function"==typeof r&&(i=r,r=void 0);const s="function"==typeof i;try{o=t(e,n,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(c){if(s)return i(c);throw c}if(!s)return o}let l;try{l=JSON.stringify(o,this.options.replacer)}catch(c){return i(c)}return this.callServer(l,function(e,t){s._parseResponse(e,t,i)}),o},n.prototype._parseResponse=function(e,t,n){if(e)return void n(e);if(!t)return n();let r;try{r=JSON.parse(t,this.options.reviver)}catch(i){return n(i)}if(3===n.length){if(Array.isArray(r)){const e=function(e){return void 0!==e.error},t=function(t){return!e(t)};return n(null,r.filter(e),r.filter(t))}return n(null,r.error,r.result)}n(null,r)},Ko}();const Qo=k(Yo);var Xo,Zo={exports:{}};var Jo=(Xo||(Xo=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,s||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=new Array(s);i<s;i++)o[i]=r[i].fn;return o},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,s,o){var a=n?n+e:e;if(!this._events[a])return!1;var l,c,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,s),!0;case 6:return u.fn.call(u.context,t,r,i,s,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||o(this,s);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==t||i&&!a[l].once||r&&a[l].context!==r)&&c.push(a[l]);c.length?this._events[s]=1===c.length?c[0]:c:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a}(Zo)),Zo.exports);const ea=k(Jo);var ta=class extends ea{socket;constructor(e,t,n){super(),this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,n){const r=n||t;try{this.socket.send(e),r()}catch(i){r(i)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,n){this.socket.addEventListener(e,t,n)}};var na=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},ra=class extends ea{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,t="ws://localhost:8080",{autoconnect:n=!0,reconnect:r=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...o}={},a,l){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=n,this.ready=!1,this.reconnect=r,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=o,this.current_reconnects=0,this.generate_request_id=a||(()=>"number"==typeof this.rpc_id?++this.rpc_id:Number(this.rpc_id)+1),this.dataPack=l||new na,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,n,r){return r||"object"!=typeof n||(r=n,n=null),new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o=this.generate_request_id(e,t),a={jsonrpc:"2.0",method:e,params:t||void 0,id:o};this.socket.send(this.dataPack.encode(a),r,e=>{if(e)return s(e);this.queue[o]={promise:[i,s]},n&&(this.queue[o].timeout=setTimeout(()=>{delete this.queue[o],s(new Error("reply timeout"))},n))})})}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((n,r)=>{if(!this.ready)return r(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(i),e=>{if(e)return r(e);n()})})}async subscribe(e){"string"==typeof e&&(e=[e]);const t=await this.call("rpc.on",e);if("string"==typeof e&&"ok"!==t[e])throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"==typeof e&&(e=[e]);const t=await this.call("rpc.off",e);if("string"==typeof e&&"ok"!==t[e])throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket&&this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return void 0!==this.reconnect_timer_id}willReconnect(){return this.reconnect&&(0===this.max_reconnects||this.current_reconnects<this.max_reconnects)}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:e})=>{e instanceof ArrayBuffer&&(e=V.Buffer.from(e).toString());try{e=this.dataPack.decode(e)}catch(t){return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);const t=[e.notification];if(e.params.constructor===Object)t.push(e.params);else for(let n=0;n<e.params.length;n++)t.push(e.params[n]);return Promise.resolve().then(()=>{this.emit.apply(this,t)})}if(!this.queue[e.id])return e.method?Promise.resolve().then(()=>{this.emit(e.method,e?.params)}):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]}),this.socket.addEventListener("error",e=>this.emit("error",e)),this.socket.addEventListener("close",({code:n,reason:r})=>{this.ready&&setTimeout(()=>this.emit("close",n,r),0),this.ready=!1,this.socket=void 0,1e3!==n&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)?this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",n,r),1))})}};const ia=BigInt(0),sa=BigInt(1),oa=BigInt(2),aa=BigInt(7),la=BigInt(256),ca=BigInt(113),ua=[],da=[],ha=[];for(let TW=0,CW=sa,jW=1,IW=0;TW<24;TW++){[jW,IW]=[IW,(2*jW+3*IW)%5],ua.push(2*(5*IW+jW)),da.push((TW+1)*(TW+2)/2%64);let e=ia;for(let t=0;t<7;t++)CW=(CW<<sa^(CW>>aa)*ca)%la,CW&oa&&(e^=sa<<(sa<<BigInt(t))-sa);ha.push(e)}const fa=lr(ha,!0),pa=fa[0],ma=fa[1],ga=(e,t,n)=>n>32?((e,t,n)=>t<<n-32|e>>>64-n)(e,t,n):((e,t,n)=>e<<n|t>>>32-n)(e,t,n),ya=(e,t,n)=>n>32?((e,t,n)=>e<<n-32|t>>>64-n)(e,t,n):((e,t,n)=>t<<n|e>>>32-n)(e,t,n);class ba extends Xn{constructor(e,t,n,r=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,Tn(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}clone(){return this._cloneInto()}keccak(){Ln(this.state32),function(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,s=n[i],o=n[i+1],a=ga(s,o,1)^n[t],l=ya(s,o,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=l}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=da[n],s=ga(t,i,r),o=ya(t,i,r),a=ua[n];t=e[a],i=e[a+1],e[a]=s,e[a+1]=o}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=pa[r],e[1]^=ma[r]}On(n)}(this.state32,this.rounds),Ln(this.state32),this.posOut=0,this.pos=0}update(e){In(this),Cn(e=Yn(e));const{blockLen:t,state:n}=this,r=e.length;for(let i=0;i<r;){const s=Math.min(t-this.pos,r-i);for(let t=0;t<s;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,128&t&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){In(this,!1),Cn(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+s),r),this.posOut+=s,r+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Tn(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Rn(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,On(this.state)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:s}=this;return e||(e=new ba(t,n,r,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=s,e.destroyed=this.destroyed,e}}const wa=(()=>{return e=1,t=136,n=32,Zn(()=>new ba(t,e,n));var e,t,n})();class va extends Xn{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,jn(e);const n=Yn(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),On(i)}update(e){return In(this),this.iHash.update(e),this}digestInto(e){In(this),Cn(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:s,outputLen:o}=this;return e.finished=r,e.destroyed=i,e.blockLen=s,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const xa=(e,t,n)=>new va(e,t).update(n).digest();xa.create=(e,t)=>new va(e,t);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const ka=(e,t)=>(e+(e>=0?t:-t)/Ca)/t;function Sa(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function Ea(e,t){const n={};for(let r of Object.keys(t))n[r]=void 0===e[r]?t[r]:e[r];return Mr(n.lowS,"lowS"),Mr(n.prehash,"prehash"),void 0!==n.format&&Sa(n.format),n}class _a extends Error{constructor(e=""){super(e)}}const Na={Err:_a,_tlv:{encode:(e,t)=>{const{Err:n}=Na;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Lr(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Lr(i.length/2|128):"";return Lr(e)+s+i+t},decode(e,t){const{Err:n}=Na;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let s=0;if(!!(128&i)){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const o=t.subarray(r,r+e);if(o.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===o[0])throw new n("tlv.decode(long): zero leftmost byte");for(const t of o)s=s<<8|t;if(r+=e,s<128)throw new n("tlv.decode(long): not minimal encoding")}else s=i;const o=t.subarray(r,r+s);if(o.length!==s)throw new n("tlv.decode: wrong value length");return{v:o,l:t.subarray(r+s)}}},_int:{encode(e){const{Err:t}=Na;if(e<Aa)throw new t("integer: negative integers are not allowed");let n=Lr(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Na;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Ur(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Na,i=qr("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:l}=r.decode(2,s),{v:c,l:u}=r.decode(2,l);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(e){const{_tlv:t,_int:n}=Na,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},Aa=BigInt(0),Ta=BigInt(1),Ca=BigInt(2),ja=BigInt(3),Ia=BigInt(4);function Ra(e,t){const{BYTES:n}=e;let r;if("bigint"==typeof t)r=t;else{let s=qr("private key",t);try{r=e.fromBytes(s)}catch(i){throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function Oa(e,t={}){const n=Di("weierstrass",e,t),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o,n:a}=s;Yr(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=t;if(l&&(!r.is0(s.a)||"bigint"!=typeof l.beta||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const c=Ma(r,i);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const d=t.toBytes||function(e,t,n){const{x:i,y:s}=t.toAffine(),o=r.toBytes(i);if(Mr(n,"isCompressed"),n){u();return Qn(Pa(!r.isOdd(s)),o)}return Qn(Uint8Array.of(4),o,r.toBytes(s))},h=t.fromBytes||function(e){Dr(e,void 0,"Point");const{publicKey:t,publicKeyUncompressed:n}=c,i=e.length,s=e[0],o=e.subarray(1);if(i!==t||2!==s&&3!==s){if(i===n&&4===s){const e=r.BYTES,t=r.fromBytes(o.subarray(0,e)),n=r.fromBytes(o.subarray(e,2*e));if(!p(t,n))throw new Error("bad point: is not on curve");return{x:t,y:n}}throw new Error(`bad point: got length ${i}, expected compressed=${t} or uncompressed=${n}`)}{const e=r.fromBytes(o);if(!r.isValid(e))throw new Error("bad point: is not on curve, wrong x");const t=f(e);let n;try{n=r.sqrt(t)}catch(a){const e=a instanceof Error?": "+a.message:"";throw new Error("bad point: is not on curve, sqrt error"+e)}u();return!(1&~s)!==r.isOdd(n)&&(n=r.neg(n)),{x:e,y:n}}};function f(e){const t=r.sqr(e),n=r.mul(t,e);return r.add(r.add(n,r.mul(e,s.a)),s.b)}function p(e,t){const n=r.sqr(t),i=f(e);return r.eql(n,i)}if(!p(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const m=r.mul(r.pow(s.a,ja),Ia),g=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(m,g)))throw new Error("bad curve params: a or b");function y(e,t,n=!1){if(!r.isValid(t)||n&&r.is0(t))throw new Error(`bad point coordinate ${e}`);return t}function b(e){if(!(e instanceof S))throw new Error("ProjectivePoint expected")}function w(e){if(!l||!l.basises)throw new Error("no endo");return function(e,t,n){const[[r,i],[s,o]]=t,a=ka(o*e,n),l=ka(-i*e,n);let c=e-a*r-l*s,u=-a*i-l*o;const d=c<Aa,h=u<Aa;d&&(c=-c),h&&(u=-u);const f=$r(Math.ceil(Kr(n)/2))+Ta;if(c<Aa||c>=f||u<Aa||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:d,k1:c,k2neg:h,k2:u}}(e,l.basises,i.ORDER)}const v=Qr((e,t)=>{const{X:n,Y:i,Z:s}=e;if(r.eql(s,r.ONE))return{x:n,y:i};const o=e.is0();null==t&&(t=o?r.ONE:r.inv(s));const a=r.mul(n,t),l=r.mul(i,t),c=r.mul(s,t);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:a,y:l}}),x=Qr(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.Y))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not field elements");if(!p(n,i))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function k(e,t,n,i,s){return n=new S(r.mul(n.X,e),n.Y,n.Z),t=Ei(i,t),n=Ei(s,n),t.add(n)}class S{constructor(e,t,n){this.X=y("x",e),this.Y=y("y",t,!0),this.Z=y("z",n),Object.freeze(this)}static CURVE(){return s}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof S)throw new Error("projective point not allowed");return r.is0(t)&&r.is0(n)?S.ZERO:new S(t,n,r.ONE)}static fromBytes(e){const t=S.fromAffine(h(Dr(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return S.fromBytes(qr("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return _.createCache(this,e),t||this.multiply(ja),this}assertValidity(){x(this)}hasEvenY(){const{y:e}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(e)}equals(e){b(e);const{X:t,Y:n,Z:i}=this,{X:s,Y:o,Z:a}=e,l=r.eql(r.mul(t,a),r.mul(s,i)),c=r.eql(r.mul(n,a),r.mul(o,i));return l&&c}negate(){return new S(this.X,r.neg(this.Y),this.Z)}double(){const{a:e,b:t}=s,n=r.mul(t,ja),{X:i,Y:o,Z:a}=this;let l=r.ZERO,c=r.ZERO,u=r.ZERO,d=r.mul(i,i),h=r.mul(o,o),f=r.mul(a,a),p=r.mul(i,o);return p=r.add(p,p),u=r.mul(i,a),u=r.add(u,u),l=r.mul(e,u),c=r.mul(n,f),c=r.add(l,c),l=r.sub(h,c),c=r.add(h,c),c=r.mul(l,c),l=r.mul(p,l),u=r.mul(n,u),f=r.mul(e,f),p=r.sub(d,f),p=r.mul(e,p),p=r.add(p,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,f),d=r.mul(d,p),c=r.add(c,d),f=r.mul(o,a),f=r.add(f,f),d=r.mul(f,p),l=r.sub(l,d),u=r.mul(f,h),u=r.add(u,u),u=r.add(u,u),new S(l,c,u)}add(e){b(e);const{X:t,Y:n,Z:i}=this,{X:o,Y:a,Z:l}=e;let c=r.ZERO,u=r.ZERO,d=r.ZERO;const h=s.a,f=r.mul(s.b,ja);let p=r.mul(t,o),m=r.mul(n,a),g=r.mul(i,l),y=r.add(t,n),w=r.add(o,a);y=r.mul(y,w),w=r.add(p,m),y=r.sub(y,w),w=r.add(t,i);let v=r.add(o,l);return w=r.mul(w,v),v=r.add(p,g),w=r.sub(w,v),v=r.add(n,i),c=r.add(a,l),v=r.mul(v,c),c=r.add(m,g),v=r.sub(v,c),d=r.mul(h,w),c=r.mul(f,g),d=r.add(c,d),c=r.sub(m,d),d=r.add(m,d),u=r.mul(c,d),m=r.add(p,p),m=r.add(m,p),g=r.mul(h,g),w=r.mul(f,w),m=r.add(m,g),g=r.sub(p,g),g=r.mul(h,g),w=r.add(w,g),p=r.mul(m,w),u=r.add(u,p),p=r.mul(v,w),c=r.mul(y,c),c=r.sub(c,p),p=r.mul(y,m),d=r.mul(v,d),d=r.add(d,p),new S(c,u,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(S.ZERO)}multiply(e){const{endo:n}=t;if(!i.isValidNot0(e))throw new Error("invalid scalar: out of range");let r,s;const o=e=>_.cached(this,e,e=>_i(S,e));if(n){const{k1neg:t,k1:i,k2neg:a,k2:l}=w(e),{p:c,f:u}=o(i),{p:d,f:h}=o(l);s=u.add(h),r=k(n.beta,c,d,t,a)}else{const{p:t,f:n}=o(e);r=t,s=n}return _i(S,[r,s])[0]}multiplyUnsafe(e){const{endo:n}=t,r=this;if(!i.isValid(e))throw new Error("invalid scalar: out of range");if(e===Aa||r.is0())return S.ZERO;if(e===Ta)return r;if(_.hasCache(this))return this.multiply(e);if(n){const{k1neg:t,k1:i,k2neg:s,k2:o}=w(e),{p1:a,p2:l}=function(e,t,n,r){let i=t,s=e.ZERO,o=e.ZERO;for(;n>ki||r>ki;)n&Si&&(s=s.add(i)),r&Si&&(o=o.add(i)),i=i.double(),n>>=Si,r>>=Si;return{p1:s,p2:o}}(S,r,i,o);return k(n.beta,a,l,t,s)}return _.unsafe(r,e)}multiplyAndAddUnsafe(e,t,n){const r=this.multiplyUnsafe(t).add(e.multiplyUnsafe(n));return r.is0()?void 0:r}toAffine(e){return v(this,e)}isTorsionFree(){const{isTorsionFree:e}=t;return o===Ta||(e?e(S,this):_.unsafe(this,a).is0())}clearCofactor(){const{clearCofactor:e}=t;return o===Ta?this:e?e(S,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(e=!0){return Mr(e,"isCompressed"),this.assertValidity(),d(S,this,e)}toHex(e=!0){return Fn(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return _i(S,e)}static msm(e,t){return Pi(S,i,e,t)}static fromPrivateKey(e){return S.BASE.multiply(Ra(i,e))}}S.BASE=new S(s.Gx,s.Gy,r.ONE),S.ZERO=new S(r.ZERO,r.ONE,r.ZERO),S.Fp=r,S.Fn=i;const E=i.BITS,_=new Oi(S,t.endo?Math.ceil(E/2):E);return S.BASE.precompute(8),S}function Pa(e){return Uint8Array.of(e?2:3)}function Ma(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function Da(e,t={}){const{Fn:n}=e,r=t.randomBytes||Jn,i=Object.assign(Ma(e.Fp,n),{seed:xi(n.ORDER)});function s(e){try{return!!Ra(n,e)}catch(t){return!1}}function o(e=r(i.seed)){return function(e,t,n=!1){const r=e.length,i=vi(t),s=xi(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=ai(n?Fr(e):Ur(e),t-Zr)+Zr;return n?Vr(o,i):zr(o,i)}(Dr(e,i.seed,"seed"),n.ORDER)}function a(t,r=!0){return e.BASE.multiply(Ra(n,t)).toBytes(r)}function l(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;const{secretKey:r,publicKey:s,publicKeyUncompressed:o}=i;if(n.allowedLengths||r===s)return;const a=qr("key",t).length;return a===s||a===o}const c={isValidSecretKey:s,isValidPublicKey:function(t,n){const{publicKey:r,publicKeyUncompressed:s}=i;try{const i=t.length;return(!0!==n||i===r)&&((!1!==n||i===s)&&!!e.fromBytes(t))}catch(o){return!1}},randomSecretKey:o,isValidPrivateKey:s,randomPrivateKey:o,normPrivateKeyToScalar:e=>Ra(n,e),precompute:(t=8,n=e.BASE)=>n.precompute(t,!1)};return Object.freeze({getPublicKey:a,getSharedSecret:function(t,r,i=!0){if(!0===l(t))throw new Error("first arg must be private key");if(!1===l(r))throw new Error("second arg must be public key");const s=Ra(n,t);return e.fromHex(r).multiply(s).toBytes(i)},keygen:function(e){const t=o(e);return{secretKey:t,publicKey:a(t)}},Point:e,utils:c,lengths:i})}function La(e,t,n={}){jn(t),Yr(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||Jn,i=n.hmac||((e,...n)=>xa(t,e,Qn(...n))),{Fp:s,Fn:o}=e,{ORDER:a,BITS:l}=o,{keygen:c,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f}=Da(e,n),p={prehash:!1,lowS:"boolean"==typeof n.lowS&&n.lowS,format:void 0,extraEntropy:!1},m="compact";function g(e){return e>a>>Ta}function y(e,t){if(!o.isValidNot0(t))throw new Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class b{constructor(e,t,n){this.r=y("r",e),this.s=y("s",t),null!=n&&(this.recovery=n),Object.freeze(this)}static fromBytes(e,t=m){let n;if(function(e,t){Sa(t);const n=f.signature;Dr(e,"compact"===t?n:"recovered"===t?n+1:void 0,`${t} signature`)}(e,t),"der"===t){const{r:t,s:n}=Na.toSig(Dr(e));return new b(t,n)}"recovered"===t&&(n=e[0],t="compact",e=e.subarray(1));const r=o.BYTES,i=e.subarray(0,r),s=e.subarray(r,2*r);return new b(o.fromBytes(i),o.fromBytes(s),n)}static fromHex(e,t){return this.fromBytes($n(e),t)}addRecoveryBit(e){return new b(this.r,this.s,e)}recoverPublicKey(t){const n=s.ORDER,{r:r,s:i,recovery:l}=this;if(null==l||![0,1,2,3].includes(l))throw new Error("recovery id invalid");if(a*Ca<n&&l>1)throw new Error("recovery id is ambiguous for h>1 curve");const c=2===l||3===l?r+a:r;if(!s.isValid(c))throw new Error("recovery id 2 or 3 invalid");const u=s.toBytes(c),d=e.fromBytes(Qn(Pa(!(1&l)),u)),h=o.inv(c),f=v(qr("msgHash",t)),p=o.create(-f*h),m=o.create(i*h),g=e.BASE.multiplyUnsafe(p).add(d.multiplyUnsafe(m));if(g.is0())throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return g(this.s)}toBytes(e=m){if(Sa(e),"der"===e)return $n(Na.hexFromSig(this));const t=o.toBytes(this.r),n=o.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw new Error("recovery bit must be present");return Qn(Uint8Array.of(this.recovery),t,n)}return Qn(t,n)}toHex(e){return Fn(this.toBytes(e))}assertValidity(){}static fromCompact(e){return b.fromBytes(qr("sig",e),"compact")}static fromDER(e){return b.fromBytes(qr("sig",e),"der")}normalizeS(){return this.hasHighS()?new b(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Fn(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Fn(this.toBytes("compact"))}}const w=n.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=Ur(e),n=8*e.length-l;return n>0?t>>BigInt(n):t},v=n.bits2int_modN||function(e){return o.create(w(e))},x=$r(l);function k(e){return Hr("num < 2^"+l,e,Aa,x),o.toBytes(e)}function S(e,n){return Dr(e,void 0,"message"),n?Dr(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:c,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f,Point:e,sign:function(n,s,a={}){n=qr("message",n);const{seed:l,k2sig:c}=function(t,n,i){if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{lowS:s,prehash:a,extraEntropy:l}=Ea(i,p);t=S(t,a);const c=v(t),u=Ra(o,n),d=[k(u),k(c)];if(null!=l&&!1!==l){const e=!0===l?r(f.secretKey):l;d.push(qr("extraEntropy",e))}const h=Qn(...d),m=c;return{seed:h,k2sig:function(t){const n=w(t);if(!o.isValidNot0(n))return;const r=o.inv(n),i=e.BASE.multiply(n).toAffine(),a=o.create(i.x);if(a===Aa)return;const l=o.create(r*o.create(m+a*u));if(l===Aa)return;let c=(i.x===a?0:2)|Number(i.y&Ta),d=l;return s&&g(l)&&(d=o.neg(l),c^=1),new b(a,d,c)}}}(n,s,a),u=function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");const r=e=>new Uint8Array(e),i=e=>Uint8Array.of(e);let s=r(e),o=r(e),a=0;const l=()=>{s.fill(1),o.fill(0),a=0},c=(...e)=>n(o,s,...e),u=(e=r(0))=>{o=c(i(0),e),s=c(),0!==e.length&&(o=c(i(1),e),s=c())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){s=c();const t=s.slice();n.push(t),e+=s.length}return Qn(...n)};return(e,t)=>{let n;for(l(),u(e);!(n=t(d()));)u();return l(),n}}(t.outputLen,o.BYTES,i);return u(l,c)},verify:function(t,n,r,i={}){const{lowS:s,prehash:a,format:l}=Ea(i,p);if(r=qr("publicKey",r),n=S(qr("message",n),a),"strict"in i)throw new Error("options.strict was renamed to lowS");const c=void 0===l?function(e){let t;const n="string"==typeof e||An(e),r=!n&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!n&&!r)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(r)t=new b(e.r,e.s);else if(n){try{t=b.fromBytes(qr("sig",e),"der")}catch(i){if(!(i instanceof Na.Err))throw i}if(!t)try{t=b.fromBytes(qr("sig",e),"compact")}catch(s){return!1}}return t||!1}(t):b.fromBytes(qr("sig",t),l);if(!1===c)return!1;try{const t=e.fromBytes(r);if(s&&c.hasHighS())return!1;const{r:i,s:a}=c,l=v(n),u=o.inv(a),d=o.create(l*u),h=o.create(i*u),f=e.BASE.multiplyUnsafe(d).add(t.multiplyUnsafe(h));if(f.is0())return!1;return o.create(f.x)===i}catch(u){return!1}},recoverPublicKey:function(e,t,n={}){const{prehash:r}=Ea(n,p);return t=S(t,r),b.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:b,hash:t})}function Ba(e){const{CURVE:t,curveOpts:n}=function(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0;return{CURVE:t,curveOpts:{Fp:n,Fn:wi(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes}}}(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function Ua(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:i}=Ba(e);return function(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,bi(n.Fn.ORDER,n.Fn.BITS))})}(e,La(Oa(t,n),r,i))}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Fa={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},za={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},Va=BigInt(2);const qa=wi(Fa.p,{sqrt:function(e){const t=Fa.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,d=li(u,n,t)*u%t,h=li(d,n,t)*u%t,f=li(h,Va,t)*c%t,p=li(f,i,t)*f%t,m=li(p,s,t)*p%t,g=li(m,a,t)*m%t,y=li(g,l,t)*g%t,b=li(y,a,t)*m%t,w=li(b,n,t)*u%t,v=li(w,o,t)*p%t,x=li(v,r,t)*c%t,k=li(x,Va,t);if(!qa.eql(qa.sqr(k),e))throw new Error("Cannot find square root");return k}}),Ga=function(e,t){const n=t=>Ua({...e,hash:t});return{...n(t),create:n}}({...Fa,Fp:qa,lowS:!0,endo:za},Ir),Wa=es.utils.randomPrivateKey,Ha=()=>{const e=es.utils.randomPrivateKey(),t=Ka(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),{publicKey:t,secretKey:n}},Ka=es.getPublicKey;function $a(e){try{return es.ExtendedPoint.fromHex(e),!0}catch{return!1}}const Ya=(e,t)=>es.sign(e,t.slice(0,32)),Qa=es.verify,Xa=e=>V.Buffer.isBuffer(e)?e:e instanceof Uint8Array?V.Buffer.from(e.buffer,e.byteOffset,e.byteLength):V.Buffer.from(e);let Za=class{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(Is.serialize(Ja,this))}static decode(e){return Is.deserialize(Ja,this,e)}static decodeUnchecked(e){return Is.deserializeUnchecked(Ja,this,e)}};const Ja=new Map;var el;const tl=32;let nl=1;class rl extends Za{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"==typeof e){const t=ms.decode(e);if(t.length!=tl)throw new Error("Invalid public key input");this._bn=new os(t)}else this._bn=new os(e);if(this._bn.byteLength()>tl)throw new Error("Invalid public key input")}}static unique(){const e=new rl(nl);return nl+=1,new rl(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ms.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===tl)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const r=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),n.toBuffer()]),i=gs(r);return new rl(i)}static createProgramAddressSync(e,t){let n=V.Buffer.alloc(0);e.forEach(function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=V.Buffer.concat([n,Xa(e)])}),n=V.Buffer.concat([n,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const r=gs(n);if($a(r))throw new Error("Invalid seeds, address must fall off the curve");return new rl(r)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n,r=255;for(;0!=r;){try{const i=e.concat(V.Buffer.from([r]));n=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return $a(new rl(e).toBytes())}}el=rl,rl.default=new el("11111111111111111111111111111111"),Ja.set(rl,{kind:"struct",fields:[["_bn","u256"]]});const il=new rl("BPFLoader1111111111111111111111111111111111"),sl=1232,ol=127;class al extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(al.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class ll extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ll.prototype,"name",{value:"TransactionExpiredTimeoutError"});class cl extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(cl.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class ul{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach((e,n)=>{t.set(e.toBase58(),n)});const n=e=>{const n=t.get(e.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return e.map(e=>({programIdIndex:n(e.programId),accountKeyIndexes:e.keys.map(e=>n(e.pubkey)),data:e.data}))}}const dl=(e="publicKey")=>Os.blob(32,e),hl=(e="signature")=>Os.blob(64,e),fl=(e="string")=>{const t=Os.struct([Os.u32("length"),Os.u32("lengthPadding"),Os.blob(Os.offset(Os.u32(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(e,t)=>n(e,t).chars.toString(),i.encode=(e,t,n)=>{const i={chars:V.Buffer.from(e,"utf8")};return r(i,t,n)},i.alloc=e=>Os.u32().span+Os.u32().span+V.Buffer.from(e,"utf8").length,i};function pl(e,t){const n=e=>{if(e.span>=0)return e.span;if("function"==typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const r=t[e.property];if(Array.isArray(r))return r.length*n(e.elementLayout)}else if("fields"in e)return pl({layout:e},t[e.property]);return 0};let r=0;return e.layout.fields.forEach(e=>{r+=n(e)}),r}function ml(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(127&r)<<7*n,n+=1,!(128&r))break}return t}function gl(e,t){let n=t;for(;;){let t=127&n;if(n>>=7,0==n){e.push(t);break}t|=128,e.push(t)}}function yl(e,t){if(!e)throw new Error(t||"Assertion failed")}class bl{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const n=new Map,r=e=>{const t=e.toBase58();let r=n.get(t);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(t,r)),r},i=r(t);i.isSigner=!0,i.isWritable=!0;for(const s of e){r(s.programId).isInvoked=!0;for(const e of s.keys){const t=r(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}}return new bl(t,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];yl(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,e])=>e.isSigner&&e.isWritable),n=e.filter(([,e])=>e.isSigner&&!e.isWritable),r=e.filter(([,e])=>!e.isSigner&&e.isWritable),i=e.filter(([,e])=>!e.isSigner&&!e.isWritable),s={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{yl(t.length>0,"Expected at least one writable signer key");const[e]=t[0];yl(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[s,[...t.map(([e])=>new rl(e)),...n.map(([e])=>new rl(e)),...r.map(([e])=>new rl(e)),...i.map(([e])=>new rl(e))]]}extractTableLookup(e){const[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&e.isWritable),[r,i]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&!e.isWritable);if(0!==t.length||0!==r.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:r},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,t){const n=new Array,r=new Array;for(const[i,s]of this.keyMetaMap.entries())if(t(s)){const t=new rl(i),s=e.findIndex(e=>e.equals(t));s>=0&&(yl(s<256,"Max lookup table index exceeded"),n.push(s),r.push(t),this.keyMetaMap.delete(i))}return[n,r]}}const wl="Reached end of buffer unexpectedly";function vl(e){if(0===e.length)throw new Error(wl);return e.shift()}function xl(e,...t){const[n]=t;if(2===t.length?n+(t[1]??0)>e.length:n>=e.length)throw new Error(wl);return e.splice(...t)}class kl{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(e=>new rl(e)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ms.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new ul(this.staticAccountKeys)}static compile(e){const t=bl.compile(e.instructions,e.payerKey),[n,r]=t.getMessageComponents(),i=new ul(r).compileInstructions(e.instructions).map(e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:ms.encode(e.data)}));return new kl({header:n,accountKeys:r,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){return e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];gl(t,e);const n=this.instructions.map(e=>{const{accounts:t,programIdIndex:n}=e,r=Array.from(ms.decode(e.data));let i=[];gl(i,t.length);let s=[];return gl(s,r.length),{programIdIndex:n,keyIndicesCount:V.Buffer.from(i),keyIndices:t,dataLength:V.Buffer.from(s),data:r}});let r=[];gl(r,n.length);let i=V.Buffer.alloc(sl);V.Buffer.from(r).copy(i);let s=r.length;n.forEach(e=>{const t=Os.struct([Os.u8("programIdIndex"),Os.blob(e.keyIndicesCount.length,"keyIndicesCount"),Os.seq(Os.u8("keyIndex"),e.keyIndices.length,"keyIndices"),Os.blob(e.dataLength.length,"dataLength"),Os.seq(Os.u8("userdatum"),e.data.length,"data")]).encode(e,i,s);s+=t}),i=i.slice(0,s);const o=Os.struct([Os.blob(1,"numRequiredSignatures"),Os.blob(1,"numReadonlySignedAccounts"),Os.blob(1,"numReadonlyUnsignedAccounts"),Os.blob(t.length,"keyCount"),Os.seq(dl("key"),e,"keys"),dl("recentBlockhash")]),a={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(e=>Xa(e.toBytes())),recentBlockhash:ms.decode(this.recentBlockhash)};let l=V.Buffer.alloc(2048);const c=o.encode(a,l);return i.copy(l,c),l.slice(0,c+i.length)}static from(e){let t=[...e];const n=vl(t);if(n!==(n&ol))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const r=vl(t),i=vl(t),s=ml(t);let o=[];for(let d=0;d<s;d++){const e=xl(t,0,tl);o.push(new rl(V.Buffer.from(e)))}const a=xl(t,0,tl),l=ml(t);let c=[];for(let d=0;d<l;d++){const e=vl(t),n=xl(t,0,ml(t)),r=xl(t,0,ml(t)),i=ms.encode(V.Buffer.from(r));c.push({programIdIndex:e,accounts:n,data:i})}const u={header:{numRequiredSignatures:n,numReadonlySignedAccounts:r,numReadonlyUnsignedAccounts:i},recentBlockhash:ms.encode(V.Buffer.from(a)),accountKeys:o,instructions:c};return new kl(u)}}class Sl{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new ul(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){return e-n<this.addressTableLookups.reduce((e,t)=>e+t.writableIndexes.length,0)}if(e>=this.header.numRequiredSignatures){return e-t<n-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const r=e.find(e=>e.key.equals(n.accountKey));if(!r)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const e of n.writableIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.writable.push(r.state.addresses[e])}for(const e of n.readonlyIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.readonly.push(r.state.addresses[e])}}return t}static compile(e){const t=bl.compile(e.instructions,e.payerKey),n=new Array,r={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const e=t.extractTableLookup(l);if(void 0!==e){const[t,{writable:i,readonly:s}]=e;n.push(t),r.writable.push(...i),r.readonly.push(...s)}}const[s,o]=t.getMessageComponents(),a=new ul(o,r).compileInstructions(e.instructions);return new Sl({header:s,staticAccountKeys:o,recentBlockhash:e.recentBlockhash,compiledInstructions:a,addressTableLookups:n})}serialize(){const e=Array();gl(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();gl(n,this.compiledInstructions.length);const r=this.serializeAddressTableLookups(),i=Array();gl(i,this.addressTableLookups.length);const s=Os.struct([Os.u8("prefix"),Os.struct([Os.u8("numRequiredSignatures"),Os.u8("numReadonlySignedAccounts"),Os.u8("numReadonlyUnsignedAccounts")],"header"),Os.blob(e.length,"staticAccountKeysLength"),Os.seq(dl(),this.staticAccountKeys.length,"staticAccountKeys"),dl("recentBlockhash"),Os.blob(n.length,"instructionsLength"),Os.blob(t.length,"serializedInstructions"),Os.blob(i.length,"addressTableLookupsLength"),Os.blob(r.length,"serializedAddressTableLookups")]),o=new Uint8Array(sl),a=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(e=>e.toBytes()),recentBlockhash:ms.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:r},o);return o.slice(0,a)}serializeInstructions(){let e=0;const t=new Uint8Array(sl);for(const n of this.compiledInstructions){const r=Array();gl(r,n.accountKeyIndexes.length);const i=Array();gl(i,n.data.length);e+=Os.struct([Os.u8("programIdIndex"),Os.blob(r.length,"encodedAccountKeyIndexesLength"),Os.seq(Os.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),Os.blob(i.length,"encodedDataLength"),Os.blob(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(r),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(sl);for(const n of this.addressTableLookups){const r=Array();gl(r,n.writableIndexes.length);const i=Array();gl(i,n.readonlyIndexes.length);e+=Os.struct([dl("accountKey"),Os.blob(r.length,"encodedWritableIndexesLength"),Os.seq(Os.u8(),n.writableIndexes.length,"writableIndexes"),Os.blob(i.length,"encodedReadonlyIndexesLength"),Os.seq(Os.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(r),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const n=vl(t),r=n&ol;yl(n!==r,"Expected versioned message but received legacy message");yl(0===r,`Expected versioned message with version 0 but found version ${r}`);const i={numRequiredSignatures:vl(t),numReadonlySignedAccounts:vl(t),numReadonlyUnsignedAccounts:vl(t)},s=[],o=ml(t);for(let h=0;h<o;h++)s.push(new rl(xl(t,0,tl)));const a=ms.encode(xl(t,0,tl)),l=ml(t),c=[];for(let h=0;h<l;h++){const e=vl(t),n=xl(t,0,ml(t)),r=ml(t),i=new Uint8Array(xl(t,0,r));c.push({programIdIndex:e,accountKeyIndexes:n,data:i})}const u=ml(t),d=[];for(let h=0;h<u;h++){const e=new rl(xl(t,0,tl)),n=xl(t,0,ml(t)),r=xl(t,0,ml(t));d.push({accountKey:e,writableIndexes:n,readonlyIndexes:r})}return new Sl({header:i,staticAccountKeys:s,recentBlockhash:a,compiledInstructions:c,addressTableLookups:d})}}const El={deserializeMessageVersion(e){const t=e[0],n=t&ol;return n===t?"legacy":n},deserialize:e=>{const t=El.deserializeMessageVersion(e);if("legacy"===t)return kl.from(e);if(0===t)return Sl.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let _l=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const Nl=V.Buffer.alloc(64).fill(0);class Al{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class Tl{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{const{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Al(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let p=0;p<t.length;p++)if(void 0===t[p].programId)throw new Error(`Transaction instruction index ${p} has undefined program id`);const r=[],i=[];t.forEach(e=>{e.keys.forEach(e=>{i.push({...e})});const t=e.programId.toString();r.includes(t)||r.push(t)}),r.forEach(e=>{i.push({pubkey:new rl(e),isSigner:!1,isWritable:!1})});const s=[];i.forEach(e=>{const t=e.pubkey.toString(),n=s.findIndex(e=>e.pubkey.toString()===t);n>-1?(s[n].isWritable=s[n].isWritable||e.isWritable,s[n].isSigner=s[n].isSigner||e.isSigner):s.push(e)}),s.sort(function(e,t){if(e.isSigner!==t.isSigner)return e.isSigner?-1:1;if(e.isWritable!==t.isWritable)return e.isWritable?-1:1;return e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});const o=s.findIndex(e=>e.pubkey.equals(n));if(o>-1){const[e]=s.splice(o,1);e.isSigner=!0,e.isWritable=!0,s.unshift(e)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const p of this.signatures){const e=s.findIndex(e=>e.pubkey.equals(p.publicKey));if(!(e>-1))throw new Error(`unknown signer: ${p.publicKey.toString()}`);s[e].isSigner||(s[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,l=0,c=0;const u=[],d=[];s.forEach(({pubkey:e,isSigner:t,isWritable:n})=>{t?(u.push(e.toString()),a+=1,n||(l+=1)):(d.push(e.toString()),n||(c+=1))});const h=u.concat(d),f=t.map(e=>{const{data:t,programId:n}=e;return{programIdIndex:h.indexOf(n.toString()),accounts:e.keys.map(e=>h.indexOf(e.pubkey.toString())),data:ms.encode(t)}});return f.forEach(e=>{yl(e.programIdIndex>=0),e.accounts.forEach(e=>yl(e>=0))}),new kl({header:{numRequiredSignatures:a,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:c},accountKeys:h,recentBlockhash:e,instructions:f})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every((e,n)=>t[n].equals(e.publicKey)))return e}return this.signatures=t.map(e=>({signature:null,publicKey:e})),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const t=new Set;this.signatures=e.filter(e=>{const n=e.toString();return!t.has(n)&&(t.add(n),!0)}).map(e=>({signature:null,publicKey:e}))}sign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,n=[];for(const i of e){const e=i.publicKey.toString();t.has(e)||(t.add(e),n.push(i))}this.signatures=n.map(e=>({signature:null,publicKey:e.publicKey}));const r=this._compile();this._partialSign(r,...n)}partialSign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,n=[];for(const i of e){const e=i.publicKey.toString();t.has(e)||(t.add(e),n.push(i))}const r=this._compile();this._partialSign(r,...n)}_partialSign(e,...t){const n=e.serialize();t.forEach(e=>{const t=Ya(n,e.secretKey);this._addSignature(e.publicKey,Xa(t))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){yl(64===t.length);const n=this.signatures.findIndex(t=>e.equals(t.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const n={};for(const{signature:r,publicKey:i}of this.signatures)null===r?t&&(n.missing||=[]).push(i):Qa(r,e,i.toBytes())||(n.invalid||=[]).push(i);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=this.serializeMessage();if(n){const e=this._getMessageSignednessErrors(r,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`\nInvalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map(e=>e.toBase58()).join("`, `")}\`].`),e.missing&&(t+=`\nMissing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map(e=>e.toBase58()).join("`, `")}\`].`),new Error(t)}}return this._serialize(r)}_serialize(e){const{signatures:t}=this,n=[];gl(n,t.length);const r=n.length+64*t.length+e.length,i=V.Buffer.alloc(r);return yl(t.length<256),V.Buffer.from(n).copy(i,0),t.forEach(({signature:e},t)=>{null!==e&&(yl(64===e.length,"signature has invalid length"),V.Buffer.from(e).copy(i,n.length+64*t))}),e.copy(i,n.length+64*t.length),yl(i.length<=sl,`Transaction too large: ${i.length} > 1232`),i}get keys(){return yl(1===this.instructions.length),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return yl(1===this.instructions.length),this.instructions[0].programId}get data(){return yl(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const n=ml(t);let r=[];for(let i=0;i<n;i++){const e=xl(t,0,64);r.push(ms.encode(V.Buffer.from(e)))}return Tl.populate(kl.from(t),r)}static populate(e,t=[]){const n=new Tl;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((t,r)=>{const i={signature:t==ms.encode(Nl)?null:ms.decode(t),publicKey:e.accountKeys[r]};n.signatures.push(i)}),e.instructions.forEach(t=>{const r=t.accounts.map(t=>{const r=e.accountKeys[t];return{pubkey:r,isSigner:n.signatures.some(e=>e.publicKey.toString()===r.toString())||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}});n.instructions.push(new Al({keys:r,programId:e.accountKeys[t.programIdIndex],data:ms.decode(t.data)}))}),n._message=e,n._json=n.toJSON(),n}}class Cl{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:n,compiledInstructions:r,recentBlockhash:i}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:a}=n,l=s-o;yl(l>0,"Message header is invalid");const c=e.staticAccountKeys.length-s-a;yl(c>=0,"Message header is invalid");const u=e.getAccountKeys(t),d=u.get(0);if(void 0===d)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const f of r){const e=[];for(const r of f.accountKeyIndexes){const t=u.get(r);if(void 0===t)throw new Error(`Failed to find key for account key index ${r}`);let i;i=r<s?r<l:r<u.staticAccountKeys.length?r-s<c:r-u.staticAccountKeys.length<u.accountKeysFromLookups.writable.length,e.push({pubkey:t,isSigner:r<n.numRequiredSignatures,isWritable:i})}const t=u.get(f.programIdIndex);if(void 0===t)throw new Error(`Failed to find program id for program id index ${f.programIdIndex}`);h.push(new Al({programId:t,data:Xa(f.data),keys:e}))}return new Cl({payerKey:d,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return kl.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Sl.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class jl{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)yl(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const t=[];for(let n=0;n<e.header.numRequiredSignatures;n++)t.push(new Uint8Array(64));this.signatures=t}this.message=e}serialize(){const e=this.message.serialize(),t=Array();gl(t,this.signatures.length);const n=Os.struct([Os.blob(t.length,"encodedSignaturesLength"),Os.seq(hl(),this.signatures.length,"signatures"),Os.blob(e.length,"serializedMessage")]),r=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},r);return r.slice(0,i)}static deserialize(e){let t=[...e];const n=[],r=ml(t);for(let s=0;s<r;s++)n.push(new Uint8Array(xl(t,0,64)));const i=El.deserialize(new Uint8Array(t));return new jl(i,n)}sign(e){const t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const r of e){const e=n.findIndex(e=>e.equals(r.publicKey));yl(e>=0,`Cannot sign with non signer key ${r.publicKey.toBase58()}`),this.signatures[e]=Ya(t,r.secretKey)}}addSignature(e,t){yl(64===t.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(t=>t.equals(e));yl(n>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=t}}const Il=new rl("SysvarC1ock11111111111111111111111111111111"),Rl=new rl("SysvarEpochSchedu1e111111111111111111111111"),Ol=new rl("Sysvar1nstructions1111111111111111111111111"),Pl=new rl("SysvarRecentB1ockHashes11111111111111111111"),Ml=new rl("SysvarRent111111111111111111111111111111111"),Dl=new rl("SysvarRewards111111111111111111111111111111"),Ll=new rl("SysvarS1otHashes111111111111111111111111111"),Bl=new rl("SysvarS1otHistory11111111111111111111111111"),Ul=new rl("SysvarStakeHistory1111111111111111111111111");class Fl extends Error{constructor({action:e,signature:t,transactionMessage:n,logs:r}){const i=r?`Logs: \n${JSON.stringify(r.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let o;switch(e){case"send":o=`Transaction ${t} resulted in an error. \n${n}. `+i+s;break;case"simulate":o=`Simulation failed. \nMessage: ${n}. \n`+i+s;break;default:o=`Unknown action '${(e=>e)(e)}'`}super(o),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=n,this.transactionLogs=r||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(null==e||"object"!=typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,n)=>{e.getTransaction(this.signature).then(e=>{if(e&&e.meta&&e.meta.logMessages){const n=e.meta.logMessages;this.transactionLogs=n,t(n)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}class zl extends Error{constructor({code:e,message:t,data:n},r){super(null!=r?`${r}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}async function Vl(e,t,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await e.sendTransaction(t,n,i);let o;if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)o=(await e.confirmTransaction({abortSignal:r?.abortSignal,signature:s,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},r&&r.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){const{nonceInstruction:n}=t.nonceInfo,i=n.keys[0].pubkey;o=(await e.confirmTransaction({abortSignal:r?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:t.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else null!=r?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await e.confirmTransaction(s,r&&r.commitment)).value;if(o.err){if(null!=s)throw new Fl({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`});throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`)}return s}function ql(e){return new Promise(t=>setTimeout(t,e))}function Gl(e,t){const n=e.layout.span>=0?e.layout.span:pl(e,t),r=V.Buffer.alloc(n),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,r),r}function Wl(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${e.index}`);return n}const Hl=Os.nu64("lamportsPerSignature"),Kl=Os.struct([Os.u32("version"),Os.u32("state"),dl("authorizedPubkey"),dl("nonce"),Os.struct([Hl],"feeCalculator")]),$l=Kl.span;class Yl{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=Kl.decode(Xa(e),0);return new Yl({authorizedPubkey:new rl(t.authorizedPubkey),nonce:new rl(t.nonce).toString(),feeCalculator:t.feeCalculator})}}function Ql(e){const t=Os.blob(8,e),n=t.decode.bind(t),r=t.encode.bind(t),i=t,s=qs();return i.decode=(e,t)=>{const r=n(e,t);return s.decode(r)},i.encode=(e,t,n)=>{const i=s.encode(e);return r(i,t,n)},i}const Xl=Object.freeze({Create:{index:0,layout:Os.struct([Os.u32("instruction"),Os.ns64("lamports"),Os.ns64("space"),dl("programId")])},Assign:{index:1,layout:Os.struct([Os.u32("instruction"),dl("programId")])},Transfer:{index:2,layout:Os.struct([Os.u32("instruction"),Ql("lamports")])},CreateWithSeed:{index:3,layout:Os.struct([Os.u32("instruction"),dl("base"),fl("seed"),Os.ns64("lamports"),Os.ns64("space"),dl("programId")])},AdvanceNonceAccount:{index:4,layout:Os.struct([Os.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:Os.struct([Os.u32("instruction"),Os.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:Os.struct([Os.u32("instruction"),dl("authorized")])},AuthorizeNonceAccount:{index:7,layout:Os.struct([Os.u32("instruction"),dl("authorized")])},Allocate:{index:8,layout:Os.struct([Os.u32("instruction"),Os.ns64("space")])},AllocateWithSeed:{index:9,layout:Os.struct([Os.u32("instruction"),dl("base"),fl("seed"),Os.ns64("space"),dl("programId")])},AssignWithSeed:{index:10,layout:Os.struct([Os.u32("instruction"),dl("base"),fl("seed"),dl("programId")])},TransferWithSeed:{index:11,layout:Os.struct([Os.u32("instruction"),Ql("lamports"),fl("seed"),dl("programId")])},UpgradeNonceAccount:{index:12,layout:Os.struct([Os.u32("instruction")])}});class Zl{constructor(){}static createAccount(e){const t=Gl(Xl.Create,{lamports:e.lamports,space:e.space,programId:Xa(e.programId.toBuffer())});return new Al({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,n;if("basePubkey"in e){t=Gl(Xl.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:Xa(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=Gl(Xl.Transfer,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Al({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){t=Gl(Xl.AssignWithSeed,{base:Xa(e.basePubkey.toBuffer()),seed:e.seed,programId:Xa(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=Gl(Xl.Assign,{programId:Xa(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Al({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Gl(Xl.CreateWithSeed,{base:Xa(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Xa(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Al({keys:n,programId:this.programId,data:t})}static createNonceAccount(e){const t=new Tl;"basePubkey"in e&&"seed"in e?t.add(Zl.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:$l,programId:this.programId})):t.add(Zl.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:$l,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){const t=Gl(Xl.InitializeNonceAccount,{authorized:Xa(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Pl,isSigner:!1,isWritable:!1},{pubkey:Ml,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new Al(n)}static nonceAdvance(e){const t=Gl(Xl.AdvanceNonceAccount),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Pl,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new Al(n)}static nonceWithdraw(e){const t=Gl(Xl.WithdrawNonceAccount,{lamports:e.lamports});return new Al({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Pl,isSigner:!1,isWritable:!1},{pubkey:Ml,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=Gl(Xl.AuthorizeNonceAccount,{authorized:Xa(e.newAuthorizedPubkey.toBuffer())});return new Al({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,n;if("basePubkey"in e){t=Gl(Xl.AllocateWithSeed,{base:Xa(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Xa(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=Gl(Xl.Allocate,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Al({keys:n,programId:this.programId,data:t})}}Zl.programId=new rl("11111111111111111111111111111111");class Jl{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Jl.chunkSize)+1+1)}static async load(e,t,n,r,i){{const s=await e.getMinimumBalanceForRentExemption(i.length),o=await e.getAccountInfo(n.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==i.length&&(a=a||new Tl,a.add(Zl.allocate({accountPubkey:n.publicKey,space:i.length}))),o.owner.equals(r)||(a=a||new Tl,a.add(Zl.assign({accountPubkey:n.publicKey,programId:r}))),o.lamports<s&&(a=a||new Tl,a.add(Zl.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:s-o.lamports})))}else a=(new Tl).add(Zl.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:s>0?s:1,space:i.length,programId:r}));null!==a&&await Vl(e,a,[t,n],{commitment:"confirmed"})}const s=Os.struct([Os.u32("instruction"),Os.u32("offset"),Os.u32("bytesLength"),Os.u32("bytesLengthPadding"),Os.seq(Os.u8("byte"),Os.offset(Os.u32(),-8),"bytes")]),o=Jl.chunkSize;let a=0,l=i,c=[];for(;l.length>0;){const i=l.slice(0,o),u=V.Buffer.alloc(o+16);s.encode({instruction:0,offset:a,bytes:i,bytesLength:0,bytesLengthPadding:0},u);const d=(new Tl).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:r,data:u});if(c.push(Vl(e,d,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await ql(1e3/e)}a+=o,l=l.slice(o)}await Promise.all(c);{const i=Os.struct([Os.u32("instruction")]),s=V.Buffer.alloc(i.span);i.encode({instruction:1},s);const o=(new Tl).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Ml,isSigner:!1,isWritable:!1}],programId:r,data:s}),a="processed",l=await e.sendTransaction(o,[t,n],{preflightCommitment:a}),{context:c,value:u}=await e.confirmTransaction({signature:l,lastValidBlockHeight:o.lastValidBlockHeight,blockhash:o.recentBlockhash},a);if(u.err)throw new Error(`Transaction ${l} failed (${JSON.stringify(u)})`);for(;;){try{if(await e.getSlot({commitment:a})>c.slot)break}catch{}await new Promise(e=>setTimeout(e,Math.round(200)))}}return!0}}Jl.chunkSize=932;const ec=new rl("BPFLoader2111111111111111111111111111111111");function tc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nc,rc;function ic(){if(rc)return nc;rc=1;var e=Object.prototype.toString,t=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function n(r,i){var s,o,a,l,c,u,d;if(!0===r)return"true";if(!1===r)return"false";switch(typeof r){case"object":if(null===r)return null;if(r.toJSON&&"function"==typeof r.toJSON)return n(r.toJSON(),i);if("[object Array]"===(d=e.call(r))){for(a="[",o=r.length-1,s=0;s<o;s++)a+=n(r[s],!0)+",";return o>-1&&(a+=n(r[s],!0)),a+"]"}if("[object Object]"===d){for(o=(l=t(r).sort()).length,a="",s=0;s<o;)void 0!==(u=n(r[c=l[s]],!1))&&(a&&(a+=","),a+=JSON.stringify(c)+":"+u),s++;return"{"+a+"}"}return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return nc=function(e){var t=n(e,!1);if(void 0!==t)return""+t}}var sc=tc(ic());function oc(e){let t=0;for(;e>1;)e/=2,t++;return t}class ac{constructor(e,t,n,r,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=r,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=oc(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-oc(32)-1;return[n,e-(this.getSlotsInEpoch(n)-32)]}{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+n,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+oc(32)):this.slotsPerEpoch}}var lc=globalThis.fetch;class cc extends ra{constructor(e,t,n){super(e=>{const n=function(e,t){return new ta(e,t)}(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return this.underlyingSocket="socket"in n?n.socket:n,n},e,t,n),this.underlyingSocket=void 0}call(...e){const t=this.underlyingSocket?.readyState;return 1===t?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){const t=this.underlyingSocket?.readyState;return 1===t?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}class uc{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=function(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}(dc,e),n=e.length-56;yl(n>=0,"lookup table is invalid"),yl(n%32==0,"lookup table is invalid");const r=n/32,{addresses:i}=Os.struct([Os.seq(dl(),r,"addresses")]).decode(e.slice(56));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new rl(t.authority[0]):void 0,addresses:i.map(e=>new rl(e))}}}const dc={index:1,layout:Os.struct([Os.u32("typeIndex"),Ql("deactivationSlot"),Os.nu64("lastExtendedSlot"),Os.u8("lastExtendedStartIndex"),Os.u8(),Os.seq(dl(),Os.offset(Os.u8(),-1),"authority")])},hc=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const fc=yo(so(rl),ho(),e=>new rl(e)),pc=fo([ho(),oo("base64")]),mc=yo(so(V.Buffer),pc,e=>V.Buffer.from(e[0],"base64"));function gc(e){let t,n;if("string"==typeof e)t=e;else if(e){const{commitment:r,...i}=e;t=r,n=i}return{commitment:t,config:n}}function yc(e){return e.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function bc(e){return mo([po({jsonrpc:oo("2.0"),id:ho(),result:e}),po({jsonrpc:oo("2.0"),id:ho(),error:po({code:go(),message:ho(),data:co(no("any",()=>!0))})})])}const wc=bc(go());function vc(e){return yo(bc(e),wc,t=>"error"in t?t:{...t,result:Js(t.result,e)})}function xc(e){return vc(po({context:po({slot:lo()}),value:e}))}function kc(e){return po({context:po({slot:lo()}),value:e})}function Sc(e,t){return 0===e?new Sl({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new rl(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ms.decode(e.data)})),addressTableLookups:t.addressTableLookups}):new kl(t)}const Ec=po({foundation:lo(),foundationTerm:lo(),initial:lo(),taper:lo(),terminal:lo()}),_c=vc(ro(ao(po({epoch:lo(),effectiveSlot:lo(),amount:lo(),postBalance:lo(),commission:co(ao(lo()))})))),Nc=ro(po({slot:lo(),prioritizationFee:lo()})),Ac=po({total:lo(),validator:lo(),foundation:lo(),epoch:lo()}),Tc=po({epoch:lo(),slotIndex:lo(),slotsInEpoch:lo(),absoluteSlot:lo(),blockHeight:co(lo()),transactionCount:co(lo())}),Cc=po({slotsPerEpoch:lo(),leaderScheduleSlotOffset:lo(),warmup:io(),firstNormalEpoch:lo(),firstNormalSlot:lo()}),jc=uo(ho(),ro(lo())),Ic=ao(mo([po({}),ho()])),Rc=po({err:Ic}),Oc=oo("receivedSignature"),Pc=po({"solana-core":ho(),"feature-set":co(lo())}),Mc=po({program:ho(),programId:fc,parsed:go()}),Dc=po({programId:fc,accounts:ro(fc),data:ho()}),Lc=xc(po({err:ao(mo([po({}),ho()])),logs:ao(ro(ho())),accounts:co(ao(ro(ao(po({executable:io(),owner:ho(),lamports:lo(),data:ro(ho()),rentEpoch:co(lo())}))))),unitsConsumed:co(lo()),returnData:co(ao(po({programId:ho(),data:fo([ho(),oo("base64")])}))),innerInstructions:co(ao(ro(po({index:lo(),instructions:ro(mo([Mc,Dc]))}))))})),Bc=xc(po({byIdentity:uo(ho(),ro(lo())),range:po({firstSlot:lo(),lastSlot:lo()})}));const Uc=vc(Ec),Fc=vc(Ac),zc=vc(Nc),Vc=vc(Tc),qc=vc(Cc),Gc=vc(jc),Wc=vc(lo()),Hc=xc(po({total:lo(),circulating:lo(),nonCirculating:lo(),nonCirculatingAccounts:ro(fc)})),Kc=po({amount:ho(),uiAmount:ao(lo()),decimals:lo(),uiAmountString:co(ho())}),$c=xc(ro(po({address:fc,amount:ho(),uiAmount:ao(lo()),decimals:lo(),uiAmountString:co(ho())}))),Yc=xc(ro(po({pubkey:fc,account:po({executable:io(),owner:fc,lamports:lo(),data:mc,rentEpoch:lo()})}))),Qc=po({program:ho(),parsed:go(),space:lo()}),Xc=xc(ro(po({pubkey:fc,account:po({executable:io(),owner:fc,lamports:lo(),data:Qc,rentEpoch:lo()})}))),Zc=xc(ro(po({lamports:lo(),address:fc}))),Jc=po({executable:io(),owner:fc,lamports:lo(),data:mc,rentEpoch:lo()}),eu=po({pubkey:fc,account:Jc}),tu=yo(mo([so(V.Buffer),Qc]),mo([pc,Qc]),e=>Array.isArray(e)?Js(e,mc):e),nu=po({executable:io(),owner:fc,lamports:lo(),data:tu,rentEpoch:lo()}),ru=po({pubkey:fc,account:nu}),iu=po({state:mo([oo("active"),oo("inactive"),oo("activating"),oo("deactivating")]),active:lo(),inactive:lo()}),su=vc(ro(po({signature:ho(),slot:lo(),err:Ic,memo:ao(ho()),blockTime:co(ao(lo()))}))),ou=vc(ro(po({signature:ho(),slot:lo(),err:Ic,memo:ao(ho()),blockTime:co(ao(lo()))}))),au=po({subscription:lo(),result:kc(Jc)}),lu=po({pubkey:fc,account:Jc}),cu=po({subscription:lo(),result:kc(lu)}),uu=po({parent:lo(),slot:lo(),root:lo()}),du=po({subscription:lo(),result:uu}),hu=mo([po({type:mo([oo("firstShredReceived"),oo("completed"),oo("optimisticConfirmation"),oo("root")]),slot:lo(),timestamp:lo()}),po({type:oo("createdBank"),parent:lo(),slot:lo(),timestamp:lo()}),po({type:oo("frozen"),slot:lo(),timestamp:lo(),stats:po({numTransactionEntries:lo(),numSuccessfulTransactions:lo(),numFailedTransactions:lo(),maxTransactionsPerEntry:lo()})}),po({type:oo("dead"),slot:lo(),timestamp:lo(),err:ho()})]),fu=po({subscription:lo(),result:hu}),pu=po({subscription:lo(),result:kc(mo([Rc,Oc]))}),mu=po({subscription:lo(),result:lo()}),gu=po({pubkey:ho(),gossip:ao(ho()),tpu:ao(ho()),rpc:ao(ho()),version:ao(ho())}),yu=po({votePubkey:ho(),nodePubkey:ho(),activatedStake:lo(),epochVoteAccount:io(),epochCredits:ro(fo([lo(),lo(),lo()])),commission:lo(),lastVote:lo(),rootSlot:ao(lo())}),bu=vc(po({current:ro(yu),delinquent:ro(yu)})),wu=mo([oo("processed"),oo("confirmed"),oo("finalized")]),vu=po({slot:lo(),confirmations:ao(lo()),err:Ic,confirmationStatus:co(wu)}),xu=xc(ro(ao(vu))),ku=vc(lo()),Su=po({accountKey:fc,writableIndexes:ro(lo()),readonlyIndexes:ro(lo())}),Eu=po({signatures:ro(ho()),message:po({accountKeys:ro(ho()),header:po({numRequiredSignatures:lo(),numReadonlySignedAccounts:lo(),numReadonlyUnsignedAccounts:lo()}),instructions:ro(po({accounts:ro(lo()),data:ho(),programIdIndex:lo()})),recentBlockhash:ho(),addressTableLookups:co(ro(Su))})}),_u=po({pubkey:fc,signer:io(),writable:io(),source:co(mo([oo("transaction"),oo("lookupTable")]))}),Nu=po({accountKeys:ro(_u),signatures:ro(ho())}),Au=po({parsed:go(),program:ho(),programId:fc}),Tu=po({accounts:ro(fc),data:ho(),programId:fc}),Cu=yo(mo([Tu,Au]),mo([po({parsed:go(),program:ho(),programId:ho()}),po({accounts:ro(ho()),data:ho(),programId:ho()})]),e=>Js(e,"accounts"in e?Tu:Au)),ju=po({signatures:ro(ho()),message:po({accountKeys:ro(_u),instructions:ro(Cu),recentBlockhash:ho(),addressTableLookups:co(ao(ro(Su)))})}),Iu=po({accountIndex:lo(),mint:ho(),owner:co(ho()),programId:co(ho()),uiTokenAmount:Kc}),Ru=po({writable:ro(fc),readonly:ro(fc)}),Ou=po({err:Ic,fee:lo(),innerInstructions:co(ao(ro(po({index:lo(),instructions:ro(po({accounts:ro(lo()),data:ho(),programIdIndex:lo()}))})))),preBalances:ro(lo()),postBalances:ro(lo()),logMessages:co(ao(ro(ho()))),preTokenBalances:co(ao(ro(Iu))),postTokenBalances:co(ao(ro(Iu))),loadedAddresses:co(Ru),computeUnitsConsumed:co(lo()),costUnits:co(lo())}),Pu=po({err:Ic,fee:lo(),innerInstructions:co(ao(ro(po({index:lo(),instructions:ro(Cu)})))),preBalances:ro(lo()),postBalances:ro(lo()),logMessages:co(ao(ro(ho()))),preTokenBalances:co(ao(ro(Iu))),postTokenBalances:co(ao(ro(Iu))),loadedAddresses:co(Ru),computeUnitsConsumed:co(lo()),costUnits:co(lo())}),Mu=mo([oo(0),oo("legacy")]),Du=po({pubkey:ho(),lamports:lo(),postBalance:ao(lo()),rewardType:ao(ho()),commission:co(ao(lo()))}),Lu=vc(ao(po({blockhash:ho(),previousBlockhash:ho(),parentSlot:lo(),transactions:ro(po({transaction:Eu,meta:ao(Ou),version:co(Mu)})),rewards:co(ro(Du)),blockTime:ao(lo()),blockHeight:ao(lo())}))),Bu=vc(ao(po({blockhash:ho(),previousBlockhash:ho(),parentSlot:lo(),rewards:co(ro(Du)),blockTime:ao(lo()),blockHeight:ao(lo())}))),Uu=vc(ao(po({blockhash:ho(),previousBlockhash:ho(),parentSlot:lo(),transactions:ro(po({transaction:Nu,meta:ao(Ou),version:co(Mu)})),rewards:co(ro(Du)),blockTime:ao(lo()),blockHeight:ao(lo())}))),Fu=vc(ao(po({blockhash:ho(),previousBlockhash:ho(),parentSlot:lo(),transactions:ro(po({transaction:ju,meta:ao(Pu),version:co(Mu)})),rewards:co(ro(Du)),blockTime:ao(lo()),blockHeight:ao(lo())}))),zu=vc(ao(po({blockhash:ho(),previousBlockhash:ho(),parentSlot:lo(),transactions:ro(po({transaction:Nu,meta:ao(Pu),version:co(Mu)})),rewards:co(ro(Du)),blockTime:ao(lo()),blockHeight:ao(lo())}))),Vu=vc(ao(po({blockhash:ho(),previousBlockhash:ho(),parentSlot:lo(),rewards:co(ro(Du)),blockTime:ao(lo()),blockHeight:ao(lo())}))),qu=vc(ao(po({blockhash:ho(),previousBlockhash:ho(),parentSlot:lo(),transactions:ro(po({transaction:Eu,meta:ao(Ou)})),rewards:co(ro(Du)),blockTime:ao(lo())}))),Gu=vc(ao(po({blockhash:ho(),previousBlockhash:ho(),parentSlot:lo(),signatures:ro(ho()),blockTime:ao(lo())}))),Wu=vc(ao(po({slot:lo(),meta:ao(Ou),blockTime:co(ao(lo())),transaction:Eu,version:co(Mu)}))),Hu=vc(ao(po({slot:lo(),transaction:ju,meta:ao(Pu),blockTime:co(ao(lo())),version:co(Mu)}))),Ku=xc(po({blockhash:ho(),lastValidBlockHeight:lo()})),$u=xc(io()),Yu=vc(ro(po({slot:lo(),numTransactions:lo(),numSlots:lo(),samplePeriodSecs:lo()}))),Qu=xc(ao(po({feeCalculator:po({lamportsPerSignature:lo()})}))),Xu=vc(ho()),Zu=vc(ho()),Ju=po({err:Ic,logs:ro(ho()),signature:ho()}),ed=po({result:kc(Ju),subscription:lo()}),td={"solana-client":"js/1.0.0-maintenance"};class nd{constructor(e,t){let n,r,i,s,o,a;var l;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const e={};return async t=>{const{commitment:n,config:r}=gc(t),i=this._buildArgs([],n,void 0,r),s=sc(i);return e[s]=e[s]??(async()=>{try{const e=Js(await this._rpcRequest("getBlockHeight",i),vc(lo()));if("error"in e)throw new zl(e.error,"failed to get block height information");return e.result}finally{delete e[s]}})(),await e[s]}})(),t&&"string"==typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,r=t.httpHeaders,i=t.fetch,s=t.fetchMiddleware,o=t.disableRetryOnRateLimit,a=t.httpAgent),this._rpcEndpoint=function(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=n||function(e){const t=e.match(hc);if(null==t)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,i,s]=t,o=e.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${o}//${r}${null==a?"":`:${a+1}`}${s}`}(e),this._rpcClient=function(e,t,n,r,i,s){const o=n||lc;let a;return null!=s&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),r&&(a=async(e,t)=>{const n=await new Promise((n,i)=>{try{r(e,t,(e,t)=>n([e,t]))}catch(s){i(s)}});return await o(...n)}),new Qo(async(n,r)=>{const s={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},t||{},td)};try{let t,n=5,l=500;for(;t=a?await a(e,s):await o(e,s),429===t.status&&!0!==i&&(n-=1,0!==n);)console.error(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${l}ms delay...`),await ql(l),l*=2;const c=await t.text();t.ok?r(null,c):r(new Error(`${t.status} ${t.statusText}: ${c}`))}catch(l){l instanceof Error&&r(l)}},{})}(e,r,i,s,o,a),this._rpcRequest=(l=this._rpcClient,(e,t)=>new Promise((n,r)=>{l.request(e,t,(e,t)=>{e?r(e):n(t)})})),this._rpcBatchRequest=function(e){return t=>new Promise((n,r)=>{0===t.length&&n([]);const i=t.map(t=>e.request(t.methodName,t.args));e.request(i,(e,t)=>{e?r(e):n(t)})})}(this._rpcClient),this._rpcWebSocket=new cc(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:n,config:r}=gc(t),i=this._buildArgs([e.toBase58()],n,void 0,r),s=Js(await this._rpcRequest("getBalance",i),xc(lo()));if("error"in s)throw new zl(s.error,`failed to get balance for ${e.toBase58()}`);return s.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(e=>e.value).catch(t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)})}async getBlockTime(e){const t=Js(await this._rpcRequest("getBlockTime",[e]),vc(ao(lo())));if("error"in t)throw new zl(t.error,`failed to get block time for slot ${e}`);return t.result}async getMinimumLedgerSlot(){const e=Js(await this._rpcRequest("minimumLedgerSlot",[]),vc(lo()));if("error"in e)throw new zl(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const e=Js(await this._rpcRequest("getFirstAvailableBlock",[]),Wc);if("error"in e)throw new zl(e.error,"failed to get first available block");return e.result}async getSupply(e){let t={};t="string"==typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const n=Js(await this._rpcRequest("getSupply",[t]),Hc);if("error"in n)throw new zl(n.error,"failed to get supply");return n.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),r=Js(await this._rpcRequest("getTokenSupply",n),xc(Kc));if("error"in r)throw new zl(r.error,"failed to get token supply");return r.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),r=Js(await this._rpcRequest("getTokenAccountBalance",n),xc(Kc));if("error"in r)throw new zl(r.error,"failed to get token account balance");return r.result}async getTokenAccountsByOwner(e,t,n){const{commitment:r,config:i}=gc(n);let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const o=this._buildArgs(s,r,"base64",i),a=Js(await this._rpcRequest("getTokenAccountsByOwner",o),Yc);if("error"in a)throw new zl(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(e,t,n){let r=[e.toBase58()];"mint"in t?r.push({mint:t.mint.toBase58()}):r.push({programId:t.programId.toBase58()});const i=this._buildArgs(r,n,"jsonParsed"),s=Js(await this._rpcRequest("getTokenAccountsByOwner",i),Xc);if("error"in s)throw new zl(s.error,`failed to get token accounts owned by account ${e.toBase58()}`);return s.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],r=Js(await this._rpcRequest("getLargestAccounts",n),Zc);if("error"in r)throw new zl(r.error,"failed to get largest accounts");return r.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),r=Js(await this._rpcRequest("getTokenLargestAccounts",n),$c);if("error"in r)throw new zl(r.error,"failed to get token largest accounts");return r.result}async getAccountInfoAndContext(e,t){const{commitment:n,config:r}=gc(t),i=this._buildArgs([e.toBase58()],n,"base64",r),s=Js(await this._rpcRequest("getAccountInfo",i),xc(ao(Jc)));if("error"in s)throw new zl(s.error,`failed to get info about account ${e.toBase58()}`);return s.result}async getParsedAccountInfo(e,t){const{commitment:n,config:r}=gc(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),s=Js(await this._rpcRequest("getAccountInfo",i),xc(ao(nu)));if("error"in s)throw new zl(s.error,`failed to get info about account ${e.toBase58()}`);return s.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,t){const{commitment:n,config:r}=gc(t),i=e.map(e=>e.toBase58()),s=this._buildArgs([i],n,"jsonParsed",r),o=Js(await this._rpcRequest("getMultipleAccounts",s),xc(ro(ao(nu))));if("error"in o)throw new zl(o.error,`failed to get info for accounts ${i}`);return o.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:n,config:r}=gc(t),i=e.map(e=>e.toBase58()),s=this._buildArgs([i],n,"base64",r),o=Js(await this._rpcRequest("getMultipleAccounts",s),xc(ro(ao(Jc))));if("error"in o)throw new zl(o.error,`failed to get info for accounts ${i}`);return o.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){const{commitment:r,config:i}=gc(t),s=this._buildArgs([e.toBase58()],r,void 0,{...i,epoch:null!=n?n:i?.epoch}),o=Js(await this._rpcRequest("getStakeActivation",s),vc(iu));if("error"in o)throw new zl(o.error,`failed to get Stake Activation ${e.toBase58()}`);return o.result}async getProgramAccounts(e,t){const{commitment:n,config:r}=gc(t),{encoding:i,...s}=r||{},o=this._buildArgs([e.toBase58()],n,i||"base64",{...s,...s.filters?{filters:yc(s.filters)}:null}),a=await this._rpcRequest("getProgramAccounts",o),l=ro(eu),c=!0===s.withContext?Js(a,xc(l)):Js(a,vc(l));if("error"in c)throw new zl(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async getParsedProgramAccounts(e,t){const{commitment:n,config:r}=gc(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),s=Js(await this._rpcRequest("getProgramAccounts",i),vc(ro(ru)));if("error"in s)throw new zl(s.error,`failed to get accounts owned by program ${e.toBase58()}`);return s.result}async confirmTransaction(e,t){let n,r;if("string"==typeof e)n=e;else{const t=e;if(t.abortSignal?.aborted)return Promise.reject(t.abortSignal.reason);n=t.signature}try{r=ms.decode(n)}catch(i){throw new Error("signature must be base58 encoded: "+n)}return yl(64===r.length,"signature has invalid length"),"string"==typeof e?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,n)=>{null!=e&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let n,r,i=!1;return{abortConfirmation:()=>{r&&(r(),r=void 0),null!=n&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:new Promise((s,o)=>{try{n=this.onSignature(t,(e,t)=>{n=void 0;const r={context:t,value:e};s({__type:_l.PROCESSED,response:r})},e);const a=new Promise(e=>{null==n?e():r=this._onSubscriptionStateChange(n,t=>{"subscribed"===t&&e()})});(async()=>{if(await a,i)return;const n=await this.getSignatureStatus(t);if(i)return;if(null==n)return;const{context:r,value:l}=n;if(null!=l)if(l?.err)o(l.err);else{switch(e){case"confirmed":case"single":case"singleGossip":if("processed"===l.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===l.confirmationStatus||"confirmed"===l.confirmationStatus)return}i=!0,s({__type:_l.PROCESSED,response:{context:r,value:l}})}})()}catch(a){o(a)}})}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:n,signature:r}}){let i=!1;const s=new Promise(t=>{const r=async()=>{try{return await this.getBlockHeight(e)}catch(t){return-1}};(async()=>{let e=await r();if(!i){for(;e<=n;){if(await ql(1e3),i)return;if(e=await r(),i)return}t({__type:_l.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:o,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),l=this.getCancellationPromise(t);let c;try{const e=await Promise.race([l,a,s]);if(e.__type!==_l.PROCESSED)throw new al(r);c=e.response}finally{i=!0,o()}return c}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:n,nonceAccountPubkey:r,nonceValue:i,signature:s}}){let o=!1;const a=new Promise(t=>{let s=i,a=null;const l=async()=>{try{const{context:t,value:i}=await this.getNonceAndContext(r,{commitment:e,minContextSlot:n});return a=t.slot,i?.nonce}catch(t){return s}};(async()=>{if(s=await l(),!o)for(;;){if(i!==s)return void t({__type:_l.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await ql(2e3),o)return;if(s=await l(),o)return}})()}),{abortConfirmation:l,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let d;try{const t=await Promise.race([u,c,a]);if(t.__type===_l.PROCESSED)d=t.response;else{let r;for(;;){const e=await this.getSignatureStatus(s);if(null==e)break;if(!(e.context.slot<(t.slotInWhichNonceDidAdvance??n))){r=e;break}await ql(400)}if(!r?.value)throw new cl(s);{const t=e||"finalized",{confirmationStatus:n}=r.value;switch(t){case"processed":case"recent":if("processed"!==n&&"confirmed"!==n&&"finalized"!==n)throw new cl(s);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==n&&"finalized"!==n)throw new cl(s);break;case"finalized":case"max":case"root":if("finalized"!==n)throw new cl(s)}d={context:r.context,value:{err:r.value.err}}}}}finally{o=!0,l()}return d}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let n;const r=new Promise(t=>{let r=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":r=this._confirmTransactionInitialTimeout||3e4}n=setTimeout(()=>t({__type:_l.TIMED_OUT,timeoutMs:r}),r)}),{abortConfirmation:i,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let o;try{const e=await Promise.race([s,r]);if(e.__type!==_l.PROCESSED)throw new ll(t,e.timeoutMs/1e3);o=e.response}finally{clearTimeout(n),i()}return o}async getClusterNodes(){const e=Js(await this._rpcRequest("getClusterNodes",[]),vc(ro(gu)));if("error"in e)throw new zl(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=Js(await this._rpcRequest("getVoteAccounts",t),bu);if("error"in n)throw new zl(n.error,"failed to get vote accounts");return n.result}async getSlot(e){const{commitment:t,config:n}=gc(e),r=this._buildArgs([],t,void 0,n),i=Js(await this._rpcRequest("getSlot",r),vc(lo()));if("error"in i)throw new zl(i.error,"failed to get slot");return i.result}async getSlotLeader(e){const{commitment:t,config:n}=gc(e),r=this._buildArgs([],t,void 0,n),i=Js(await this._rpcRequest("getSlotLeader",r),vc(ho()));if("error"in i)throw new zl(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(e,t){const n=[e,t],r=Js(await this._rpcRequest("getSlotLeaders",n),vc(ro(fc)));if("error"in r)throw new zl(r.error,"failed to get slot leaders");return r.result}async getSignatureStatus(e,t){const{context:n,value:r}=await this.getSignatureStatuses([e],t);yl(1===r.length);return{context:n,value:r[0]}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const r=Js(await this._rpcRequest("getSignatureStatuses",n),xu);if("error"in r)throw new zl(r.error,"failed to get signature status");return r.result}async getTransactionCount(e){const{commitment:t,config:n}=gc(e),r=this._buildArgs([],t,void 0,n),i=Js(await this._rpcRequest("getTransactionCount",r),vc(lo()));if("error"in i)throw new zl(i.error,"failed to get transaction count");return i.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=Js(await this._rpcRequest("getInflationGovernor",t),Uc);if("error"in n)throw new zl(n.error,"failed to get inflation");return n.result}async getInflationReward(e,t,n){const{commitment:r,config:i}=gc(n),s=this._buildArgs([e.map(e=>e.toBase58())],r,void 0,{...i,epoch:null!=t?t:i?.epoch}),o=Js(await this._rpcRequest("getInflationReward",s),_c);if("error"in o)throw new zl(o.error,"failed to get inflation reward");return o.result}async getInflationRate(){const e=Js(await this._rpcRequest("getInflationRate",[]),Fc);if("error"in e)throw new zl(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(e){const{commitment:t,config:n}=gc(e),r=this._buildArgs([],t,void 0,n),i=Js(await this._rpcRequest("getEpochInfo",r),Vc);if("error"in i)throw new zl(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const e=Js(await this._rpcRequest("getEpochSchedule",[]),qc);if("error"in e)throw new zl(e.error,"failed to get epoch schedule");const t=e.result;return new ac(t.slotsPerEpoch,t.leaderScheduleSlotOffset,t.warmup,t.firstNormalEpoch,t.firstNormalSlot)}async getLeaderSchedule(){const e=Js(await this._rpcRequest("getLeaderSchedule",[]),Gc);if("error"in e)throw new zl(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),r=Js(await this._rpcRequest("getMinimumBalanceForRentExemption",n),ku);return"error"in r?(console.warn("Unable to fetch minimum balance for rent exemption"),0):r.result}async getRecentBlockhashAndContext(e){const{context:t,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON:()=>({})}}}}async getRecentPerformanceSamples(e){const t=Js(await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),Yu);if("error"in t)throw new zl(t.error,"failed to get recent performance samples");return t.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),r=Js(await this._rpcRequest("getFeeCalculatorForBlockhash",n),Qu);if("error"in r)throw new zl(r.error,"failed to get fee calculator");const{context:i,value:s}=r.result;return{context:i,value:null!==s?s.feeCalculator:null}}async getFeeForMessage(e,t){const n=Xa(e.serialize()).toString("base64"),r=this._buildArgs([n],t),i=Js(await this._rpcRequest("getFeeForMessage",r),xc(ao(lo())));if("error"in i)throw new zl(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(e){const t=e?.lockedWritableAccounts?.map(e=>e.toBase58()),n=t?.length?[t]:[],r=Js(await this._rpcRequest("getRecentPrioritizationFees",n),zc);if("error"in r)throw new zl(r.error,"failed to get recent prioritization fees");return r.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:n}=gc(e),r=this._buildArgs([],t,void 0,n),i=Js(await this._rpcRequest("getLatestBlockhash",r),Ku);if("error"in i)throw new zl(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(e,t){const{commitment:n,config:r}=gc(t),i=this._buildArgs([e],n,void 0,r),s=Js(await this._rpcRequest("isBlockhashValid",i),$u);if("error"in s)throw new zl(s.error,"failed to determine if the blockhash `"+e+"`is valid");return s.result}async getVersion(){const e=Js(await this._rpcRequest("getVersion",[]),vc(Pc));if("error"in e)throw new zl(e.error,"failed to get version");return e.result}async getGenesisHash(){const e=Js(await this._rpcRequest("getGenesisHash",[]),vc(ho()));if("error"in e)throw new zl(e.error,"failed to get genesis hash");return e.result}async getBlock(e,t){const{commitment:n,config:r}=gc(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,r),s=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const e=Js(s,Uu);if("error"in e)throw e.error;return e.result}case"none":{const e=Js(s,Bu);if("error"in e)throw e.error;return e.result}default:{const e=Js(s,Lu);if("error"in e)throw e.error;const{result:t}=e;return t?{...t,transactions:t.transactions.map(({transaction:e,meta:t,version:n})=>({meta:t,transaction:{...e,message:Sc(n,e.message)},version:n}))}:null}}}catch(o){throw new zl(o,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:n,config:r}=gc(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),s=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const e=Js(s,zu);if("error"in e)throw e.error;return e.result}case"none":{const e=Js(s,Vu);if("error"in e)throw e.error;return e.result}default:{const e=Js(s,Fu);if("error"in e)throw e.error;return e.result}}}catch(o){throw new zl(o,"failed to get block")}}async getBlockProduction(e){let t,n;if("string"==typeof e)n=e;else if(e){const{commitment:r,...i}=e;n=r,t=i}const r=this._buildArgs([],n,"base64",t),i=Js(await this._rpcRequest("getBlockProduction",r),Bc);if("error"in i)throw new zl(i.error,"failed to get block production information");return i.result}async getTransaction(e,t){const{commitment:n,config:r}=gc(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,r),s=Js(await this._rpcRequest("getTransaction",i),Wu);if("error"in s)throw new zl(s.error,"failed to get transaction");const o=s.result;return o?{...o,transaction:{...o.transaction,message:Sc(o.version,o.transaction.message)}}:o}async getParsedTransaction(e,t){const{commitment:n,config:r}=gc(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),s=Js(await this._rpcRequest("getTransaction",i),Hu);if("error"in s)throw new zl(s.error,"failed to get transaction");return s.result}async getParsedTransactions(e,t){const{commitment:n,config:r}=gc(t),i=e.map(e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r)}));return(await this._rpcBatchRequest(i)).map(e=>{const t=Js(e,Hu);if("error"in t)throw new zl(t.error,"failed to get transactions");return t.result})}async getTransactions(e,t){const{commitment:n,config:r}=gc(t),i=e.map(e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,void 0,r)}));return(await this._rpcBatchRequest(i)).map(e=>{const t=Js(e,Wu);if("error"in t)throw new zl(t.error,"failed to get transactions");const n=t.result;return n?{...n,transaction:{...n.transaction,message:Sc(n.version,n.transaction.message)}}:n})}async getConfirmedBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=Js(await this._rpcRequest("getBlock",n),qu);if("error"in r)throw new zl(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+e+" not found");const s={...i,transactions:i.transactions.map(({transaction:e,meta:t})=>{const n=new kl(e.message);return{meta:t,transaction:{...e,message:n}}})};return{...s,transactions:s.transactions.map(({transaction:e,meta:t})=>({meta:t,transaction:Tl.populate(e.message,e.signatures)}))}}async getBlocks(e,t,n){const r=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],n),i=Js(await this._rpcRequest("getBlocks",r),vc(ro(lo())));if("error"in i)throw new zl(i.error,"failed to get blocks");return i.result}async getBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=Js(await this._rpcRequest("getBlock",n),Gu);if("error"in r)throw new zl(r.error,"failed to get block");const i=r.result;if(!i)throw new Error("Block "+e+" not found");return i}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=Js(await this._rpcRequest("getBlock",n),Gu);if("error"in r)throw new zl(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+e+" not found");return i}async getConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=Js(await this._rpcRequest("getTransaction",n),Wu);if("error"in r)throw new zl(r.error,"failed to get transaction");const i=r.result;if(!i)return i;const s=new kl(i.transaction.message),o=i.transaction.signatures;return{...i,transaction:Tl.populate(s,o)}}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),r=Js(await this._rpcRequest("getTransaction",n),Hu);if("error"in r)throw new zl(r.error,"failed to get confirmed transaction");return r.result}async getParsedConfirmedTransactions(e,t){const n=e.map(e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(e=>{const t=Js(e,Hu);if("error"in t)throw new zl(t.error,"failed to get confirmed transactions");return t.result})}async getConfirmedSignaturesForAddress(e,t,n){let r={},i=await this.getFirstAvailableBlock();for(;!("until"in r)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(r.until=e.signatures[e.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}let s=await this.getSlot("finalized");for(;!("before"in r||++n>s);)try{const e=await this.getConfirmedBlockSignatures(n);e.signatures.length>0&&(r.before=e.signatures[e.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}return(await this.getConfirmedSignaturesForAddress2(e,r)).map(e=>e.signature)}async getConfirmedSignaturesForAddress2(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=Js(await this._rpcRequest("getConfirmedSignaturesForAddress2",r),su);if("error"in i)throw new zl(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=Js(await this._rpcRequest("getSignaturesForAddress",r),ou);if("error"in i)throw new zl(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=new uc({key:e,state:uc.deserialize(r.data)})),{context:n,value:i}}async getNonceAndContext(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=Yl.fromAccountData(r.data)),{context:n,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(e=>e.value).catch(t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)})}async requestAirdrop(e,t){const n=Js(await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),Xu);if("error"in n)throw new zl(n.error,`airdrop to ${e.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await ql(100);const e=Date.now()-this._blockhashInfo.lastFetch>=3e4;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,n=t?t.blockhash:null;for(let r=0;r<50;r++){const e=await this.getLatestBlockhash("finalized");if(n!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await ql(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:n}=gc(e),r=this._buildArgs([],t,"base64",n),i=Js(await this._rpcRequest("getStakeMinimumDelegation",r),xc(lo()));if("error"in i)throw new zl(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(e,t,n){if("message"in e){const r=e.serialize(),i=V.Buffer.from(r).toString("base64");if(Array.isArray(t)||void 0!==n)throw new Error("Invalid arguments");const s=t||{};s.encoding="base64","commitment"in s||(s.commitment=this.commitment),t&&"object"==typeof t&&"innerInstructions"in t&&(s.innerInstructions=t.innerInstructions);const o=[i,s],a=Js(await this._rpcRequest("simulateTransaction",o),Lc);if("error"in a)throw new Error("failed to simulate transaction: "+a.error.message);return a.result}let r;if(e instanceof Tl){let t=e;r=new Tl,r.feePayer=t.feePayer,r.instructions=e.instructions,r.nonceInfo=t.nonceInfo,r.signatures=t.signatures}else r=Tl.populate(e),r._message=r._json=void 0;if(void 0!==t&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(r.nonceInfo&&i)r.sign(...i);else{let e=this._disableBlockhashCaching;for(;;){const t=await this._blockhashWithExpiryBlockHeight(e);if(r.lastValidBlockHeight=t.lastValidBlockHeight,r.recentBlockhash=t.blockhash,!i)break;if(r.sign(...i),!r.signature)throw new Error("!signature");const n=r.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}e=!0}}const s=r._compile(),o=s.serialize(),a=r._serialize(o).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(n){const e=(Array.isArray(n)?n:s.nonProgramIds()).map(e=>e.toBase58());l.accounts={encoding:"base64",addresses:e}}i&&(l.sigVerify=!0),t&&"object"==typeof t&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const c=[a,l],u=Js(await this._rpcRequest("simulateTransaction",c),Lc);if("error"in u){let e;if("data"in u.error&&(e=u.error.data.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(u.error.message,n)}throw new Fl({action:"simulate",signature:"",transactionMessage:u.error.message,logs:e})}return u.result}async sendTransaction(e,t,n){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const n=e.serialize();return await this.sendRawTransaction(n,t)}if(void 0===t||!Array.isArray(t))throw new Error("Invalid arguments");const r=t;if(e.nonceInfo)e.sign(...r);else{let t=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(t);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...r),!e.signature)throw new Error("!signature");const i=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}t=!0}}const i=e.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(e,t){const n=Xa(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},r=t&&t.skipPreflight,i=!0===r?"processed":t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(n.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(n.minContextSlot=t.minContextSlot),r&&(n.skipPreflight=r),i&&(n.preflightCommitment=i);const s=[e,n],o=Js(await this._rpcRequest("sendTransaction",s),Zu);if("error"in o){let e;throw"data"in o.error&&(e=o.error.data.logs),new Fl({action:r?"send":"simulate",signature:"",transactionMessage:o.error.message,logs:e})}return o.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,t])=>{this._setSubscription(e,{...t,state:"pending"})})):this._updateSubscriptions()}_setSubscription(e,t){const n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,n!==t.state){const n=this._subscriptionStateChangeCallbacksByHash[e];n&&n.forEach(e=>{try{e(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const n=this._subscriptionHashByClientSubscriptionId[e];if(null==n)return()=>{};const r=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return r.add(t),()=>{r.delete(t),0===r.size&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}},500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async e=>{const n=this._subscriptionsByHash[e];if(void 0!==n)switch(n.state){case"pending":case"unsubscribed":if(0===n.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===n.state&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void(await this._updateSubscriptions());await(async()=>{const{args:r,method:i}=n;try{this._setSubscription(e,{...n,state:"subscribing"});const t=await this._rpcWebSocket.call(i,r);this._setSubscription(e,{...n,serverSubscriptionId:t,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[t]=n.callbacks,await this._updateSubscriptions()}catch(s){if(console.error(`Received ${s instanceof Error?"":"JSON-RPC "}error calling \`${i}\``,{args:r,error:s}),!t())return;this._setSubscription(e,{...n,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===n.callbacks.size&&await(async()=>{const{serverSubscriptionId:r,unsubscribeMethod:i}=n;if(this._subscriptionsAutoDisposedByRpc.has(r))this._subscriptionsAutoDisposedByRpc.delete(r);else{this._setSubscription(e,{...n,state:"unsubscribing"}),this._setSubscription(e,{...n,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[r])}catch(s){if(s instanceof Error&&console.error(`${i} error:`,s.message),!t())return;return this._setSubscription(e,{...n,state:"subscribed"}),void(await this._updateSubscriptions())}}this._setSubscription(e,{...n,state:"unsubscribed"}),await this._updateSubscriptions()})()}}))}_handleServerNotification(e,t){const n=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==n&&n.forEach(e=>{try{e(...t)}catch(n){console.error(n)}})}_wsOnAccountNotification(e){const{result:t,subscription:n}=Js(e,au);this._handleServerNotification(n,[t.value,t.context])}_makeSubscription(e,t){const n=this._nextClientSubscriptionId++,r=sc([e.method,t]),i=this._subscriptionsByHash[r];return void 0===i?this._subscriptionsByHash[r]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=r,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const t=this._subscriptionsByHash[r];yl(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,t,n){const{commitment:r,config:i}=gc(n),s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:n}=Js(e,cu);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,n,r){const{commitment:i,config:s}=gc(n),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s||(r?{filters:yc(r)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,n){const r=this._buildArgs(["object"==typeof e?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},r)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:n}=Js(e,ed);this._handleServerNotification(n,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:n}=Js(e,du);this._handleServerNotification(n,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:n}=Js(e,fu);this._handleServerNotification(n,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,n,r){const i=t||this._commitment;if(i||n||r){let t={};n&&(t.encoding=n),i&&(t.commitment=i),r&&(t=Object.assign(t,r)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,n,r){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,r)}_wsOnSignatureNotification(e){const{result:t,subscription:n}=Js(e,pu);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,n){const r=this._buildArgs([e],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,n)=>{if("status"===e.type){t(e.result,n);try{this.removeSignatureListener(i)}catch(r){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},r);return i}onSignatureWithOptions(e,t,n){const{commitment:r,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([e],r,void 0,i),o=this._makeSubscription({callback:(e,n)=>{t(e,n);try{this.removeSignatureListener(o)}catch(r){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:n}=Js(e,mu);this._handleServerNotification(n,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class rd{constructor(e){this._keypair=void 0,this._keypair=e??Ha()}static generate(){return new rd(Ha())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const n=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),r=Ka(t);for(let e=0;e<32;e++)if(n[e]!==r[e])throw new Error("provided secretKey is invalid")}return new rd({publicKey:n,secretKey:e})}static fromSeed(e){const t=Ka(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new rd({publicKey:t,secretKey:n})}get publicKey(){return new rl(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const id=Object.freeze({CreateLookupTable:{index:0,layout:Os.struct([Os.u32("instruction"),Ql("recentSlot"),Os.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Os.struct([Os.u32("instruction")])},ExtendLookupTable:{index:2,layout:Os.struct([Os.u32("instruction"),Ql(),Os.seq(dl(),Os.offset(Os.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Os.struct([Os.u32("instruction")])},CloseLookupTable:{index:4,layout:Os.struct([Os.u32("instruction")])}});class sd{constructor(){}static createLookupTable(e){const[t,n]=rl.findProgramAddressSync([e.authority.toBuffer(),Vs().encode(e.recentSlot)],this.programId),r=Gl(id.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Zl.programId,isSigner:!1,isWritable:!1}];return[new Al({programId:this.programId,keys:i,data:r}),t]}static freezeLookupTable(e){const t=Gl(id.FreezeLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Al({programId:this.programId,keys:n,data:t})}static extendLookupTable(e){const t=Gl(id.ExtendLookupTable,{addresses:e.addresses.map(e=>e.toBytes())}),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&n.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Zl.programId,isSigner:!1,isWritable:!1}),new Al({programId:this.programId,keys:n,data:t})}static deactivateLookupTable(e){const t=Gl(id.DeactivateLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Al({programId:this.programId,keys:n,data:t})}static closeLookupTable(e){const t=Gl(id.CloseLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Al({programId:this.programId,keys:n,data:t})}}sd.programId=new rl("AddressLookupTab1e1111111111111111111111111");const od=Object.freeze({RequestUnits:{index:0,layout:Os.struct([Os.u8("instruction"),Os.u32("units"),Os.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:Os.struct([Os.u8("instruction"),Os.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:Os.struct([Os.u8("instruction"),Os.u32("units")])},SetComputeUnitPrice:{index:3,layout:Os.struct([Os.u8("instruction"),Ql("microLamports")])}});class ad{constructor(){}static requestUnits(e){const t=Gl(od.RequestUnits,e);return new Al({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=Gl(od.RequestHeapFrame,e);return new Al({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=Gl(od.SetComputeUnitLimit,e);return new Al({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=Gl(od.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new Al({keys:[],programId:this.programId,data:t})}}ad.programId=new rl("ComputeBudget111111111111111111111111111111");const ld=Os.struct([Os.u8("numSignatures"),Os.u8("padding"),Os.u16("signatureOffset"),Os.u16("signatureInstructionIndex"),Os.u16("publicKeyOffset"),Os.u16("publicKeyInstructionIndex"),Os.u16("messageDataOffset"),Os.u16("messageDataSize"),Os.u16("messageInstructionIndex")]);class cd{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,instructionIndex:i}=e;yl(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),yl(64===r.length,`Signature must be 64 bytes but received ${r.length} bytes`);const s=ld.span,o=s+t.length,a=o+r.length,l=V.Buffer.alloc(a+n.length),c=null==i?65535:i;return ld.encode({numSignatures:1,padding:0,signatureOffset:o,signatureInstructionIndex:c,publicKeyOffset:s,publicKeyInstructionIndex:c,messageDataOffset:a,messageDataSize:n.length,messageInstructionIndex:c},l),l.fill(t,s),l.fill(r,o),l.fill(n,a),new Al({keys:[],programId:cd.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;yl(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=rd.fromSecretKey(t),i=e.publicKey.toBytes(),s=Ya(n,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:s,instructionIndex:r})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}cd.programId=new rl("Ed25519SigVerify111111111111111111111111111");Ga.utils.isValidPrivateKey;const ud=Ga.getPublicKey,dd=Os.struct([Os.u8("numSignatures"),Os.u16("signatureOffset"),Os.u8("signatureInstructionIndex"),Os.u16("ethAddressOffset"),Os.u8("ethAddressInstructionIndex"),Os.u16("messageDataOffset"),Os.u16("messageDataSize"),Os.u8("messageInstructionIndex"),Os.blob(20,"ethAddress"),Os.blob(64,"signature"),Os.u8("recoveryId")]);class hd{constructor(){}static publicKeyToEthAddress(e){yl(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return V.Buffer.from(wa(Xa(e))).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,recoveryId:i,instructionIndex:s}=e;return hd.createInstructionWithEthAddress({ethAddress:hd.publicKeyToEthAddress(t),message:n,signature:r,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:n,signature:r,recoveryId:i,instructionIndex:s=0}=e;let o;o="string"==typeof t?t.startsWith("0x")?V.Buffer.from(t.substr(2),"hex"):V.Buffer.from(t,"hex"):t,yl(20===o.length,`Address must be 20 bytes but received ${o.length} bytes`);const a=12+o.length,l=a+r.length+1,c=V.Buffer.alloc(dd.span+n.length);return dd.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:l,messageDataSize:n.length,messageInstructionIndex:s,signature:Xa(r),ethAddress:Xa(o),recoveryId:i},c),c.fill(Xa(n),dd.span),new Al({keys:[],programId:hd.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;yl(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=Xa(t),i=ud(e,!1).slice(1),s=V.Buffer.from(wa(Xa(n))),[o,a]=((e,t)=>{const n=Ga.sign(e,t);return[n.toCompactRawBytes(),n.recovery]})(s,e);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:o,recoveryId:a,instructionIndex:r})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}var fd;hd.programId=new rl("KeccakSecp256k11111111111111111111111111111");const pd=new rl("StakeConfig11111111111111111111111111111111");class md{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class gd{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}fd=gd,gd.default=new fd(0,0,rl.default);const yd=Object.freeze({Initialize:{index:0,layout:Os.struct([Os.u32("instruction"),((e="authorized")=>Os.struct([dl("staker"),dl("withdrawer")],e))(),((e="lockup")=>Os.struct([Os.ns64("unixTimestamp"),Os.ns64("epoch"),dl("custodian")],e))()])},Authorize:{index:1,layout:Os.struct([Os.u32("instruction"),dl("newAuthorized"),Os.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:Os.struct([Os.u32("instruction")])},Split:{index:3,layout:Os.struct([Os.u32("instruction"),Os.ns64("lamports")])},Withdraw:{index:4,layout:Os.struct([Os.u32("instruction"),Os.ns64("lamports")])},Deactivate:{index:5,layout:Os.struct([Os.u32("instruction")])},Merge:{index:7,layout:Os.struct([Os.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:Os.struct([Os.u32("instruction"),dl("newAuthorized"),Os.u32("stakeAuthorizationType"),fl("authoritySeed"),dl("authorityOwner")])}}),bd=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class wd{constructor(){}static initialize(e){const{stakePubkey:t,authorized:n,lockup:r}=e,i=r||gd.default,s=Gl(yd.Initialize,{authorized:{staker:Xa(n.staker.toBuffer()),withdrawer:Xa(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Xa(i.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ml,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new Al(o)}static createAccountWithSeed(e){const t=new Tl;t.add(Zl.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static createAccount(e){const t=new Tl;t.add(Zl.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:n,votePubkey:r}=e,i=Gl(yd.Delegate);return(new Tl).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:Il,isSigner:!1,isWritable:!1},{pubkey:Ul,isSigner:!1,isWritable:!1},{pubkey:pd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:i,custodianPubkey:s}=e,o=Gl(yd.Authorize,{newAuthorized:Xa(r.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Il,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new Tl).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:n,authoritySeed:r,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=e,l=Gl(yd.AuthorizeWithSeed,{newAuthorized:Xa(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:r,authorityOwner:Xa(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Il,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!0,isWritable:!1}),(new Tl).add({keys:c,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,lamports:i}=e,s=Gl(yd.Split,{lamports:i});return new Al({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(e,t){const n=new Tl;return n.add(Zl.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,basePubkey:s,seed:o,lamports:a}=e,l=new Tl;return l.add(Zl.allocate({accountPubkey:i,basePubkey:s,seed:o,space:this.space,programId:this.programId})),t&&t>0&&l.add(Zl.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),l.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:a}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:r}=e,i=Gl(yd.Merge);return(new Tl).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Il,isSigner:!1,isWritable:!1},{pubkey:Ul,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:n,toPubkey:r,lamports:i,custodianPubkey:s}=e,o=Gl(yd.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Il,isSigner:!1,isWritable:!1},{pubkey:Ul,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!0,isWritable:!1}),(new Tl).add({keys:a,programId:this.programId,data:o})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:n}=e,r=Gl(yd.Deactivate);return(new Tl).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Il,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}wd.programId=new rl("Stake11111111111111111111111111111111111111"),wd.space=200;class vd{constructor(e,t,n,r){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=n,this.commission=r}}const xd=Object.freeze({InitializeAccount:{index:0,layout:Os.struct([Os.u32("instruction"),((e="voteInit")=>Os.struct([dl("nodePubkey"),dl("authorizedVoter"),dl("authorizedWithdrawer"),Os.u8("commission")],e))()])},Authorize:{index:1,layout:Os.struct([Os.u32("instruction"),dl("newAuthorized"),Os.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:Os.struct([Os.u32("instruction"),Os.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:Os.struct([Os.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:Os.struct([Os.u32("instruction"),((e="voteAuthorizeWithSeedArgs")=>Os.struct([Os.u32("voteAuthorizationType"),dl("currentAuthorityDerivedKeyOwnerPubkey"),fl("currentAuthorityDerivedKeySeed"),dl("newAuthorized")],e))()])}}),kd=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Sd{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:n,voteInit:r}=e,i=Gl(xd.InitializeAccount,{voteInit:{nodePubkey:Xa(r.nodePubkey.toBuffer()),authorizedVoter:Xa(r.authorizedVoter.toBuffer()),authorizedWithdrawer:Xa(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ml,isSigner:!1,isWritable:!1},{pubkey:Il,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Al(s)}static createAccount(e){const t=new Tl;return t.add(Zl.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,voteAuthorizationType:i}=e,s=Gl(xd.Authorize,{newAuthorized:Xa(r.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Il,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Tl).add({keys:o,programId:this.programId,data:s})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:i,voteAuthorizationType:s,votePubkey:o}=e,a=Gl(xd.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Xa(n.toBuffer()),currentAuthorityDerivedKeySeed:r,newAuthorized:Xa(i.toBuffer()),voteAuthorizationType:s.index}}),l=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:Il,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new Tl).add({keys:l,programId:this.programId,data:a})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:r,toPubkey:i}=e,s=Gl(xd.Withdraw,{lamports:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Tl).add({keys:o,programId:this.programId,data:s})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return Sd.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,nodePubkey:r}=e,i=Gl(xd.UpdateValidatorIdentity),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Tl).add({keys:s,programId:this.programId,data:i})}}Sd.programId=new rl("Vote111111111111111111111111111111111111111"),Sd.space=3762;const Ed=new rl("Va1idator1nfo111111111111111111111111111111"),_d=po({name:ho(),website:co(ho()),details:co(ho()),iconUrl:co(ho()),keybaseUsername:co(ho())});class Nd{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==ml(t))return null;const n=[];for(let r=0;r<2;r++){const e=new rl(xl(t,0,tl)),r=1===vl(t);n.push({publicKey:e,isSigner:r})}if(n[0].publicKey.equals(Ed)&&n[1].isSigner){const e=fl().decode(V.Buffer.from(t)),r=JSON.parse(e);return Zs(r,_d),new Nd(n[1].publicKey,r)}return null}}const Ad=new rl("Vote111111111111111111111111111111111111111"),Td=Os.struct([dl("nodePubkey"),dl("authorizedWithdrawer"),Os.u8("commission"),Os.nu64(),Os.seq(Os.struct([Os.nu64("slot"),Os.u32("confirmationCount")]),Os.offset(Os.u32(),-8),"votes"),Os.u8("rootSlotValid"),Os.nu64("rootSlot"),Os.nu64(),Os.seq(Os.struct([Os.nu64("epoch"),dl("authorizedVoter")]),Os.offset(Os.u32(),-8),"authorizedVoters"),Os.struct([Os.seq(Os.struct([dl("authorizedPubkey"),Os.nu64("epochOfLastAuthorizedSwitch"),Os.nu64("targetEpoch")]),32,"buf"),Os.nu64("idx"),Os.u8("isEmpty")],"priorVoters"),Os.nu64(),Os.seq(Os.struct([Os.nu64("epoch"),Os.nu64("credits"),Os.nu64("prevCredits")]),Os.offset(Os.u32(),-8),"epochCredits"),Os.struct([Os.nu64("slot"),Os.nu64("timestamp")],"lastTimestamp")]);class Cd{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const t=Td.decode(Xa(e),4);let n=t.rootSlot;return t.rootSlotValid||(n=null),new Cd({nodePubkey:new rl(t.nodePubkey),authorizedWithdrawer:new rl(t.authorizedWithdrawer),commission:t.commission,votes:t.votes,rootSlot:n,authorizedVoters:t.authorizedVoters.map(jd),priorVoters:Rd(t.priorVoters),epochCredits:t.epochCredits,lastTimestamp:t.lastTimestamp})}}function jd({authorizedVoter:e,epoch:t}){return{epoch:t,authorizedVoter:new rl(e)}}function Id({authorizedPubkey:e,epochOfLastAuthorizedSwitch:t,targetEpoch:n}){return{authorizedPubkey:new rl(e),epochOfLastAuthorizedSwitch:t,targetEpoch:n}}function Rd({buf:e,idx:t,isEmpty:n}){return n?[]:[...e.slice(t+1).map(Id),...e.slice(0,t).map(Id)]}const Od={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Pd(e,t){const n=!1===t?"http":"https";if(!e)return Od[n].devnet;const r=Od[n][e];if(!r)throw new Error(`Unknown ${n} cluster: ${e}`);return r}const Md=1e9,Dd=Object.freeze(Object.defineProperty({__proto__:null,Account:class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Xa(e);if(64!==e.length)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Xa(Wa()),this._publicKey=Xa(Ka(this._secretKey))}get publicKey(){return new rl(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}},AddressLookupTableAccount:uc,AddressLookupTableInstruction:class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Os.u32("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(id))if(i.index==t){n=r;break}if(!n)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return n}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Wl(id.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Wl(id.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(e=>new rl(e))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(sd.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},AddressLookupTableProgram:sd,Authorized:md,BLOCKHASH_CACHE_TIMEOUT_MS:3e4,BPF_LOADER_DEPRECATED_PROGRAM_ID:il,BPF_LOADER_PROGRAM_ID:ec,BpfLoader:class{static getMinNumSignatures(e){return Jl.getMinNumSignatures(e)}static load(e,t,n,r,i){return Jl.load(e,t,n,i,r)}},COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:od,ComputeBudgetInstruction:class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Os.u8("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(od))if(i.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return n}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:n}=Wl(od.RequestUnits,e.data);return{units:t,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Wl(od.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Wl(od.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Wl(od.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(ad.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},ComputeBudgetProgram:ad,Connection:nd,Ed25519Program:cd,Enum:class extends Za{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map(e=>{this.enum=e})}},EpochSchedule:ac,FeeCalculatorLayout:Hl,Keypair:rd,LAMPORTS_PER_SOL:Md,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:id,Loader:Jl,Lockup:gd,MAX_SEED_LENGTH:32,Message:kl,MessageAccountKeys:ul,MessageV0:Sl,NONCE_ACCOUNT_LENGTH:$l,NonceAccount:Yl,PACKET_DATA_SIZE:sl,PUBLIC_KEY_LENGTH:tl,PublicKey:rl,SIGNATURE_LENGTH_IN_BYTES:64,SOLANA_SCHEMA:Ja,STAKE_CONFIG_ID:pd,STAKE_INSTRUCTION_LAYOUTS:yd,SYSTEM_INSTRUCTION_LAYOUTS:Xl,SYSVAR_CLOCK_PUBKEY:Il,SYSVAR_EPOCH_SCHEDULE_PUBKEY:Rl,SYSVAR_INSTRUCTIONS_PUBKEY:Ol,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:Pl,SYSVAR_RENT_PUBKEY:Ml,SYSVAR_REWARDS_PUBKEY:Dl,SYSVAR_SLOT_HASHES_PUBKEY:Ll,SYSVAR_SLOT_HISTORY_PUBKEY:Bl,SYSVAR_STAKE_HISTORY_PUBKEY:Ul,Secp256k1Program:hd,SendTransactionError:Fl,SolanaJSONRPCError:zl,SolanaJSONRPCErrorCode:{JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},StakeAuthorizationLayout:bd,StakeInstruction:class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Os.u32("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(yd))if(i.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a StakeInstruction");return n}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:n}=Wl(yd.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new md(new rl(t.staker),new rl(t.withdrawer)),lockup:new gd(n.unixTimestamp,n.epoch,new rl(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Wl(yd.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:n}=Wl(yd.Authorize,e.data),r={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new rl(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(r.custodianPubkey=e.keys[3].pubkey),r}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:n,authoritySeed:r,authorityOwner:i}=Wl(yd.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:r,authorityOwner:new rl(i),newAuthorizedPubkey:new rl(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Wl(yd.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Wl(yd.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Wl(yd.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Wl(yd.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(wd.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},StakeProgram:wd,Struct:Za,SystemInstruction:class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Os.u32("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(Xl))if(i.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a SystemInstruction");return n}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:n,programId:r}=Wl(Xl.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:n,programId:new rl(r)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Wl(Xl.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:n,programId:r}=Wl(Xl.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:n,programId:new rl(r)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Wl(Xl.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,space:r,programId:i}=Wl(Xl.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new rl(t),seed:n,space:r,programId:new rl(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Wl(Xl.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new rl(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,programId:r}=Wl(Xl.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new rl(t),seed:n,programId:new rl(r)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:n,lamports:r,space:i,programId:s}=Wl(Xl.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new rl(t),seed:n,lamports:r,space:i,programId:new rl(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Wl(Xl.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new rl(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Wl(Xl.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Wl(Xl.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Wl(Xl.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new rl(t)}}static checkProgramId(e){if(!e.equals(Zl.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},SystemProgram:Zl,Transaction:Tl,TransactionExpiredBlockheightExceededError:al,TransactionExpiredNonceInvalidError:cl,TransactionExpiredTimeoutError:ll,TransactionInstruction:Al,TransactionMessage:Cl,TransactionStatus:_l,VALIDATOR_INFO_KEY:Ed,VERSION_PREFIX_MASK:ol,VOTE_PROGRAM_ID:Ad,ValidatorInfo:Nd,VersionedMessage:El,VersionedTransaction:jl,VoteAccount:Cd,VoteAuthorizationLayout:kd,VoteInit:vd,VoteInstruction:class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Os.u32("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(xd))if(i.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a VoteInstruction");return n}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Wl(xd.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new vd(new rl(t.nodePubkey),new rl(t.authorizedVoter),new rl(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:n}=Wl(xd.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new rl(t),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:n,newAuthorized:r,voteAuthorizationType:i}}=Wl(xd.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new rl(t),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new rl(r),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Wl(xd.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Sd.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},VoteProgram:Sd,clusterApiUrl:Pd,sendAndConfirmRawTransaction:async function(e,t,n,r){let i,s;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(i=n,s=r):s=n;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await e.sendRawTransaction(t,o),l=s&&s.commitment,c=i?e.confirmTransaction(i,l):e.confirmTransaction(a,l),u=(await c).value;if(u.err){if(null!=a)throw new Fl({action:o?.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(u)})`});throw new Error(`Raw transaction ${a} failed (${JSON.stringify(u)})`)}return a},sendAndConfirmTransaction:Vl},Symbol.toStringTag,{value:"Module"})),Ld=v.createContext({});function Bd(){return v.useContext(Ld)}const Ud=({children:e,endpoint:t,config:n={commitment:"confirmed"}})=>{const r=v.useMemo(()=>new nd(t,n),[t,n]);return S.createElement(Ld.Provider,{value:{connection:r}},e)};var Fd,zd={exports:{}};var Vd=(Fd||(Fd=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,s||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=new Array(s);i<s;i++)o[i]=r[i].fn;return o},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,s,o){var a=n?n+e:e;if(!this._events[a])return!1;var l,c,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,s),!0;case 6:return u.fn.call(u.context,t,r,i,s,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||o(this,s);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==t||i&&!a[l].once||r&&a[l].context!==r)&&c.push(a[l]);c.length?this._events[s]=1===c.length?c[0]:c:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a}(zd)),zd.exports);const qd=k(Vd);class Gd extends Error{constructor(e,t){super(e),this.error=t}}class Wd extends Gd{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Hd extends Gd{constructor(){super(...arguments),this.name="WalletConfigError"}}class Kd extends Gd{constructor(){super(...arguments),this.name="WalletConnectionError"}}class $d extends Gd{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Yd extends Gd{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Qd extends Gd{constructor(){super(...arguments),this.name="WalletAccountError"}}class Xd extends Gd{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class Zd extends Gd{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Jd extends Gd{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class eh extends Gd{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class th extends Gd{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class nh extends Gd{constructor(){super(...arguments),this.name="WalletSignInError"}}var rh,ih;(ih=rh||(rh={})).Installed="Installed",ih.NotDetected="NotDetected",ih.Loadable="Loadable",ih.Unsupported="Unsupported";class sh extends qd{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,t,n={}){const r=this.publicKey;if(!r)throw new Zd;return e.feePayer=e.feePayer||r,e.recentBlockhash=e.recentBlockhash||(await t.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,e}}function oh(e){return"version"in e}class ah extends sh{async sendTransaction(e,t,n={}){let r=!0;try{if(oh(e)){if(!this.supportedTransactionVersions)throw new Jd("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new Jd(`Sending transaction version ${e.version} isn't supported by this wallet`);try{const r=(e=await this.signTransaction(e)).serialize();return await t.sendRawTransaction(r,n)}catch(i){if(i instanceof eh)throw r=!1,i;throw new Jd(i?.message,i)}}else try{const{signers:r,...i}=n;e=await this.prepareTransaction(e,t,i),r?.length&&e.partialSign(...r);const s=(e=await this.signTransaction(e)).serialize();return await t.sendRawTransaction(s,i)}catch(i){if(i instanceof eh)throw r=!1,i;throw new Jd(i?.message,i)}}catch(i){throw r&&this.emit("error",i),i}}async signAllTransactions(e){for(const n of e)if(oh(n)){if(!this.supportedTransactionVersions)throw new eh("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new eh(`Signing transaction version ${n.version} isn't supported by this wallet`)}const t=[];for(const n of e)t.push(await this.signTransaction(n));return t}}class lh extends ah{}class ch extends lh{}const uh="solana:signAndSendTransaction",dh="solana:signIn",hh="solana:signMessage",fh="solana:signTransaction",ph="standard:connect",mh="standard:disconnect",gh="standard:events";class yh extends Gd{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const bh=[],wh={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){vh("call","select")},connect:()=>Promise.reject(vh("call","connect")),disconnect:()=>Promise.reject(vh("call","disconnect")),sendTransaction:()=>Promise.reject(vh("call","sendTransaction")),signTransaction:()=>Promise.reject(vh("call","signTransaction")),signAllTransactions:()=>Promise.reject(vh("call","signAllTransactions")),signMessage:()=>Promise.reject(vh("call","signMessage")),signIn:()=>Promise.reject(vh("call","signIn"))};function vh(e,t){const n=new Error(`You have tried to ${e} "${t}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}Object.defineProperty(wh,"wallets",{get:()=>(vh("read","wallets"),bh)}),Object.defineProperty(wh,"wallet",{get:()=>(vh("read","wallet"),null)}),Object.defineProperty(wh,"publicKey",{get:()=>(vh("read","publicKey"),null)});const xh=v.createContext(wh);function kh(){return v.useContext(xh)}var Sh,Eh,_h={};var Nh,Ah={},Th={};function Ch(){if(Nh)return Th;let e;Nh=1;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Th.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},Th.getSymbolTotalCodewords=function(e){return t[e]},Th.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},Th.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');e=t},Th.isKanjiModeEnabled=function(){return void 0!==e},Th.toSJIS=function(t){return e(t)},Th}var jh,Ih,Rh,Oh,Ph,Mh={};function Dh(){return jh||(jh=1,(e=Mh).L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(r){return n}}),Mh;var e}var Lh,Bh={};var Uh,Fh={};var zh,Vh={};var qh,Gh={};function Wh(){if(qh)return Gh;qh=1;const e=Dh(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Gh.getBlocksCount=function(n,r){switch(r){case e.L:return t[4*(n-1)+0];case e.M:return t[4*(n-1)+1];case e.Q:return t[4*(n-1)+2];case e.H:return t[4*(n-1)+3];default:return}},Gh.getTotalCodewordsCount=function(t,r){switch(r){case e.L:return n[4*(t-1)+0];case e.M:return n[4*(t-1)+1];case e.Q:return n[4*(t-1)+2];case e.H:return n[4*(t-1)+3];default:return}},Gh}var Hh,Kh,$h,Yh,Qh={},Xh={};function Zh(){return Kh||(Kh=1,function(e){const t=function(){if(Hh)return Xh;Hh=1;const e=new Uint8Array(512),t=new Uint8Array(256);return function(){let n=1;for(let r=0;r<255;r++)e[r]=n,t[n]=r,n<<=1,256&n&&(n^=285);for(let t=255;t<512;t++)e[t]=e[t-255]}(),Xh.log=function(e){if(e<1)throw new Error("log("+e+")");return t[e]},Xh.exp=function(t){return e[t]},Xh.mul=function(n,r){return 0===n||0===r?0:e[t[n]+t[r]]},Xh}();e.mul=function(e,n){const r=new Uint8Array(e.length+n.length-1);for(let i=0;i<e.length;i++)for(let s=0;s<n.length;s++)r[i+s]^=t.mul(e[i],n[s]);return r},e.mod=function(e,n){let r=new Uint8Array(e);for(;r.length-n.length>=0;){const e=r[0];for(let s=0;s<n.length;s++)r[s]^=t.mul(n[s],e);let i=0;for(;i<r.length&&0===r[i];)i++;r=r.slice(i)}return r},e.generateECPolynomial=function(n){let r=new Uint8Array([1]);for(let i=0;i<n;i++)r=e.mul(r,new Uint8Array([1,t.exp(i)]));return r}}(Qh)),Qh}var Jh,ef={},tf={},nf={};function rf(){return Jh||(Jh=1,nf.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),nf}var sf,of,af,lf={};function cf(){if(sf)return lf;sf=1;const e="[0-9]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+")(?:.|[\r\n]))+";lf.KANJI=new RegExp(t,"g"),lf.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),lf.BYTE=new RegExp(n,"g"),lf.NUMERIC=new RegExp(e,"g"),lf.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const r=new RegExp("^"+t+"$"),i=new RegExp("^"+e+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return lf.testKanji=function(e){return r.test(e)},lf.testNumeric=function(e){return i.test(e)},lf.testAlphanumeric=function(e){return s.test(e)},lf}function uf(){return of||(of=1,function(e){const t=rf(),n=cf();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(e,n){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!t.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?e.ccBits[0]:n<27?e.ccBits[1]:e.ccBits[2]},e.getBestModeForData=function(t){return n.testNumeric(t)?e.NUMERIC:n.testAlphanumeric(t)?e.ALPHANUMERIC:n.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},e.isValid=function(e){return e&&e.bit&&e.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(r){return n}}}(tf)),tf}function df(){return af||(af=1,function(e){const t=Ch(),n=Wh(),r=Dh(),i=uf(),s=rf(),o=t.getBCHDigit(7973);function a(e,t){return i.getCharCountIndicator(e,t)+4}function l(e,t){let n=0;return e.forEach(function(e){const r=a(e.mode,t);n+=r+e.getBitsLength()}),n}e.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},e.getCapacity=function(e,r,o){if(!s.isValid(e))throw new Error("Invalid QR Code version");void 0===o&&(o=i.BYTE);const l=8*(t.getSymbolTotalCodewords(e)-n.getTotalCodewordsCount(e,r));if(o===i.MIXED)return l;const c=l-a(o,e);switch(o){case i.NUMERIC:return Math.floor(c/10*3);case i.ALPHANUMERIC:return Math.floor(c/11*2);case i.KANJI:return Math.floor(c/13);case i.BYTE:default:return Math.floor(c/8)}},e.getBestVersionForData=function(t,n){let s;const o=r.from(n,r.M);if(Array.isArray(t)){if(t.length>1)return function(t,n){for(let r=1;r<=40;r++)if(l(t,r)<=e.getCapacity(r,n,i.MIXED))return r}(t,o);if(0===t.length)return 1;s=t[0]}else s=t;return function(t,n,r){for(let i=1;i<=40;i++)if(n<=e.getCapacity(i,r,t))return i}(s.mode,s.getLength(),o)},e.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw new Error("Invalid QR Code version");let n=e<<12;for(;t.getBCHDigit(n)-o>=0;)n^=7973<<t.getBCHDigit(n)-o;return e<<12|n}}(ef)),ef}var hf,ff={};var pf,mf,gf,yf,bf,wf,vf,xf,kf={};var Sf,Ef,_f,Nf={exports:{}};function Af(){return Ef||(Ef=1,function(e){const t=uf(),n=function(){if(mf)return pf;mf=1;const e=uf();function t(t){this.mode=e.NUMERIC,this.data=t.toString()}return t.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(e){let t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);const i=this.data.length-t;i>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*i+1))},pf=t}(),r=function(){if(yf)return gf;yf=1;const e=uf(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(t){this.mode=e.ALPHANUMERIC,this.data=t}return n.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=45*t.indexOf(this.data[n]);r+=t.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(t.indexOf(this.data[n]),6)},gf=n}(),i=function(){if(wf)return bf;wf=1;const e=uf();function t(t){this.mode=e.BYTE,this.data="string"==typeof t?(new TextEncoder).encode(t):new Uint8Array(t)}return t.getBitsLength=function(e){return 8*e},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},bf=t}(),s=function(){if(xf)return vf;xf=1;const e=uf(),t=Ch();function n(t){this.mode=e.KANJI,this.data=t}return n.getBitsLength=function(e){return 13*e},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){let n;for(n=0;n<this.data.length;n++){let r=t.toSJIS(this.data[n]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[n]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13)}},vf=n}(),o=cf(),a=Ch(),l=function(){return Sf?Nf.exports:(Sf=1,Nf.exports=e={single_source_shortest_paths:function(t,n,r){var i={},s={};s[n]=0;var o,a,l,c,u,d,h,f=e.PriorityQueue.make();for(f.push(n,0);!f.empty();)for(l in a=(o=f.pop()).value,c=o.cost,u=t[a]||{})u.hasOwnProperty(l)&&(d=c+u[l],h=s[l],(void 0===s[l]||h>d)&&(s[l]=d,f.push(l,d),i[l]=a));if(void 0!==r&&void 0===s[r]){var p=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(t,n,r){var i=e.single_source_shortest_paths(t,n,r);return e.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(t){var n,r=e.PriorityQueue,i={};for(n in t=t||{},r)r.hasOwnProperty(n)&&(i[n]=r[n]);return i.queue=[],i.sorter=t.sorter||r.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}});var e}();function c(e){return unescape(encodeURIComponent(e)).length}function u(e,t,n){const r=[];let i;for(;null!==(i=e.exec(n));)r.push({data:i[0],index:i.index,mode:t,length:i[0].length});return r}function d(e){const n=u(o.NUMERIC,t.NUMERIC,e),r=u(o.ALPHANUMERIC,t.ALPHANUMERIC,e);let i,s;a.isKanjiModeEnabled()?(i=u(o.BYTE,t.BYTE,e),s=u(o.KANJI,t.KANJI,e)):(i=u(o.BYTE_KANJI,t.BYTE,e),s=[]);return n.concat(r,i,s).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function h(e,o){switch(o){case t.NUMERIC:return n.getBitsLength(e);case t.ALPHANUMERIC:return r.getBitsLength(e);case t.KANJI:return s.getBitsLength(e);case t.BYTE:return i.getBitsLength(e)}}function f(e,o){let l;const c=t.getBestModeForData(e);if(l=t.from(o,c),l!==t.BYTE&&l.bit<c.bit)throw new Error('"'+e+'" cannot be encoded with mode '+t.toString(l)+".\n Suggested mode is: "+t.toString(c));switch(l!==t.KANJI||a.isKanjiModeEnabled()||(l=t.BYTE),l){case t.NUMERIC:return new n(e);case t.ALPHANUMERIC:return new r(e);case t.KANJI:return new s(e);case t.BYTE:return new i(e)}}e.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(f(t,null)):t.data&&e.push(f(t.data,t.mode)),e},[])},e.fromString=function(n,r){const i=function(e){const n=[];for(let r=0;r<e.length;r++){const i=e[r];switch(i.mode){case t.NUMERIC:n.push([i,{data:i.data,mode:t.ALPHANUMERIC,length:i.length},{data:i.data,mode:t.BYTE,length:i.length}]);break;case t.ALPHANUMERIC:n.push([i,{data:i.data,mode:t.BYTE,length:i.length}]);break;case t.KANJI:n.push([i,{data:i.data,mode:t.BYTE,length:c(i.data)}]);break;case t.BYTE:n.push([{data:i.data,mode:t.BYTE,length:c(i.data)}])}}return n}(d(n,a.isKanjiModeEnabled())),s=function(e,n){const r={},i={start:{}};let s=["start"];for(let o=0;o<e.length;o++){const a=e[o],l=[];for(let e=0;e<a.length;e++){const c=a[e],u=""+o+e;l.push(u),r[u]={node:c,lastCount:0},i[u]={};for(let e=0;e<s.length;e++){const o=s[e];r[o]&&r[o].node.mode===c.mode?(i[o][u]=h(r[o].lastCount+c.length,c.mode)-h(r[o].lastCount,c.mode),r[o].lastCount+=c.length):(r[o]&&(r[o].lastCount=c.length),i[o][u]=h(c.length,c.mode)+4+t.getCharCountIndicator(c.mode,n))}}s=l}for(let t=0;t<s.length;t++)i[s[t]].end=0;return{map:i,table:r}}(i,r),o=l.find_path(s.map,"start","end"),u=[];for(let e=1;e<o.length-1;e++)u.push(s.table[o[e]].node);return e.fromArray(function(e){return e.reduce(function(e,t){const n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}(u))},e.rawSplit=function(t){return e.fromArray(d(t,a.isKanjiModeEnabled()))}}(kf)),kf}function Tf(){if(_f)return Ah;_f=1;const e=Ch(),t=Dh(),n=function(){if(Rh)return Ih;function e(){this.buffer=[],this.length=0}return Rh=1,e.prototype={get:function(e){const t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},Ih=e}(),r=function(){if(Ph)return Oh;function e(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return Ph=1,e.prototype.set=function(e,t,n,r){const i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)},e.prototype.get=function(e,t){return this.data[e*this.size+t]},e.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},e.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},Oh=e}(),i=(Lh||(Lh=1,function(e){const t=Ch().getSymbolSize;e.getRowColCoords=function(e){if(1===e)return[];const n=Math.floor(e/7)+2,r=t(e),i=145===r?26:2*Math.ceil((r-13)/(2*n-2)),s=[r-7];for(let t=1;t<n-1;t++)s[t]=s[t-1]-i;return s.push(6),s.reverse()},e.getPositions=function(t){const n=[],r=e.getRowColCoords(t),i=r.length;for(let e=0;e<i;e++)for(let t=0;t<i;t++)0===e&&0===t||0===e&&t===i-1||e===i-1&&0===t||n.push([r[e],r[t]]);return n}}(Bh)),Bh),s=function(){if(Uh)return Fh;Uh=1;const e=Ch().getSymbolSize;return Fh.getPositions=function(t){const n=e(t);return[[0,0],[n-7,0],[0,n-7]]},Fh}(),o=(zh||(zh=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t=3,n=3,r=40,i=10;function s(t,n,r){switch(t){case e.Patterns.PATTERN000:return(n+r)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return r%3==0;case e.Patterns.PATTERN011:return(n+r)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case e.Patterns.PATTERN101:return n*r%2+n*r%3==0;case e.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case e.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(e){const n=e.size;let r=0,i=0,s=0,o=null,a=null;for(let l=0;l<n;l++){i=s=0,o=a=null;for(let c=0;c<n;c++){let n=e.get(l,c);n===o?i++:(i>=5&&(r+=t+(i-5)),o=n,i=1),n=e.get(c,l),n===a?s++:(s>=5&&(r+=t+(s-5)),a=n,s=1)}i>=5&&(r+=t+(i-5)),s>=5&&(r+=t+(s-5))}return r},e.getPenaltyN2=function(e){const t=e.size;let r=0;for(let n=0;n<t-1;n++)for(let i=0;i<t-1;i++){const t=e.get(n,i)+e.get(n,i+1)+e.get(n+1,i)+e.get(n+1,i+1);4!==t&&0!==t||r++}return r*n},e.getPenaltyN3=function(e){const t=e.size;let n=0,i=0,s=0;for(let r=0;r<t;r++){i=s=0;for(let o=0;o<t;o++)i=i<<1&2047|e.get(r,o),o>=10&&(1488===i||93===i)&&n++,s=s<<1&2047|e.get(o,r),o>=10&&(1488===s||93===s)&&n++}return n*r},e.getPenaltyN4=function(e){let t=0;const n=e.data.length;for(let r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*i},e.applyMask=function(e,t){const n=t.size;for(let r=0;r<n;r++)for(let i=0;i<n;i++)t.isReserved(i,r)||t.xor(i,r,s(e,i,r))},e.getBestMask=function(t,n){const r=Object.keys(e.Patterns).length;let i=0,s=1/0;for(let o=0;o<r;o++){n(o),e.applyMask(o,t);const r=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(o,t),r<s&&(s=r,i=o)}return i}}(Vh)),Vh),a=Wh(),l=function(){if(Yh)return $h;Yh=1;const e=Zh();function t(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(t){this.degree=t,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=e.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const e=new Uint8Array(this.degree);return e.set(r,i),e}return r},$h=t}(),c=df(),u=function(){if(hf)return ff;hf=1;const e=Ch(),t=e.getBCHDigit(1335);return ff.getEncodedBits=function(n,r){const i=n.bit<<3|r;let s=i<<10;for(;e.getBCHDigit(s)-t>=0;)s^=1335<<e.getBCHDigit(s)-t;return 21522^(i<<10|s)},ff}(),d=uf(),h=Af();function f(e,t,n){const r=e.size,i=u.getEncodedBits(t,n);let s,o;for(s=0;s<15;s++)o=1==(i>>s&1),s<6?e.set(s,8,o,!0):s<8?e.set(s+1,8,o,!0):e.set(r-15+s,8,o,!0),s<8?e.set(8,r-s-1,o,!0):s<9?e.set(8,15-s-1+1,o,!0):e.set(8,15-s-1,o,!0);e.set(r-8,8,1,!0)}function p(t,r,i){const s=new n;i.forEach(function(e){s.put(e.mode.bit,4),s.put(e.getLength(),d.getCharCountIndicator(e.mode,t)),e.write(s)});const o=8*(e.getSymbolTotalCodewords(t)-a.getTotalCodewordsCount(t,r));for(s.getLengthInBits()+4<=o&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(0);const c=(o-s.getLengthInBits())/8;for(let e=0;e<c;e++)s.put(e%2?17:236,8);return function(t,n,r){const i=e.getSymbolTotalCodewords(n),s=a.getTotalCodewordsCount(n,r),o=i-s,c=a.getBlocksCount(n,r),u=i%c,d=c-u,h=Math.floor(i/c),f=Math.floor(o/c),p=f+1,m=h-f,g=new l(m);let y=0;const b=new Array(c),w=new Array(c);let v=0;const x=new Uint8Array(t.buffer);for(let e=0;e<c;e++){const t=e<d?f:p;b[e]=x.slice(y,y+t),w[e]=g.encode(b[e]),y+=t,v=Math.max(v,t)}const k=new Uint8Array(i);let S,E,_=0;for(S=0;S<v;S++)for(E=0;E<c;E++)S<b[E].length&&(k[_++]=b[E][S]);for(S=0;S<m;S++)for(E=0;E<c;E++)k[_++]=w[E][S];return k}(s,t,r)}function m(t,n,a,l){let u;if(Array.isArray(t))u=h.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");{let e=n;if(!e){const n=h.rawSplit(t);e=c.getBestVersionForData(n,a)}u=h.fromString(t,e||40)}}const d=c.getBestVersionForData(u,a);if(!d)throw new Error("The amount of data is too big to be stored in a QR Code");if(n){if(n<d)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+d+".\n")}else n=d;const m=p(n,a,u),g=e.getSymbolSize(n),y=new r(g);return function(e,t){const n=e.size,r=s.getPositions(t);for(let i=0;i<r.length;i++){const t=r[i][0],s=r[i][1];for(let r=-1;r<=7;r++)if(!(t+r<=-1||n<=t+r))for(let i=-1;i<=7;i++)s+i<=-1||n<=s+i||(r>=0&&r<=6&&(0===i||6===i)||i>=0&&i<=6&&(0===r||6===r)||r>=2&&r<=4&&i>=2&&i<=4?e.set(t+r,s+i,!0,!0):e.set(t+r,s+i,!1,!0))}}(y,n),function(e){const t=e.size;for(let n=8;n<t-8;n++){const t=n%2==0;e.set(n,6,t,!0),e.set(6,n,t,!0)}}(y),function(e,t){const n=i.getPositions(t);for(let r=0;r<n.length;r++){const t=n[r][0],i=n[r][1];for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)-2===n||2===n||-2===r||2===r||0===n&&0===r?e.set(t+n,i+r,!0,!0):e.set(t+n,i+r,!1,!0)}}(y,n),f(y,a,0),n>=7&&function(e,t){const n=e.size,r=c.getEncodedBits(t);let i,s,o;for(let a=0;a<18;a++)i=Math.floor(a/3),s=a%3+n-8-3,o=1==(r>>a&1),e.set(i,s,o,!0),e.set(s,i,o,!0)}(y,n),function(e,t){const n=e.size;let r=-1,i=n-1,s=7,o=0;for(let a=n-1;a>0;a-=2)for(6===a&&a--;;){for(let n=0;n<2;n++)if(!e.isReserved(i,a-n)){let r=!1;o<t.length&&(r=1==(t[o]>>>s&1)),e.set(i,a-n,r),s--,-1===s&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}(y,m),isNaN(l)&&(l=o.getBestMask(y,f.bind(null,y,a))),o.applyMask(l,y),f(y,a,l),{modules:y,version:n,errorCorrectionLevel:a,maskPattern:l,segments:u}}return Ah.create=function(n,r){if(void 0===n||""===n)throw new Error("No input text");let i,s,a=t.M;return void 0!==r&&(a=t.from(r.errorCorrectionLevel,t.M),i=c.from(r.version),s=o.from(r.maskPattern),r.toSJISFunc&&e.setToSJISFunction(r.toSJISFunc)),m(n,i,a,s)},Ah}var Cf,jf,If={},Rf={};function Of(){return Cf||(Cf=1,function(e){function t(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}e.getOptions=function(e){e||(e={}),e.color||(e.color={});const n=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:n,color:{dark:t(e.color.dark||"#000000ff"),light:t(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},e.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},e.getImageWidth=function(t,n){const r=e.getScale(t,n);return Math.floor((t+2*n.margin)*r)},e.qrToImageData=function(t,n,r){const i=n.modules.size,s=n.modules.data,o=e.getScale(i,r),a=Math.floor((i+2*r.margin)*o),l=r.margin*o,c=[r.color.light,r.color.dark];for(let e=0;e<a;e++)for(let n=0;n<a;n++){let u=4*(e*a+n),d=r.color.light;if(e>=l&&n>=l&&e<a-l&&n<a-l){d=c[s[Math.floor((e-l)/o)*i+Math.floor((n-l)/o)]?1:0]}t[u++]=d.r,t[u++]=d.g,t[u++]=d.b,t[u]=d.a}}}(Rf)),Rf}function Pf(){return jf||(jf=1,function(e){const t=Of();e.render=function(e,n,r){let i=r,s=n;void 0!==i||n&&n.getContext||(i=n,n=void 0),n||(s=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),i=t.getOptions(i);const o=t.getImageWidth(e.modules.size,i),a=s.getContext("2d"),l=a.createImageData(o,o);return t.qrToImageData(l.data,e,i),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(a,s,o),a.putImageData(l,0,0),s},e.renderToDataURL=function(t,n,r){let i=r;void 0!==i||n&&n.getContext||(i=n,n=void 0),i||(i={});const s=e.render(t,n,i),o=i.type||"image/png",a=i.rendererOpts||{};return s.toDataURL(o,a.quality)}}(If)),If}var Mf,Df,Lf={};function Bf(){if(Mf)return Lf;Mf=1;const e=Of();function t(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function n(e,t,n){let r=e+t;return void 0!==n&&(r+=" "+n),r}return Lf.render=function(r,i,s){const o=e.getOptions(i),a=r.modules.size,l=r.modules.data,c=a+2*o.margin,u=o.color.light.a?"<path "+t(o.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",d="<path "+t(o.color.dark,"stroke")+' d="'+function(e,t,r){let i="",s=0,o=!1,a=0;for(let l=0;l<e.length;l++){const c=Math.floor(l%t),u=Math.floor(l/t);c||o||(o=!0),e[l]?(a++,l>0&&c>0&&e[l-1]||(i+=o?n("M",c+r,.5+u+r):n("m",s,0),s=0,o=!1),c+1<t&&e[l+1]||(i+=n("h",a),a=0)):s++}return i}(l,a,o.margin)+'"/>',h='viewBox="0 0 '+c+" "+c+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+h+' shape-rendering="crispEdges">'+u+d+"</svg>\n";return"function"==typeof s&&s(null,f),f},Lf}function Uf(e){switch(e){case"processed":case"confirmed":case"finalized":case void 0:return e;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}!function(){if(Df)return _h;Df=1;const e=Eh?Sh:(Eh=1,Sh=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}),t=Tf(),n=Pf(),r=Bf();function i(n,r,i,s,o){const a=[].slice.call(arguments,1),l=a.length,c="function"==typeof a[l-1];if(!c&&!e())throw new Error("Callback required as last argument");if(!c){if(l<1)throw new Error("Too few arguments provided");return 1===l?(i=r,r=s=void 0):2!==l||r.getContext||(s=i,i=r,r=void 0),new Promise(function(e,o){try{const o=t.create(i,s);e(n(o,r,s))}catch(a){o(a)}})}if(l<2)throw new Error("Too few arguments provided");2===l?(o=i,i=r,r=s=void 0):3===l&&(r.getContext&&void 0===o?(o=s,s=void 0):(o=s,s=i,i=r,r=void 0));try{const e=t.create(i,s);o(null,n(e,r,s))}catch(u){o(u)}}_h.create=t.create,_h.toCanvas=i.bind(null,n.render),_h.toDataURL=i.bind(null,n.renderToDataURL),_h.toString=i.bind(null,function(e,t,n){return r.render(e,n)})}();const Ff="solana:mainnet";const zf="ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",Vf="ERROR_FORBIDDEN_WALLET_BASE_URL",qf="ERROR_SECURE_CONTEXT_REQUIRED",Gf="ERROR_SESSION_CLOSED",Wf="ERROR_SESSION_TIMEOUT",Hf="ERROR_WALLET_NOT_FOUND",Kf="ERROR_INVALID_PROTOCOL_VERSION";class $f extends Error{constructor(...e){const[t,n,r]=e;super(n),this.code=t,this.data=r,this.name="SolanaMobileWalletAdapterError"}}class Yf extends Error{constructor(...e){const[t,n,r,i]=e;super(r),this.code=n,this.data=i,this.jsonRpcMessageId=t,this.name="SolanaMobileWalletAdapterProtocolError"}}function Qf(e,t,n,r){return new(n||(n=Promise))(function(t,i){function s(e){try{a(r.next(e))}catch(t){i(t)}}function o(e){try{a(r.throw(e))}catch(t){i(t)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n(function(e){e(r)})).then(s,o)}a((r=r.apply(e,[])).next())})}function Xf(e,t){return Qf(this,0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",e),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},t,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i})}function Zf(e){return t=function(e){return function(e){let t=`${e.domain} wants you to sign in with your Solana account:\n`;t+=`${e.address}`,e.statement&&(t+=`\n\n${e.statement}`);const n=[];if(e.uri&&n.push(`URI: ${e.uri}`),e.version&&n.push(`Version: ${e.version}`),e.chainId&&n.push(`Chain ID: ${e.chainId}`),e.nonce&&n.push(`Nonce: ${e.nonce}`),e.issuedAt&&n.push(`Issued At: ${e.issuedAt}`),e.expirationTime&&n.push(`Expiration Time: ${e.expirationTime}`),e.notBefore&&n.push(`Not Before: ${e.notBefore}`),e.requestId&&n.push(`Request ID: ${e.requestId}`),e.resources){n.push("Resources:");for(const t of e.resources)n.push(`- ${t}`)}return n.length&&(t+=`\n\n${n.join("\n")}`),t}(e)}(e),window.btoa(t);var t}const Jf="solana:signTransactions",ep="solana:cloneAuthorization";function tp(e,t){return new Proxy({},{get:(n,r)=>"then"===r?null:(null==n[r]&&(n[r]=function(n){return Qf(this,0,void 0,function*(){const{method:i,params:s}=function(e,t,n){let r=t,i=e.toString().replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`).toLowerCase();switch(e){case"authorize":{let{chain:e}=r;if("legacy"===n){switch(e){case"solana:testnet":e="testnet";break;case"solana:devnet":e="devnet";break;case"solana:mainnet":e="mainnet-beta";break;default:e=r.cluster}r.cluster=e}else{switch(e){case"testnet":case"devnet":e=`solana:${e}`;break;case"mainnet-beta":e="solana:mainnet"}r.chain=e}}case"reauthorize":{const{auth_token:e,identity:t}=r;if(e)if("legacy"===n)i="reauthorize",r={auth_token:e,identity:t};else i="authorize";break}}return{method:i,params:r}}(r,n,e),o=yield t(i,s);return"authorize"===i&&s.sign_in_payload&&!o.sign_in_result&&(o.sign_in_result=yield function(e,t,n){var r;return Qf(this,0,void 0,function*(){const i=null!==(r=e.domain)&&void 0!==r?r:window.location.host,s=t.accounts[0].address,o=Zf(Object.assign(Object.assign({},e),{domain:i,address:s}));return{address:s,signed_message:o,signature:(yield n("sign_messages",{addresses:[s],payloads:[o]})).signed_payloads[0].slice(o.length)}})}(s.sign_in_payload,o,t)),function(e,t,n){if("getCapabilities"===e){const e=t;switch(n){case"legacy":{const t=[Jf];return!0===e.supports_clone_authorization&&t.push(ep),Object.assign(Object.assign({},e),{features:t})}case"v1":return Object.assign(Object.assign({},e),{supports_sign_and_send_transactions:!0,supports_clone_authorization:e.features.includes(ep)})}}return t}(r,o,e)})}),n[r]),defineProperty:()=>!1,deleteProperty:()=>!1})}function np(e,t,n){return Qf(this,0,void 0,function*(){const r=function(e){if(e>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e,!1),new Uint8Array(t)}(t),i=new Uint8Array(12);crypto.getRandomValues(i);const s=yield crypto.subtle.encrypt(ip(r,i),n,(new TextEncoder).encode(e)),o=new Uint8Array(r.byteLength+i.byteLength+s.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(i),r.byteLength),o.set(new Uint8Array(s),r.byteLength+i.byteLength),o})}function rp(e,t){return Qf(this,0,void 0,function*(){const n=e.slice(0,4),r=e.slice(4,16),i=e.slice(16),s=yield crypto.subtle.decrypt(ip(n,r),t,i);return function(){void 0===sp&&(sp=new TextDecoder("utf-8"));return sp}().decode(s)})}function ip(e,t){return{additionalData:e,iv:t,name:"AES-GCM",tagLength:128}}let sp;function op(){return Qf(this,0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function ap(e){if(e<49152||e>65535)throw new $f(zf,`Association port number must be between 49152 and 65535. ${e} given.`,{port:e});return e}function lp(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function cp(e,t,n,r=["v1"]){return Qf(this,0,void 0,function*(){const i=ap(t),s=function(e){let t="";const n=new Uint8Array(e),r=n.byteLength;for(let i=0;i<r;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)}(yield crypto.subtle.exportKey("raw",e)),o=function(e,t){let n=null;if(t){try{n=new URL(t)}catch(i){}if("https:"!==(null==n?void 0:n.protocol))throw new $f(Vf,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL("solana-wallet:/"));const r=e.startsWith("/")?e:[...lp(n.pathname),...lp(e)].join("/");return new URL(r,n)}("v1/associate/local",n);return o.searchParams.set("association",s.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."}[e]))),o.searchParams.set("port",`${i}`),r.forEach(e=>{o.searchParams.set("v",e)}),o})}const up=0,dp=1;let hp=null;function fp(e){return Qf(this,0,void 0,function*(){if("https:"===e.protocol)window.location.assign(e);else try{const n=-1!==navigator.userAgent.indexOf("Firefox/")?up:dp;switch(n){case up:t=e,null==hp&&(hp=document.createElement("iframe"),hp.style.display="none",document.body.appendChild(hp)),hp.contentWindow.location.href=t.toString();break;case dp:{const t=new Promise((e,t)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),e()}window.addEventListener("blur",r);const i=setTimeout(()=>{n(),t()},3e3)});window.location.assign(e),yield t;break}}}catch(n){throw new $f(Hf,"Found no installed wallet that supports the mobile wallet protocol.")}var t})}function pp(e,t){return Qf(this,0,void 0,function*(){const n=ap(49152+Math.floor(16384*Math.random())),r=yield cp(e,n,t);return yield fp(r),n})}const mp={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4};function gp(e){return new DataView(e).getUint32(0,!1)}function yp(e,t){return Qf(this,0,void 0,function*(){!function(){if("undefined"==typeof window||!0!==window.isSecureContext)throw new $f(qf,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}();const n=yield function(){return Qf(this,0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}(),r=`ws://localhost:${yield pp(n.publicKey,null==t?void 0:t.baseUri)}/solana-wallet`;let i;const s=(()=>{const e=[...mp.retryDelayScheduleMs];return()=>e.length>1?e.shift():e[0]})();let o=1,a=0,l={__type:"disconnected"};return new Promise((t,c)=>{let u;const d={},h=()=>Qf(this,0,void 0,function*(){if("connecting"!==l.__type)return void console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${l.__type}\`.`);u.removeEventListener("open",h);const{associationKeypair:e}=l,t=yield op();u.send(yield Xf(t.publicKey,e.privateKey)),l={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:t.privateKey}}),f=e=>{e.wasClean?l={__type:"disconnected"}:c(new $f(Gf,`The wallet session dropped unexpectedly (${e.code}: ${e.reason}).`,{closeEvent:e})),g()},p=e=>Qf(this,0,void 0,function*(){g(),Date.now()-i>=mp.timeoutMs?c(new $f(Wf,`Failed to connect to the wallet websocket at ${r}.`)):(yield new Promise(e=>{const t=s();y=window.setTimeout(e,t)}),b())}),m=r=>Qf(this,0,void 0,function*(){const i=yield r.data.arrayBuffer();switch(l.__type){case"connecting":if(0!==i.byteLength)throw new Error("Encountered unexpected message while connecting");const r=yield op();u.send(yield Xf(r.publicKey,n.privateKey)),l={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:r.privateKey};break;case"connected":try{const e=gp(i.slice(0,4));if(e!==a+1)throw new Error("Encrypted message has invalid sequence number");a=e;const t=yield function(e,t){return Qf(this,0,void 0,function*(){const n=yield rp(e,t),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new Yf(r.id,r.error.code,r.error.message);return r})}(i,l.sharedSecret),n=d[t.id];delete d[t.id],n.resolve(t.result)}catch(s){if(!(s instanceof Yf))throw s;{const e=d[s.jsonRpcMessageId];delete d[s.jsonRpcMessageId],e.reject(s)}}break;case"hello_req_sent":{if(0===i.byteLength){const e=yield op();u.send(yield Xf(e.publicKey,n.privateKey)),l={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:e.privateKey};break}const r=yield function(e,t,n){return Qf(this,0,void 0,function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",t),crypto.subtle.importKey("raw",e.slice(0,65),{name:"ECDH",namedCurve:"P-256"},!1,[])]),s=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),o=yield crypto.subtle.importKey("raw",s,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}(i,l.associationPublicKey,l.ecdhPrivateKey),h=i.slice(65),f=0!==h.byteLength?yield(()=>Qf(this,0,void 0,function*(){const e=gp(h.slice(0,4));if(e!==a+1)throw new Error("Encrypted message has invalid sequence number");return a=e,function(e,t){return Qf(this,0,void 0,function*(){const n=yield rp(e,t),r=JSON.parse(n);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new $f(Kf,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:i}})}(h,r)}))():{protocol_version:"legacy"};l={__type:"connected",sharedSecret:r,sessionProperties:f};const p=tp(f.protocol_version,(e,t)=>Qf(this,0,void 0,function*(){const n=o++;return u.send(yield function(e,t){return Qf(this,0,void 0,function*(){return np(JSON.stringify(e),e.id,t)})}({id:n,jsonrpc:"2.0",method:e,params:null!=t?t:{}},r)),new Promise((t,r)=>{d[n]={resolve(n){switch(e){case"authorize":case"reauthorize":{const{wallet_uri_base:e}=n;if(null!=e)try{!function(e){let t;try{t=new URL(e)}catch(n){throw new $f(Vf,"Invalid base URL supplied by wallet")}if("https:"!==t.protocol)throw new $f(Vf,"Base URLs supplied by wallets must be valid `https` URLs")}(e)}catch(s){return void r(s)}break}}t(n)},reject:r}})}));try{t(yield e(p))}catch(s){c(s)}finally{g(),u.close()}break}}});let g,y;const b=()=>{g&&g(),l={__type:"connecting",associationKeypair:n},void 0===i&&(i=Date.now()),u=new WebSocket(r,["com.solana.mobilewalletadapter.v1"]),u.addEventListener("open",h),u.addEventListener("close",f),u.addEventListener("error",p),u.addEventListener("message",m),g=()=>{window.clearTimeout(y),u.removeEventListener("open",h),u.removeEventListener("close",f),u.removeEventListener("error",p),u.removeEventListener("message",m)}};b()})})}var bp,wp,vp,xp;var kp=function(){if(xp)return vp;xp=1;const e=(wp||(wp=1,bp=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),s=i.charCodeAt(0);if(255!==t[s])throw new TypeError(i+" is ambiguous");t[s]=r}var o=e.length,a=e.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function u(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var n=0,r=0,i=0;e[n]===a;)r++,n++;for(var s=(e.length-n)*l+1>>>0,c=new Uint8Array(s);e[n];){var u=e.charCodeAt(n);if(u>255)return;var d=t[u];if(255===d)return;for(var h=0,f=s-1;(0!==d||h<i)&&-1!==f;f--,h++)d+=o*c[f]>>>0,c[f]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");i=h,n++}for(var p=s-i;p!==s&&0===c[p];)p++;for(var m=new Uint8Array(r+(s-p)),g=r;p!==s;)m[g++]=c[p++];return m}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,s=t.length;i!==s&&0===t[i];)i++,n++;for(var l=(s-i)*c+1>>>0,u=new Uint8Array(l);i!==s;){for(var d=t[i],h=0,f=l-1;(0!==d||h<r)&&-1!==f;f--,h++)d+=256*u[f]>>>0,u[f]=d%o>>>0,d=d/o>>>0;if(0!==d)throw new Error("Non-zero carry");r=h,i++}for(var p=l-r;p!==l&&0===u[p];)p++;for(var m=a.repeat(n);p<l;++p)m+=e.charAt(u[p]);return m},decodeUnsafe:u,decode:function(e){var t=u(e);if(t)return t;throw new Error("Non-base"+o+" character")}}}),bp);return vp=e("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}();const Sp=k(kp);function Ep(e,t,n,r){return new(n||(n=Promise))(function(t,i){function s(e){try{a(r.next(e))}catch(t){i(t)}}function o(e){try{a(r.throw(e))}catch(t){i(t)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n(function(e){e(r)})).then(s,o)}a((r=r.apply(e,[])).next())})}function _p(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function Np(e,t,n,r,i){if("function"==typeof t||!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Ap,Tp,Cp,jp,Ip,Rp,Op,Pp;class Mp{constructor(){Ap.add(this),Tp.set(this,null),Cp.set(this,{}),jp.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),_p(this,Ap,"m",Rp).call(this),_p(this,Tp,"f")&&(_p(this,Tp,"f").style.display="flex")},this.close=(e=void 0)=>{var t;console.debug("Modal close"),_p(this,Ap,"m",Op).call(this),_p(this,Tp,"f")&&(_p(this,Tp,"f").style.display="none"),null===(t=_p(this,Cp,"f").close)||void 0===t||t.forEach(t=>t(e))},Pp.set(this,e=>{"Escape"===e.key&&this.close(e)}),this.init=this.init.bind(this),Np(this,Tp,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return Ep(this,0,void 0,function*(){console.log("Injecting modal"),_p(this,Ap,"m",Ip).call(this)})}addEventListener(e,t){var n;return(null===(n=_p(this,Cp,"f")[e])||void 0===n?void 0:n.push(t))||(_p(this,Cp,"f")[e]=[t]),()=>this.removeEventListener(e,t)}removeEventListener(e,t){var n;_p(this,Cp,"f")[e]=null===(n=_p(this,Cp,"f")[e])||void 0===n?void 0:n.filter(e=>t!==e)}}Tp=new WeakMap,Cp=new WeakMap,jp=new WeakMap,Pp=new WeakMap,Ap=new WeakSet,Ip=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui"))return void(_p(this,Tp,"f")||Np(this,Tp,document.getElementById("mobile-wallet-adapter-embedded-root-ui")));Np(this,Tp,document.createElement("div")),_p(this,Tp,"f").id="mobile-wallet-adapter-embedded-root-ui",_p(this,Tp,"f").innerHTML='\n<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">\n    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>\n\t<div class="mobile-wallet-adapter-embedded-modal-card">\n\t\t<div>\n\t\t\t<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">\n\t\t\t\t<svg width="14" height="14">\n\t\t\t\t\t<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>\n\t\t<div class="mobile-wallet-adapter-embedded-modal-content"></div>\n\t</div>\n</div>\n',_p(this,Tp,"f").style.display="none";const e=_p(this,Tp,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");e&&(e.innerHTML=this.contentHtml);const t=document.createElement("style");t.id="mobile-wallet-adapter-embedded-modal-styles",t.textContent='\n.mobile-wallet-adapter-embedded-modal-container {\n    display: flex; /* Use flexbox to center content */\n    justify-content: center; /* Center horizontally */\n    align-items: center; /* Center vertically */\n    position: fixed; /* Stay in place */\n    z-index: 1; /* Sit on top */\n    left: 0;\n    top: 0;\n    width: 100%; /* Full width */\n    height: 100%; /* Full height */\n    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\n    overflow-y: auto; /* enable scrolling */\n}\n\n.mobile-wallet-adapter-embedded-modal-card {\n    display: flex;\n    flex-direction: column;\n    margin: auto 20px;\n    max-width: 780px;\n    padding: 20px;\n    border-radius: 24px;\n    background: #ffffff;\n    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;\n    transform: translateY(-200%);\n    animation: slide-in 0.5s forwards;\n}\n\n@keyframes slide-in {\n    100% { transform: translateY(0%); }\n}\n\n.mobile-wallet-adapter-embedded-modal-close {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 32px;\n    height: 32px;\n    cursor: pointer;\n    background: #e4e9e9;\n    border: none;\n    border-radius: 50%;\n}\n\n.mobile-wallet-adapter-embedded-modal-close:focus-visible {\n    outline-color: red;\n}\n\n.mobile-wallet-adapter-embedded-modal-close svg {\n    fill: #546266;\n    transition: fill 200ms ease 0s;\n}\n\n.mobile-wallet-adapter-embedded-modal-close:hover svg {\n    fill: #fff;\n}\n'+this.contentStyles;const n=document.createElement("div");n.innerHTML='\n<link rel="preconnect" href="https://fonts.googleapis.com">\n<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>\n<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">\n',this.dom=n.attachShadow({mode:"closed"}),this.dom.appendChild(t),this.dom.appendChild(_p(this,Tp,"f")),document.body.appendChild(n)},Rp=function(){if(!_p(this,Tp,"f")||_p(this,jp,"f"))return;[..._p(this,Tp,"f").querySelectorAll("[data-modal-close]")].forEach(e=>null==e?void 0:e.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",_p(this,Pp,"f")),Np(this,jp,!0)},Op=function(){if(!_p(this,jp,"f"))return;if(window.removeEventListener("load",this.close),document.removeEventListener("keydown",_p(this,Pp,"f")),!_p(this,Tp,"f"))return;[..._p(this,Tp,"f").querySelectorAll("[data-modal-close]")].forEach(e=>null==e?void 0:e.removeEventListener("click",this.close)),Np(this,jp,!1)};function Dp(e){return window.btoa(String.fromCharCode.call(null,...e))}function Lp(e){return new Uint8Array(window.atob(e).split("").map(e=>e.charCodeAt(0)))}var Bp,Up,Fp,zp,Vp,qp,Gp,Wp,Hp,Kp,$p,Yp,Qp,Xp,Zp,Jp,em,tm,nm,rm,im,sm,om,am,lm,cm,um,dm,hm,fm,pm,mm,gm,ym;const bm="Mobile Wallet Adapter",wm=[uh,fh,hh,dh];class vm{constructor(e){Bp.add(this),Up.set(this,{}),Fp.set(this,"1.0.0"),zp.set(this,bm),Vp.set(this,"https://solanamobile.com/wallets"),qp.set(this,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo="),Gp.set(this,void 0),Wp.set(this,void 0),Hp.set(this,void 0),Kp.set(this,!1),$p.set(this,0),Yp.set(this,[]),Qp.set(this,void 0),Xp.set(this,void 0),Zp.set(this,void 0),Jp.set(this,(e,t)=>{var n;return(null===(n=_p(this,Up,"f")[e])||void 0===n?void 0:n.push(t))||(_p(this,Up,"f")[e]=[t]),()=>_p(this,Bp,"m",tm).call(this,e,t)}),nm.set(this,({silent:e}={})=>Ep(this,0,void 0,function*(){if(_p(this,Kp,"f")||this.connected)return{accounts:this.accounts};Np(this,Kp,!0);try{if(e){const e=yield _p(this,Hp,"f").get();if(!e)return{accounts:this.accounts};yield _p(this,sm,"f").call(this,e.capabilities),yield _p(this,im,"f").call(this,e)}else yield _p(this,rm,"f").call(this)}catch(t){throw new Error(t instanceof Error&&t.message||"Unknown error")}finally{Np(this,Kp,!1)}return{accounts:this.accounts}})),rm.set(this,e=>Ep(this,0,void 0,function*(){try{const t=yield _p(this,Hp,"f").get();if(t)return _p(this,im,"f").call(this,t),t;const n=yield _p(this,Qp,"f").select(_p(this,Yp,"f"));return yield _p(this,lm,"f").call(this,t=>Ep(this,0,void 0,function*(){const[r,i]=yield Promise.all([t.getCapabilities(),t.authorize({chain:n,identity:_p(this,Gp,"f"),sign_in_payload:e})]),s=_p(this,um,"f").call(this,i.accounts),o=Object.assign(Object.assign({},i),{accounts:s,chain:n,capabilities:r});return Promise.all([_p(this,sm,"f").call(this,r),_p(this,Hp,"f").set(o),_p(this,im,"f").call(this,o)]),o}))}catch(t){throw new Error(t instanceof Error&&t.message||"Unknown error")}})),im.set(this,e=>Ep(this,0,void 0,function*(){var t;const n=null==_p(this,Wp,"f")||(null===(t=_p(this,Wp,"f"))||void 0===t?void 0:t.accounts.length)!==e.accounts.length||_p(this,Wp,"f").accounts.some((t,n)=>t.address!==e.accounts[n].address);Np(this,Wp,e),n&&_p(this,Bp,"m",em).call(this,"change",{accounts:this.accounts})})),sm.set(this,e=>Ep(this,0,void 0,function*(){const t=e.features.includes("solana:signTransactions"),n=e.supports_sign_and_send_transactions,r=uh in this.features!==n||fh in this.features!==t;Np(this,Xp,Object.assign(Object.assign({},(n||!n&&!t)&&{[uh]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:_p(this,fm,"f")}}),t&&{[fh]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:_p(this,pm,"f")}})),r&&_p(this,Bp,"m",em).call(this,"change",{features:this.features})})),om.set(this,(e,t,n)=>Ep(this,0,void 0,function*(){var r,i;try{const[s,o]=yield Promise.all([null!==(i=null===(r=_p(this,Wp,"f"))||void 0===r?void 0:r.capabilities)&&void 0!==i?i:yield e.getCapabilities(),e.authorize({auth_token:t,identity:_p(this,Gp,"f"),chain:n})]),a=_p(this,um,"f").call(this,o.accounts),l=Object.assign(Object.assign({},o),{accounts:a,chain:n,capabilities:s});Promise.all([_p(this,Hp,"f").set(l),_p(this,im,"f").call(this,l)])}catch(s){throw _p(this,am,"f").call(this),new Error(s instanceof Error&&s.message||"Unknown error")}})),am.set(this,()=>Ep(this,0,void 0,function*(){var e;_p(this,Hp,"f").clear(),Np(this,Kp,!1),Np(this,$p,(e=_p(this,$p,"f"),++e)),Np(this,Wp,void 0),_p(this,Bp,"m",em).call(this,"change",{accounts:this.accounts})})),lm.set(this,e=>Ep(this,0,void 0,function*(){var t;const n=null===(t=_p(this,Wp,"f"))||void 0===t?void 0:t.wallet_uri_base,r=n?{baseUri:n}:void 0,i=_p(this,$p,"f");try{return yield yp(e,r)}catch(s){throw _p(this,$p,"f")!==i&&(yield new Promise(()=>{})),s instanceof Error&&"SolanaMobileWalletAdapterError"===s.name&&"ERROR_WALLET_NOT_FOUND"===s.code&&(yield _p(this,Zp,"f").call(this,this)),s}})),cm.set(this,()=>{if(!_p(this,Wp,"f"))throw new Error("Wallet not connected");return{authToken:_p(this,Wp,"f").auth_token,chain:_p(this,Wp,"f").chain}}),um.set(this,e=>e.map(e=>{var t,n;const r=Lp(e.address);return{address:Sp.encode(r),publicKey:r,label:e.label,icon:e.icon,chains:null!==(t=e.chains)&&void 0!==t?t:_p(this,Yp,"f"),features:null!==(n=e.features)&&void 0!==n?n:wm}})),dm.set(this,e=>Ep(this,0,void 0,function*(){const{authToken:t,chain:n}=_p(this,cm,"f").call(this);try{const r=e.map(e=>Dp(e));return yield _p(this,lm,"f").call(this,e=>Ep(this,0,void 0,function*(){yield _p(this,om,"f").call(this,e,t,n);return(yield e.signTransactions({payloads:r})).signed_payloads.map(Lp)}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),hm.set(this,(e,t)=>Ep(this,0,void 0,function*(){const{authToken:n,chain:r}=_p(this,cm,"f").call(this);try{return yield _p(this,lm,"f").call(this,i=>Ep(this,0,void 0,function*(){const[s,o]=yield Promise.all([i.getCapabilities(),_p(this,om,"f").call(this,i,n,r)]);if(s.supports_sign_and_send_transactions){const n=Dp(e);return(yield i.signAndSendTransactions(Object.assign(Object.assign({},t),{payloads:[n]}))).signatures.map(Lp)[0]}throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}})),fm.set(this,(...e)=>Ep(this,0,void 0,function*(){const t=[];for(const n of e){const e=yield _p(this,hm,"f").call(this,n.transaction,n.options);t.push({signature:e})}return t})),pm.set(this,(...e)=>Ep(this,0,void 0,function*(){return(yield _p(this,dm,"f").call(this,e.map(({transaction:e})=>e))).map(e=>({signedTransaction:e}))})),mm.set(this,(...e)=>Ep(this,0,void 0,function*(){const{authToken:t,chain:n}=_p(this,cm,"f").call(this),r=e.map(({account:e})=>Dp(e.publicKey)),i=e.map(({message:e})=>Dp(e));try{return yield _p(this,lm,"f").call(this,e=>Ep(this,0,void 0,function*(){yield _p(this,om,"f").call(this,e,t,n);return(yield e.signMessages({addresses:r,payloads:i})).signed_payloads.map(Lp).map(e=>({signedMessage:e,signature:e.slice(-64)}))}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),gm.set(this,(...e)=>Ep(this,0,void 0,function*(){const t=[];if(!(e.length>1))return[yield _p(this,ym,"f").call(this,e[0])];for(const n of e)t.push(yield _p(this,ym,"f").call(this,n));return t})),ym.set(this,e=>Ep(this,0,void 0,function*(){var t,n,r;Np(this,Kp,!0);try{const i=yield _p(this,rm,"f").call(this,Object.assign(Object.assign({},e),{domain:null!==(t=null==e?void 0:e.domain)&&void 0!==t?t:window.location.host}));if(!i.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const s=i.sign_in_result.address,o=i.accounts.find(e=>e.address==s);return{account:Object.assign(Object.assign({},null!=o?o:{address:Sp.encode(Lp(s))}),{publicKey:Lp(s),chains:null!==(n=null==o?void 0:o.chains)&&void 0!==n?n:_p(this,Yp,"f"),features:null!==(r=null==o?void 0:o.features)&&void 0!==r?r:i.capabilities.features}),signedMessage:Lp(i.sign_in_result.signed_message),signature:Lp(i.sign_in_result.signature)}}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}finally{Np(this,Kp,!1)}})),Np(this,Hp,e.authorizationCache),Np(this,Gp,e.appIdentity),Np(this,Yp,e.chains),Np(this,Qp,e.chainSelector),Np(this,Zp,e.onWalletNotFound),Np(this,Xp,{[uh]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:_p(this,fm,"f")},[fh]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:_p(this,pm,"f")}})}get version(){return _p(this,Fp,"f")}get name(){return _p(this,zp,"f")}get url(){return _p(this,Vp,"f")}get icon(){return _p(this,qp,"f")}get chains(){return _p(this,Yp,"f")}get features(){return Object.assign({[ph]:{version:"1.0.0",connect:_p(this,nm,"f")},[mh]:{version:"1.0.0",disconnect:_p(this,am,"f")},[gh]:{version:"1.0.0",on:_p(this,Jp,"f")},[hh]:{version:"1.0.0",signMessage:_p(this,mm,"f")},[dh]:{version:"1.0.0",signIn:_p(this,gm,"f")}},_p(this,Xp,"f"))}get accounts(){var e,t;return null!==(t=null===(e=_p(this,Wp,"f"))||void 0===e?void 0:e.accounts)&&void 0!==t?t:[]}get connected(){return!!_p(this,Wp,"f")}get isAuthorized(){return!!_p(this,Wp,"f")}get currentAuthorization(){return _p(this,Wp,"f")}get cachedAuthorizationResult(){return _p(this,Hp,"f").get()}}Up=new WeakMap,Fp=new WeakMap,zp=new WeakMap,Vp=new WeakMap,qp=new WeakMap,Gp=new WeakMap,Wp=new WeakMap,Hp=new WeakMap,Kp=new WeakMap,$p=new WeakMap,Yp=new WeakMap,Qp=new WeakMap,Xp=new WeakMap,Zp=new WeakMap,Jp=new WeakMap,nm=new WeakMap,rm=new WeakMap,im=new WeakMap,sm=new WeakMap,om=new WeakMap,am=new WeakMap,lm=new WeakMap,cm=new WeakMap,um=new WeakMap,dm=new WeakMap,hm=new WeakMap,fm=new WeakMap,pm=new WeakMap,mm=new WeakMap,gm=new WeakMap,ym=new WeakMap,Bp=new WeakSet,em=function(e,...t){var n;null===(n=_p(this,Up,"f")[e])||void 0===n||n.forEach(e=>e.apply(null,t))},tm=function(e,t){var n;_p(this,Up,"f")[e]=null===(n=_p(this,Up,"f")[e])||void 0===n?void 0:n.filter(e=>t!==e)};class xm extends Mp{constructor(){super(...arguments),this.contentStyles=Sm,this.contentHtml=km}initWithError(e){super.init(),this.populateError(e)}populateError(e){var t,n;const r=null===(t=this.dom)||void 0===t?void 0:t.getElementById("mobile-wallet-adapter-error-message"),i=null===(n=this.dom)||void 0===n?void 0:n.getElementById("mobile-wallet-adapter-error-action");if(r){if("SolanaMobileWalletAdapterError"===e.name)switch(e.code){case"ERROR_WALLET_NOT_FOUND":return r.innerHTML="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",void(i&&i.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"}));case"ERROR_BROWSER_NOT_SUPPORTED":return r.innerHTML="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.",void(i&&(i.style.display="none"))}r.innerHTML=`An unexpected error occurred: ${e.message}`}else console.log("Failed to locate error dialog element")}}const km='\n<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>\n<div class="mobile-wallet-adapter-embedded-modal-title">We can\'t find a wallet.</div>\n<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>\n<div>\n    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">\n        Find a wallet\n    </button>\n</div>\n',Sm="\n.mobile-wallet-adapter-embedded-modal-content {\n    text-align: center;\n}\n\n.mobile-wallet-adapter-embedded-modal-error-icon {\n    margin-top: 24px;\n}\n\n.mobile-wallet-adapter-embedded-modal-title {\n    margin: 18px 100px auto 100px;\n    color: #000000;\n    font-size: 2.75em;\n    font-weight: 600;\n}\n\n.mobile-wallet-adapter-embedded-modal-subtitle {\n    margin: 30px 60px 40px 60px;\n    color: #000000;\n    font-size: 1.25em;\n    font-weight: 400;\n}\n\n.mobile-wallet-adapter-embedded-modal-error-action {\n    display: block;\n    width: 100%;\n    height: 56px;\n    /*margin-top: 40px;*/\n    font-size: 1.25em;\n    /*line-height: 24px;*/\n    /*letter-spacing: -1%;*/\n    background: #000000;\n    color: #FFFFFF;\n    border-radius: 18px;\n}\n\n/* Smaller screens */\n@media all and (max-width: 600px) {\n    .mobile-wallet-adapter-embedded-modal-title {\n        font-size: 1.5em;\n        margin-right: 12px;\n        margin-left: 12px;\n    }\n    .mobile-wallet-adapter-embedded-modal-subtitle {\n        margin-right: 12px;\n        margin-left: 12px;\n    }\n}\n";const Em="SolanaMobileWalletAdapterDefaultAuthorizationCache";function _m(e,t,n,r){return new(n||(n=Promise))(function(t,i){function s(e){try{a(r.next(e))}catch(t){i(t)}}function o(e){try{a(r.throw(e))}catch(t){i(t)}}function a(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n(function(e){e(r)})).then(s,o)}a((r=r.apply(e,[])).next())})}function Nm(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function Am(e,t,n,r,i){if("function"==typeof t||!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}const Tm="standard:connect";function Cm(e){return window.btoa(String.fromCharCode.call(null,...e))}var jm,Im,Rm,Om,Pm,Mm,Dm,Lm,Bm,Um,Fm,zm,Vm;const qm=bm;function Gm(e){switch(e){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return e}}class Wm extends ch{constructor(e,t){super(),jm.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),Im.set(this,void 0),Rm.set(this,!1),Om.set(this,"undefined"!=typeof window&&window.isSecureContext&&"undefined"!=typeof document&&/android/i.test(navigator.userAgent)?rh.Loadable:rh.Unsupported),Pm.set(this,void 0),Mm.set(this,void 0),Dm.set(this,void 0),Lm.set(this,e=>_m(this,0,void 0,function*(){if(e.accounts&&e.accounts.length>0){Nm(this,jm,"m",Um).call(this);const t=yield Nm(this,Pm,"f").call(this,e.accounts);t!==Nm(this,Mm,"f")&&(Am(this,Mm,t),Am(this,Dm,void 0),this.emit("connect",this.publicKey))}})),Am(this,Pm,e=>_m(this,0,void 0,function*(){var n;const r=yield t.addressSelector.select(e.map(({publicKey:e})=>Cm(e)));return null!==(n=e.find(({publicKey:e})=>Cm(e)===r))&&void 0!==n?n:e[0]})),Am(this,Im,e),Nm(this,Im,"f").features["standard:events"].on("change",Nm(this,Lm,"f")),this.name=Nm(this,Im,"f").name,this.icon=Nm(this,Im,"f").icon,this.url=Nm(this,Im,"f").url}get publicKey(){var e;if(!Nm(this,Dm,"f")&&Nm(this,Mm,"f"))try{Am(this,Dm,new rl(Nm(this,Mm,"f").publicKey))}catch(t){throw new Xd(t instanceof Error&&(null==t?void 0:t.message)||"Unknown error",t)}return null!==(e=Nm(this,Dm,"f"))&&void 0!==e?e:null}get connected(){return Nm(this,Im,"f").connected}get connecting(){return Nm(this,Rm,"f")}get readyState(){return Nm(this,Om,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return _m(this,0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return _m(this,0,void 0,function*(){Nm(this,jm,"m",Bm).call(this,!0)})}connect(){return _m(this,0,void 0,function*(){Nm(this,jm,"m",Bm).call(this)})}performAuthorization(e){return _m(this,0,void 0,function*(){try{const t=yield Nm(this,Im,"f").cachedAuthorizationResult;if(t)return yield Nm(this,Im,"f").features[Tm].connect({silent:!0}),t;e?yield Nm(this,Im,"f").features[dh].signIn(e):yield Nm(this,Im,"f").features[Tm].connect();return yield yield Nm(this,Im,"f").cachedAuthorizationResult}catch(t){throw new Kd(t instanceof Error&&t.message||"Unknown error",t)}})}disconnect(){return _m(this,0,void 0,function*(){return yield Nm(this,jm,"m",Vm).call(this,()=>_m(this,0,void 0,function*(){Am(this,Rm,!1),Am(this,Dm,void 0),Am(this,Mm,void 0),yield Nm(this,Im,"f").features["standard:disconnect"].disconnect(),this.emit("disconnect")}))})}signIn(e){return _m(this,0,void 0,function*(){return Nm(this,jm,"m",Vm).call(this,()=>_m(this,0,void 0,function*(){var t;if(Nm(this,Om,"f")!==rh.Installed&&Nm(this,Om,"f")!==rh.Loadable)throw new Wd;Am(this,Rm,!0);try{const n=yield Nm(this,Im,"f").features[dh].signIn(Object.assign(Object.assign({},e),{domain:null!==(t=null==e?void 0:e.domain)&&void 0!==t?t:window.location.host}));if(n.length>0)return n[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(n){throw new Kd(n instanceof Error&&n.message||"Unknown error",n)}finally{Am(this,Rm,!1)}}))})}signMessage(e){return _m(this,0,void 0,function*(){return yield Nm(this,jm,"m",Vm).call(this,()=>_m(this,0,void 0,function*(){const t=Nm(this,jm,"m",Fm).call(this);try{return(yield Nm(this,Im,"f").features[hh].signMessage({account:t,message:e}))[0].signature}catch(n){throw new th(null==n?void 0:n.message,n)}}))})}sendTransaction(e,t,n){return _m(this,0,void 0,function*(){return yield Nm(this,jm,"m",Vm).call(this,()=>_m(this,0,void 0,function*(){const r=Nm(this,jm,"m",Fm).call(this);try{let i=function(){let e,r;switch(t.commitment){case"confirmed":case"finalized":case"processed":e=t.commitment;break;default:e="finalized"}switch(null==n?void 0:n.preflightCommitment){case"confirmed":case"finalized":case"processed":r=n.preflightCommitment;break;case void 0:r=e;break;default:r="finalized"}return("finalized"===r?2:"confirmed"===r?1:0)<("finalized"===e?2:"confirmed"===e?1:0)?r:e};if(uh in Nm(this,Im,"f").features){const t=Gm(Nm(this,Im,"f").currentAuthorization.chain),[i]=(yield Nm(this,Im,"f").features[uh].signAndSendTransaction({account:r,transaction:e.serialize(),chain:t,options:n?{skipPreflight:n.skipPreflight,maxRetries:n.maxRetries}:void 0})).map(e=>Cm(e.signature));return i}{const[r]=yield Nm(this,jm,"m",zm).call(this,[e]);if(function(e){return"version"in e}(r))return yield t.sendTransaction(r);{const e=r.serialize();return yield t.sendRawTransaction(e,Object.assign(Object.assign({},n),{preflightCommitment:i()}))}}}catch(i){throw new Jd(null==i?void 0:i.message,i)}}))})}signTransaction(e){return _m(this,0,void 0,function*(){return yield Nm(this,jm,"m",Vm).call(this,()=>_m(this,0,void 0,function*(){const[t]=yield Nm(this,jm,"m",zm).call(this,[e]);return t}))})}signAllTransactions(e){return _m(this,0,void 0,function*(){return yield Nm(this,jm,"m",Vm).call(this,()=>_m(this,0,void 0,function*(){return yield Nm(this,jm,"m",zm).call(this,e)}))})}}Im=new WeakMap,Rm=new WeakMap,Om=new WeakMap,Pm=new WeakMap,Mm=new WeakMap,Dm=new WeakMap,Lm=new WeakMap,jm=new WeakSet,Bm=function(e=!1){return _m(this,0,void 0,function*(){if(!this.connecting&&!this.connected)return yield Nm(this,jm,"m",Vm).call(this,()=>_m(this,0,void 0,function*(){if(Nm(this,Om,"f")!==rh.Installed&&Nm(this,Om,"f")!==rh.Loadable)throw new Wd;Am(this,Rm,!0);try{yield Nm(this,Im,"f").features[Tm].connect({silent:e})}catch(t){throw new Kd(t instanceof Error&&t.message||"Unknown error",t)}finally{Am(this,Rm,!1)}}))})},Um=function(){Nm(this,Om,"f")!==rh.Installed&&this.emit("readyStateChange",Am(this,Om,rh.Installed))},Fm=function(){if(!Nm(this,Im,"f").isAuthorized||!Nm(this,Mm,"f"))throw new Zd;return Nm(this,Mm,"f")},zm=function(e){return _m(this,0,void 0,function*(){const t=Nm(this,jm,"m",Fm).call(this);try{if(fh in Nm(this,Im,"f").features)return Nm(this,Im,"f").features[fh].signTransaction(...e.map(e=>({account:t,transaction:e.serialize()}))).then(e=>e.map(e=>{const t=e.signedTransaction,n=64*t[0]+1;return"legacy"===El.deserializeMessageVersion(t.slice(n,t.length))?Tl.from(t):jl.deserialize(t)}));throw new Error("Connected wallet does not support signing transactions")}catch(n){throw new eh(null==n?void 0:n.message,n)}})},Vm=function(e){return _m(this,0,void 0,function*(){try{return yield e()}catch(t){throw this.emit("error",t),t}})};class Hm extends Wm{constructor(e){var t;const n=Gm(null!==(t=e.chain)&&void 0!==t?t:e.cluster);super(new vm({appIdentity:e.appIdentity,authorizationCache:{set:e.authorizationResultCache.set,get:()=>_m(this,0,void 0,function*(){return yield e.authorizationResultCache.get()}),clear:e.authorizationResultCache.clear},chains:[n],chainSelector:{select(e){return Ep(this,0,void 0,function*(){return 1===e.length?e[0]:e.includes(Ff)?Ff:e[0]})}},onWalletNotFound:()=>_m(this,0,void 0,function*(){e.onWalletNotFound(this)})}),{addressSelector:e.addressSelector,chain:n})}}class Km extends Hm{}function $m(){return function(){let e;try{e=window.localStorage}catch(t){}return{clear(){return Ep(this,0,void 0,function*(){if(e)try{e.removeItem(Em)}catch(t){}})},get(){return Ep(this,0,void 0,function*(){if(e)try{const t=JSON.parse(e.getItem(Em));if(t&&t.accounts){const e=t.accounts.map(e=>Object.assign(Object.assign({},e),{publicKey:"publicKey"in e?new Uint8Array(Object.values(e.publicKey)):Sp.decode(e.address)}));return Object.assign(Object.assign({},t),{accounts:e})}return t||void 0}catch(t){}})},set(n){return Ep(this,0,void 0,function*(){if(e)try{e.setItem(Em,JSON.stringify(n))}catch(t){}})}}}()}function Ym(e){return _m(this,0,void 0,function*(){return function(){return Ep(this,0,void 0,function*(){if("undefined"!=typeof window){const e=window.navigator.userAgent.toLowerCase(),t=new xm;e.includes("wv")?t.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):t.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),t.open()}})}()})}const Qm=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let a=0;a<t.length;a++)t[a]=255;for(let a=0;a<e.length;a++){const n=e.charAt(a),r=n.charCodeAt(0);if(255!==t[r])throw new TypeError(n+" is ambiguous");t[r]=a}const n=e.length,r=e.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let s=0,o=0,a=0;for(;e[s]===r;)o++,s++;const l=(e.length-s)*i+1>>>0,c=new Uint8Array(l);for(;s<e.length;){const r=e.charCodeAt(s);if(r>255)return;let i=t[r];if(255===i)return;let o=0;for(let e=l-1;(0!==i||o<a)&&-1!==e;e--,o++)i+=n*c[e]>>>0,c[e]=i%256>>>0,i=i/256>>>0;if(0!==i)throw new Error("Non-zero carry");a=o,s++}let u=l-a;for(;u!==l&&0===c[u];)u++;const d=new Uint8Array(o+(l-u));let h=o;for(;u!==l;)d[h++]=c[u++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,o=0,a=0;const l=t.length;for(;a!==l&&0===t[a];)a++,i++;const c=(l-a)*s+1>>>0,u=new Uint8Array(c);for(;a!==l;){let e=t[a],r=0;for(let t=c-1;(0!==e||r<o)&&-1!==t;t--,r++)e+=256*u[t]>>>0,u[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error("Non-zero carry");o=r,a++}let d=c-o;for(;d!==c&&0===u[d];)d++;let h=r.repeat(i);for(;d<c;++d)h+=e.charAt(u[d]);return h},decodeUnsafe:o,decode:function(e){const t=o(e);if(t)return t;throw new Error("Non-base"+n+" character")}}}("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Xm,Zm,Jm,eg,tg,ng,rg,ig,sg,og,ag,lg,cg,ug,dg,hg,fg,pg,mg=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},gg=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};class yg extends sh{get name(){return mg(this,ig,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return mg(this,ig,"f").icon}get readyState(){return mg(this,sg,"f")}get publicKey(){return mg(this,Jm,"f")}get connecting(){return mg(this,eg,"f")}get supportedTransactionVersions(){return mg(this,rg,"f")}get wallet(){return mg(this,ig,"f")}get standard(){return!0}constructor({wallet:e}){super(),Xm.add(this),Zm.set(this,void 0),Jm.set(this,void 0),eg.set(this,void 0),tg.set(this,void 0),ng.set(this,void 0),rg.set(this,void 0),ig.set(this,void 0),sg.set(this,"undefined"==typeof window||"undefined"==typeof document?rh.Unsupported:rh.Installed),ug.set(this,e=>{if("accounts"in e){const e=mg(this,ig,"f").accounts[0];mg(this,Zm,"f")&&!mg(this,tg,"f")&&e!==mg(this,Zm,"f")&&(e?mg(this,Xm,"m",ag).call(this,e):(this.emit("error",new $d),mg(this,Xm,"m",lg).call(this)))}"features"in e&&mg(this,Xm,"m",cg).call(this)}),gg(this,ig,e,"f"),gg(this,Zm,null,"f"),gg(this,Jm,null,"f"),gg(this,eg,!1,"f"),gg(this,tg,!1,"f"),gg(this,ng,mg(this,ig,"f").features[gh].on("change",mg(this,ug,"f")),"f"),mg(this,Xm,"m",cg).call(this)}destroy(){gg(this,Zm,null,"f"),gg(this,Jm,null,"f"),gg(this,eg,!1,"f"),gg(this,tg,!1,"f");const e=mg(this,ng,"f");e&&(gg(this,ng,null,"f"),e())}async autoConnect(){return mg(this,Xm,"m",og).call(this,{silent:!0})}async connect(){return mg(this,Xm,"m",og).call(this)}async disconnect(){if(mh in mg(this,ig,"f").features)try{gg(this,tg,!0,"f"),await mg(this,ig,"f").features[mh].disconnect()}catch(e){this.emit("error",new Yd(e?.message,e))}finally{gg(this,tg,!1,"f")}mg(this,Xm,"m",lg).call(this)}async sendTransaction(e,t,n={}){try{const s=mg(this,Zm,"f");if(!s)throw new Zd;let o;if(uh in mg(this,ig,"f").features)if(s.features.includes(uh))o=uh;else{if(!(fh in mg(this,ig,"f").features)||!s.features.includes(fh))throw new Qd;o=fh}else{if(!(fh in mg(this,ig,"f").features))throw new Hd;if(!s.features.includes(fh))throw new Qd;o=fh}const a=(r=t.rpcEndpoint).includes("https://api.mainnet-beta.solana.com")?Ff:/\bdevnet\b/i.test(r)?"solana:devnet":/\btestnet\b/i.test(r)?"solana:testnet":/\blocalhost\b/i.test(r)||/\b127\.0\.0\.1\b/.test(r)?"solana:localnet":Ff;if(!s.chains.includes(a))throw new Jd;try{const{signers:r,...i}=n;let l;if(oh(e)?(r?.length&&e.sign(r),l=e.serialize()):(e=await this.prepareTransaction(e,t,i),r?.length&&e.partialSign(...r),l=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),o===uh){const[e]=await mg(this,ig,"f").features[uh].signAndSendTransaction({account:s,chain:a,transaction:l,options:{preflightCommitment:Uf(i.preflightCommitment||t.commitment),skipPreflight:i.skipPreflight,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot}});return Qm.encode(e.signature)}{const[e]=await mg(this,ig,"f").features[fh].signTransaction({account:s,chain:a,transaction:l,options:{preflightCommitment:Uf(i.preflightCommitment||t.commitment),minContextSlot:i.minContextSlot}});return await t.sendRawTransaction(e.signedTransaction,{...i,preflightCommitment:Uf(i.preflightCommitment||t.commitment)})}}catch(i){if(i instanceof Gd)throw i;throw new Jd(i?.message,i)}}catch(i){throw this.emit("error",i),i}var r}}Zm=new WeakMap,Jm=new WeakMap,eg=new WeakMap,tg=new WeakMap,ng=new WeakMap,rg=new WeakMap,ig=new WeakMap,sg=new WeakMap,ug=new WeakMap,Xm=new WeakSet,og=async function(e){try{if(this.connected||this.connecting)return;if(mg(this,sg,"f")!==rh.Installed)throw new Wd;if(gg(this,eg,!0,"f"),!mg(this,ig,"f").accounts.length)try{await mg(this,ig,"f").features[ph].connect(e)}catch(t){throw new Kd(t?.message,t)}const n=mg(this,ig,"f").accounts[0];if(!n)throw new Qd;mg(this,Xm,"m",ag).call(this,n)}catch(t){throw this.emit("error",t),t}finally{gg(this,eg,!1,"f")}},ag=function(e){let t;try{t=new rl(e.address)}catch(n){throw new Xd(n?.message,n)}gg(this,Zm,e,"f"),gg(this,Jm,t,"f"),mg(this,Xm,"m",cg).call(this),this.emit("connect",t)},lg=function(){gg(this,Zm,null,"f"),gg(this,Jm,null,"f"),mg(this,Xm,"m",cg).call(this),this.emit("disconnect")},cg=function(){const e=uh in mg(this,ig,"f").features?mg(this,ig,"f").features[uh].supportedTransactionVersions:mg(this,ig,"f").features[fh].supportedTransactionVersions;gg(this,rg,function(e,t){if(e===t)return!0;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}(e,["legacy"])?null:new Set(e),"f"),fh in mg(this,ig,"f").features&&mg(this,Zm,"f")?.features.includes(fh)?(this.signTransaction=mg(this,Xm,"m",dg),this.signAllTransactions=mg(this,Xm,"m",hg)):(delete this.signTransaction,delete this.signAllTransactions),hh in mg(this,ig,"f").features&&mg(this,Zm,"f")?.features.includes(hh)?this.signMessage=mg(this,Xm,"m",fg):delete this.signMessage,dh in mg(this,ig,"f").features?this.signIn=mg(this,Xm,"m",pg):delete this.signIn},dg=async function(e){try{const n=mg(this,Zm,"f");if(!n)throw new Zd;if(!(fh in mg(this,ig,"f").features))throw new Hd;if(!n.features.includes(fh))throw new Qd;try{const t=(await mg(this,ig,"f").features[fh].signTransaction({account:n,transaction:oh(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return oh(e)?jl.deserialize(t):Tl.from(t)}catch(t){if(t instanceof Gd)throw t;throw new eh(t?.message,t)}}catch(t){throw this.emit("error",t),t}},hg=async function(e){try{const n=mg(this,Zm,"f");if(!n)throw new Zd;if(!(fh in mg(this,ig,"f").features))throw new Hd;if(!n.features.includes(fh))throw new Qd;try{const t=await mg(this,ig,"f").features[fh].signTransaction(...e.map(e=>({account:n,transaction:oh(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((e,n)=>{const r=t[n].signedTransaction;return oh(e)?jl.deserialize(r):Tl.from(r)})}catch(t){throw new eh(t?.message,t)}}catch(t){throw this.emit("error",t),t}},fg=async function(e){try{const n=mg(this,Zm,"f");if(!n)throw new Zd;if(!(hh in mg(this,ig,"f").features))throw new Hd;if(!n.features.includes(hh))throw new Qd;try{return(await mg(this,ig,"f").features[hh].signMessage({account:n,message:e}))[0].signature}catch(t){throw new th(t?.message,t)}}catch(t){throw this.emit("error",t),t}},pg=async function(e={}){try{if(!(dh in mg(this,ig,"f").features))throw new Hd;let n;try{[n]=await mg(this,ig,"f").features[dh].signIn(e)}catch(t){throw new nh(t?.message,t)}if(!n)throw new nh;return mg(this,Xm,"m",ag).call(this,n.account),n}catch(t){throw this.emit("error",t),t}};const bg=function(e){return ph in e.features&&gh in e.features&&(uh in e.features||fh in e.features)};var wg;let vg;const xg=new Set;const kg={};function Sg(...e){return(e=e.filter(e=>!xg.has(e))).length?(e.forEach(e=>function(e){Eg=void 0,xg.add(e)}(e)),kg.register?.forEach(t=>Ag(()=>t(...e))),function(){e.forEach(e=>function(e){Eg=void 0,xg.delete(e)}(e)),kg.unregister?.forEach(t=>Ag(()=>t(...e)))}):()=>{}}let Eg;function _g(){return Eg||(Eg=[...xg]),Eg}function Ng(e,t){return kg[e]?.push(t)||(kg[e]=[t]),function(){kg[e]=kg[e]?.filter(e=>t!==e)}}function Ag(e){try{e()}catch(t){console.error(t)}}class Tg extends Event{get detail(){return function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}(this,wg,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),wg.set(this,void 0),function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===r?i.call(e,n):i?i.value=n:t.set(e,n)}(this,wg,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}function Cg(){if(vg)return vg;if(vg=function(){if(vg)return vg;if(vg=Object.freeze({register:Sg,get:_g,on:Ng}),"undefined"==typeof window)return vg;const e=Object.freeze({register:Sg});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(t){console.error("wallet-standard:register-wallet event listener could not be added\n",t)}try{window.dispatchEvent(new Tg(e))}catch(t){console.error("wallet-standard:app-ready event could not be dispatched\n",t)}return vg}(),"undefined"==typeof window)return vg;const e=window.navigator.wallets||[];if(!Array.isArray(e))return console.error("window.navigator.wallets is not an array"),vg;const{register:t}=vg,n=(...e)=>e.forEach(e=>Ag(()=>e({register:t})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch(r){return console.error("window.navigator.wallets could not be set"),vg}return n(...e),vg}function jg(e){const t=Ig(()=>new Set),{get:n,on:r}=Ig(()=>Cg()),[i,s]=v.useState(()=>Rg(n()));v.useEffect(()=>{const e=[r("register",(...e)=>s(t=>[...t,...Rg(e)])),r("unregister",(...e)=>s(t=>t.filter(t=>e.some(e=>e===t.wallet))))];return()=>e.forEach(e=>e())},[r]);const o=function(e){const t=v.useRef(void 0);return v.useEffect(()=>{t.current=e}),t.current}(i);return v.useEffect(()=>{if(!o)return;const e=new Set(i);new Set(o.filter(t=>!e.has(t))).forEach(e=>e.destroy())},[o,i]),v.useEffect(()=>()=>i.forEach(e=>e.destroy()),[]),v.useMemo(()=>[...i,...e.filter(({name:e})=>!i.some(t=>t.name===e)||(t.has(e)||(t.add(e),console.warn(`${e} was registered as a Standard Wallet. The Wallet Adapter for ${e} can be removed from your app.`)),!1))],[i,e,t])}function Ig(e){const t=v.useRef(void 0);return void 0===t.current&&(t.current={value:e()}),t.current.value}function Rg(e){return e.filter(bg).map(e=>new yg({wallet:e}))}var Og,Pg;function Mg({children:e,wallets:t,adapter:n,isUnloadingRef:r,onAutoConnectRequest:i,onConnectError:s,onError:o,onSelectWallet:a}){const l=v.useRef(!1),[c,u]=v.useState(!1),d=v.useRef(!1),[h,f]=v.useState(!1),[p,m]=v.useState(()=>n?.publicKey??null),[g,y]=v.useState(()=>n?.connected??!1),b=v.useRef(o);v.useEffect(()=>(b.current=o,()=>{b.current=void 0}),[o]);const w=v.useRef((e,t)=>(r.current||(b.current?b.current(e,t):(console.error(e,t),e instanceof Wd&&"undefined"!=typeof window&&t&&window.open(t.url,"_blank"))),e)),[x,k]=v.useState(()=>t.map(e=>({adapter:e,readyState:e.readyState})).filter(({readyState:e})=>e!==rh.Unsupported));v.useEffect(()=>{function e(e){k(t=>{const n=t.findIndex(({adapter:e})=>e===this);if(-1===n)return t;const{adapter:r}=t[n];return[...t.slice(0,n),{adapter:r,readyState:e},...t.slice(n+1)].filter(({readyState:e})=>e!==rh.Unsupported)})}return k(e=>t.map((t,n)=>{const r=e[n];return r&&r.adapter===t&&r.readyState===t.readyState?r:{adapter:t,readyState:t.readyState}}).filter(({readyState:e})=>e!==rh.Unsupported)),t.forEach(t=>t.on("readyStateChange",e,t)),()=>{t.forEach(t=>t.off("readyStateChange",e,t))}},[n,t]);const E=v.useMemo(()=>x.find(e=>e.adapter===n)??null,[n,x]);v.useEffect(()=>{if(!n)return;const e=e=>{m(e),l.current=!1,u(!1),y(!0),d.current=!1,f(!1)},t=()=>{r.current||(m(null),l.current=!1,u(!1),y(!1),d.current=!1,f(!1))},i=e=>{w.current(e,n)};return n.on("connect",e),n.on("disconnect",t),n.on("error",i),()=>{n.off("connect",e),n.off("disconnect",t),n.off("error",i),t()}},[n,r]);const _=v.useRef(!1);v.useEffect(()=>()=>{_.current=!1},[n]),v.useEffect(()=>{_.current||l.current||g||!i||E?.readyState!==rh.Installed&&E?.readyState!==rh.Loadable||(l.current=!0,u(!0),_.current=!0,async function(){try{await i()}catch{s()}finally{u(!1),l.current=!1}}())},[g,i,s,E]);const N=v.useCallback(async(e,t,r)=>{if(!n)throw w.current(new yh);if(!g)throw w.current(new Zd,n);return await n.sendTransaction(e,t,r)},[n,g]),A=v.useMemo(()=>n&&"signTransaction"in n?async e=>{if(!g)throw w.current(new Zd,n);return await n.signTransaction(e)}:void 0,[n,g]),T=v.useMemo(()=>n&&"signAllTransactions"in n?async e=>{if(!g)throw w.current(new Zd,n);return await n.signAllTransactions(e)}:void 0,[n,g]),C=v.useMemo(()=>n&&"signMessage"in n?async e=>{if(!g)throw w.current(new Zd,n);return await n.signMessage(e)}:void 0,[n,g]),j=v.useMemo(()=>n&&"signIn"in n?async e=>await n.signIn(e):void 0,[n]),I=v.useCallback(async()=>{if(l.current||d.current||E?.adapter.connected)return;if(!E)throw w.current(new yh);const{adapter:e,readyState:t}=E;if(t!==rh.Installed&&t!==rh.Loadable)throw w.current(new Wd,e);l.current=!0,u(!0);try{await e.connect()}catch(n){throw s(),n}finally{u(!1),l.current=!1}},[s,E]),R=v.useCallback(async()=>{if(!d.current&&n){d.current=!0,f(!0);try{await n.disconnect()}finally{f(!1),d.current=!1}}},[n]);return S.createElement(xh.Provider,{value:{autoConnect:!!i,wallets:x,wallet:E,publicKey:p,connected:g,connecting:c,disconnecting:h,select:a,connect:I,disconnect:R,sendTransaction:N,signTransaction:A,signAllTransactions:T,signMessage:C,signIn:j}},e)}let Dg;function Lg(e){return function({adapters:e,userAgentString:t}){return e.some(e=>e.name!==qm&&e.readyState===rh.Installed)?Og.DESKTOP_WEB:t&&/android/i.test(t)&&!function(e){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(e)}(t)?Og.MOBILE_WEB:Og.DESKTOP_WEB}({adapters:e,userAgentString:(void 0===Dg&&(Dg=globalThis.navigator?.userAgent??null),Dg)})===Og.MOBILE_WEB}function Bg(){const e=globalThis.location;if(e)return`${e.protocol}//${e.host}`}function Ug({children:e,wallets:t,autoConnect:n,localStorageKey:r="walletName",onError:i}){const{connection:s}=Bd(),o=jg(t),a=v.useMemo(()=>{if(!Lg(o))return null;const e=o.find(e=>e.name===qm);return e||new Km({addressSelector:{select(e){return _m(this,0,void 0,function*(){return e[0]})}},appIdentity:{uri:Bg()},authorizationResultCache:$m(),cluster:(t=s?.rpcEndpoint,t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"),onWalletNotFound:Ym});var t},[o,s?.rpcEndpoint]),l=v.useMemo(()=>null==a||-1!==o.indexOf(a)?o:[a,...o],[o,a]),[c,u]=function(e,t){const n=v.useState(()=>{try{const t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(n){"undefined"!=typeof window&&console.error(n)}return t}),r=n[0],i=v.useRef(!0);return v.useEffect(()=>{if(i.current)i.current=!1;else try{null===r?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(r))}catch(t){"undefined"!=typeof window&&console.error(t)}},[r,e]),n}(r,null),d=v.useMemo(()=>l.find(e=>e.name===c)??null,[l,c]),h=v.useCallback(e=>{c!==e&&(d&&d.name!==qm&&d.disconnect(),u(e))},[d,u,c]);v.useEffect(()=>{if(d)return d.on("disconnect",e),()=>{d.off("disconnect",e)};function e(){m.current||u(null)}},[d,o,u,c]);const f=v.useRef(!1),p=v.useMemo(()=>{if(n&&d)return async()=>{(!0===n||await n(d))&&(f.current?await d.connect():await d.autoConnect())}},[n,d]),m=v.useRef(!1);v.useEffect(()=>{if(c!==qm||!Lg(o))return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)};function e(){m.current=!0}m.current=!1},[o,c]);const g=v.useCallback(()=>{d&&h(null)},[d,h]),y=v.useCallback(e=>{f.current=!0,h(e)},[h]);return S.createElement(Mg,{wallets:l,adapter:d,isUnloadingRef:m,onAutoConnectRequest:p,onConnectError:g,onError:i,onSelectWallet:y},e)}wg=new WeakMap,(Pg=Og||(Og={}))[Pg.DESKTOP_WEB=0]="DESKTOP_WEB",Pg[Pg.MOBILE_WEB=1]="MOBILE_WEB";const Fg={setVisible(e){console.error(zg("call","setVisible"))},visible:!1};function zg(e,t){return`You have tried to  ${e} "${t}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}Object.defineProperty(Fg,"visible",{get:()=>(console.error(zg("read","visible")),!1)});const Vg=v.createContext(Fg);function qg(){return v.useContext(Vg)}const Gg=e=>S.createElement("button",{className:`wallet-adapter-button ${e.className||""}`,disabled:e.disabled,style:e.style,onClick:e.onClick,tabIndex:e.tabIndex||0,type:"button"},e.startIcon&&S.createElement("i",{className:"wallet-adapter-button-start-icon"},e.startIcon),e.children,e.endIcon&&S.createElement("i",{className:"wallet-adapter-button-end-icon"},e.endIcon)),Wg=({wallet:e,...t})=>e&&S.createElement("img",{src:e.adapter.icon,alt:`${e.adapter.name} icon`,...t});function Hg({walletIcon:e,walletName:t,...n}){return S.createElement(Gg,{...n,className:"wallet-adapter-button-trigger",startIcon:e&&t?S.createElement(Wg,{wallet:{adapter:{icon:e,name:t}}}):void 0})}function Kg({children:e,disabled:t,labels:n,onClick:r,...i}){const{buttonDisabled:s,buttonState:o,onButtonClick:a,walletIcon:l,walletName:c}=function(){const{disconnecting:e,disconnect:t,wallet:n}=kh();let r;r=e?"disconnecting":n?"has-wallet":"no-wallet";const i=v.useCallback(()=>{t().catch(()=>{})},[t]);return{buttonDisabled:"has-wallet"!==r,buttonState:r,onButtonClick:"has-wallet"===r?i:void 0,walletIcon:n?.adapter.icon,walletName:n?.adapter.name}}();return S.createElement(Hg,{...i,disabled:t||s,onClick:e=>{r&&r(e),e.defaultPrevented||a&&a()},walletIcon:l,walletName:c},e||n[o])}function $g({children:e,labels:t,...n}){const{setVisible:r}=qg(),{buttonState:i,onConnect:s,onDisconnect:o,publicKey:a,walletIcon:l,walletName:c}=function({onSelectWallet:e}){const{connect:t,connected:n,connecting:r,disconnect:i,disconnecting:s,publicKey:o,select:a,wallet:l,wallets:c}=kh();let u;u=r?"connecting":n?"connected":s?"disconnecting":l?"has-wallet":"no-wallet";const d=v.useCallback(()=>{t().catch(()=>{})},[t]),h=v.useCallback(()=>{i().catch(()=>{})},[i]);return{buttonState:u,onConnect:"has-wallet"===u?d:void 0,onDisconnect:"disconnecting"!==u&&"no-wallet"!==u?h:void 0,onSelectWallet:v.useCallback(()=>{e({onSelectWallet:a,wallets:c})},[e,a,c]),publicKey:o??void 0,walletIcon:l?.adapter.icon,walletName:l?.adapter.name}}({onSelectWallet(){r(!0)}}),[u,d]=v.useState(!1),[h,f]=v.useState(!1),p=v.useRef(null);v.useEffect(()=>{const e=e=>{const t=p.current;t&&!t.contains(e.target)&&f(!1)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[]);const m=v.useMemo(()=>{if(e)return e;if(a){const e=a.toBase58();return e.slice(0,4)+".."+e.slice(-4)}return"connecting"===i||"has-wallet"===i?t[i]:t["no-wallet"]},[i,e,t,a]);return S.createElement("div",{className:"wallet-adapter-dropdown"},S.createElement(Hg,{...n,"aria-expanded":h,style:{pointerEvents:h?"none":"auto",...n.style},onClick:()=>{switch(i){case"no-wallet":r(!0);break;case"has-wallet":s&&s();break;case"connected":f(!0)}},walletIcon:l,walletName:c},m),S.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${h&&"wallet-adapter-dropdown-list-active"}`,ref:p,role:"menu"},a?S.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),d(!0),setTimeout(()=>d(!1),400)},role:"menuitem"},u?t.copied:t["copy-address"]):null,S.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),f(!1)},role:"menuitem"},t["change-wallet"]),o?S.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(),f(!1)},role:"menuitem"},t.disconnect):null))}const Yg=({id:e,children:t,expanded:n=!1})=>{const r=v.useRef(null),i=v.useRef(!0);return v.useLayoutEffect(()=>{n?(()=>{const e=r.current;e&&requestAnimationFrame(()=>{e.style.height=e.scrollHeight+"px"})})():(()=>{const e=r.current;e&&requestAnimationFrame(()=>{e.style.height=e.offsetHeight+"px",e.style.overflow="hidden",requestAnimationFrame(()=>{e.style.height="0"})})})()},[n]),v.useLayoutEffect(()=>{const e=r.current;if(e)return i.current&&(t(),i.current=!1),e.addEventListener("transitionend",s),()=>e.removeEventListener("transitionend",s);function t(){e&&(e.style.overflow=n?"initial":"hidden",n&&(e.style.height="auto"))}function s(n){e&&n.target===e&&"height"===n.propertyName&&t()}},[n]),S.createElement("div",{className:"wallet-adapter-collapse",id:e,ref:r,role:"region",style:{height:0,transition:i.current?void 0:"height 250ms ease-out"}},t)},Qg=({handleClick:e,tabIndex:t,wallet:n})=>S.createElement("li",null,S.createElement(Gg,{onClick:e,startIcon:S.createElement(Wg,{wallet:n}),tabIndex:t},n.adapter.name,n.readyState===rh.Installed&&S.createElement("span",null,"Detected"))),Xg=()=>S.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},S.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),S.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),S.createElement("g",{clipPath:"url(#clip0_880_5115)"},S.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),S.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),S.createElement("defs",null,S.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#9945FF"}),S.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),S.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),S.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),S.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),S.createElement("stop",{offset:"1",stopColor:"#00D18C"})),S.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#9945FF"}),S.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),S.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),S.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),S.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),S.createElement("stop",{offset:"1",stopColor:"#00D18C"})),S.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#9945FF"}),S.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),S.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),S.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),S.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),S.createElement("stop",{offset:"1",stopColor:"#00D18C"})),S.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},S.createElement("stop",{stopColor:"#9945FF"}),S.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),S.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),S.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),S.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),S.createElement("stop",{offset:"1",stopColor:"#00D18C"})),S.createElement("clipPath",{id:"clip0_880_5115"},S.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),Zg=({className:e="",container:t="body"})=>{const n=v.useRef(null),{wallets:r,select:i}=kh(),{setVisible:s}=qg(),[o,a]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(null),[h,f]=v.useMemo(()=>{const e=[],t=[];for(const n of r)n.readyState===rh.Installed?e.push(n):t.push(n);return e.length?[e,t]:[t,[]]},[r]),p=v.useCallback(()=>{c(!1),setTimeout(()=>s(!1),150)},[s]),m=v.useCallback(e=>{e.preventDefault(),p()},[p]),g=v.useCallback((e,t)=>{i(t),m(e)},[i,m]),y=v.useCallback(()=>a(!o),[o]),b=v.useCallback(e=>{const t=n.current;if(!t)return;const r=t.querySelectorAll("button"),i=r[0],s=r[r.length-1];e.shiftKey?document.activeElement===i&&(s.focus(),e.preventDefault()):document.activeElement===s&&(i.focus(),e.preventDefault())},[n]);return v.useLayoutEffect(()=>{const e=e=>{"Escape"===e.key?p():"Tab"===e.key&&b(e)},{overflow:t}=window.getComputedStyle(document.body);return setTimeout(()=>c(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",e,!1),()=>{document.body.style.overflow=t,window.removeEventListener("keydown",e,!1)}},[p,b]),v.useLayoutEffect(()=>d(document.querySelector(t)),[t]),u&&E.createPortal(S.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${l&&"wallet-adapter-modal-fade-in"} ${e}`,ref:n,role:"dialog"},S.createElement("div",{className:"wallet-adapter-modal-container"},S.createElement("div",{className:"wallet-adapter-modal-wrapper"},S.createElement("button",{onClick:m,className:"wallet-adapter-modal-button-close"},S.createElement("svg",{width:"14",height:"14"},S.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),h.length?S.createElement(S.Fragment,null,S.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),S.createElement("ul",{className:"wallet-adapter-modal-list"},h.map(e=>S.createElement(Qg,{key:e.adapter.name,handleClick:t=>g(t,e.adapter.name),wallet:e})),f.length?S.createElement(Yg,{expanded:o,id:"wallet-adapter-modal-collapse"},f.map(e=>S.createElement(Qg,{key:e.adapter.name,handleClick:t=>g(t,e.adapter.name),tabIndex:o?0:-1,wallet:e}))):null),f.length?S.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:y,tabIndex:0},S.createElement("span",null,o?"Less ":"More ","options"),S.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:""+(o?"wallet-adapter-modal-list-more-icon-rotate":"")},S.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):S.createElement(S.Fragment,null,S.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),S.createElement("div",{className:"wallet-adapter-modal-middle"},S.createElement(Xg,null)),f.length?S.createElement(S.Fragment,null,S.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:y,tabIndex:0},S.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),S.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:""+(o?"wallet-adapter-modal-list-more-icon-rotate":"")},S.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),S.createElement(Yg,{expanded:o,id:"wallet-adapter-modal-collapse"},S.createElement("ul",{className:"wallet-adapter-modal-list"},f.map(e=>S.createElement(Qg,{key:e.adapter.name,handleClick:t=>g(t,e.adapter.name),tabIndex:o?0:-1,wallet:e}))))):null))),S.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:m})),u)},Jg=({children:e,...t})=>{const[n,r]=v.useState(!1);return S.createElement(Vg.Provider,{value:{visible:n,setVisible:r}},e,n&&S.createElement(Zg,{...t}))},ey={disconnecting:"Disconnecting ...","has-wallet":"Disconnect","no-wallet":"Disconnect Wallet"};function ty(e){return S.createElement(Kg,{...e,labels:ey})}const ny={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function ry(e){return S.createElement($g,{...e,labels:ny})}const iy=({children:t})=>{const n="devnet",r=v.useMemo(()=>Pd(n),[n]),i=v.useMemo(()=>[],[]);return e.jsx(Ud,{endpoint:r,children:e.jsx(Ug,{wallets:i,autoConnect:!1,children:e.jsx(Jg,{children:t})})})},sy=v.forwardRef(({className:t,...n},r)=>e.jsx("div",{ref:r,className:yn("relative blur-hover rounded-lg border bg-card text-card-foreground shadow-sm",t),...n}));sy.displayName="Card";const oy=v.forwardRef(({className:t,...n},r)=>e.jsx("div",{ref:r,className:yn("flex flex-col space-y-1.5 p-6",t),...n}));oy.displayName="CardHeader";const ay=v.forwardRef(({className:t,...n},r)=>e.jsx("h3",{ref:r,className:yn("text-2xl font-semibold leading-none tracking-tight",t),...n}));ay.displayName="CardTitle";v.forwardRef(({className:t,...n},r)=>e.jsx("p",{ref:r,className:yn("text-sm text-muted-foreground",t),...n})).displayName="CardDescription";const ly=v.forwardRef(({className:t,...n},r)=>e.jsx("div",{ref:r,className:yn("p-6 pt-0",t),...n}));ly.displayName="CardContent";function cy(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(sy,{className:"relative w-full max-w-md mx-4 before:absolute before:inset-0 before:rounded-lg before:bg-black/20 before:blur-md before:opacity-0 hover:before:opacity-100 before:transition-all before:duration-300 before:z-0",children:e.jsxs(ly,{className:"relative z-10 pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(st,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}v.forwardRef(({className:t,...n},r)=>e.jsx("div",{ref:r,className:yn("flex items-center p-6 pt-0",t),...n})).displayName="CardFooter";const uy=Qe("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-white hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),dy=v.forwardRef(({className:t,variant:n,size:r,asChild:i=!1,...s},o)=>{const a=i?l:"button";return e.jsx(a,{className:yn(uy({variant:n,size:r,className:t})),ref:o,...s})});dy.displayName="Button";const hy=()=>{const[t,n]=v.useState(!1),r=()=>{n(!t),document.body.style.overflow=t?"":"hidden"};return e.jsxs(e.Fragment,{children:[e.jsx("a",{href:"#main-content",className:"skip-link absolute left-2 top-2 z-[100] px-6 py-3 rounded-full bg-gradient-to-r from-cyan-400 via-purple-500 to-cyan-400 text-black font-bold text-lg shadow-[0_0_24px_#22d3ee99] focus:opacity-100 focus:translate-y-0 opacity-0 -translate-y-10 transition-all duration-300 outline-none border-2 border-cyan-400",tabIndex:0,children:"Skip to main content"}),e.jsx("header",{className:"sticky top-0 bg-gradient-to-r from-[#181c2f] via-[#1a142e] to-[#181c2f] bg-opacity-95 backdrop-blur-md z-50 border-b border-cyan-400/30 shadow-[0_2px_24px_#00e8fc22]",children:e.jsxs("div",{className:"container mx-auto px-4 py-3 flex flex-wrap items-center justify-between",children:[e.jsxs(_,{to:"/",className:"flex items-center navbar-brand",title:"Built for the ones who don't blink.",children:[e.jsxs("picture",{children:[e.jsx("source",{srcSet:"/assets/usdfg-logo-transparent.webp",type:"image/webp"}),e.jsx("img",{src:"/assets/usdfg-logo-transparent.png",alt:"USDFG Logo",className:"w-10 h-10 object-contain mr-3 mascot-glow",style:{filter:"drop-shadow(0 0 10px rgba(0, 232, 252, 0.5))"},loading:"lazy",decoding:"async"})]}),e.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-500 to-rose-400 bg-clip-text text-transparent font-extrabold drop-shadow-[0_0_20px_rgba(255,255,255,0.4)] text-xl tracking-wide",children:"USDFG"})]}),e.jsx("button",{onClick:r,className:"lg:hidden p-2 rounded-md text-muted-foreground hover:text-primary focus:outline-none","aria-label":"Toggle menu",children:e.jsx(ft,{className:"w-6 h-6"})}),e.jsx("nav",{className:"hidden lg:flex items-center space-x-6",role:"navigation","aria-label":"Main Navigation",children:e.jsx(_,{to:"/app",children:e.jsxs(dy,{className:"bg-gradient-to-r from-purple-600 to-pink-500 text-white px-5 py-2 rounded-full font-semibold shadow-[0_0_24px_#a78bfa99] hover:brightness-110 flex items-center gap-2 transition-all duration-200",children:[e.jsx("span",{role:"img","aria-label":"controller",children:"🎮"})," Enter the Arena"]})})}),t&&e.jsx("div",{className:"fixed inset-0 bg-[#181c2f]/95 z-50 lg:hidden",children:e.jsxs("div",{className:"container mx-auto px-4 pt-20 pb-8",children:[e.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 text-muted-foreground hover:text-primary","aria-label":"Close menu",children:e.jsx(kt,{className:"w-6 h-6"})}),e.jsx("nav",{className:"flex flex-col space-y-4",children:e.jsx(_,{to:"/app",onClick:r,children:e.jsxs(dy,{className:"w-full bg-gradient-to-r from-purple-600 to-pink-500 text-white px-5 py-2 rounded-full font-semibold shadow-[0_0_24px_#a78bfa99] hover:brightness-110 flex items-center gap-2 transition-all duration-200",children:[e.jsx("span",{role:"img","aria-label":"controller",children:"🎮"})," Enter the Arena"]})})})]})})]})})]})},fy=[{title:"Terms",href:"/terms"},{title:"Privacy",href:"/privacy"}],py=({isRevealed:t})=>e.jsxs(e.Fragment,{children:[e.jsx("footer",{className:"bg-gradient-to-r from-[#181c2f] via-[#1a142e] to-[#181c2f] border-t border-cyan-400/30 pt-6 pb-10 animate-fade-in text-cyan-100 shadow-[0_-2px_24px_#00e8fc22]",role:"contentinfo","aria-label":"Site Footer",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 items-center gap-6 md:gap-0 w-full",children:[e.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[e.jsxs("picture",{children:[e.jsx("source",{srcSet:"/assets/usdfg-logo-transparent.webp",type:"image/webp"}),e.jsx("img",{src:"/assets/usdfg-logo-transparent.png",alt:"USDFG Logo",className:"w-10 h-10 sm:w-12 sm:h-12 object-contain mr-3 mascot-glow",style:{filter:"drop-shadow(0 0 10px rgba(0, 232, 252, 0.5))"},loading:"lazy",decoding:"async"})]}),e.jsx("span",{className:"text-sm text-cyan-400 font-medium whitespace-nowrap",children:"USDFGaming — The Last Great Token for Gamers."})]}),e.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4 text-cyan-300",children:[e.jsxs("a",{href:"https://twitter.com/USDFGAMING",target:"_blank",rel:"noopener noreferrer",className:"twitter-hover flex items-center gap-2 cursor-pointer","aria-label":"Follow us on Twitter",children:[e.jsx(vt,{size:18}),e.jsx("span",{children:"Twitter"})]}),e.jsxs("a",{href:"https://t.me/+TPjhAyJiAF9mZTI0",target:"_blank",rel:"noopener noreferrer",className:"telegram-hover flex items-center gap-2 cursor-pointer","aria-label":"Join us on Telegram",children:[e.jsx(yt,{size:18}),e.jsx("span",{children:"Telegram"})]}),e.jsxs("a",{href:"https://instagram.com/usdfgaming",target:"_blank",rel:"noopener noreferrer",className:"instagram-hover flex items-center gap-2 cursor-pointer","aria-label":"Follow us on Instagram",children:[e.jsx(dt,{size:18}),e.jsx("span",{children:"Instagram"})]}),e.jsxs("a",{href:"https://www.tiktok.com/@usdfgames",target:"_blank",rel:"noopener noreferrer",className:"tiktok-hover flex items-center gap-2 cursor-pointer","aria-label":"Follow us on TikTok",children:[e.jsx(gt,{size:18}),e.jsx("span",{children:"TikTok"})]})]}),e.jsxs("nav",{className:"flex flex-wrap md:flex-nowrap items-center justify-center md:justify-end gap-3 md:gap-3 overflow-x-auto md:overflow-visible opacity-100 transition-opacity duration-700",children:[fy.map((t,n)=>e.jsx("div",{className:"whitespace-nowrap",children:e.jsx(_,{to:t.href,className:"text-sm sm:text-base font-medium hover:text-primary transition-colors duration-200 block",children:t.title})},n)),e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"text-cyan-400 hover:text-cyan-300 text-sm transition duration-200 underline whitespace-nowrap",type:"button","aria-label":"Back to Top",children:"Back to Top ↑"})]})]}),e.jsx("div",{className:"text-center text-xs sm:text-sm text-muted-foreground mt-6",children:"© 2025 USDFG.PRO — All rights reserved. This platform is proprietary. Built for the relentless. Proven by performance."}),e.jsxs("p",{className:"text-xs text-muted-foreground text-center mt-1",children:["Need help? Contact ",e.jsx("a",{href:"mailto:support@usdfg.pro",className:"underline",children:"support@usdfg.pro"})]})]})}),e.jsxs("div",{style:{position:"fixed",left:0,right:0,bottom:0,background:"#111",color:"#FFD700",fontSize:"0.95rem",fontWeight:500,textAlign:"center",padding:"0.5rem 0.75rem",zIndex:50,borderTop:"2px solid #222",letterSpacing:"0.01em",boxShadow:"0 -2px 8px rgba(0,0,0,0.15)"},children:[e.jsx("span",{style:{marginRight:8,fontWeight:700},role:"img","aria-label":"lock",children:"🔒"}),"USDFG is a skill-based competition platform. No gambling. No house. No custodial accounts. Just your wallet, and your skill."]})]});function my(){const e=v.useRef(null);return v.useEffect(()=>{const t=e.current;if(!t)return;const n=new window.IntersectionObserver(([e])=>{e.isIntersecting&&(t.classList.add("visible"),n.disconnect())},{threshold:.2});return n.observe(t),()=>n.disconnect()},[]),e}const gy="/assets/usdfg-mascot-trophy-illustration.png",yy=()=>{const t=my(),n=v.useRef(null);return e.jsxs("section",{className:"hero relative py-20 lg:py-32 overflow-hidden",children:[e.jsx("div",{className:"container mx-auto px-4 relative z-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center",children:[e.jsxs("div",{className:"lg:w-1/2 mb-12 lg:mb-0 text-center lg:text-left",children:[e.jsx("div",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4",style:{color:"var(--secondary-color)",textShadow:"var(--neon-glow)"},children:"USDFG"}),e.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:[e.jsx("span",{className:"text-white",children:"GAME. EARN. "}),e.jsx("span",{className:"conquer-glow",style:{color:"var(--accent-color)"},children:"CONQUER."})]}),e.jsxs("p",{className:"text-lg md:text-xl mb-8 max-w-xl",style:{color:"var(--text-light)"},children:["USDFG wasn't built for everyone.",e.jsx("br",{}),"It was built for the ones who don't blink.",e.jsx("br",{}),"Compete. Earn. Walk away with the token — if you can."]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center lg:justify-start gap-4",children:[e.jsx("a",{href:"#platform",children:e.jsx(dy,{className:"w-full sm:w-auto px-6 py-5 transition-all btn-animation",style:{background:"var(--primary-color)",color:"var(--text-light)",boxShadow:"var(--primary-glow)"},children:"EXPLORE PLATFORM"})}),e.jsx(_,{to:"/whitepaper",children:e.jsx(dy,{className:"w-full sm:w-auto px-6 py-5 transition-all btn-animation border-2 border-cyan-400 text-white font-bold bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-500 hover:brightness-125 hover:scale-105",style:{boxShadow:"0 0 16px #00e8fc99, 0 0 4px #fff1",fontWeight:700},children:"WHITEPAPER"})})]})]}),e.jsx("div",{className:"lg:w-1/2 flex justify-center lg:justify-end",children:e.jsx("div",{ref:t,className:"relative w-64 h-64 md:w-80 md:h-80 lg:w-96 lg:h-96",children:e.jsxs("picture",{children:[e.jsx("source",{srcSet:"/assets/usdfg-mascot-trophy-illustration.webp",type:"image/webp"}),e.jsx("img",{ref:n,src:gy,alt:"USDFG mascot holding trophy - skill-based gaming rewards",loading:"eager",decoding:"async",onError:()=>{if(!n.current)return;const e=n.current.getAttribute("data-tried")||"";e.includes("png")?e.includes("abs")||(n.current.src="https://tangerine-valkyrie-b2552f.netlify.app/assets/usdfg-mascot-trophy-illustration.webp",n.current.setAttribute("data-tried",e+" abs")):(n.current.src=gy,n.current.setAttribute("data-tried",e+" png"))},className:"w-64 h-64 md:w-80 md:h-80 lg:w-96 lg:h-96 max-w-full object-contain"})]})})})]})}),e.jsx("style",{children:"\n        .conquer-glow { text-shadow: 0 0 8px #ff005c; }\n      "})]})},by=()=>e.jsxs("section",{id:"about-usdfg",className:"relative flex justify-center items-center min-h-[70vh] px-2 py-16 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-transparent via-black/50 to-black/80"}),e.jsxs("picture",{children:[e.jsx("source",{srcSet:"/assets/usdfg-mascot-trophy-illustration.webp",type:"image/webp"}),e.jsx("img",{src:"/assets/usdfg-mascot-trophy-illustration.png",alt:"",className:"absolute inset-0 w-full h-full object-contain opacity-10 pointer-events-none select-none z-0 filter blur-[2px]",style:{top:0,left:0},loading:"lazy",decoding:"async"})]}),e.jsx("div",{className:"relative z-10 w-full max-w-4xl mx-auto px-4",children:e.jsxs("div",{className:"relative w-full max-w-4xl mx-auto px-8 py-12 rounded-2xl bg-gradient-to-br from-white/10 to-[#00ffff22] border border-cyan-400/30 shadow-xl backdrop-blur-md flex flex-col items-center group transition-all duration-500 hover:shadow-[0_0_30px_rgba(0,255,255,0.2)]",children:[e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-radial from-cyan-400/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10 w-full flex flex-col items-center text-center space-y-8",children:[e.jsxs("h2",{className:"text-4xl font-bold text-center mb-6",children:["What is ",e.jsx("span",{className:"text-cyan-400",children:"USDFG?"})]}),e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx("p",{className:"text-lg text-center mb-4 font-bold",children:"USDFG is the access token for a decentralized competition platform—built for those who outperform, not those who get lucky."}),e.jsx("p",{className:"text-base text-center mb-4",children:e.jsx("strong",{children:"No gambling. No randomness. Only verified performance."})}),e.jsxs("p",{className:"text-base text-center mb-4",children:["Every challenge is ",e.jsx("span",{className:"text-cyan-400 font-medium",children:"merit-based"}),", and every reward is ",e.jsx("span",{className:"text-cyan-400 font-medium",children:"earned"}),".",e.jsx("br",{}),"USDFG exists to reward skill—not speculation."]}),e.jsxs("p",{className:"text-base text-center mb-4",children:["This isn't a passive asset. It's a ",e.jsx("strong",{children:"competitive layer for digital performance"}),", tied to strategy, execution, and outcome."]}),e.jsxs("p",{className:"text-base text-center mb-4",children:[e.jsx("strong",{children:"Fixed supply."})," No inflation. No hidden mechanics. Just a clean contract and a clear goal: ",e.jsx("span",{className:"text-cyan-400 font-medium",children:"reward performance"}),"."]}),e.jsxs("p",{className:"text-base text-center mt-6 font-bold",children:["USDFG is for players who win on skill—nothing else.",e.jsx("br",{}),"If that's you, step forward. The next challenge awaits."]})]})]})]})}),e.jsx("style",{children:"\n        .fade-in {\n          opacity: 0;\n          transform: translateY(24px);\n          animation-name: fadeInUp;\n        }\n        @keyframes fadeInUp {\n          to {\n            opacity: 1;\n            transform: none;\n          }\n        }\n        .drop-shadow-glow {\n          filter: drop-shadow(0 0 8px #00ffff);\n        }\n        .neon-pulse {\n          box-shadow: 0 0 16px #00ffff, 0 0 32px #00ffff44;\n          transition: box-shadow 0.3s, background 0.3s;\n        }\n        .group:hover .neon-pulse {\n          box-shadow: 0 0 32px #00ffff, 0 0 64px #00ffff99;\n          background: #22d3ee;\n        }\n        .bg-gradient-radial {\n          background-image: radial-gradient(circle at center, var(--tw-gradient-stops));\n        }\n      "})]}),wy=()=>e.jsxs("section",{id:"platform",className:"py-20 px-4 text-white text-center relative overflow-hidden",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-4 text-white animate-fade-in",style:{textShadow:"var(--primary-glow)"},children:"USDFG – The Bitcoin of Gaming"}),e.jsx("p",{className:"text-center text-lg text-muted-foreground mb-12 animate-fade-in",style:{textShadow:"var(--neon-glow)"},children:"A decentralized arena where skill is the only currency."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-7xl mx-auto",children:[{title:"Fuel Your Wallet with USDFG",icon:"🪙",description:"Buy, earn, or claim USDFG directly into your wallet. Use tokens to access skill-based challenges — not for speculation or staking."},{title:"Create Skill Challenges",icon:"🎮",description:"Choose your game. Set the rules. Launch skill-based challenges directly from your wallet — no middlemen, no chance elements."},{title:"Earn Verified Results",icon:"🏆",description:"USDFG is unlocked through proof of performance — not by chance, not by hype."},{title:"Track Wallet Stats",icon:"📊",description:"See your performance in real time — verified wins, challenge history, and skill progression, all tied to your wallet, not an account."}].map((t,n)=>e.jsxs("div",{className:"feature-card group bg-[#111]/90 border border-[#22d3ee] rounded-lg shadow-lg backdrop-blur-md p-8 transition-all duration-300 hover:scale-102 hover:shadow-[0_0_24px_#22d3ee66] hover:border-cyan-300/70 relative overflow-hidden animate-fade-in-up",tabIndex:0,style:{boxShadow:"0 0 16px #22d3ee22, 0 0 4px #a78bfa22"},children:[e.jsx("span",{className:"block text-4xl mb-4 drop-shadow-glow animate-bounce-slow",children:t.icon}),e.jsx("h3",{className:"text-xl font-extrabold tracking-wide text-cyan-300 mb-2 drop-shadow-glow",children:t.title}),e.jsx("p",{className:"text-cyan-100 text-base leading-relaxed font-medium",children:t.description})]},t.title))}),e.jsx("style",{children:"\n        .drop-shadow-glow {\n          filter: drop-shadow(0 0 4px #00ffff66);\n        }\n        .neon-glow {\n          box-shadow: 0 0 16px #00ffff44, 0 0 32px #00ffff22;\n          animation: neonPulse 4s ease-in-out infinite alternate;\n        }\n        @keyframes neonPulse {\n          0% { box-shadow: 0 0 16px #00ffff44, 0 0 32px #00ffff22; }\n          100% { box-shadow: 0 0 24px #00ffff66, 0 0 48px #00ffff33; }\n        }\n        .animate-bounce-slow {\n          animation: bounceSlow 4s ease-in-out infinite;\n        }\n        @keyframes bounceSlow {\n          0%, 100% { transform: translateY(0); }\n          50% { transform: translateY(-4px); }\n        }\n        .animate-fade-in-up {\n          opacity: 0;\n          transform: translateY(32px);\n          animation: fadeInUp 1s cubic-bezier(.4,0,.2,1) both;\n        }\n        @keyframes fadeInUp {\n          to {\n            opacity: 1;\n            transform: none;\n          }\n        }\n        .feature-card {\n          outline: 2px solid #00ffff;\n          outline-offset: 0px;\n        }\n      "})]}),vy=v.forwardRef(({className:t,type:n,...r},i)=>e.jsx("input",{type:n,className:yn("flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-black placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:i,...r}));vy.displayName="Input";const xy=v.forwardRef(({className:t,...n},r)=>e.jsx("textarea",{className:yn("flex min-h-[80px] w-full rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));xy.displayName="Textarea";const ky=Qe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Sy=v.forwardRef(({className:t,...n},r)=>e.jsx(c,{ref:r,className:yn(ky(),t),...n}));Sy.displayName=c.displayName;var Ey={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_y=S.createContext&&S.createContext(Ey),Ny=["attr","size","title"];function Ay(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ty.apply(this,arguments)}function Cy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cy(Object(n),!0).forEach(function(t){Iy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Iy(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ry(e){return e&&e.map((e,t)=>S.createElement(e.tag,jy({key:t},e.attr),Ry(e.child)))}function Oy(e){return t=>S.createElement(Py,Ty({attr:jy({},e.attr)},t),Ry(e.child))}function Py(e){var t=t=>{var n,{attr:r,size:i,title:s}=e,o=Ay(e,Ny),a=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),S.createElement("svg",Ty({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:jy(jy({color:e.color||t.color},t.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&S.createElement("title",null,s),e.children)};return void 0!==_y?S.createElement(_y.Consumer,null,e=>t(e)):t(Ey)}function My(e){return Oy({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M256 336h-.02c0-16.18 1.34-8.73-85.05-181.51-17.65-35.29-68.19-35.36-85.87 0C-2.06 328.75.02 320.33.02 336H0c0 44.18 57.31 80 128 80s128-35.82 128-80zM128 176l72 144H56l72-144zm511.98 160c0-16.18 1.34-8.73-85.05-181.51-17.65-35.29-68.19-35.36-85.87 0-87.12 174.26-85.04 165.84-85.04 181.51H384c0 44.18 57.31 80 128 80s128-35.82 128-80h-.02zM440 320l72-144 72 144H440zm88 128H352V153.25c23.51-10.29 41.16-31.48 46.39-57.25H528c8.84 0 16-7.16 16-16V48c0-8.84-7.16-16-16-16H383.64C369.04 12.68 346.09 0 320 0s-49.04 12.68-63.64 32H112c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h129.61c5.23 25.76 22.87 46.96 46.39 57.25V448H112c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h416c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function Dy(e){return Oy({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function Ly(e){return Oy({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function By(e){return Oy({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function Uy(e){return Oy({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504.971 199.362l-22.627-22.627c-9.373-9.373-24.569-9.373-33.941 0l-5.657 5.657L329.608 69.255l5.657-5.657c9.373-9.373 9.373-24.569 0-33.941L312.638 7.029c-9.373-9.373-24.569-9.373-33.941 0L154.246 131.48c-9.373 9.373-9.373 24.569 0 33.941l22.627 22.627c9.373 9.373 24.569 9.373 33.941 0l5.657-5.657 39.598 39.598-81.04 81.04-5.657-5.657c-12.497-12.497-32.758-12.497-45.255 0L9.373 412.118c-12.497 12.497-12.497 32.758 0 45.255l45.255 45.255c12.497 12.497 32.758 12.497 45.255 0l114.745-114.745c12.497-12.497 12.497-32.758 0-45.255l-5.657-5.657 81.04-81.04 39.598 39.598-5.657 5.657c-9.373 9.373-9.373 24.569 0 33.941l22.627 22.627c9.373 9.373 24.569 9.373 33.941 0l124.451-124.451c9.372-9.372 9.372-24.568 0-33.941z"},child:[]}]})(e)}function Fy(e){return Oy({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function zy(e){return Oy({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(e)}function Vy(e){return Oy({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function qy(e){return Oy({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}const Gy=v.createContext({});function Wy(e){const t=v.useRef(null);return null===t.current&&(t.current=e()),t.current}const Hy="undefined"!=typeof window,Ky=Hy?v.useLayoutEffect:v.useEffect,$y=v.createContext(null);function Yy(e,t){-1===e.indexOf(t)&&e.push(t)}function Qy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Xy=(e,t,n)=>n>t?t:n<e?e:n;const Zy={},Jy=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function eb(e){return"object"==typeof e&&null!==e}const tb=e=>/^0[^.\s]+$/u.test(e);function nb(e){let t;return()=>(void 0===t&&(t=e()),t)}const rb=e=>e,ib=(e,t)=>n=>t(e(n)),sb=(...e)=>e.reduce(ib),ob=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};class ab{constructor(){this.subscriptions=[]}add(e){return Yy(this.subscriptions,e),()=>Qy(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let i=0;i<r;i++){const r=this.subscriptions[i];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const lb=e=>1e3*e,cb=e=>e/1e3;function ub(e,t){return t?e*(1e3/t):0}const db=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function hb(e,t,n,r){if(e===t&&n===r)return rb;const i=t=>function(e,t,n,r,i){let s,o,a=0;do{o=t+(n-t)/2,s=db(o,r,i)-e,s>0?n=o:t=o}while(Math.abs(s)>1e-7&&++a<12);return o}(t,0,1,e,n);return e=>0===e||1===e?e:db(i(e),t,r)}const fb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,pb=e=>t=>1-e(1-t),mb=hb(.33,1.53,.69,.99),gb=pb(mb),yb=fb(gb),bb=e=>(e*=2)<1?.5*gb(e):.5*(2-Math.pow(2,-10*(e-1))),wb=e=>1-Math.sin(Math.acos(e)),vb=pb(wb),xb=fb(wb),kb=hb(.42,0,1,1),Sb=hb(0,0,.58,1),Eb=hb(.42,0,.58,1),_b=e=>Array.isArray(e)&&"number"==typeof e[0],Nb={linear:rb,easeIn:kb,easeInOut:Eb,easeOut:Sb,circIn:wb,circInOut:xb,circOut:vb,backIn:gb,backInOut:yb,backOut:mb,anticipate:bb},Ab=e=>{if(_b(e)){e.length;const[t,n,r,i]=e;return hb(t,n,r,i)}return"string"==typeof e?Nb[e]:e},Tb=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Cb(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Tb.reduce((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(t){s.has(t)&&(l.schedule(t),e()),t(o)}const l={schedule:(e,i=!1,o=!1)=>{const a=o&&r?t:n;return i&&s.add(e),a.has(e)||a.add(e),e},cancel:e=>{n.delete(e),s.delete(e)},process:e=>{o=e,r?i=!0:(r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,i&&(i=!1,l.process(e)))}};return l}(s),e),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:f,postRender:p}=o,m=()=>{const s=Zy.useManualTiming?i.timestamp:performance.now();n=!1,Zy.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(s-i.timestamp,40),1)),i.timestamp=s,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),f.process(i),p.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(m))};return{schedule:Tb.reduce((t,s)=>{const a=o[s];return t[s]=(t,s=!1,o=!1)=>(n||(n=!0,r=!0,i.isProcessing||e(m)),a.schedule(t,s,o)),t},{}),cancel:e=>{for(let t=0;t<Tb.length;t++)o[Tb[t]].cancel(e)},state:i,steps:o}}const{schedule:jb,cancel:Ib,state:Rb,steps:Ob}=Cb("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:rb,!0);let Pb;function Mb(){Pb=void 0}const Db={now:()=>(void 0===Pb&&Db.set(Rb.isProcessing||Zy.useManualTiming?Rb.timestamp:performance.now()),Pb),set:e=>{Pb=e,queueMicrotask(Mb)}},Lb=e=>t=>"string"==typeof t&&t.startsWith(e),Bb=Lb("--"),Ub=Lb("var(--"),Fb=e=>!!Ub(e)&&zb.test(e.split("/*")[0].trim()),zb=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Vb={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},qb={...Vb,transform:e=>Xy(0,1,e)},Gb={...Vb,default:1},Wb=e=>Math.round(1e5*e)/1e5,Hb=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const Kb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$b=(e,t)=>n=>Boolean("string"==typeof n&&Kb.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),Yb=(e,t,n)=>r=>{if("string"!=typeof r)return r;const[i,s,o,a]=r.match(Hb);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:void 0!==a?parseFloat(a):1}},Qb={...Vb,transform:e=>Math.round((e=>Xy(0,255,e))(e))},Xb={test:$b("rgb","red"),parse:Yb("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Qb.transform(e)+", "+Qb.transform(t)+", "+Qb.transform(n)+", "+Wb(qb.transform(r))+")"};const Zb={test:$b("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Xb.transform},Jb=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),ew=Jb("deg"),tw=Jb("%"),nw=Jb("px"),rw=Jb("vh"),iw=Jb("vw"),sw=(()=>({...tw,parse:e=>tw.parse(e)/100,transform:e=>tw.transform(100*e)}))(),ow={test:$b("hsl","hue"),parse:Yb("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+tw.transform(Wb(t))+", "+tw.transform(Wb(n))+", "+Wb(qb.transform(r))+")"},aw={test:e=>Xb.test(e)||Zb.test(e)||ow.test(e),parse:e=>Xb.test(e)?Xb.parse(e):ow.test(e)?ow.parse(e):Zb.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?Xb.transform(e):ow.transform(e),getAnimatableNone:e=>{const t=aw.parse(e);return t.alpha=0,aw.transform(t)}},lw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const cw="number",uw="color",dw=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hw(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=t.replace(dw,e=>(aw.test(e)?(r.color.push(s),i.push(uw),n.push(aw.parse(e))):e.startsWith("var(")?(r.var.push(s),i.push("var"),n.push(e)):(r.number.push(s),i.push(cw),n.push(parseFloat(e))),++s,"${}")).split("${}");return{values:n,split:o,indexes:r,types:i}}function fw(e){return hw(e).values}function pw(e){const{split:t,types:n}=hw(e),r=t.length;return e=>{let i="";for(let s=0;s<r;s++)if(i+=t[s],void 0!==e[s]){const t=n[s];i+=t===cw?Wb(e[s]):t===uw?aw.transform(e[s]):e[s]}return i}}const mw=e=>"number"==typeof e?0:aw.test(e)?aw.getAnimatableNone(e):e;const gw={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(Hb)?.length||0)+(e.match(lw)?.length||0)>0},parse:fw,createTransformer:pw,getAnimatableNone:function(e){const t=fw(e);return pw(e)(t.map(mw))}};function yw(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function bw(e,t){return n=>n>0?t:e}const ww=(e,t,n)=>e+(t-e)*n,vw=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},xw=[Zb,Xb,ow];function kw(e){const t=(n=e,xw.find(e=>e.test(n)));var n;if(!Boolean(t))return!1;let r=t.parse(e);return t===ow&&(r=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,s=0,o=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,a=2*n-r;i=yw(a,r,e+1/3),s=yw(a,r,e),o=yw(a,r,e-1/3)}else i=s=o=n;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*o),alpha:r}}(r)),r}const Sw=(e,t)=>{const n=kw(e),r=kw(t);if(!n||!r)return bw(e,t);const i={...n};return e=>(i.red=vw(n.red,r.red,e),i.green=vw(n.green,r.green,e),i.blue=vw(n.blue,r.blue,e),i.alpha=ww(n.alpha,r.alpha,e),Xb.transform(i))},Ew=new Set(["none","hidden"]);function _w(e,t){return n=>ww(e,t,n)}function Nw(e){return"number"==typeof e?_w:"string"==typeof e?Fb(e)?bw:aw.test(e)?Sw:Cw:Array.isArray(e)?Aw:"object"==typeof e?aw.test(e)?Sw:Tw:bw}function Aw(e,t){const n=[...e],r=n.length,i=e.map((e,n)=>Nw(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}}function Tw(e,t){const n={...e,...t},r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=Nw(e[i])(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const Cw=(e,t)=>{const n=gw.createTransformer(t),r=hw(e),i=hw(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Ew.has(e)&&!i.values.length||Ew.has(t)&&!r.values.length?function(e,t){return Ew.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):sb(Aw(function(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],a=e.values[o]??0;n[i]=a,r[s]++}return n}(r,i),i.values),n):bw(e,t)};function jw(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return ww(e,t,n);return Nw(e)(e,t)}const Iw=e=>{const t=({timestamp:t})=>e(t);return{start:(e=!0)=>jb.update(t,e),stop:()=>Ib(t),now:()=>Rb.isProcessing?Rb.timestamp:Db.now()}},Rw=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(1e4*e(s/(i-1)))/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ow=2e4;function Pw(e){let t=0;let n=e.next(t);for(;!n.done&&t<Ow;)t+=50,n=e.next(t);return t>=Ow?1/0:t}function Mw(e,t,n){const r=Math.max(t-5,0);return ub(n-e(r),t-r)}const Dw=100,Lw=10,Bw=1,Uw=0,Fw=800,zw=.3,Vw=.3,qw={granular:.01,default:2},Gw={granular:.005,default:.5},Ww=.01,Hw=10,Kw=.05,$w=1,Yw=.001;function Qw({duration:e=Fw,bounce:t=zw,velocity:n=Uw,mass:r=Bw}){let i,s,o=1-t;o=Xy(Kw,$w,o),e=Xy(Ww,Hw,cb(e)),o<1?(i=t=>{const r=t*o,i=r*e,s=r-n,a=Zw(t,o),l=Math.exp(-i);return Yw-s/a*l},s=t=>{const r=t*o*e,s=r*n+n,a=Math.pow(o,2)*Math.pow(t,2)*e,l=Math.exp(-r),c=Zw(Math.pow(t,2),o);return(-i(t)+Yw>0?-1:1)*((s-a)*l)/c}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,s=t=>Math.exp(-t*e)*(e*e*(n-t)));const a=function(e,t,n){let r=n;for(let i=1;i<Xw;i++)r-=e(r)/t(r);return r}(i,s,5/e);if(e=lb(e),isNaN(a))return{stiffness:Dw,damping:Lw,duration:e};{const t=Math.pow(a,2)*r;return{stiffness:t,damping:2*o*Math.sqrt(r*t),duration:e}}}const Xw=12;function Zw(e,t){return e*Math.sqrt(1-t*t)}const Jw=["duration","bounce"],ev=["stiffness","damping","mass"];function tv(e,t){return t.some(t=>void 0!==e[t])}function nv(e=Vw,t=zw){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t={velocity:Uw,stiffness:Dw,damping:Lw,mass:Bw,isResolvedFromDuration:!1,...e};if(!tv(e,ev)&&tv(e,Jw))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),i=r*r,s=2*Xy(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Bw,stiffness:i,damping:s}}else{const n=Qw(e);t={...t,...n,mass:Bw},t.isResolvedFromDuration=!0}return t}({...n,velocity:-cb(n.velocity||0)}),p=h||0,m=c/(2*Math.sqrt(l*u)),g=o-s,y=cb(Math.sqrt(l/u)),b=Math.abs(g)<5;let w;if(r||(r=b?qw.granular:qw.default),i||(i=b?Gw.granular:Gw.default),m<1){const e=Zw(y,m);w=t=>{const n=Math.exp(-m*y*t);return o-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)w=e=>o-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);w=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return o-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const v={calculatedDuration:f&&d||null,next:e=>{const t=w(e);if(f)a.done=e>=d;else{let n=0===e?p:0;m<1&&(n=0===e?lb(p):Mw(w,e,t));const s=Math.abs(n)<=r,l=Math.abs(o-t)<=i;a.done=s&&l}return a.value=a.done?o:t,a},toString:()=>{const e=Math.min(Pw(v),Ow),t=Rw(t=>v.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return v}function rv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},f=e=>void 0===a?l:void 0===l||Math.abs(a-e)<Math.abs(l-e)?a:l;let p=n*t;const m=d+p,g=void 0===o?m:o(m);g!==m&&(p=g-d);const y=e=>-p*Math.exp(-e/r),b=e=>g+y(e),w=e=>{const t=y(e),n=b(e);h.done=Math.abs(t)<=c,h.value=h.done?g:n};let v,x;const k=e=>{var t;(t=h.value,void 0!==a&&t<a||void 0!==l&&t>l)&&(v=e,x=nv({keyframes:[h.value,f(h.value)],velocity:Mw(b,e,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return k(0),{calculatedDuration:null,next:e=>{let t=!1;return x||void 0!==v||(t=!0,w(e),k(e)),void 0!==v&&e>=v?x.next(e-v):(!t&&w(e),h)}}}function iv(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(t.length,1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const r=[],i=n||Zy.mix||jw,s=e.length-1;for(let o=0;o<s;o++){let n=i(e[o],e[o+1]);if(t){const e=Array.isArray(t)?t[o]||rb:t;n=sb(e,n)}r.push(n)}return r}(t,r,i),l=a.length,c=n=>{if(o&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const i=ob(e[r],e[r+1],n);return a[r](i)};return n?t=>c(Xy(e[0],e[s-1],t)):c}function sv(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=ob(0,t,r);e.push(ww(n,1,i))}}(t,e.length-1),t}function ov({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(Ab):Ab(r),s={done:!1,value:t[0]},o=function(e,t){return e.map(e=>e*t)}(n&&n.length===t.length?n:sv(t),e),a=iv(o,t,{ease:Array.isArray(i)?i:(l=t,c=i,l.map(()=>c||Eb).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(s.value=a(t),s.done=t>=e,s)}}nv.applyToOptions=e=>{const t=function(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(Pw(r),Ow);return{type:"keyframes",ease:e=>r.next(i*e).value/t,duration:cb(i)}}(e,100,nv);return e.ease=t.ease,e.duration=lb(t.duration),e.type="keyframes",e};const av=e=>null!==e;function lv(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(av),o=i<0||t&&"loop"!==n&&t%2==1?0:s.length-1;return o&&void 0!==r?r:s[o]}const cv={decay:rv,inertia:rv,tween:ov,keyframes:ov,spring:nv};function uv(e){"string"==typeof e.type&&(e.type=cv[e.type])}class dv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const hv=e=>e/100;class fv extends dv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Db.now()&&this.tick(Db.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;uv(e);const{type:t=ov,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:s=0}=e;let{keyframes:o}=e;const a=t||ov;a!==ov&&"number"!=typeof o[0]&&(this.mixKeyframes=sb(hv,jw(o[0],o[1])),o=[0,100]);const l=a({...e,keyframes:o});"mirror"===i&&(this.mirroredGenerator=a({...e,keyframes:[...o].reverse(),velocity:-s})),null===l.calculatedDuration&&(l.calculatedDuration=Pw(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:a}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:h,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let b=this.currentTime,w=n;if(u){const e=Math.min(this.currentTime,r)/o;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===d?(n=1-n,h&&(n-=h/o)):"mirror"===d&&(w=s)),b=Xy(0,1,n)*o}const v=y?{done:!1,value:c[0]}:w.next(b);i&&(v.value=i(v.value));let{done:x}=v;y||null===a||(x=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&x);return k&&f!==rv&&(v.value=lv(c,this.options,m,this.speed)),p&&p(v.value),k&&this.finish(),v}then(e,t){return this.finished.then(e,t)}get duration(){return cb(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+cb(e)}get time(){return cb(this.currentTime)}set time(e){e=lb(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Db.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=cb(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Iw,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();const n=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=n):null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Db.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}const pv=e=>180*e/Math.PI,mv=e=>{const t=pv(Math.atan2(e[1],e[0]));return yv(t)},gv={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:mv,rotateZ:mv,skewX:e=>pv(Math.atan(e[1])),skewY:e=>pv(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},yv=e=>((e%=360)<0&&(e+=360),e),bv=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),wv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),vv={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bv,scaleY:wv,scale:e=>(bv(e)+wv(e))/2,rotateX:e=>yv(pv(Math.atan2(e[6],e[5]))),rotateY:e=>yv(pv(Math.atan2(-e[2],e[0]))),rotateZ:mv,rotate:mv,skewX:e=>pv(Math.atan(e[4])),skewY:e=>pv(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function xv(e){return e.includes("scale")?1:0}function kv(e,t){if(!e||"none"===e)return xv(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=vv,i=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=gv,i=t}if(!i)return xv(t);const s=r[t],o=i[1].split(",").map(Sv);return"function"==typeof s?s(o):o[s]}function Sv(e){return parseFloat(e.trim())}const Ev=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_v=(()=>new Set(Ev))(),Nv=e=>e===Vb||e===nw,Av=new Set(["x","y","z"]),Tv=Ev.filter(e=>!Av.has(e));const Cv={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>kv(t,"x"),y:(e,{transform:t})=>kv(t,"y")};Cv.translateX=Cv.x,Cv.translateY=Cv.y;const jv=new Set;let Iv=!1,Rv=!1,Ov=!1;function Pv(){if(Rv){const e=Array.from(jv).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return Tv.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(([t,n])=>{e.getValue(t)?.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}Rv=!1,Iv=!1,jv.forEach(e=>e.complete(Ov)),jv.clear()}function Mv(){jv.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Rv=!0)})}class Dv{constructor(e,t,n,r,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(jv.add(this),Iv||(Iv=!0,jb.read(Mv),jb.resolveKeyframes(Pv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const i=r?.get(),s=e[e.length-1];if(void 0!==i)e[0]=i;else if(n&&t){const r=n.readValue(t,s);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=s),r&&void 0===i&&r.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),jv.delete(this)}cancel(){"scheduled"===this.state&&(jv.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Lv=nb(()=>void 0!==window.ScrollTimeline),Bv={};function Uv(e,t){const n=nb(e);return()=>Bv[t]??n()}const Fv=Uv(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),zv=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Vv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zv([0,.65,.55,1]),circOut:zv([.55,0,1,.45]),backIn:zv([.31,.01,.66,-.59]),backOut:zv([.33,1.53,.69,.99])};function qv(e,t){return e?"function"==typeof e?Fv()?Rw(e,t):"ease-out":_b(e)?zv(e):Array.isArray(e)?e.map(e=>qv(e,t)||Vv.easeOut):Vv[e]:void 0}function Gv(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const d=qv(a,i);Array.isArray(d)&&(u.easing=d);const h={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:"reverse"===o?"alternate":"normal"};c&&(h.pseudoElement=c);return e.animate(u,h)}function Wv(e){return"function"==typeof e&&"applyToOptions"in e}class Hv extends dv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:a}=e;this.isPseudoElement=Boolean(i),this.allowFlatten=s,this.options=e,e.type;const l=function({type:e,...t}){return Wv(e)&&Fv()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=Gv(t,n,r,l,i),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const e=lv(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}a?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return cb(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+cb(e)}get time(){return cb(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=lb(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Lv()?(this.animation.timeline=e,rb):t(this)}}const Kv={anticipate:bb,backInOut:yb,circInOut:xb};function $v(e){"string"==typeof e.ease&&e.ease in Kv&&(e.ease=Kv[e.ease])}class Yv extends Hv{constructor(e){$v(e),uv(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:r,element:i,...s}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);const o=new fv({...s,autoplay:!1}),a=lb(this.finishedTime??this.time);t.setWithVelocity(o.sample(a-10).value,o.sample(a).value,10),o.stop()}}const Qv=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!gw.test(e)&&"0"!==e||e.startsWith("url(")));function Xv(e){e.duration=0,e.type="keyframes"}const Zv=new Set(["opacity","clipPath","filter","transform"]),Jv=nb(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class ex extends dv{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:a,motionValue:l,element:c,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Db.now();const d={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:i,repeatType:s,name:a,motionValue:l,element:c,...u},h=c?.KeyframeResolver||Dv;this.keyframeResolver=new h(o,(e,t,n)=>this.onKeyframesResolved(e,t,d,!n),a,l,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:a,isHandoff:l,onUpdate:c}=n;this.resolvedAt=Db.now(),function(e,t,n,r){const i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],o=Qv(i,t),a=Qv(s,t);return!(!o||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Wv(n))&&r)}(e,i,s,o)||(!Zy.instantAnimations&&a||c?.(lv(e,n,t)),e[0]=e[e.length-1],Xv(n),n.repeat=0);const u={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},d=!l&&function(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e,a=t?.owner?.current;if(!(a instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return Jv()&&n&&Zv.has(n)&&("transform"!==n||!c)&&!l&&!r&&"mirror"!==i&&0!==s&&"inertia"!==o}(u)?new Yv({...u,element:u.motionValue.owner.current}):new fv(u);d.finished.then(()=>this.notifyFinished()).catch(rb),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Ov=!0,Mv(),Pv(),Ov=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const tx=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nx(e,t,n=1){const[r,i]=function(e){const t=tx.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const e=s.trim();return Jy(e)?parseFloat(e):e}return Fb(i)?nx(i,t,n+1):i}function rx(e,t){return e?.[t]??e?.default??e}const ix=new Set(["width","height","top","left","right","bottom",...Ev]),sx=e=>t=>t.test(e),ox=[Vb,nw,tw,ew,iw,rw,{test:e=>"auto"===e,parse:e=>e}],ax=e=>ox.find(sx(e));function lx(e){return"number"==typeof e?0===e:null===e||("none"===e||"0"===e||tb(e))}const cx=new Set(["brightness","contrast","saturate","opacity"]);function ux(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Hb)||[];if(!r)return e;const i=n.replace(r,"");let s=cx.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const dx=/\b([a-z-]*)\(.*?\)/gu,hx={...gw,getAnimatableNone:e=>{const t=e.match(dx);return t?t.map(ux).join(" "):e}},fx={...Vb,transform:Math.round},px={borderWidth:nw,borderTopWidth:nw,borderRightWidth:nw,borderBottomWidth:nw,borderLeftWidth:nw,borderRadius:nw,radius:nw,borderTopLeftRadius:nw,borderTopRightRadius:nw,borderBottomRightRadius:nw,borderBottomLeftRadius:nw,width:nw,maxWidth:nw,height:nw,maxHeight:nw,top:nw,right:nw,bottom:nw,left:nw,padding:nw,paddingTop:nw,paddingRight:nw,paddingBottom:nw,paddingLeft:nw,margin:nw,marginTop:nw,marginRight:nw,marginBottom:nw,marginLeft:nw,backgroundPositionX:nw,backgroundPositionY:nw,...{rotate:ew,rotateX:ew,rotateY:ew,rotateZ:ew,scale:Gb,scaleX:Gb,scaleY:Gb,scaleZ:Gb,skew:ew,skewX:ew,skewY:ew,distance:nw,translateX:nw,translateY:nw,translateZ:nw,x:nw,y:nw,z:nw,perspective:nw,transformPerspective:nw,opacity:qb,originX:sw,originY:sw,originZ:nw},zIndex:fx,fillOpacity:qb,strokeOpacity:qb,numOctaves:fx},mx={...px,color:aw,backgroundColor:aw,outlineColor:aw,fill:aw,stroke:aw,borderColor:aw,borderTopColor:aw,borderRightColor:aw,borderBottomColor:aw,borderLeftColor:aw,filter:hx,WebkitFilter:hx},gx=e=>mx[e];function yx(e,t){let n=gx(e);return n!==hx&&(n=gw),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const bx=new Set(["auto","none","0"]);class wx extends Dv{constructor(e,t,n,r,i){super(e,t,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"==typeof n&&(n=n.trim(),Fb(n))){const r=nx(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!ix.has(n)||2!==e.length)return;const[r,i]=e,s=ax(r),o=ax(i);if(s!==o)if(Nv(s)&&Nv(o))for(let a=0;a<e.length;a++){const t=e[a];"string"==typeof t&&(e[a]=parseFloat(t))}else Cv[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||lx(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,i=0;for(;i<e.length&&!r;){const t=e[i];"string"==typeof t&&!bx.has(t)&&hw(t).values.length&&(r=e[i]),i++}if(r&&n)for(const s of t)e[s]=yx(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cv[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=Cv[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,n])=>{e.getValue(t).set(n)}),this.resolveNoneKeyframes()}}const vx=(e,t)=>t&&"number"==typeof e?t.transform(e):e;function xx(e){return eb(e)&&"offsetHeight"in e}class kx{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=Db.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const n of this.dependents)n.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Db.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ab);const n=this.events[e].add(t);return"change"===e?()=>{n(),jb.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Db.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return ub(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Sx(e,t){return new kx(e,t)}const{schedule:Ex}=Cb(queueMicrotask,!1),_x={x:!1,y:!1};function Nx(){return _x.x||_x.y}function Ax(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document;const r=n?.[e]??t.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function Tx(e){return!("touch"===e.pointerType||Nx())}const Cx=(e,t)=>!!t&&(e===t||Cx(e,t.parentElement)),jx=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,Ix=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const Rx=new WeakSet;function Ox(e){return t=>{"Enter"===t.key&&e(t)}}function Px(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Mx(e){return jx(e)&&!Nx()}function Dx(e,t,n={}){const[r,i,s]=Ax(e,n),o=e=>{const r=e.currentTarget;if(!Mx(e))return;Rx.add(r);const s=t(r,e),o=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),Rx.has(r)&&Rx.delete(r),Mx(e)&&"function"==typeof s&&s(e,{success:t})},a=e=>{o(e,r===window||r===document||n.useGlobalTarget||Cx(r,e.target))},l=e=>{o(e,!1)};window.addEventListener("pointerup",a,i),window.addEventListener("pointercancel",l,i)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",o,i),xx(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=Ox(()=>{if(Rx.has(n))return;Px(n,"down");const e=Ox(()=>{Px(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>Px(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,i)),t=e,Ix.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),s}function Lx(e){return eb(e)&&"ownerSVGElement"in e}const Bx=e=>Boolean(e&&e.getVelocity),Ux=[...ox,aw,gw],Fx=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function zx(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Vx(...e){return v.useCallback(function(...e){return t=>{let n=!1;const r=e.map(e=>{const r=zx(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():zx(e[t],null)}}}}(...e),e)}class qx extends v.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=xx(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Gx({children:t,isPresent:n,anchorX:r,root:i}){const s=v.useId(),o=v.useRef(null),a=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=v.useContext(Fx),c=Vx(o,t?.ref);return v.useInsertionEffect(()=>{const{width:e,height:t,top:c,left:u,right:d}=a.current;if(n||!o.current||!e||!t)return;const h="left"===r?`left: ${u}`:`right: ${d}`;o.current.dataset.motionPopId=s;const f=document.createElement("style");l&&(f.nonce=l);const p=i??document.head;return p.appendChild(f),f.sheet&&f.sheet.insertRule(`\n          [data-motion-pop-id="${s}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            ${h}px !important;\n            top: ${c}px !important;\n          }\n        `),()=>{p.contains(f)&&p.removeChild(f)}},[n]),e.jsx(qx,{isPresent:n,childRef:o,sizeRef:a,children:v.cloneElement(t,{ref:c})})}const Wx=({children:t,initial:n,isPresent:r,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:a,anchorX:l,root:c})=>{const u=Wy(Hx),d=v.useId();let h=!0,f=v.useMemo(()=>(h=!1,{id:d,initial:n,isPresent:r,custom:s,onExitComplete:e=>{u.set(e,!0);for(const t of u.values())if(!t)return;i&&i()},register:e=>(u.set(e,!1),()=>u.delete(e))}),[r,u,i]);return o&&h&&(f={...f}),v.useMemo(()=>{u.forEach((e,t)=>u.set(t,!1))},[r]),v.useEffect(()=>{!r&&!u.size&&i&&i()},[r]),"popLayout"===a&&(t=e.jsx(Gx,{isPresent:r,anchorX:l,root:c,children:t})),e.jsx($y.Provider,{value:f,children:t})};function Hx(){return new Map}function Kx(e=!0){const t=v.useContext($y);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=v.useId();v.useEffect(()=>{if(e)return i(s)},[e]);const o=v.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const $x=e=>e.key||"";function Yx(e){const t=[];return v.Children.forEach(e,e=>{v.isValidElement(e)&&t.push(e)}),t}const Qx=({children:t,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=Kx(a),h=v.useMemo(()=>Yx(t),[t]),f=a&&!u?[]:h.map($x),p=v.useRef(!0),m=v.useRef(h),g=Wy(()=>new Map),[y,b]=v.useState(h),[w,x]=v.useState(h);Ky(()=>{p.current=!1,m.current=h;for(let e=0;e<w.length;e++){const t=$x(w[e]);f.includes(t)?g.delete(t):!0!==g.get(t)&&g.set(t,!1)}},[w,f.length,f.join("-")]);const k=[];if(h!==y){let e=[...h];for(let t=0;t<w.length;t++){const n=w[t],r=$x(n);f.includes(r)||(e.splice(t,0,n),k.push(n))}return"wait"===o&&k.length&&(e=k),x(Yx(e)),b(h),null}const{forceRender:S}=v.useContext(Gy);return e.jsx(e.Fragment,{children:w.map(t=>{const y=$x(t),b=!(a&&!u)&&(h===w||f.includes(y));return e.jsx(Wx,{isPresent:b,initial:!(p.current&&!r)&&void 0,custom:n,presenceAffectsLayout:s,mode:o,root:c,onExitComplete:b?void 0:()=>{if(!g.has(y))return;g.set(y,!0);let e=!0;g.forEach(t=>{t||(e=!1)}),e&&(S?.(),x(m.current),a&&d?.(),i&&i())},anchorX:l,children:t},y)})})},Xx=v.createContext({strict:!1}),Zx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Jx={};for(const TW in Zx)Jx[TW]={isEnabled:e=>Zx[TW].some(t=>!!e[t])};const ek=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tk(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ek.has(e)}let nk=e=>!tk(e);try{"function"==typeof(rk=require("@emotion/is-prop-valid").default)&&(nk=e=>e.startsWith("on")?!tk(e):rk(e))}catch{}var rk;const ik=v.createContext({});function sk(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function ok(e){return"string"==typeof e||Array.isArray(e)}const ak=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],lk=["initial",...ak];function ck(e){return sk(e.animate)||lk.some(t=>ok(e[t]))}function uk(e){return Boolean(ck(e)||e.variants)}function dk(e){const{initial:t,animate:n}=function(e,t){if(ck(e)){const{initial:t,animate:n}=e;return{initial:!1===t||ok(t)?t:void 0,animate:ok(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,v.useContext(ik));return v.useMemo(()=>({initial:t,animate:n}),[hk(t),hk(n)])}function hk(e){return Array.isArray(e)?e.join(" "):e}const fk={};function pk(e,{layout:t,layoutId:n}){return _v.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!fk[e]||"opacity"===e)}const mk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gk=Ev.length;function yk(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,a=!1;for(const l in t){const e=t[l];if(_v.has(l))o=!0;else if(Bb(l))i[l]=e;else{const t=vx(e,px[l]);l.startsWith("origin")?(a=!0,s[l]=t):r[l]=t}}if(t.transform||(o||n?r.transform=function(e,t,n){let r="",i=!0;for(let s=0;s<gk;s++){const o=Ev[s],a=e[o];if(void 0===a)continue;let l=!0;if(l="number"==typeof a?a===(o.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=vx(a,px[o]);l||(i=!1,r+=`${mk[o]||o}(${e}) `),n&&(t[o]=e)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;r.transformOrigin=`${e} ${t} ${n}`}}const bk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wk(e,t,n){for(const r in t)Bx(t[r])||pk(r,n)||(e[r]=t[r])}function vk(e,t){const n={};return wk(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return v.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return yk(n,t,e),Object.assign({},n.vars,n.style)},[t])}(e,t)),n}function xk(e,t){const n={},r=vk(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const kk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Sk={offset:"strokeDashoffset",array:"strokeDasharray"};function Ek(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,u){if(yk(e,a,c),l)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:d,style:h}=e;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=u?.transformBox??"fill-box",delete d.transformBox),void 0!==t&&(d.x=t),void 0!==n&&(d.y=n),void 0!==r&&(d.scale=r),void 0!==i&&function(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?kk:Sk;e[s.offset]=nw.transform(-r);const o=nw.transform(t),a=nw.transform(n);e[s.array]=`${o} ${a}`}(d,i,s,o,!1)}const _k=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),Nk=e=>"string"==typeof e&&"svg"===e.toLowerCase();function Ak(e,t,n,r){const i=v.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Ek(n,t,Nk(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}},[t]);if(e.style){const t={};wk(t,e.style,e),i.style={...t,...i.style}}return i}const Tk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ck(e){return"string"==typeof e&&!e.includes("-")&&!!(Tk.indexOf(e)>-1||/[A-Z]/u.test(e))}function jk(e,t,n,{latestValues:r},i,s=!1){const o=(Ck(e)?Ak:xk)(t,r,i,e),a=function(e,t,n){const r={};for(const i in e)"values"===i&&"object"==typeof e.values||(nk(i)||!0===n&&tk(i)||!t&&!tk(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(t,"string"==typeof e,s),l=e!==v.Fragment?{...a,...o,ref:n}:{},{children:c}=t,u=v.useMemo(()=>Bx(c)?c.get():c,[c]);return v.createElement(e,{...l,children:u})}function Ik(e){const t=[{},{}];return e?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function Rk(e,t,n,r){if("function"==typeof t){const[i,s]=Ik(r);t=t(void 0!==n?n:e.custom,i,s)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[i,s]=Ik(r);t=t(void 0!==n?n:e.custom,i,s)}return t}function Ok(e){return Bx(e)?e.get():e}function Pk(e,t,n,r){const i={},s=r(e,{});for(const h in s)i[h]=Ok(s[h]);let{initial:o,animate:a}=e;const l=ck(e),c=uk(e);t&&c&&!l&&!1!==e.inherit&&(void 0===o&&(o=t.initial),void 0===a&&(a=t.animate));let u=!!n&&!1===n.initial;u=u||!1===o;const d=u?a:o;if(d&&"boolean"!=typeof d&&!sk(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=Rk(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(i[r]=e)}for(const r in e)i[r]=e[r]}}}return i}const Mk=e=>(t,n)=>{const r=v.useContext(ik),i=v.useContext($y),s=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:Pk(n,r,i,e),renderState:t()}}(e,t,r,i);return n?s():Wy(s)};function Dk(e,t,n){const{style:r}=e,i={};for(const s in r)(Bx(r[s])||t.style&&Bx(t.style[s])||pk(s,e)||void 0!==n?.getValue(s)?.liveStyle)&&(i[s]=r[s]);return i}const Lk=Mk({scrapeMotionValuesFromProps:Dk,createRenderState:bk});function Bk(e,t,n){const r=Dk(e,t,n);for(const i in e)if(Bx(e[i])||Bx(t[i])){r[-1!==Ev.indexOf(i)?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i]=e[i]}return r}const Uk=Mk({scrapeMotionValuesFromProps:Bk,createRenderState:_k}),Fk=Symbol.for("motionComponentSymbol");function zk(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Vk(e,t,n){return v.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):zk(n)&&(n.current=r))},[t])}const qk=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Gk="data-"+qk("framerAppearId"),Wk=v.createContext({});function Hk(e,t,n,r,i){const{visualElement:s}=v.useContext(ik),o=v.useContext(Xx),a=v.useContext($y),l=v.useContext(Fx).reducedMotion,c=v.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:a,blockInitialAnimation:!!a&&!1===a.initial,reducedMotionConfig:l}));const u=c.current,d=v.useContext(Wk);!u||u.projection||!i||"html"!==u.type&&"svg"!==u.type||function(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Kk(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:Boolean(o)||a&&zk(a),visualElement:e,animationType:"string"==typeof s?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(c.current,n,i,d);const h=v.useRef(!1);v.useInsertionEffect(()=>{u&&h.current&&u.update(n,a)});const f=n[Gk],p=v.useRef(Boolean(f)&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return Ky(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),p.current&&u.animationState&&u.animationState.animateChanges())}),v.useEffect(()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(f)}),p.current=!1),u.enteringChildren=void 0)}),u}function Kk(e){if(e)return!1!==e.options.allowProjection?e.projection:Kk(e.parent)}function $k(t,{forwardMotionProps:n=!1}={},r,i){r&&function(e){for(const t in e)Jx[t]={...Jx[t],...e[t]}}(r);const s=Ck(t)?Uk:Lk;function o(r,o){let a;const l={...v.useContext(Fx),...r,layoutId:Yk(r)},{isStatic:c}=l,u=dk(r),d=s(r,c);if(!c&&Hy){v.useContext(Xx).strict;const e=function(e){const{drag:t,layout:n}=Jx;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);a=e.MeasureLayout,u.visualElement=Hk(t,d,l,i,e.ProjectionNode)}return e.jsxs(ik.Provider,{value:u,children:[a&&u.visualElement?e.jsx(a,{visualElement:u.visualElement,...l}):null,jk(t,r,Vk(d,u.visualElement,o),d,c,n)]})}o.displayName=`motion.${"string"==typeof t?t:`create(${t.displayName??t.name??""})`}`;const a=v.forwardRef(o);return a[Fk]=t,a}function Yk({layoutId:e}){const t=v.useContext(Gy).id;return t&&void 0!==e?t+"-"+e:e}function Qk(e,t){if("undefined"==typeof Proxy)return $k;const n=new Map,r=(n,r)=>$k(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(i,s)=>"create"===s?r:(n.has(s)||n.set(s,$k(s,void 0,e,t)),n.get(s))})}function Xk({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Zk(e){return void 0===e||1===e}function Jk({scale:e,scaleX:t,scaleY:n}){return!Zk(e)||!Zk(t)||!Zk(n)}function eS(e){return Jk(e)||tS(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tS(e){return nS(e.x)||nS(e.y)}function nS(e){return e&&"0%"!==e}function rS(e,t,n){return n+t*(e-n)}function iS(e,t,n,r,i){return void 0!==i&&(e=rS(e,i,r)),rS(e,n,r)+t}function sS(e,t=0,n=1,r,i){e.min=iS(e.min,t,n,r,i),e.max=iS(e.max,t,n,r,i)}function oS(e,{x:t,y:n}){sS(e.x,t.translate,t.scale,t.originPoint),sS(e.y,n.translate,n.scale,n.originPoint)}const aS=.999999999999,lS=1.0000000000001;function cS(e,t){e.min=e.min+t,e.max=e.max+t}function uS(e,t,n,r,i=.5){sS(e,t,n,ww(e.min,e.max,i),r)}function dS(e,t){uS(e.x,t.x,t.scaleX,t.scale,t.originX),uS(e.y,t.y,t.scaleY,t.scale,t.originY)}function hS(e,t){return Xk(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const fS=()=>({x:{min:0,max:0},y:{min:0,max:0}}),pS={current:null},mS={current:!1};const gS=new WeakMap;const yS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bS{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Dv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Db.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,jb.render(this.render,!1,!0))};const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=t.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=ck(t),this.isVariantNode=uk(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(const d in u){const e=u[d];void 0!==a[d]&&Bx(e)&&e.set(a[d])}}mount(e){this.current=e,gS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),mS.current||function(){if(mS.current=!0,Hy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>pS.current=e.matches;e.addEventListener("change",t),t()}else pS.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||pS.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ib(this.notifyUpdate),Ib(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=_v.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&jb.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),i&&i(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Jx){const t=Jx[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<yS.length;n++){const t=yS[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Bx(i))e.addValue(r,i);else if(Bx(s))e.addValue(r,Sx(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{const t=e.getStaticValue(r);e.addValue(r,Sx(void 0!==t?t:i,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Sx(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return null!=n&&("string"==typeof n&&(Jy(n)||tb(n))?n=parseFloat(n):(r=n,!Ux.find(sx(r))&&gw.test(t)&&(n=yx(e,t))),this.setBaseTarget(e,Bx(n)?n.get():n)),Bx(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"==typeof t||"object"==typeof t){const r=Rk(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||Bx(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new ab),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Ex.render(this.render)}}class wS extends bS{constructor(){super(...arguments),this.KeyframeResolver=wx}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Bx(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function vS(e,{style:t,vars:n},r,i){const s=e.style;let o;for(o in t)s[o]=t[o];for(o in i?.applyProjectionStyles(s,r),n)s.setProperty(o,n[o])}class xS extends wS{constructor(){super(...arguments),this.type="html",this.renderInstance=vS}readValueFromInstance(e,t){if(_v.has(t))return this.projection?.isProjecting?xv(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return kv(n,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),i=(Bb(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof i?i.trim():i}var n}measureInstanceViewportBox(e,{transformPagePoint:t}){return hS(e,t)}build(e,t,n){yk(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Dk(e,t,n)}}const kS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class SS extends wS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fS}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(_v.has(t)){const e=gx(t);return e&&e.default||0}return t=kS.has(t)?t:qk(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Bk(e,t,n)}build(e,t,n){Ek(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){vS(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(kS.has(i)?i:qk(i),t.attrs[i])}(e,t,0,r)}mount(e){this.isSVGTag=Nk(e.tagName),super.mount(e)}}const ES=(e,t)=>Ck(e)?new SS(t):new xS(t,{allowProjection:e!==v.Fragment});function _S(e,t,n){const r=e.getProps();return Rk(r,t,void 0!==n?n:r.custom,e)}const NS=e=>Array.isArray(e);function AS(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Sx(n))}function TS(e){return NS(e)?e[e.length-1]||0:e}function CS(e,t){const n=e.getValue("willChange");if(r=n,Boolean(Bx(r)&&r.add))return n.add(t);if(!n&&Zy.WillChange){const n=new Zy.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function jS(e){return e.props[Gk]}const IS=e=>null!==e;const RS={type:"spring",stiffness:500,damping:25,restSpeed:10},OS={type:"keyframes",duration:.8},PS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},MS=(e,{keyframes:t})=>t.length>2?OS:_v.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:RS:PS;const DS=(e,t,n,r={},i,s)=>o=>{const a=rx(r,e)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c-=lb(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:s?void 0:i};(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length})(a)||Object.assign(u,MS(e,u)),u.duration&&(u.duration=lb(u.duration)),u.repeatDelay&&(u.repeatDelay=lb(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(Xv(u),0===u.delay&&(d=!0)),(Zy.instantAnimations||Zy.skipAnimations)&&(d=!0,Xv(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!s&&void 0!==t.get()){const e=function(e,{repeat:t,repeatType:n="loop"}){const r=e.filter(IS);return r[t&&"loop"!==n&&t%2==1?0:r.length-1]}(u.keyframes,a);if(void 0!==e)return void jb.update(()=>{u.onUpdate(e),u.onComplete()})}return a.isSync?new fv(u):new ex(u)};function LS({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function BS(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...a}=t;r&&(s=r);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const u in a){const t=e.getValue(u,e.latestValues[u]??null),r=a[u];if(void 0===r||c&&LS(c,u))continue;const i={delay:n,...rx(s||{},u)},o=t.get();if(void 0!==o&&!t.isAnimating&&!Array.isArray(r)&&r===o&&!i.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){const t=jS(e);if(t){const e=window.MotionHandoffAnimation(t,u,jb);null!==e&&(i.startTime=e,d=!0)}}CS(e,u),t.start(DS(u,t,r,e.shouldReduceMotion&&ix.has(u)?{type:!1}:i,e,d));const h=t.animation;h&&l.push(h)}return o&&Promise.all(l).then(()=>{jb.update(()=>{o&&function(e,t){const n=_S(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s)AS(e,o,TS(s[o]))}(e,o)})}),l}function US(e,t,n,r=0,i=1){const s=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),o=e.size,a=(o-1)*r;return"function"==typeof n?n(s,o):1===i?s*r:a-s*r}function FS(e,t,n={}){const r=_S(e,t,"exit"===n.type?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(BS(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:s=0,staggerChildren:o,staggerDirection:a}=i;return function(e,t,n=0,r=0,i=0,s=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(FS(l,t,{...o,delay:n+("function"==typeof r?0:r)+US(e.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}(e,t,r,s,o,a,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[e,t]="beforeChildren"===a?[s,o]:[o,s];return e().then(()=>t())}return Promise.all([s(),o(n.delay)])}function zS(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const VS=lk.length;function qS(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&qS(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<VS;n++){const r=lk[n],i=e.props[r];(ok(i)||!1===i)&&(t[r]=i)}return t}const GS=[...ak].reverse(),WS=ak.length;function HS(e){return t=>Promise.all(t.map(({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const i=t.map(t=>FS(e,t,n));r=Promise.all(i)}else if("string"==typeof t)r=FS(e,t,n);else{const i="function"==typeof t?_S(e,t,n.custom):t;r=Promise.all(BS(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}(e,t,n)))}function KS(e){let t=HS(e),n=QS(),r=!0;const i=t=>(n,r)=>{const i=_S(e,r,"exit"===t?e.presenceContext?.custom:void 0);if(i){const{transition:e,transitionEnd:t,...r}=i;n={...n,...r,...t}}return n};function s(s){const{props:o}=e,a=qS(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<WS;t++){const h=GS[t],f=n[h],p=void 0!==o[h]?o[h]:a[h],m=ok(p),g=h===s?f.isActive:null;!1===g&&(d=t);let y=p===a[h]&&p!==o[h]&&m;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),f.protectedKeys={...u},!f.isActive&&null===g||!p&&!f.prevProp||sk(p)||"boolean"==typeof p)continue;const b=$S(f.prevProp,p);let w=b||h===s&&f.isActive&&!y&&m||t>d&&m,v=!1;const x=Array.isArray(p)?p:[p];let k=x.reduce(i(h),{});!1===g&&(k={});const{prevResolvedValues:S={}}=f,E={...S,...k},_=t=>{w=!0,c.has(t)&&(v=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in E){const t=k[e],n=S[e];if(u.hasOwnProperty(e))continue;let r=!1;r=NS(t)&&NS(n)?!zS(t,n):t!==n,r?null!=t?_(e):c.add(e):void 0!==t&&c.has(e)?_(e):f.protectedKeys[e]=!0}f.prevProp=p,f.prevResolvedValues=k,f.isActive&&(u={...u,...k}),r&&e.blockInitialAnimation&&(w=!1);const N=y&&b;w&&(!N||v)&&l.push(...x.map(t=>{const n={type:h};if("string"==typeof t&&r&&!N&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,i=_S(r,t);if(r.enteringChildren&&i){const{delayChildren:t}=i.transition||{};n.delay=US(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!=typeof o.initial){const n=_S(e,Array.isArray(o.initial)?o.initial[0]:o.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),i=e.getValue(n);i&&(i.liveStyle=!0),t[n]=r??null}),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,r)),n[t].isActive=r;const i=s(t);for(const e in n)n[e].protectedKeys={};return i},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=QS(),r=!0}}}function $S(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!zS(t,e)}function YS(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function QS(){return{animate:YS(!0),whileInView:YS(),whileHover:YS(),whileTap:YS(),whileDrag:YS(),whileFocus:YS(),exit:YS()}}class XS{constructor(e){this.isMounted=!1,this.node=e}update(){}}let ZS=0;const JS={animation:{Feature:class extends XS{constructor(e){super(e),e.animationState||(e.animationState=KS(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sk(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends XS{constructor(){super(...arguments),this.id=ZS++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function eE(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function tE(e){return{point:{x:e.pageX,y:e.pageY}}}function nE(e,t,n,r){return eE(e,t,(e=>t=>jx(t)&&e(t,tE(t)))(n),r)}function rE(e){return e.max-e.min}function iE(e,t,n,r=.5){e.origin=r,e.originPoint=ww(t.min,t.max,e.origin),e.scale=rE(n)/rE(t),e.translate=ww(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function sE(e,t,n,r){iE(e.x,t.x,n.x,r?r.originX:void 0),iE(e.y,t.y,n.y,r?r.originY:void 0)}function oE(e,t,n){e.min=n.min+t.min,e.max=e.min+rE(t)}function aE(e,t,n){e.min=t.min-n.min,e.max=e.min+rE(t)}function lE(e,t,n){aE(e.x,t.x,n.x),aE(e.y,t.y,n.y)}function cE(e){return[e("x"),e("y")]}const uE=({current:e})=>e?e.ownerDocument.defaultView:null,dE=(e,t)=>Math.abs(e-t);class hE{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=mE(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=dE(e.x,t.x),r=dE(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:i}=Rb;this.history.push({...r,timestamp:i});const{onStart:s,onMove:o}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),o&&o(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=fE(t,this.transformPagePoint),jb.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=mE("pointercancel"===e.type?this.lastMoveEventInfo:fE(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),r&&r(e,s)},!jx(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=r||window;const o=fE(tE(e),this.transformPagePoint),{point:a}=o,{timestamp:l}=Rb;this.history=[{...a,timestamp:l}];const{onSessionStart:c}=t;c&&c(e,mE(o,this.history)),this.removeListeners=sb(nE(this.contextWindow,"pointermove",this.handlePointerMove),nE(this.contextWindow,"pointerup",this.handlePointerUp),nE(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ib(this.updatePoint)}}function fE(e,t){return t?{point:t(e.point)}:e}function pE(e,t){return{x:e.x-t.x,y:e.y-t.y}}function mE({point:e},t){return{point:e,delta:pE(e,yE(t)),offset:pE(e,gE(t)),velocity:bE(t,.1)}}function gE(e){return e[0]}function yE(e){return e[e.length-1]}function bE(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=yE(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>lb(t)));)n--;if(!r)return{x:0,y:0};const s=cb(i.timestamp-r.timestamp);if(0===s)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function wE(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function vE(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const xE=.35;function kE(e,t,n){return{min:SE(e,t),max:SE(e,n)}}function SE(e,t){return"number"==typeof e?e:e[t]||0}const EE=new WeakMap;class _E{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:i}=this.getProps();this.panSession=new hE(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(tE(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:i}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?_x[s]?null:(_x[s]=!0,()=>{_x[s]=!1}):_x.x||_x.y?null:(_x.x=_x.y=!0,()=>{_x.x=_x.y=!1}),!this.openDragLock))return;var s;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cE(e=>{let t=this.getAxisMotionValue(e).get()||0;if(tw.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=rE(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),i&&jb.postRender(()=>i(e,t)),CS(this.visualElement,"transform");const{animationState:o}=this.visualElement;o&&o.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:i,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:o}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(o),void(null!==this.currentDirection&&i&&i(this.currentDirection));this.updateAxis("x",t.point,o),this.updateAxis("y",t.point,o),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>cE(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play())},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:i,distanceThreshold:n,contextWindow:uE(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&jb.postRender(()=>o(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!NE(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?ww(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?ww(n,e,r.max):Math.min(e,n)),e}(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&zk(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,{top:t,left:n,bottom:r,right:i}){return{x:wE(e.x,n,i),y:wE(e.y,t,r)}}(n.layoutBox,e),this.elastic=function(e=xE){return!1===e?e=0:!0===e&&(e=xE),{x:kE(e,"left","right"),y:kE(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&cE(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!zk(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=function(e,t,n){const r=hS(e,n),{scroll:i}=t;return i&&(cS(r.x,i.offset.x),cS(r.y,i.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:vE(e.x,t.x),y:vE(e.y,t.y)}}(r.layout.layoutBox,i);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=Xk(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),a=this.constraints||{},l=cE(o=>{if(!NE(o,t,this.currentDirection))return;let l=a&&a[o]||{};s&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?e[o]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(o,d)});return Promise.all(l).then(o)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return CS(this.visualElement,e),n.start(DS(e,n,0,t,this.visualElement,!1))}stopAnimation(){cE(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){cE(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){cE(t=>{const{drag:n}=this.getProps();if(!NE(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:s}=r.layout.layoutBox[t];i.set(e[t]-ww(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!zk(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};cE(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=rE(e),i=rE(t);return i>r?n=ob(t.min,t.max-r,e.min):r>i&&(n=ob(e.min,e.max-i,t.min)),Xy(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),cE(t=>{if(!NE(t,e,null))return;const n=this.getAxisMotionValue(t),{min:i,max:s}=this.constraints[t];n.set(ww(i,s,r[t]))})}addListeners(){if(!this.visualElement.current)return;EE.set(this.visualElement,this);const e=nE(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();zk(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),jb.read(t);const i=eE(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(cE(t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{i(),e(),r(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:s=xE,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function NE(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const AE=e=>(t,n)=>{e&&jb.postRender(()=>e(t,n))};const TE={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const jE={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!nw.test(e))return e;e=parseFloat(e)}return`${CE(e,t.target.x)}% ${CE(e,t.target.y)}%`}},IE={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=gw.parse(e);if(i.length>5)return r;const s=gw.createTransformer(e),o="number"!=typeof i[0]?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const c=ww(a,l,.5);return"number"==typeof i[2+o]&&(i[2+o]/=c),"number"==typeof i[3+o]&&(i[3+o]/=c),s(i)}};let RE=!1;class OE extends v.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=e;!function(e){for(const t in e)fk[t]=e[t],Bb(t)&&(fk[t].isCSSVariable=!0)}(ME),i&&(t.group&&t.group.add(i),n&&n.register&&r&&n.register(i),RE&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),TE.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:i}=this.props,{projection:s}=n;return s?(s.isPresent=i,RE=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==i?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||jb.postRender(()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ex.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;RE=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function PE(t){const[n,r]=Kx(),i=v.useContext(Gy);return e.jsx(OE,{...t,layoutGroup:i,switchLayoutGroup:v.useContext(Wk),isPresent:n,safeToRemove:r})}const ME={borderRadius:{...jE,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jE,borderTopRightRadius:jE,borderBottomLeftRadius:jE,borderBottomRightRadius:jE,boxShadow:IE};const DE=(e,t)=>e.depth-t.depth;class LE{constructor(){this.children=[],this.isDirty=!1}add(e){Yy(this.children,e),this.isDirty=!0}remove(e){Qy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(DE),this.isDirty=!1,this.children.forEach(e)}}const BE=["TopLeft","TopRight","BottomLeft","BottomRight"],UE=BE.length,FE=e=>"string"==typeof e?parseFloat(e):e,zE=e=>"number"==typeof e||nw.test(e);function VE(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const qE=WE(0,.5,vb),GE=WE(.5,.95,rb);function WE(e,t,n){return r=>r<e?0:r>t?1:n(ob(e,t,r))}function HE(e,t){e.min=t.min,e.max=t.max}function KE(e,t){HE(e.x,t.x),HE(e.y,t.y)}function $E(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function YE(e,t,n,r,i){return e=rS(e-=t,1/n,r),void 0!==i&&(e=rS(e,1/i,r)),e}function QE(e,t,[n,r,i],s,o){!function(e,t=0,n=1,r=.5,i,s=e,o=e){tw.test(t)&&(t=parseFloat(t),t=ww(o.min,o.max,t/100)-o.min);if("number"!=typeof t)return;let a=ww(s.min,s.max,r);e===s&&(a-=t),e.min=YE(e.min,t,n,a,i),e.max=YE(e.max,t,n,a,i)}(e,t[n],t[r],t[i],t.scale,s,o)}const XE=["x","scaleX","originX"],ZE=["y","scaleY","originY"];function JE(e,t,n,r){QE(e.x,t,XE,n?n.x:void 0,r?r.x:void 0),QE(e.y,t,ZE,n?n.y:void 0,r?r.y:void 0)}function e_(e){return 0===e.translate&&1===e.scale}function t_(e){return e_(e.x)&&e_(e.y)}function n_(e,t){return e.min===t.min&&e.max===t.max}function r_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function i_(e,t){return r_(e.x,t.x)&&r_(e.y,t.y)}function s_(e){return rE(e.x)/rE(e.y)}function o_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class a_{constructor(){this.members=[]}add(e){Yy(this.members,e),e.scheduleRender()}remove(e){if(Qy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const l_=["","X","Y","Z"];let c_=0;function u_(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function d_(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=jS(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",jb,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&d_(r)}function h_({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(e={},n=t?.()){this.id=c_++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(m_),this.nodes.forEach(k_),this.nodes.forEach(S_),this.nodes.forEach(g_)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new LE)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new ab),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;var n;this.isSVG=Lx(t)&&!(Lx(n=t)&&"svg"===n.tagName),this.instance=t;const{layoutId:r,layout:i,visualElement:s}=this.options;if(s&&!s.current&&s.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||r)&&(this.isLayoutDirty=!0),e){let n,r=0;const i=()=>this.root.updateBlockedByResize=!1;jb.read(()=>{r=window.innerWidth}),e(t,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=Db.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Ib(r),e(s-t))};return jb.setup(r,!0),()=>Ib(r)}(i,250),TE.hasAnimatedSinceResize&&(TE.hasAnimatedSinceResize=!1,this.nodes.forEach(x_)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&s&&(r||i)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||s.getDefaultTransition()||C_,{onLayoutAnimationStart:o,onLayoutAnimationComplete:a}=s.getProps(),l=!this.targetLayout||!i_(this.targetLayout,r),c=!t&&n;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const t={...rx(i,"layout"),onPlay:o,onComplete:a};(s.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,c)}else t||x_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ib(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(E_),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&d_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let i=0;i<this.path.length;i++){const e=this.path[i];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(b_);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(w_);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(v_),this.nodes.forEach(f_),this.nodes.forEach(p_)):this.nodes.forEach(w_),this.clearAllSnapshots();const e=Db.now();Rb.delta=Xy(0,1e3/60,e-Rb.timestamp),Rb.timestamp=e,Rb.isProcessing=!0,Ob.update.process(Rb),Ob.preRender.process(Rb),Ob.render.process(Rb),Rb.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ex.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(y_),this.sharedNodes.forEach(__)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,jb.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){jb.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||rE(this.snapshot.measuredBox.x)||rE(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!t_(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||eS(this.latestValues)||s)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),R_((r=n).x),R_(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(P_))){const{scroll:e}=this.root;e&&(cS(t.x,e.offset.x),cS(t.y,e.offset.y))}return t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};if(KE(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:i,options:s}=r;r!==this.root&&i&&s.layoutScroll&&(i.wasRoot&&KE(t,e),cS(t.x,i.offset.x),cS(t.y,i.offset.y))}return t}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};KE(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&dS(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),eS(e.latestValues)&&dS(n,e.latestValues)}return eS(this.latestValues)&&dS(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};KE(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!eS(e.latestValues))continue;Jk(e.latestValues)&&e.updateSnapshot();const r=fS();KE(r,e.measurePageBox()),JE(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return eS(this.latestValues)&&JE(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rb.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){const t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:i}=this.options;if(this.layout&&(r||i)){if(this.resolvedRelativeTargetAt=Rb.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},lE(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),KE(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var s,o,a;if(this.relativeTarget||this.targetDelta)if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,o=this.relativeTarget,a=this.relativeParent.target,oE(s.x,o.x,a.x),oE(s.y,o.y,a.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):KE(this.target,this.layout.layoutBox),oS(this.target,this.targetDelta)):KE(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},lE(this.relativeTargetOrigin,this.target,e.target),KE(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(this.parent&&!Jk(this.parent.latestValues)&&!tS(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const e=this.getLead(),t=Boolean(this.resumingFrom)||this!==e;let n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===Rb.timestamp&&(n=!1),n)return;const{layout:r,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!i)return;KE(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,o=this.treeScale.y;!function(e,t,n,r=!1){const i=n.length;if(!i)return;let s,o;t.x=t.y=1;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:i}=s.options;i&&i.props.style&&"contents"===i.props.style.display||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&dS(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,oS(e,o)),r&&eS(s.latestValues)&&dS(e,s.latestValues))}t.x<lS&&t.x>aS&&(t.x=1),t.y<lS&&t.y>aS&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,t),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:a}=e;a?(this.projectionDelta&&this.prevProjectionDelta?($E(this.prevProjectionDelta.x,this.projectionDelta.x),$E(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),sE(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.treeScale.x===s&&this.treeScale.y===o&&o_(this.projectionDelta.x,this.prevProjectionDelta.x)&&o_(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},i={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const o={x:{min:0,max:0},y:{min:0,max:0}},a=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(a&&!c&&!0===this.options.crossfade&&!this.path.some(T_));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,f,p,m,g;N_(s.x,e.x,n),N_(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lE(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,m=o,g=n,A_(f.x,p.x,m.x,g),A_(f.y,p.y,m.y,g),d&&(l=this.relativeTarget,h=d,n_(l.x,h.x)&&n_(l.y,h.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),KE(d,this.relativeTarget)),a&&(this.animationValues=i,function(e,t,n,r,i,s){i?(e.opacity=ww(0,n.opacity??1,qE(r)),e.opacityExit=ww(t.opacity??1,0,GE(r))):s&&(e.opacity=ww(t.opacity??1,n.opacity??1,r));for(let o=0;o<UE;o++){const i=`border${BE[o]}Radius`;let s=VE(t,i),a=VE(n,i);void 0===s&&void 0===a||(s||(s=0),a||(a=0),0===s||0===a||zE(s)===zE(a)?(e[i]=Math.max(ww(FE(s),FE(a),r),0),(tw.test(a)||tw.test(s))&&(e[i]+="%")):e[i]=a)}(t.rotate||n.rotate)&&(e.rotate=ww(t.rotate||0,n.rotate||0,r))}(i,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ib(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=jb.update(()=>{TE.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Sx(0)),this.currentAnimation=function(e,t,n){const r=Bx(e)?e:Sx(e);return r.start(DS("",r,t,n)),r.animation}(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:i}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&O_(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=rE(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=rE(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}KE(t,n),dS(t,i),sE(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new a_);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){const{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&u_("z",e,r,this.animationValues);for(let i=0;i<l_.length;i++)u_(`rotate${l_[i]}`,e,r,this.animationValues),u_(`skew${l_[i]}`,e,r,this.animationValues);e.render();for(const i in r)e.setStaticValue(i,r[i]),this.animationValues&&(this.animationValues[i]=r[i]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=Ok(t?.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Ok(t?.pointerEvents)||""),void(this.hasProjected&&!eS(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const i=r.animationValues||r.latestValues;this.applyTransformsToTarget();let s=function(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=n?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:i,rotateY:s,skewX:o,skewY:a}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),i&&(r+=`rotateX(${i}deg) `),s&&(r+=`rotateY(${s}deg) `),o&&(r+=`skewX(${o}deg) `),a&&(r+=`skewY(${a}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+=`scale(${a}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,i);n&&(s=n(i,s)),e.transform=s;const{x:o,y:a}=this.projectionDelta;e.transformOrigin=`${100*o.origin}% ${100*a.origin}% 0`,r.animationValues?e.opacity=r===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=r===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0;for(const l in fk){if(void 0===i[l])continue;const{correct:t,applyTo:n,isCSSVariable:o}=fk[l],a="none"===s?i[l]:t(i[l],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=a}else o?this.options.visualElement.renderState.vars[l]=a:e[l]=a}this.options.layoutId&&(e.pointerEvents=r===this?Ok(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(b_),this.root.sharedNodes.clear()}}}function f_(e){e.updateLayout()}function p_(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;"size"===i?cE(e=>{const r=s?t.measuredBox[e]:t.layoutBox[e],i=rE(r);r.min=n[e].min,r.max=r.min+i}):O_(i,t.layoutBox,n)&&cE(r=>{const i=s?t.measuredBox[r]:t.layoutBox[r],o=rE(n[r]);i.max=i.min+o,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+o)});const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};sE(o,n,t.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?sE(a,e.applyTransform(r,!0),t.measuredBox):sE(a,n,t.layoutBox);const l=!t_(o);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:i,layout:s}=r;if(i&&s){const o={x:{min:0,max:0},y:{min:0,max:0}};lE(o,t.layoutBox,i.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};lE(a,n,s.layoutBox),i_(o,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=o,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:a,layoutDelta:o,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function m_(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function g_(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function y_(e){e.clearSnapshot()}function b_(e){e.clearMeasurements()}function w_(e){e.isLayoutDirty=!1}function v_(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function x_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function k_(e){e.resolveTargetDelta()}function S_(e){e.calcProjection()}function E_(e){e.resetSkewAndRotation()}function __(e){e.removeLeadSnapshot()}function N_(e,t,n){e.translate=ww(t.translate,0,n),e.scale=ww(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function A_(e,t,n,r){e.min=ww(t.min,n.min,r),e.max=ww(t.max,n.max,r)}function T_(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const C_={duration:.45,ease:[.4,0,.1,1]},j_=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),I_=j_("applewebkit/")&&!j_("chrome/")?Math.round:rb;function R_(e){e.min=I_(e.min),e.max=I_(e.max)}function O_(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=s_(t),i=s_(n),s=.2,!(Math.abs(r-i)<=s));var r,i,s}function P_(e){return e!==e.root&&e.scroll?.wasRoot}const M_=h_({attachResizeListener:(e,t)=>eE(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),D_={current:void 0},L_=h_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!D_.current){const e=new M_({});e.mount(window),e.setOptions({layoutScroll:!0}),D_.current=e}return D_.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),B_={pan:{Feature:class extends XS{constructor(){super(...arguments),this.removePointerDownListener=rb}onPointerDown(e){this.session=new hE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:AE(e),onStart:AE(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&jb.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=nE(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends XS{constructor(e){super(e),this.removeGroupControls=rb,this.removeListeners=rb,this.controls=new _E(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rb}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:L_,MeasureLayout:PE}};function U_(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const i=r["onHover"+n];i&&jb.postRender(()=>i(t,tE(t)))}function F_(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const i=r["onTap"+("End"===n?"":n)];i&&jb.postRender(()=>i(t,tE(t)))}const z_=new WeakMap,V_=new WeakMap,q_=e=>{const t=z_.get(e.target);t&&t(e)},G_=e=>{e.forEach(q_)};function W_(e,t,n){const r=function({root:e,...t}){const n=e||document;V_.has(n)||V_.set(n,{});const r=V_.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(G_,{root:e,...t})),r[i]}(t);return z_.set(e,n),r.observe(e),()=>{z_.delete(e),r.unobserve(e)}}const H_={some:0,all:1};const K_={inView:{Feature:class extends XS{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:i}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:H_[r]};return W_(this.node.current,s,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,i&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),s=t?n:r;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends XS{mount(){const{current:e}=this.node;e&&(this.unmount=Dx(e,(e,t)=>(F_(this.node,t,"Start"),(e,{success:t})=>F_(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends XS{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sb(eE(this.node.current,"focus",()=>this.onFocus()),eE(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends XS{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[r,i,s]=Ax(e,n),o=e=>{if(!Tx(e))return;const{target:n}=e,r=t(n,e);if("function"!=typeof r||!n)return;const s=e=>{Tx(e)&&(r(e),n.removeEventListener("pointerleave",s))};n.addEventListener("pointerleave",s,i)};return r.forEach(e=>{e.addEventListener("pointerenter",o,i)}),s}(e,(e,t)=>(U_(this.node,t,"Start"),e=>U_(this.node,e,"End"))))}unmount(){}}}},$_=Qk({...JS,...K_,...B_,...{layout:{ProjectionNode:L_,MeasureLayout:PE}}},ES),Y_=()=>{const t=v.useMemo(()=>({Sports:["EA UFC 6","FC 26","Madden 26","NBA 2K26","Custom"].sort(),Racing:["F1 2023","Mario Kart","Gran Turismo 7","Custom"].sort(),Fighting:["Mortal Kombat 1","Street Fighter 6","Tekken 8","Custom"].sort(),Shooting:["COD MW3","Fortnite","Valorant","Custom"].sort()}),[]),n={Sports:[{label:"Full Match"},{label:"Quick Match (No halftime)"},{label:"2v2 Challenge"},{label:"Custom Challenge",tooltip:"Manual review required. Use only when standard modes don't apply."}],Racing:[{label:"Best Lap Time"},{label:"1v1 Race to Finish"},{label:"Custom Challenge",tooltip:"Manual review required. Use only when standard modes don't apply."}],Fighting:[{label:"Best of 3"},{label:"Mirror Match"},{label:"2v2 Team Fight"},{label:"Custom Challenge",tooltip:"Manual review required. Use only when standard modes don't apply."}],Shooting:[{label:"Run the Fade"},{label:"10 and Done"},{label:"Snipers Only"},{label:"Custom Challenge",tooltip:"Manual review required. Use only when standard modes don't apply."}]},[r,i]=v.useState(""),[s,o]=v.useState(""),[a,l]=v.useState(""),[c,u]=v.useState(""),[d,h]=v.useState(""),[f,p]=v.useState(""),[m,g]=v.useState(!1),[y,b]=v.useState(!1);v.useEffect(()=>{g(!!r),r||(o(""),p(""))},[r]),v.useEffect(()=>{if(s){const e=setTimeout(()=>b(!0),150);return()=>clearTimeout(e)}b(!1),p("")},[s]);const w=v.useRef(null);v.useEffect(()=>{if(!w.current)return;const e=w.current,t=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&e.classList.add("fade-in-up")})},{threshold:.2});return t.observe(e),()=>t.disconnect()},[]);return e.jsxs("section",{className:"py-20 bg-card",children:[e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold mb-4 shimmer text-center",style:{fontWeight:800,fontSize:"2.25rem",letterSpacing:"0.04em",background:"linear-gradient(90deg, #f5d06f 0%, #a78bfa 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 32px #f5d06f88, 0 2px 8px #000"},children:"Create a Challenge. Prove it."}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Real challenges. Real outcomes. Every result is based on skill — not chance."})]}),e.jsx("section",{className:"flex justify-center py-12",children:e.jsx("div",{ref:w,className:"relative opacity-0 translate-y-3 transition-all duration-700",id:"challenge-leaderboard-visual",children:e.jsx("img",{src:"/assets/usdfg-leaderboard-competition-mascot.webp",onError:e=>{const t=e.currentTarget;t.dataset.fallback||(t.src="/assets/usdfg-leaderboard-competition-mascot.png",t.dataset.fallback="1")},loading:"lazy",alt:"USDFG mascot in front of glowing leaderboard - skill gaming competition",className:"w-full max-w-2xl rounded-lg relative z-10 select-none"})})}),e.jsx(sy,{className:"relative bg-gradient-to-br from-[#0a0f1aee] to-[#0a1f2aee] border-2 border-cyan-400/40 max-w-4xl mx-auto shadow-2xl backdrop-blur-md transition-all duration-300 hover:scale-[1.01] hover:shadow-[0_0_32px_#00f0ff99]",children:e.jsxs(ly,{className:"relative z-10 p-8 md:p-10",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs($_.h3,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-2xl md:text-3xl font-extrabold mb-2 flex items-center justify-center text-white drop-shadow-glow tracking-wide",children:[e.jsx("span",{className:"mr-3 text-cyan-300",children:e.jsx(My,{className:"inline-block w-8 h-8 md:w-10 md:h-10"})}),"Challenge Rules & Result Verification"]}),e.jsx($_.p,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},className:"text-base text-cyan-300 mb-4 text-center font-medium",children:"This system protects fairness by locking funds and verifying skill-based outcomes."}),e.jsxs($_.ul,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:{hidden:{},visible:{transition:{staggerChildren:.12}}},className:"space-y-4",children:[e.jsxs($_.li,{variants:{hidden:{opacity:0,y:16},visible:{opacity:1,y:0}},className:"flex items-start text-lg",children:[e.jsx(Ly,{className:"text-green-400 mt-1 mr-3"}),e.jsxs("span",{children:[e.jsx("span",{className:"font-bold text-white",children:"If both players confirm the result"}),", rewards are released automatically —"," ",e.jsx("span",{className:"text-cyan-300 font-semibold",children:"no uploads needed"}),"."]})]}),e.jsxs($_.li,{variants:{hidden:{opacity:0,y:16},visible:{opacity:1,y:0}},className:"flex items-start text-lg",children:[e.jsx(Fy,{className:"text-cyan-400 mt-1 mr-3"}),e.jsxs("span",{children:[e.jsx("span",{className:"font-bold text-white",children:"Funds stay locked"})," until both players confirm or a dispute is reviewed."]})]}),e.jsxs($_.li,{variants:{hidden:{opacity:0,y:16},visible:{opacity:1,y:0}},className:"flex items-start text-lg",children:[e.jsx(By,{className:"text-yellow-400 mt-1 mr-3"}),e.jsxs("span",{children:[e.jsx("span",{className:"font-bold text-white",children:"If there's a dispute"}),", players must provide"," ",e.jsx("span",{className:"text-cyan-300 font-semibold",children:"video or screenshot proof"})," for review."]})]}),e.jsxs($_.li,{variants:{hidden:{opacity:0,y:16},visible:{opacity:1,y:0}},className:"flex items-start text-lg",children:[e.jsx(Uy,{className:"text-purple-400 mt-1 mr-3"}),e.jsxs("span",{children:[e.jsx("span",{className:"font-bold text-white",children:"Admins review disputes and make the final call."})," Verified winners receive the reward."]})]}),e.jsxs($_.li,{variants:{hidden:{opacity:0,y:16},visible:{opacity:1,y:0}},className:"flex items-start text-lg",children:[e.jsx(Vy,{className:"text-pink-400 mt-1 mr-3"}),e.jsxs("span",{children:[e.jsx("span",{className:"font-bold text-white",children:"Attempts to falsify results"})," may lead to"," ",e.jsx("span",{className:"text-yellow-300 font-bold",children:"deactivation"}),".",e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"USDFG does not disclose penalty thresholds."})]})]})]})]}),e.jsx($_.div,{initial:{opacity:0,y:8},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"mb-8",children:e.jsxs("div",{className:"bg-gradient-to-br from-cyan-900/40 to-purple-900/30 border border-cyan-400/40 rounded-xl p-4 text-base text-center shadow-lg backdrop-blur-md flex items-center justify-center gap-3",children:[e.jsx(By,{className:"text-yellow-300 w-5 h-5"}),e.jsx("span",{className:"font-semibold text-cyan-100",children:"Make sure your challenge description clearly defines all win conditions and game settings."})]})}),e.jsx($_.div,{initial:{opacity:0,y:8},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.3},className:"flex justify-center mt-4",children:e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-cyan-700 to-purple-700 border-2 border-cyan-400/40 shadow-md text-cyan-100 text-sm font-bold",children:[e.jsx(Vy,{className:"text-cyan-300 w-5 h-5 mr-1"}),"Fair Play Guaranteed"]})}),e.jsxs("div",{className:"space-y-4 mt-12",children:[e.jsx("div",{className:"text-center mb-6",children:e.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white tracking-wide underline decoration-cyan-500 underline-offset-4",children:"Ready to walk away with the token?"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Sy,{htmlFor:"category",className:"text-sm font-medium text-muted-foreground mb-1",children:"Category"}),e.jsxs("select",{id:"category",className:"w-full px-4 py-3 bg-white text-black rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-400",value:r,onChange:e=>{const t=e.target.value;i(t),o(""),p(""),u("")},children:[e.jsx("option",{value:"",children:"Select a category…"}),Object.keys(t).map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx(Sy,{htmlFor:"game",className:"text-sm font-medium text-muted-foreground mb-1",children:"Game"}),e.jsxs("div",{className:"transition-all duration-300 ease-out "+(m?"opacity-100 translate-y-0":"opacity-0 translate-y-2"),children:[e.jsxs("select",{id:"game",className:"w-full px-4 py-3 bg-white text-black rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-400",value:s,onChange:e=>{o(e.target.value),u(""),p("")},disabled:!r,children:[e.jsx("option",{value:"",children:r?"Select a game…":"Choose a category first"}),!!r&&t[r].map(t=>e.jsx("option",{value:t,children:t},t))]}),"Custom"===s&&e.jsx("input",{type:"text",className:"w-full mt-2 px-4 py-3 bg-white text-black rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-400",placeholder:"Enter custom game…",value:c,onChange:e=>u(e.target.value)})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(Sy,{htmlFor:"challenge-mode",className:"text-sm font-medium text-muted-foreground mb-1",children:"Challenge Mode"}),e.jsxs("div",{className:"relative transition-all duration-300 ease-out "+(y?"opacity-100 translate-y-0":"opacity-0 translate-y-2"),children:[e.jsxs("select",{id:"challenge-mode",className:"w-full px-4 py-3 bg-white text-black rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-400",value:f,onChange:e=>p(e.target.value),disabled:!s,children:[e.jsx("option",{value:"",children:r?"Select a mode…":"Choose a category first"}),r&&n[r]?.map(t=>e.jsx("option",{value:t.label,children:t.label},t.label))]}),r&&n[r]?.find(e=>e.label===f&&e.tooltip)&&e.jsx("div",{className:"absolute left-0 mt-2 w-full bg-gray-900 text-xs text-yellow-300 rounded shadow-lg p-2 z-10 border border-yellow-500",children:n[r].find(e=>e.label===f)?.tooltip})]})]}),e.jsxs("div",{children:[e.jsx(Sy,{htmlFor:"system",className:"text-sm font-medium text-muted-foreground mb-1",children:"System"}),e.jsxs("select",{id:"system",className:"w-full px-4 py-3 bg-white text-black rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-400",value:a,onChange:e=>l(e.target.value),disabled:!s,children:[e.jsx("option",{value:"",children:s?"Select a system…":"Choose a game first"}),e.jsx("option",{value:"PS5",children:"PS5"}),e.jsx("option",{value:"Xbox",children:"Xbox"}),e.jsx("option",{value:"PC",children:"PC"}),e.jsx("option",{value:"Switch",children:"Switch"}),e.jsx("option",{value:"Wii",children:"Wii"}),e.jsx("option",{value:"Other",children:"Other"})]}),"Other"===a&&e.jsx("input",{type:"text",className:"w-full mt-2 px-4 py-3 bg-white text-black rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-400",placeholder:"Enter system…",value:d,onChange:e=>h(e.target.value)})]}),e.jsxs("div",{children:[e.jsx(Sy,{htmlFor:"entry-amount",className:"text-sm font-medium text-muted-foreground mb-1",children:"Entry Amount (USDFG)"}),e.jsx(vy,{id:"entry-amount",type:"number",placeholder:"Enter amount (e.g., 10.00)",className:"w-full",min:"0.01",step:"0.01"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(Sy,{htmlFor:"challenge-rules",className:"text-sm font-medium text-muted-foreground mb-1",children:"Challenge Rules & Details"}),e.jsx(xy,{id:"challenge-rules",rows:4,placeholder:"Add your gamer tag so your opponent can find you.\nIf you selected Custom Challenge, make sure your rules are clear, fair, and not outrageous.\n\nUnclear or unfair custom rules may be rejected.",className:"w-full px-4 py-3 bg-background border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-400"})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("a",{className:"inline-block px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-500 text-white rounded-full font-semibold shadow-[0_0_6px_#a78bfa33] flex items-center gap-2 transition-all duration-200 text-base",title:"Launch real challenges from the full platform",style:{pointerEvents:"none",opacity:.6,cursor:"not-allowed"},children:["Open in App ",e.jsx("span",{className:"ml-2 animate-bounce-x","aria-hidden":"true",children:"→"})]})})]})]})})]}),e.jsx("style",{children:"\n        .shimmer {\n          position: relative;\n          display: inline-block;\n          background: linear-gradient(90deg, #f5d06f 0%, #a78bfa 100%);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          text-shadow: 0 0 32px #f5d06f88, 0 2px 8px #000;\n          letter-spacing: 0.04em;\n          font-weight: 800;\n          font-size: 2.25rem;\n          overflow: hidden;\n        }\n        .shimmer::after {\n          content: '';\n          position: absolute; inset: 0;\n          background: linear-gradient(120deg, transparent 40%, #fffbe6 50%, transparent 60%);\n          opacity: 0.25; mix-blend-mode: lighten;\n          animation: shimmer 4s linear infinite;\n          pointer-events: none;\n        }\n        @keyframes shimmer { 0% { transform: translateX(-100%);} 100% { transform: translateX(100%);} }\n\n        .glow-behind {\n          position: absolute;\n          inset: -20px;\n          border-radius: 24px;\n          background: radial-gradient(60% 60% at 50% 50%, #00e8fc33, transparent 70%);\n          filter: blur(24px);\n          z-index: 0;\n        }\n        .pulse-glow { animation: pulseGlow 3s ease-in-out infinite alternate; }\n        @keyframes pulseGlow {\n          0% { opacity: 0.35; filter: blur(18px); }\n          100% { opacity: 0.75; filter: blur(28px); }\n        }\n\n        .shadow-glow { box-shadow: 0 0 24px #00e8fc44, 0 0 4px #fff1; }\n\n        .fade-in-up { opacity: 1 !important; transform: translateY(0) !important; }\n\n        .animate-bounce-x { display:inline-block; animation: bounce-x 1.2s infinite alternate; }\n        @keyframes bounce-x { 0% { transform: translateX(0);} 100% { transform: translateX(8px);} }\n      "})]})},Q_=()=>{const[t,n]=v.useState(0),[r,i]=v.useState(0),[s,o]=v.useState(0),[a,l]=v.useState(0),c=v.useRef([null,null,null,null]),u=v.useRef(!1),d=v.useRef(null),h=(e,t,n=1e3,r)=>{let i;const s=o=>{i||(i=o);const a=Math.min((o-i)/n,1);t(Math.floor(a*e)),a<1?"number"==typeof r&&(c.current[r]=requestAnimationFrame(s)):t(e)};return s};v.useEffect(()=>{const e=d.current;if(!e)return;const t=new window.IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!u.current&&(u.current=!0,requestAnimationFrame(h(65,n,1e3,0)),requestAnimationFrame(h(15,i,1e3,1)),requestAnimationFrame(h(10,o,1e3,2)),requestAnimationFrame(h(10,l,1e3,3)))})},{threshold:.2});return t.observe(e),()=>t.disconnect()},[]);const f=(e,t,n)=>()=>{c.current[n]&&cancelAnimationFrame(c.current[n]),requestAnimationFrame(h(e,t,1e3,n))},p=()=>{};return e.jsxs("section",{id:"tokenomics",className:"py-20 text-center",ref:d,children:[e.jsxs("div",{className:"max-w-2xl mx-auto mb-8 px-6 py-4 rounded-xl bg-gradient-to-br from-white/10 to-[#a78bfa22] border border-purple-700/40 shadow-lg backdrop-blur-md animate-fade-in",style:{textAlign:"center"},children:[e.jsx("p",{className:"text-lg md:text-xl font-bold text-purple-300 mb-2 drop-shadow-glow",children:"Why Tokenomics Matters"}),e.jsx("p",{className:"text-base md:text-lg text-white/90 font-medium",children:"Transparent tokenomics ensures every USDFG token is allocated for platform access and utility, with no hidden distributions. Our structure is designed for platform integrity and fair access—so you always know exactly how tokens are used within the ecosystem."})]}),e.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-4 text-white",style:{textShadow:"var(--primary-glow)"},children:"TOKENOMICS"}),e.jsx("p",{className:"text-lg text-muted-foreground mb-12 max-w-xl mx-auto",children:"USDFG Token allocation structure for platform access and utility."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 max-w-5xl mx-auto mb-8",children:[e.jsxs("div",{className:"rounded-xl border border-purple-500/40 bg-gradient-to-br from-[#a78bfa11] to-[#a78bfa22] p-6 text-center shadow-lg animate-float-soft",onMouseEnter:f(65,n,0),onMouseLeave:p,children:[e.jsxs("p",{className:"text-4xl md:text-5xl font-extrabold text-purple-300 mb-2 animate-pulse-soft",children:[t,"%"]}),e.jsx("p",{className:"text-lg font-bold text-white/90",children:"Public Trading"})]}),e.jsxs("div",{className:"rounded-xl border border-purple-500/40 bg-gradient-to-br from-[#a78bfa11] to-[#a78bfa22] p-6 text-center shadow-lg animate-float-soft",onMouseEnter:f(15,i,1),onMouseLeave:p,children:[e.jsxs("p",{className:"text-4xl md:text-5xl font-extrabold text-purple-300 mb-2 animate-pulse-soft",children:[r,"%"]}),e.jsx("p",{className:"text-lg font-bold text-white/90",children:"Core Reserve"})]}),e.jsxs("div",{className:"rounded-xl border border-purple-500/40 bg-gradient-to-br from-[#a78bfa11] to-[#a78bfa22] p-6 text-center shadow-lg animate-float-soft",onMouseEnter:f(10,o,2),onMouseLeave:p,children:[e.jsxs("p",{className:"text-4xl md:text-5xl font-extrabold text-purple-300 mb-2 animate-pulse-soft",children:[s,"%"]}),e.jsx("p",{className:"text-lg font-bold text-white/90",children:"Development & Operations"})]}),e.jsxs("div",{className:"rounded-xl border border-purple-500/40 bg-gradient-to-br from-[#a78bfa11] to-[#a78bfa22] p-6 text-center shadow-lg animate-float-soft",onMouseEnter:f(10,l,3),onMouseLeave:p,children:[e.jsxs("p",{className:"text-4xl md:text-5xl font-extrabold text-purple-300 mb-2 animate-pulse-soft",children:[a,"%"]}),e.jsx("p",{className:"text-lg font-bold text-white/90",children:"Player Rewards & Challenges"})]})]}),e.jsxs("div",{className:"text-center mt-6",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"USDFG has a fixed supply of 21,000,000 tokens. No inflation. No dilution. No burning. Just hard supply — like it should be."}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"The percentages shown reflect platform utility allocation only. These are not financial indicators or investment guidance."}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"USDFG is used strictly for access, skill-based gameplay, and challenge participation within the platform."}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"No income, interest, or financial benefit is promised or implied. USDFG is not a security."})]}),e.jsx("style",{children:"\n        @keyframes floatSoft {\n          0% { transform: translateY(0); }\n          50% { transform: translateY(-6px); }\n          100% { transform: translateY(0); }\n        }\n        .animate-float-soft {\n          animation: floatSoft 3.2s ease-in-out infinite;\n        }\n        @keyframes pulseSoft {\n          0% { text-shadow: 0 0 8px #a78bfa44; }\n          50% { text-shadow: 0 0 16px #a78bfa99; }\n          100% { text-shadow: 0 0 8px #a78bfa44; }\n        }\n        .animate-pulse-soft {\n          animation: pulseSoft 2.2s ease-in-out infinite;\n        }\n      "})]})},X_=v.forwardRef(({className:t,...n},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:yn("w-full caption-bottom text-sm",t),...n})}));X_.displayName="Table";const Z_=v.forwardRef(({className:t,...n},r)=>e.jsx("thead",{ref:r,className:yn("[&_tr]:border-b",t),...n}));Z_.displayName="TableHeader";const J_=v.forwardRef(({className:t,...n},r)=>e.jsx("tbody",{ref:r,className:yn("[&_tr:last-child]:border-0",t),...n}));J_.displayName="TableBody";v.forwardRef(({className:t,...n},r)=>e.jsx("tfoot",{ref:r,className:yn("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...n})).displayName="TableFooter";const eN=v.forwardRef(({className:t,...n},r)=>e.jsx("tr",{ref:r,className:yn("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...n}));eN.displayName="TableRow";const tN=v.forwardRef(({className:t,...n},r)=>e.jsx("th",{ref:r,className:yn("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...n}));tN.displayName="TableHead";const nN=v.forwardRef(({className:t,...n},r)=>e.jsx("td",{ref:r,className:yn("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...n}));nN.displayName="TableCell";v.forwardRef(({className:t,...n},r)=>e.jsx("caption",{ref:r,className:yn("mt-4 text-sm text-muted-foreground",t),...n})).displayName="TableCaption";const rN=d,iN=h,sN=f,oN=v.forwardRef(({className:t,sideOffset:n=4,...r},i)=>e.jsx(u,{ref:i,sideOffset:n,className:yn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));oN.displayName=u.displayName;var aN={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},cN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;a||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(lN(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new uN;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class uN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dN=function(e){return function(e){const t=lN(e);return cN.encodeByteArray(t,!0)}(e).replace(/\./g,"")};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const hN=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof globalThis)return globalThis;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,fN=()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&function(e){try{return cN.decodeString(e,!0)}catch(n){console.error("base64Decode failed: ",n)}return null}(e[1]);return t&&JSON.parse(t)},pN=()=>{try{return hN()||(()=>{if("undefined"==typeof process)return;const e=aN.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||fN()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},mN=e=>{const t=(e=>pN()?.emulatorHosts?.[e])(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},gN=()=>pN()?.config;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class yN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}const wN={};let vN=!1;function xN(e,t){if("undefined"==typeof window||"undefined"==typeof document||!bN(window.location.host)||wN[e]===t||wN[e]||vN)return;function n(e){return`__firebase__banner__${e}`}wN[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(wN))wN[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{vN=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(){return!function(){const e=pN()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(globalThis.process)}catch(t){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class SN extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,SN.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,EN.prototype.create)}}class EN{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(_N,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new SN(r,o,n)}}const _N=/\{\$([^}]+)}/g;function NN(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(AN(n)&&AN(s)){if(!NN(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function AN(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(e){return e&&e._delegate?e._delegate:e}class CN{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new yN;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(n)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:jN})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e=jN){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=jN){return this.instances.has(e)}getOptions(e=jN){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===jN?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}var r;return n||null}normalizeInstanceIdentifier(e=jN){return this.component?this.component.multipleInstances?e:jN:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class RN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new IN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ON,PN;(PN=ON||(ON={}))[PN.DEBUG=0]="DEBUG",PN[PN.VERBOSE=1]="VERBOSE",PN[PN.INFO=2]="INFO",PN[PN.WARN=3]="WARN",PN[PN.ERROR=4]="ERROR",PN[PN.SILENT=5]="SILENT";const MN={debug:ON.DEBUG,verbose:ON.VERBOSE,info:ON.INFO,warn:ON.WARN,error:ON.ERROR,silent:ON.SILENT},DN=ON.INFO,LN={[ON.DEBUG]:"log",[ON.VERBOSE]:"log",[ON.INFO]:"info",[ON.WARN]:"warn",[ON.ERROR]:"error"},BN=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=LN[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class UN{constructor(e){this.name=e,this._logLevel=DN,this._logHandler=BN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ON))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?MN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ON.DEBUG,...e),this._logHandler(this,ON.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ON.VERBOSE,...e),this._logHandler(this,ON.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ON.INFO,...e),this._logHandler(this,ON.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ON.WARN,...e),this._logHandler(this,ON.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ON.ERROR,...e),this._logHandler(this,ON.ERROR,...e)}}let FN,zN;const VN=new WeakMap,qN=new WeakMap,GN=new WeakMap,WN=new WeakMap,HN=new WeakMap;let KN={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return qN.get(e);if("objectStoreNames"===t)return e.objectStoreNames||GN.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return QN(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function $N(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(zN||(zN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(XN(this),t),QN(VN.get(this))}:function(...t){return QN(e.apply(XN(this),t))}:function(t,...n){const r=e.call(XN(this),t,...n);return GN.set(r,t.sort?t.sort():[t]),QN(r)}}function YN(e){return"function"==typeof e?$N(e):(e instanceof IDBTransaction&&function(e){if(qN.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});qN.set(e,t)}(e),t=e,(FN||(FN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,KN):e);var t}function QN(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(QN(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&VN.set(t,e)}).catch(()=>{}),HN.set(t,e),t}(e);if(WN.has(e))return WN.get(e);const t=YN(e);return t!==e&&(WN.set(e,t),HN.set(t,e)),t}const XN=e=>HN.get(e);const ZN=["get","getKey","getAll","getAllKeys","count"],JN=["put","add","delete","clear"],eA=new Map;function tA(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(eA.get(t))return eA.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=JN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ZN.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&s.done]))[0]};return eA.set(t,s),s}KN=(e=>({...e,get:(t,n,r)=>tA(t,n)||e.get(t,n,r),has:(t,n)=>!!tA(t,n)||e.has(t,n)}))(KN);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class nA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const rA="@firebase/app",iA="0.14.3",sA=new UN("@firebase/app"),oA="@firebase/app-compat",aA="@firebase/analytics-compat",lA="@firebase/analytics",cA="@firebase/app-check-compat",uA="@firebase/app-check",dA="@firebase/auth",hA="@firebase/auth-compat",fA="@firebase/database",pA="@firebase/data-connect",mA="@firebase/database-compat",gA="@firebase/functions",yA="@firebase/functions-compat",bA="@firebase/installations",wA="@firebase/installations-compat",vA="@firebase/messaging",xA="@firebase/messaging-compat",kA="@firebase/performance",SA="@firebase/performance-compat",EA="@firebase/remote-config",_A="@firebase/remote-config-compat",NA="@firebase/storage",AA="@firebase/storage-compat",TA="@firebase/firestore",CA="@firebase/ai",jA="@firebase/firestore-compat",IA="firebase",RA="[DEFAULT]",OA={[rA]:"fire-core",[oA]:"fire-core-compat",[lA]:"fire-analytics",[aA]:"fire-analytics-compat",[uA]:"fire-app-check",[cA]:"fire-app-check-compat",[dA]:"fire-auth",[hA]:"fire-auth-compat",[fA]:"fire-rtdb",[pA]:"fire-data-connect",[mA]:"fire-rtdb-compat",[gA]:"fire-fn",[yA]:"fire-fn-compat",[bA]:"fire-iid",[wA]:"fire-iid-compat",[vA]:"fire-fcm",[xA]:"fire-fcm-compat",[kA]:"fire-perf",[SA]:"fire-perf-compat",[EA]:"fire-rc",[_A]:"fire-rc-compat",[NA]:"fire-gcs",[AA]:"fire-gcs-compat",[TA]:"fire-fst",[jA]:"fire-fst-compat",[CA]:"fire-vertex","fire-js":"fire-js",[IA]:"fire-js-all"},PA=new Map,MA=new Map,DA=new Map;function LA(e,t){try{e.container.addComponent(t)}catch(n){sA.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function BA(e){const t=e.name;if(DA.has(t))return sA.debug(`There were multiple attempts to register component ${t}.`),!1;DA.set(t,e);for(const n of PA.values())LA(n,e);for(const n of MA.values())LA(n,e);return!0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const UA=new EN("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class FA{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new CN("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw UA.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r={name:RA,automaticDataCollectionEnabled:!0,...t},i=r.name;if("string"!=typeof i||!i)throw UA.create("bad-app-name",{appName:String(i)});if(n||(n=gN()),!n)throw UA.create("no-options");const s=PA.get(i);if(s){if(NN(n,s.options)&&NN(r,s.config))return s;throw UA.create("duplicate-app",{appName:i})}const o=new RN(i);for(const l of DA.values())o.addComponent(l);const a=new FA(n,r,o);return PA.set(i,a),a}function VA(e,t,n){let r=OA[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const e=[`Unable to register library "${r}" with version "${t}":`];return i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void sA.warn(e.join(" "))}BA(new CN(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="firebase-heartbeat-store";let GA=null;function WA(){return GA||(GA=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=QN(o);return r&&o.addEventListener("upgradeneeded",e=>{r(QN(o.result),e.oldVersion,e.newVersion,QN(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(qA)}catch(n){console.warn(n)}}}).catch(e=>{throw UA.create("idb-open",{originalErrorMessage:e.message})})),GA}async function HA(e,t){try{const n=(await WA()).transaction(qA,"readwrite"),r=n.objectStore(qA);await r.put(t,KA(e)),await n.done}catch(n){if(n instanceof SN)sA.warn(n.message);else{const e=UA.create("idb-set",{originalErrorMessage:n?.message});sA.warn(e.message)}}}function KA(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new QA(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=YA();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){sA.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=YA(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),XA(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),XA(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=dN(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return sA.warn(e),""}}}function YA(){return(new Date).toISOString().substring(0,10)}class QA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await WA()).transaction(qA),n=await t.objectStore(qA).get(KA(e));return await t.done,n}catch(t){if(t instanceof SN)sA.warn(t.message);else{const e=UA.create("idb-get",{originalErrorMessage:t?.message});sA.warn(e.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return HA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return HA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function XA(e){return dN(JSON.stringify({version:2,heartbeats:e})).length}var ZA;ZA="",BA(new CN("platform-logger",e=>new nA(e),"PRIVATE")),BA(new CN("heartbeat",e=>new $A(e),"PRIVATE")),VA(rA,iA,ZA),VA(rA,iA,"esm2020"),VA("fire-js","");var JA,eT,tT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e;
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"==typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let s,o=e.g[3];s=t+(o^n&(i^o))+r[0]+3614090360&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[1]+3905402710&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[2]+606105819&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[3]+3250441966&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[4]+4118548399&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[5]+1200080426&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[6]+2821735955&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[7]+4249261313&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[8]+1770035416&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[9]+2336552879&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[10]+4294925233&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[11]+2304563134&4294967295,s=t+(o^(n=i+(s<<22&4294967295|s>>>10))&(i^o))+r[12]+1804603682&4294967295,s=o+(i^(t=n+(s<<7&4294967295|s>>>25))&(n^i))+r[13]+4254626195&4294967295,o=t+(s<<12&4294967295|s>>>20),s=i+(n^o&(t^n))+r[14]+2792965006&4294967295,s=n+(t^(i=o+(s<<17&4294967295|s>>>15))&(o^t))+r[15]+1236535329&4294967295,s=t+(i^o&((n=i+(s<<22&4294967295|s>>>10))^i))+r[1]+4129170786&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[6]+3225465664&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[11]+643717713&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[0]+3921069994&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[5]+3593408605&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[10]+38016083&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[15]+3634488961&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[4]+3889429448&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[9]+568446438&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[14]+3275163606&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[3]+4107603335&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[8]+1163531501&4294967295,s=t+(i^o&((n=i+(s<<20&4294967295|s>>>12))^i))+r[13]+2850285829&4294967295,s=o+(n^i&((t=n+(s<<5&4294967295|s>>>27))^n))+r[2]+4243563512&4294967295,o=t+(s<<9&4294967295|s>>>23),s=i+(t^n&(o^t))+r[7]+1735328473&4294967295,s=n+(o^t&((i=o+(s<<14&4294967295|s>>>18))^o))+r[12]+2368359562&4294967295,s=t+((n=i+(s<<20&4294967295|s>>>12))^i^o)+r[5]+4294588738&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[8]+2272392833&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[11]+1839030562&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[14]+4259657740&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[1]+2763975236&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[4]+1272893353&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[7]+4139469664&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[10]+3200236656&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[13]+681279174&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[0]+3936430074&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[3]+3572445317&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[6]+76029189&4294967295,s=t+((n=i+(s<<23&4294967295|s>>>9))^i^o)+r[9]+3654602809&4294967295,s=o+((t=n+(s<<4&4294967295|s>>>28))^n^i)+r[12]+3873151461&4294967295,o=t+(s<<11&4294967295|s>>>21),s=i+(o^t^n)+r[15]+530742520&4294967295,s=n+((i=o+(s<<16&4294967295|s>>>16))^o^t)+r[2]+3299628645&4294967295,s=t+(i^((n=i+(s<<23&4294967295|s>>>9))|~o))+r[0]+4096336452&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[7]+1126891415&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[14]+2878612391&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[5]+4237533241&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[12]+1700485571&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[3]+2399980690&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[10]+4293915773&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[1]+2240044497&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[8]+1873313359&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[15]+4264355552&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[6]+2734768916&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[13]+1309151649&4294967295,s=t+(i^((n=i+(s<<21&4294967295|s>>>11))|~o))+r[4]+4149444226&4294967295,s=o+(n^((t=n+(s<<6&4294967295|s>>>26))|~i))+r[11]+3174756917&4294967295,o=t+(s<<10&4294967295|s>>>22),s=i+(t^(o|~n))+r[2]+718787259&4294967295,s=n+(o^((i=o+(s<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let s=this.h,o=0;for(;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function s(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(e<0)return h(o(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var i=b(n,1),s=b(r,1);for(r=b(r,2),n=b(n,2);!u(r);){var c=s.add(r);c.l(e)<=0&&(i=i.add(n),s=c),r=b(r,1),n=b(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(s=o(n)).j(t);d(c)||c.l(e)>0;)c=(s=o(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function b(e,t){const n=t>>5;t%=32;const i=e.g.length-n,s=[];for(let r=0;r<i;r++)s[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=o(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let s=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;s.length<6;)s="0"+s;r=s+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),s=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=s>>>16,t&=65535,s&=65535,n[r]=s<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return o(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,s=65535&this.i(i),o=e.i(t)>>>16,a=65535&e.i(t);n[2*i+2*t]+=s*a,p(n,2*i+2*t),n[2*i+2*t+1]+=r*a,p(n,2*i+2*t+1),n[2*i+2*t+1]+=s*o,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*o,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,eT=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=o(Math.pow(n,8));let i=a;for(let a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a);const e=parseInt(t.substring(a,a+s),n);s<8?(s=o(Math.pow(n,s)),i=i.j(s).add(o(e))):(i=i.j(r),i=i.add(o(e)))}return i},JA=r}).apply(void 0!==tT?tT:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var nT,rT,iT,sT,oT,aT,lT,cT,uT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof uT&&uT];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */
var i=i||{},s=this||self;function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=a).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}var d="undefined"!=typeof AsyncContext&&"function"==typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){s.setTimeout(()=>{throw e},0)}function m(){var e=v;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let b,w=!1,v=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},x=()=>{const e=Promise.resolve(void 0);b=()=>{e.then(k)}};function k(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}w=!1}function S(){this.u=this.u,this.C=this.C}function E(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},E.prototype.h=function(){this.defaultPrevented=!0};var _=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function N(e){return/^[\s\xa0]*$/.test(e)}function A(e,t){E.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(A,E),A.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&A.Z.h.call(this)},A.prototype.h=function(){A.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var T="closure_listenable_"+(1e6*Math.random()|0),C=0;function j(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++C,this.da=this.fa=!1}function I(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function R(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function O(e){const t={};for(const n in e)t[n]=e[n];return t}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<P.length;t++)n=P[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function D(e){this.src=e,this.g={},this.h=0}function L(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=s>=0)&&Array.prototype.splice.call(i,s,1),r&&(I(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function B(e,t,n,r){for(let i=0;i<e.length;++i){const s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}D.prototype.add=function(e,t,n,r,i){const s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);const o=B(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):((t=new j(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var U="closure_lm_"+(1e6*Math.random()|0),F={};function z(e,t,n,r,i){if(Array.isArray(t)){for(let s=0;s<t.length;s++)z(e,t[s],n,r,i);return null}return n=$(n),e&&e[T]?e.J(t,n,!!o(r)&&!!r.capture,i):function(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");const a=o(i)?!!i.capture:!!i;let l=H(e);if(l||(e[U]=l=new D(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=W;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)_||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(G(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}(e,t,n,!1,r,i)}function V(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)V(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=$(n),e&&e[T]?(e=e.i,(s=String(t).toString())in e.g&&((n=B(t=e.g[s],n,r,i))>-1&&(I(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[s],e.h--)))):e&&(e=H(e))&&(t=e.g[t.toString()],e=-1,t&&(e=B(t,n,r,i)),(n=e>-1?t[e]:null)&&q(n))}function q(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[T])L(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(G(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=H(t))?(L(n,e),0==n.h&&(n.src=null,t[U]=null)):I(e)}}}function G(e){return e in F?F[e]:F[e]="on"+e}function W(e,t){if(e.da)e=!0;else{t=new A(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&q(e),e=n.call(r,t)}return e}function H(e){return(e=e[U])instanceof D?e:null}var K="__closure_events_fn_"+(1e9*Math.random()>>>0);function $(e){return"function"==typeof e?e:(e[K]||(e[K]=function(t){return e.handleEvent(t)}),e[K])}function Y(){S.call(this),this.i=new D(this),this.M=this,this.G=null}function Q(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new E(t,e);else if(t instanceof E)t.target=t.target||e;else{var i=t;M(t=new E(r,e),i)}let s,o;if(i=!0,n)for(o=n.length-1;o>=0;o--)s=t.g=n[o],i=X(s,r,!0,t)&&i;if(s=t.g=e,i=X(s,r,!0,t)&&i,i=X(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=X(s,r,!1,t)&&i}function X(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let s=0;s<t.length;++s){const o=t[s];if(o&&!o.da&&o.capture==n){const t=o.listener,n=o.ha||o.src;o.fa&&L(e.i,o),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function Z(e){e.g=function(e,t){if("function"!=typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:s.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,Z(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(Y,S),Y.prototype[T]=!0,Y.prototype.removeEventListener=function(e,t,n,r){V(this,e,t,n,r)},Y.prototype.N=function(){if(Y.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)I(n[e]);delete e.g[t],e.h--}}this.G=null},Y.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Y.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class J extends S{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:Z(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ee(e){S.call(this),this.h=e,this.g={}}u(ee,S);var te=[];function ne(e){R(e.g,function(e,t){this.g.hasOwnProperty(t)&&q(e)},e),e.g={}}ee.prototype.N=function(){ee.Z.N.call(this),ne(this)},ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var re=s.JSON.stringify,ie=s.JSON.parse,se=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function oe(){}function ae(){}var le={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ce(){E.call(this,"d")}function ue(){E.call(this,"c")}u(ce,E),u(ue,E);var de={},he=null;function fe(){return he=he||new Y}function pe(e){E.call(this,de.Ia,e)}function me(e){const t=fe();Q(t,new pe(t))}function ge(e,t){E.call(this,de.STAT_EVENT,e),this.stat=t}function ye(e){const t=fe();Q(t,new ge(t,e))}function be(e,t){E.call(this,de.Ja,e),this.size=t}function we(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function ve(){this.g=!0}function xe(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return re(s)}catch(s){return t}}(e,n)+(r?" "+r:"")})}de.Ia="serverreachability",u(pe,E),de.STAT_EVENT="statevent",u(ge,E),de.Ja="timingevent",u(be,E),ve.prototype.ua=function(){this.g=!1},ve.prototype.info=function(){};var ke,Se={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ee={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function _e(){}function Ne(e){return encodeURIComponent(String(e))}function Ae(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Te(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ee(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ce}function Ce(){this.i=null,this.g="",this.h=!1}u(_e,oe),_e.prototype.g=function(){return new XMLHttpRequest},ke=new _e;var je={},Ie={};function Re(e,t,n){e.M=1,e.A=rt(Ze(t)),e.u=n,e.R=!0,Oe(e,null)}function Oe(e,t){e.F=Date.now(),De(e),e.B=Ze(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),yt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ce,e.g=rn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new J(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(te[0]=i.toString()),i=te);for(let s=0;s<i.length;s++){const e=z(n,i[s],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?O(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),me(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s){var o="",a=s.split("&");for(let e=0;e<a.length;e++){var l=a[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");o=t.length>=2&&"type"==t[1]?o+(e+"=")+l+"&":o+(e+"=redacted&")}}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Pe(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Me(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ie:(n=Number(t.substring(n,r)),isNaN(n)?je:(r+=1)+n>t.length?Ie:(t=t.slice(r,r+n),e.C=r+n,t))}function De(e){e.T=Date.now()+e.H,Le(e,e.H)}function Le(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=we(l(e.aa,e),t)}function Be(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function Ue(e){0==e.j.I||e.K||Zt(e.j,e)}function Fe(e){Be(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ne(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function ze(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||He(n.h,e)))if(!e.L&&He(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Xt(n),zt(n)}$t(n),ye(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=we(l(n.Va,n),6e3));We(n.h)<=1&&n.ta&&(n.ta=void 0)}else en(n,11)}else if((e.L||n.g==e)&&Xt(n),!N(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"==typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ke(s,s.h),s.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,nt(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var o=e;if((r=n).na=nn(r,r.L?r.ba:null,r.W),o.L){$e(r.h,o);var a=o,c=r.O;c&&(a.H=c),a.D&&(Be(a),De(a)),r.g=o}else Kt(r);n.i.length>0&&qt(n)}else"stop"!=l[0]&&"close"!=l[0]||en(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?en(n,7):Ft(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}me()}catch(u){}}Te.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Dt(e)?t.j():this.Y(e)},Te.prototype.Y=function(e){try{if(e==this.g)e:{const l=Dt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Lt(this.g)))){this.K||4!=l||7==c||me(),Be(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Pe(e))return e.g.la();const t=Lt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Dt(e.g);if(!e.h.i){if("undefined"==typeof TextDecoder)return Fe(e),Ue(e),"";e.h.i=new s.TextDecoder}for(let s=0;s<r;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(i&&s==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(r)){var o=r;break t}}o=null}if(!(e=o)){this.o=!1,this.m=3,ye(12),Fe(this),Ue(this);break e}xe(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ze(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Me(this,n),t==Ie){4==l&&(this.m=4,ye(14),e=!1),xe(this.i,this.l,null,"[Incomplete Response]");break}if(t==je){this.m=4,ye(15),xe(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}xe(this.i,this.l,t,null),ze(this,t)}if(Pe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,ye(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var a=this.j;a.g==this&&a.aa&&!a.P&&(a.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yt(a),a.P=!0,ye(11))}}else xe(this.i,this.l,n,"[Invalid Chunked Response]"),Fe(this),Ue(this)}else xe(this.i,this.l,n,null),ze(this,n);4==l&&Fe(this),this.o&&!this.K&&(4==l?Zt(this.j,this):(this.o=!1,De(this)))}else(function(e){const t={};e=(e.g&&Dt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(N(e[r]))continue;var n=Ae(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),Fe(this),Ue(this)}}}catch(l){}},Te.prototype.cancel=function(){this.K=!0,Fe(this)},Te.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(me(),ye(17)),Fe(this),this.m=2,Ue(this)):Le(this,this.T-e)};var Ve=class{constructor(e,t){this.g=e,this.map=t}};function qe(e){this.l=e||10,s.PerformanceNavigationTiming?e=(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ge(e){return!!e.h||!!e.g&&e.g.size>=e.j}function We(e){return e.h?1:e.g?e.g.size:0}function He(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ke(e,t){e.g?e.g.add(t):e.h=t}function $e(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ye(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}qe.prototype.cancel=function(){if(this.i=Ye(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Qe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xe(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Xe?(this.l=e.l,Je(this,e.j),this.o=e.o,this.g=e.g,et(this,e.u),this.h=e.h,tt(this,bt(e.i)),this.m=e.m):e&&(t=String(e).match(Qe))?(this.l=!1,Je(this,t[1]||"",!0),this.o=it(t[2]||""),this.g=it(t[3]||"",!0),et(this,t[4]),this.h=it(t[5]||"",!0),tt(this,t[6]||"",!0),this.m=it(t[7]||"")):(this.l=!1,this.i=new ht(null,this.l))}function Ze(e){return new Xe(e)}function Je(e,t,n){e.j=n?it(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function et(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function tt(e,t,n){t instanceof ht?(e.i=t,function(e,t){t&&!e.j&&(ft(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(pt(this,t),yt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=st(t,ut)),e.i=new ht(t,e.l))}function nt(e,t,n){e.i.set(t,n)}function rt(e){return nt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function it(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function st(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ot),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ot(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Xe.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(st(t,at,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(st(t,at,!0),"@"),e.push(Ne(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(st(n,"/"==n.charAt(0)?ct:lt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",st(n,dt)),e.join("")},Xe.prototype.resolve=function(e){const t=Ze(this);let n=!!e.j;n?Je(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)et(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?tt(t,bt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var at=/[#\/\?@]/g,lt=/[#\?:]/g,ct=/[#\?]/g,ut=/[#\?@]/g,dt=/#/g;function ht(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ft(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,s=null;r>=0?(i=e[n].substring(0,r),s=e[n].substring(r+1)):i=e[n],t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function pt(e,t){ft(e),t=wt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function mt(e,t){return ft(e),t=wt(e,t),e.g.has(t)}function gt(e,t){ft(e);let n=[];if("string"==typeof t)mt(e,t)&&(n=n.concat(e.g.get(wt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function yt(e,t,n){pt(e,t),n.length>0&&(e.i=null,e.g.set(wt(e,t),h(n)),e.h+=n.length)}function bt(e){const t=new ht;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function wt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function vt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function xt(){this.g=new se}function kt(e){this.i=e.Sb||null,this.h=e.ab||!1}function St(e,t){Y.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Et(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function _t(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Nt(e)}function Nt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function At(e){let t="";return R(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Tt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=At(n),"string"==typeof e?null!=n&&Ne(n):nt(e,t,n))}function Ct(e){Y.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=ht.prototype).add=function(e,t){ft(this),this.i=null,e=wt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){ft(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return ft(this),this.i=null,mt(this,e=wt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=gt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ne(n);n=gt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ne(n[t])),e.push(r)}}return this.i=e.join("&")},u(kt,oe),kt.prototype.g=function(){return new St(this.i,this.h)},u(St,Y),(e=St.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Nt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,_t(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nt(this)),this.g&&(this.readyState=3,Nt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(void 0!==s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Et(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?_t(this):Nt(this),3==this.readyState&&Et(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,_t(this))},e.Na=function(e){this.g&&(this.response=e,_t(this))},e.ga=function(){this.g&&_t(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(St.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Ct,Y);var jt=/^https?$/i,It=["POST","PUT"];function Rt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Ot(e),Mt(e)}function Ot(e){e.A||(e.A=!0,Q(e,"complete"),Q(e,"error"))}function Pt(e){if(e.h&&void 0!==i)if(e.v&&4==Dt(e))setTimeout(e.Ca.bind(e),0);else if(Q(e,"readystatechange"),4==Dt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Qe)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),r=!jt.test(t?t.toLowerCase():"")}n=r}if(n)Q(e,"complete"),Q(e,"success");else{e.o=6;try{var o=Dt(e)>2?e.g.statusText:""}catch(a){o=""}e.l=o+" ["+e.ca()+"]",Ot(e)}}finally{Mt(e)}}}function Mt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||Q(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Dt(e){return e.g?e.g.readyState:0}function Lt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Bt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ut(e){this.za=0,this.i=[],this.j=new ve,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Bt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Bt("baseRetryDelayMs",5e3,e),this.Za=Bt("retryDelaySeedMs",1e4,e),this.Ta=Bt("forwardChannelMaxRetries",2,e),this.va=Bt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new qe(e&&e.concurrentRequestLimit),this.Ba=new xt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Ft(e){if(Vt(e),3==e.I){var t=e.V++,n=Ze(e.J);if(nt(n,"SID",e.M),nt(n,"RID",t),nt(n,"TYPE","terminate"),Wt(e,n),(t=new Te(e,e.j,t)).M=2,t.A=rt(Ze(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.A,n=!0),n||(t.g=rn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),De(t)}tn(e)}function zt(e){e.g&&(Yt(e),e.g.cancel(),e.g=null)}function Vt(e){zt(e),e.v&&(s.clearTimeout(e.v),e.v=null),Xt(e),e.h.cancel(),e.m&&("number"==typeof e.m&&s.clearTimeout(e.m),e.m=null)}function qt(e){if(!Ge(e.h)&&!e.m){e.m=!0;var t=e.Ea;b||x(),w||(b(),w=!0),v.add(t,e),e.D=0}}function Gt(e,t){var n;n=t?t.l:e.V++;const r=Ze(e.J);nt(r,"SID",e.M),nt(r,"RID",n),nt(r,"AID",e.K),Wt(e,r),e.u&&e.o&&Tt(r,e.u,e.o),n=new Te(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Ht(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ke(e.h,n),Re(n,r,t)}function Wt(e,t){e.H&&R(e.H,function(e,n){nt(t,n,e)}),e.l&&R({},function(e,n){nt(t,n,e)})}function Ht(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let u=0;u<n;u++){var s=i[u].g;const n=i[u].map;if((s-=t)<0)t=Math.max(0,i[u].g-100),l=!1;else try{s="req"+s+"_"||"";try{var a=n instanceof Map?n:Object.entries(n);for(const[t,n]of a){let r=n;o(n)&&(r=re(n)),e.push(s+t+"="+encodeURIComponent(r))}}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}catch(c){r&&r(n)}}if(l){a=e.join("&");break e}}a=void 0}return e=e.i.splice(0,n),t.G=e,a}function Kt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;b||x(),w||(b(),w=!0),v.add(t,e),e.A=0}}function $t(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=we(l(e.Da,e),Jt(e,e.A)),e.A++,!0)}function Yt(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function Qt(e){e.g=new Te(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=Ze(e.na);nt(t,"RID","rpc"),nt(t,"SID",e.M),nt(t,"AID",e.K),nt(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&nt(t,"TO",e.ia),nt(t,"TYPE","xmlhttp"),Wt(e,t),e.u&&e.o&&Tt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=rt(Ze(t)),n.u=null,n.R=!0,Oe(n,e)}function Xt(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function Zt(e,t){var n=null;if(e.g==t){Xt(e),Yt(e),e.g=null;var r=2}else{if(!He(e.h,t))return;n=t.G,$e(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;Q(r=fe(),new be(r,n)),qt(e)}else Kt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(We(e.h)>=e.h.j-(e.m?1:0)||(e.m?(e.i=t.G.concat(e.i),0):1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta)||(e.m=we(l(e.Ea,e,t),Jt(e,e.D)),e.D++,0)))}(e,t)||2==r&&$t(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:en(e,5);break;case 4:en(e,10);break;case 3:en(e,6);break;default:en(e,2)}}function Jt(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function en(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Xe(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||Je(r,"https"),rt(r),t?function(e,t){const n=new ve;if(s.Image){const r=new Image;r.onload=c(vt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(vt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(vt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(vt,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new ve;const n=new AbortController,r=setTimeout(()=>{n.abort(),vt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?vt(0,0,!0,t):vt(0,0,!1,t)}).catch(()=>{clearTimeout(r),vt(0,0,!1,t)})}(r.toString(),n)}else ye(2);e.I=0,e.l&&e.l.pa(t),tn(e),Vt(e)}function tn(e){if(e.I=0,e.ja=[],e.l){const t=Ye(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function nn(e,t,n){var r=n instanceof Xe?Ze(n):new Xe(n);if(""!=r.g)t&&(r.g=t+"."+r.g),et(r,r.u);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Xe(null);r&&Je(e,r),t&&(e.g=t),i&&et(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&nt(r,n,t),nt(r,"VER",e.ka),Wt(e,r),r}function rn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Ct(new kt({ab:n})):new Ct(e.ma)).Fa(e.L),t}function sn(){}function on(){}function an(e,t){Y.call(this),this.g=new Ut(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!N(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!N(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new un(this)}function ln(e){ce.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function cn(){ue.call(this),this.status=1}function un(e){this.g=e}(e=Ct.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ke.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Rt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(Array.prototype.indexOf.call(It,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(o){Rt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,Q(this,"complete"),Q(this,"abort"),Mt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mt(this,!0)),Ct.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Pt(this):this.Xa())},e.Xa=function(){Pt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Dt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ie(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Ut.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){ye(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=nn(this,null,this.W),qt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Te(this,this.j,e);let s=this.o;if(this.U&&(s?(s=O(s),M(s,this.U)):s=this.U),null!==this.u||this.R||(i.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ht(this,i,t),nt(n=Ze(this.J),"RID",e),nt(n,"CVER",22),this.G&&nt(n,"X-HTTP-Session-Id",this.G),Wt(this,n),s&&(this.R?t="headers="+Ne(At(s))+"&"+t:this.u&&Tt(n,this.u,s)),Ke(this.h,i),this.Ra&&nt(n,"TYPE","init"),this.S?(nt(n,"$req",t),nt(n,"SID","null"),i.U=!0,Re(i,n,null)):Re(i,n,t),this.I=2}}else 3==this.I&&(e?Gt(this,e):0==this.i.length||Ge(this.h)||Gt(this))},e.Da=function(){if(this.v=null,Qt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=we(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),zt(this),Qt(this))},e.Va=function(){null!=this.C&&(this.C=null,zt(this),$t(this),ye(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=sn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},on.prototype.g=function(e,t){return new an(e,t)},u(an,Y),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Ft(this.g)},an.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=re(e),e=n);t.i.push(new Ve(t.Ya++,e)),3==t.I&&qt(t)},an.prototype.N=function(){this.g.l=null,delete this.j,Ft(this.g),delete this.g,an.Z.N.call(this)},u(ln,ce),u(cn,ue),u(un,sn),un.prototype.ra=function(){Q(this.g,"a")},un.prototype.qa=function(e){Q(this.g,new ln(e))},un.prototype.pa=function(e){Q(this.g,new cn)},un.prototype.oa=function(){Q(this.g,"b")},on.prototype.createWebChannel=on.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,cT=function(){return new on},lT=function(){return fe()},aT=de,oT={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Se.NO_ERROR=0,Se.TIMEOUT=8,Se.HTTP_ERROR=6,sT=Se,Ee.COMPLETE="complete",iT=Ee,ae.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",Y.prototype.listen=Y.prototype.J,rT=ae,Ct.prototype.listenOnce=Ct.prototype.K,Ct.prototype.getLastError=Ct.prototype.Ha,Ct.prototype.getLastErrorCode=Ct.prototype.ya,Ct.prototype.getStatus=Ct.prototype.ca,Ct.prototype.getResponseJson=Ct.prototype.La,Ct.prototype.getResponseText=Ct.prototype.la,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Fa,nT=Ct}).apply(void 0!==uT?uT:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const dT="@firebase/firestore",hT="4.9.2";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fT.UNAUTHENTICATED=new fT(null),fT.GOOGLE_CREDENTIALS=new fT("google-credentials-uid"),fT.FIRST_PARTY=new fT("first-party-uid"),fT.MOCK_USER=new fT("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let pT="12.3.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=new UN("@firebase/firestore");function gT(){return mT.logLevel}function yT(e,...t){if(mT.logLevel<=ON.DEBUG){const n=t.map(vT);mT.debug(`Firestore (${pT}): ${e}`,...n)}}function bT(e,...t){if(mT.logLevel<=ON.ERROR){const n=t.map(vT);mT.error(`Firestore (${pT}): ${e}`,...n)}}function wT(e,...t){if(mT.logLevel<=ON.WARN){const n=t.map(vT);mT.warn(`Firestore (${pT}): ${e}`,...n)}}function vT(e){if("string"==typeof e)return e;try{
/**
    * @license
    * Copyright 2020 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */
return t=e,JSON.stringify(t)}catch(n){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,kT(e,r,n)}function kT(e,t,n){let r=`FIRESTORE (${pT}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(i){r+=" CONTEXT: "+n}throw bT(r),new Error(r)}function ST(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||kT(t,i,r)}function ET(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class NT extends SN{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fT.UNAUTHENTICATED))}shutdown(){}}class jT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class IT{constructor(e){this.t=e,this.currentUser=fT.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ST(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new AT;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new AT,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{yT("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(yT("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new AT)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(yT("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ST("string"==typeof t.accessToken,31837,{l:t}),new TT(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ST(null===e||"string"==typeof e,2055,{h:e}),new fT(e)}}class RT{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=fT.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OT{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new RT(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(fT.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MT{constructor(e,t){var n;this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,null!=(n=e)&&void 0!==n.settings&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ST(void 0===this.o,3512);const n=e=>{null!=e.error&&yT("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,yT("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{yT("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):yT("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new PT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(ST("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new PT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=DT(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function BT(e,t){return e<t?-1:e>t?1:0}function UT(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return VT(n)===VT(i)?BT(n,i):VT(n)?1:-1}return BT(e.length,t.length)}const FT=55296,zT=57343;function VT(e){const t=e.charCodeAt(0);return t>=FT&&t<=zT}function qT(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="__name__";class WT{constructor(e,t,n){void 0===t?t=0:t>e.length&&xT(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&xT(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===WT.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof WT?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=WT.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return BT(e.length,t.length)}static compareSegments(e,t){const n=WT.isNumericId(e),r=WT.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?WT.extractNumericId(e).compare(WT.extractNumericId(t)):UT(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return JA.fromString(e.substring(4,e.length-2))}}class HT extends WT{construct(e,t,n){return new HT(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new NT(_T.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new HT(t)}static emptyPath(){return new HT([])}}const KT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $T extends WT{construct(e,t,n){return new $T(e,t,n)}static isValidIdentifier(e){return KT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$T.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===GT}static keyField(){return new $T([GT])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new NT(_T.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new NT(_T.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new NT(_T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new NT(_T.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $T(t)}static emptyPath(){return new $T([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.path=e}static fromPath(e){return new YT(HT.fromString(e))}static fromName(e){return new YT(HT.fromString(e).popFirst(5))}static empty(){return new YT(HT.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===HT.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return HT.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new YT(new HT(e.slice()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(e,t,n){if(!n)throw new NT(_T.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function XT(e,t,n,r){if(!0===t&&!0===r)throw new NT(_T.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ZT(e){if(!YT.isDocumentKey(e))throw new NT(_T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function JT(e){if(YT.isDocumentKey(e))throw new NT(_T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function eC(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function tC(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":xT(12329,{type:typeof e})}function nC(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new NT(_T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tC(e);throw new NT(_T.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function rC(e,t){const n={typeString:e};return t&&(n.value=t),n}function iC(e,t){if(!eC(e))throw new NT(_T.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==s&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new NT(_T.INVALID_ARGUMENT,n);return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=-62135596800,oC=1e6;class aC{static now(){return aC.fromMillis(Date.now())}static fromDate(e){return aC.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*oC);return new aC(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new NT(_T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new NT(_T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sC)throw new NT(_T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new NT(_T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/oC}_compareTo(e){return this.seconds===e.seconds?BT(this.nanoseconds,e.nanoseconds):BT(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:aC._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iC(e,aC._jsonSchema))return new aC(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}aC._jsonSchemaVersion="firestore/timestamp/1.0",aC._jsonSchema={type:rC("string",aC._jsonSchemaVersion),seconds:rC("number"),nanoseconds:rC("number")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class lC{static fromTimestamp(e){return new lC(e)}static min(){return new lC(new aC(0,0))}static max(){return new lC(new aC(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(e){return new uC(e.readTime,e.key,-1)}class uC{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new uC(lC.min(),YT.empty(),-1)}static max(){return new uC(lC.max(),YT.empty(),-1)}}function dC(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=YT.comparator(e.documentKey,t.documentKey),0!==n?n:BT(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class hC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(e){if(e.code!==_T.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;yT("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xT(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pC((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pC?t:pC.resolve(t)}catch(t){return pC.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pC.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pC.reject(t)}static resolve(e){return new pC((t,n)=>{t(e)})}static reject(e){return new pC((t,n)=>{n(e)})}static waitFor(e){return new pC((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=pC.resolve(!1);for(const n of e)t=t.next(e=>e?pC.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new pC((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{s[l]=e,++o,o===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new pC((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function mC(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gC.ce=-1;function yC(e){return null==e}function bC(e){return 0===e&&1/e==-1/0}function wC(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function vC(e){return e+""}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function kC(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function SC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,t){this.comparator=e,this.root=t||NC.EMPTY}insert(e,t){return new EC(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,NC.BLACK,null,null))}remove(e){return new EC(this.comparator,this.root.remove(e,this.comparator).copy(null,null,NC.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _C(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _C(this.root,e,this.comparator,!1)}getReverseIterator(){return new _C(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _C(this.root,e,this.comparator,!0)}}class _C{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class NC{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:NC.RED,this.left=null!=r?r:NC.EMPTY,this.right=null!=i?i:NC.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new NC(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return NC.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return NC.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,NC.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,NC.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xT(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xT(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xT(27949);return e+(this.isRed()?0:1)}}NC.EMPTY=null,NC.RED=!0,NC.BLACK=!1,NC.EMPTY=new class{constructor(){this.size=0}get key(){throw xT(57766)}get value(){throw xT(16141)}get color(){throw xT(16727)}get left(){throw xT(29726)}get right(){throw xT(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new NC(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class AC{constructor(e){this.comparator=e,this.data=new EC(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new TC(this.data.getIterator())}getIteratorFrom(e){return new TC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof AC))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new AC(this.comparator);return t.data=e,t}}class TC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.fields=e,e.sort($T.comparator)}static empty(){return new CC([])}unionWith(e){let t=new AC($T.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new CC(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qT(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new jC("Invalid base64 string: "+t):t}}(e);return new IC(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new IC(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return BT(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}IC.EMPTY_BYTE_STRING=new IC("");const RC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function OC(e){if(ST(!!e,39018),"string"==typeof e){let t=0;const n=RC.exec(e);if(ST(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:PC(e.seconds),nanos:PC(e.nanos)}}function PC(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function MC(e){return"string"==typeof e?IC.fromBase64String(e):IC.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="server_timestamp",LC="__type__",BC="__previous_value__",UC="__local_write_time__";function FC(e){const t=(e?.mapValue?.fields||{})[LC]?.stringValue;return t===DC}function zC(e){const t=e.mapValue.fields[BC];return FC(t)?zC(t):t}function VC(e){const t=OC(e.mapValue.fields[UC].timestampValue);return new aC(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,t,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const GC="(default)";class WC{constructor(e,t){this.projectId=e,this.database=t||GC}static empty(){return new WC("","")}get isDefaultDatabase(){return this.database===GC}isEqual(e){return e instanceof WC&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="__type__",KC="__max__",$C={},YC="__vector__",QC="value";function XC(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?FC(e)?4:function(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===KC}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:function(e){const t=(e?.mapValue?.fields||{})[HC]?.stringValue;return t===YC}(e)?10:11:xT(28295,{value:e})}function ZC(e,t){if(e===t)return!0;const n=XC(e);if(n!==XC(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return VC(e).isEqual(VC(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=OC(e.timestampValue),r=OC(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,MC(e.bytesValue).isEqual(MC(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return PC(e.geoPointValue.latitude)===PC(t.geoPointValue.latitude)&&PC(e.geoPointValue.longitude)===PC(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return PC(e.integerValue)===PC(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=PC(e.doubleValue),r=PC(t.doubleValue);return n===r?bC(n)===bC(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return qT(e.arrayValue.values||[],t.arrayValue.values||[],ZC);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(xC(n)!==xC(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ZC(n[i],r[i])))return!1;return!0}(e,t);default:return xT(52216,{left:e})}var r}function JC(e,t){return void 0!==(e.values||[]).find(e=>ZC(e,t))}function ej(e,t){if(e===t)return 0;const n=XC(e),r=XC(t);if(n!==r)return BT(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return BT(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=PC(e.integerValue||e.doubleValue),r=PC(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return tj(e.timestampValue,t.timestampValue);case 4:return tj(VC(e),VC(t));case 5:return UT(e.stringValue,t.stringValue);case 6:return function(e,t){const n=MC(e),r=MC(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=BT(n[i],r[i]);if(0!==e)return e}return BT(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=BT(PC(e.latitude),PC(t.latitude));return 0!==n?n:BT(PC(e.longitude),PC(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return nj(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=t.fields||{},i=n[QC]?.arrayValue,s=r[QC]?.arrayValue,o=BT(i?.values?.length||0,s?.values?.length||0);return 0!==o?o:nj(i,s)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===$C&&t===$C)return 0;if(e===$C)return 1;if(t===$C)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=UT(r[o],s[o]);if(0!==e)return e;const t=ej(n[r[o]],i[s[o]]);if(0!==t)return t}return BT(r.length,s.length)}(e.mapValue,t.mapValue);default:throw xT(23264,{he:n})}}function tj(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return BT(e,t);const n=OC(e),r=OC(t),i=BT(n.seconds,r.seconds);return 0!==i?i:BT(n.nanos,r.nanos)}function nj(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ej(n[i],r[i]);if(e)return e}return BT(n.length,r.length)}function rj(e){return ij(e)}function ij(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=OC(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?MC(e.bytesValue).toBase64():"referenceValue"in e?function(e){return YT.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ij(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${ij(e.fields[i])}`;return n+"}"}(e.mapValue):xT(61005,{value:e})}function sj(e){switch(XC(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=zC(e);return t?16+sj(t):16;case 5:return 2*e.stringValue.length;case 6:return MC(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(e.arrayValue.values||[]).reduce((e,t)=>e+sj(t),0);case 10:case 11:return function(e){let t=0;return kC(e.fields,(e,n)=>{t+=e.length+sj(n)}),t}(e.mapValue);default:throw xT(13486,{value:e})}}function oj(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function aj(e){return!!e&&"integerValue"in e}function lj(e){return!!e&&"arrayValue"in e}function cj(e){return!!e&&"nullValue"in e}function uj(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function dj(e){return!!e&&"mapValue"in e}function hj(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return kC(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=hj(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=hj(e.arrayValue.values[n]);return t}return{...e}}class fj{constructor(e){this.value=e}static empty(){return new fj({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!dj(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hj(t)}setAll(e){let t=$T.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=hj(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());dj(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ZC(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];dj(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){kC(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new fj(hj(this.value))}}function pj(e){const t=[];return kC(e.fields,(e,n)=>{const r=new $T([e]);if(dj(n)){const e=pj(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new CC(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class mj{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new mj(e,0,lC.min(),lC.min(),lC.min(),fj.empty(),0)}static newFoundDocument(e,t,n,r){return new mj(e,1,t,lC.min(),n,r,0)}static newNoDocument(e,t){return new mj(e,2,t,lC.min(),lC.min(),fj.empty(),0)}static newUnknownDocument(e,t){return new mj(e,3,t,lC.min(),lC.min(),fj.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(lC.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fj.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fj.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=lC.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mj&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mj(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,t){this.position=e,this.inclusive=t}}function yj(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?YT.comparator(YT.fromName(o.referenceValue),n.key):ej(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function bj(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ZC(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,t="asc"){this.field=e,this.dir=t}}function vj(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{}class kj extends xj{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Cj(e,t,n):"array-contains"===t?new Oj(e,n):"in"===t?new Pj(e,n):"not-in"===t?new Mj(e,n):"array-contains-any"===t?new Dj(e,n):new kj(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new jj(e,n):new Ij(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(ej(t,this.value)):null!==t&&XC(this.value)===XC(t)&&this.matchesComparison(ej(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return xT(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sj extends xj{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Sj(e,t)}matches(e){return Ej(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ej(e){return"and"===e.op}function _j(e){return function(e){for(const t of e.filters)if(t instanceof Sj)return!1;return!0}(e)&&Ej(e)}function Nj(e){if(e instanceof kj)return e.field.canonicalString()+e.op.toString()+rj(e.value);if(_j(e))return e.filters.map(e=>Nj(e)).join(",");{const t=e.filters.map(e=>Nj(e)).join(",");return`${e.op}(${t})`}}function Aj(e,t){return e instanceof kj?(n=e,(r=t)instanceof kj&&n.op===r.op&&n.field.isEqual(r.field)&&ZC(n.value,r.value)):e instanceof Sj?function(e,t){return t instanceof Sj&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Aj(n,t.filters[r]),!0)}(e,t):void xT(19439);var n,r}function Tj(e){return e instanceof kj?`${(t=e).field.canonicalString()} ${t.op} ${rj(t.value)}`:e instanceof Sj?function(e){return e.op.toString()+" {"+e.getFilters().map(Tj).join(" ,")+"}"}(e):"Filter";var t}class Cj extends kj{constructor(e,t,n){super(e,t,n),this.key=YT.fromName(n.referenceValue)}matches(e){const t=YT.comparator(e.key,this.key);return this.matchesComparison(t)}}class jj extends kj{constructor(e,t){super(e,"in",t),this.keys=Rj("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ij extends kj{constructor(e,t){super(e,"not-in",t),this.keys=Rj("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Rj(e,t){return(t.arrayValue?.values||[]).map(e=>YT.fromName(e.referenceValue))}class Oj extends kj{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lj(t)&&JC(t.arrayValue,this.value)}}class Pj extends kj{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&JC(this.value.arrayValue,t)}}class Mj extends kj{constructor(e,t){super(e,"not-in",t)}matches(e){if(JC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!JC(this.value.arrayValue,t)}}class Dj extends kj{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lj(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>JC(this.value.arrayValue,e))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null}}function Bj(e,t=null,n=[],r=[],i=null,s=null,o=null){return new Lj(e,t,n,r,i,s,o)}function Uj(e){const t=ET(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Nj(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>{return(t=e).field.canonicalString()+t.dir;var t}).join(","),yC(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>rj(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>rj(e)).join(",")),t.Te=e}return t.Te}function Fj(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!vj(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Aj(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bj(e.startAt,t.startAt)&&bj(e.endAt,t.endAt)}function zj(e){return YT.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function qj(e){return new Vj(e)}function Gj(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Wj(e){return null!==e.collectionGroup}function Hj(e){const t=ET(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new AC($T.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t})(t).forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new wj(r,n))}),e.has($T.keyField().canonicalString())||t.Ie.push(new wj($T.keyField(),n))}return t.Ie}function Kj(e){const t=ET(e);return t.Ee||(t.Ee=function(e,t){if("F"===e.limitType)return Bj(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new wj(e.field,t)});const n=e.endAt?new gj(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new gj(e.startAt.position,e.startAt.inclusive):null;return Bj(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,Hj(e))),t.Ee}function $j(e,t){const n=e.filters.concat([t]);return new Vj(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Yj(e,t,n){return new Vj(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qj(e,t){return Fj(Kj(e),Kj(t))&&e.limitType===t.limitType}function Xj(e){return`${Uj(Kj(e))}|lt:${e.limitType}`}function Zj(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>Tj(e)).join(", ")}]`),yC(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>rj(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>rj(e)).join(",")),`Target(${t})`}(Kj(e))}; limitType=${e.limitType})`}function Jj(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):YT.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Hj(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){const r=yj(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,Hj(n),r)||n.endAt&&!function(e,t,n){const r=yj(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,Hj(n),r)));var n,r}function eI(e){return(t,n)=>{let r=!1;for(const i of Hj(e)){const e=tI(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function tI(e,t,n){const r=e.field.isKeyField()?YT.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ej(r,i):xT(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return xT(19790,{direction:e.dir})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){kC(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return SC(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=new EC(YT.comparator);function iI(){return rI}const sI=new EC(YT.comparator);function oI(...e){let t=sI;for(const n of e)t=t.insert(n.key,n);return t}function aI(e){let t=sI;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function lI(){return uI()}function cI(){return uI()}function uI(){return new nI(e=>e.toString(),(e,t)=>e.isEqual(t))}const dI=new EC(YT.comparator),hI=new AC(YT.comparator);function fI(...e){let t=hI;for(const n of e)t=t.add(n);return t}const pI=new AC(BT);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function mI(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bC(t)?"-0":t}}function gI(e){return{integerValue:""+e}}function yI(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!bC(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)?gI(t):mI(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this._=void 0}}function wI(e,t,n){return e instanceof kI?function(e,t){const n={fields:{[LC]:{stringValue:DC},[UC]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&FC(t)&&(t=zC(t)),t&&(n.fields[BC]=t),{mapValue:n}}(n,t):e instanceof SI?EI(e,t):e instanceof _I?NI(e,t):function(e,t){const n=xI(e,t),r=TI(n)+TI(e.Ae);return aj(n)&&aj(e.Ae)?gI(r):mI(e.serializer,r)}(e,t)}function vI(e,t,n){return e instanceof SI?EI(e,t):e instanceof _I?NI(e,t):n}function xI(e,t){return e instanceof AI?aj(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null;var n,r}class kI extends bI{}class SI extends bI{constructor(e){super(),this.elements=e}}function EI(e,t){const n=CI(t);for(const r of e.elements)n.some(e=>ZC(e,r))||n.push(r);return{arrayValue:{values:n}}}class _I extends bI{constructor(e){super(),this.elements=e}}function NI(e,t){let n=CI(t);for(const r of e.elements)n=n.filter(e=>!ZC(e,r));return{arrayValue:{values:n}}}class AI extends bI{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function TI(e){return PC(e.integerValue||e.doubleValue)}function CI(e){return lj(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,t){this.field=e,this.transform=t}}class II{constructor(e,t){this.version=e,this.transformResults=t}}class RI{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new RI}static exists(e){return new RI(void 0,e)}static updateTime(e){return new RI(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function OI(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class PI{}function MI(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new WI(e.key,RI.none()):new FI(e.key,e.data,RI.none());{const n=e.data,r=fj.empty();let i=new AC($T.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new zI(e.key,r,new CC(i.toArray()),RI.none())}}function DI(e,t,n){var r;e instanceof FI?function(e,t,n){const r=e.value.clone(),i=qI(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof zI?function(e,t,n){if(!OI(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=qI(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(VI(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):(r=n,t.convertToNoDocument(r.version).setHasCommittedMutations())}function LI(e,t,n,r){return e instanceof FI?function(e,t,n,r){if(!OI(e.precondition,t))return n;const i=e.value.clone(),s=GI(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof zI?function(e,t,n,r){if(!OI(e.precondition,t))return n;const i=GI(e.fieldTransforms,r,t),s=t.data;return s.setAll(VI(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):(i=t,s=n,OI(e.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):s);var i,s}function BI(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=xI(r.transform,e||null);null!=i&&(null===n&&(n=fj.empty()),n.set(r.field,i))}return n||null}function UI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&qT(n,r,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof SI&&r instanceof SI||n instanceof _I&&r instanceof _I?qT(n.elements,r.elements,ZC):n instanceof AI&&r instanceof AI?ZC(n.Ae,r.Ae):n instanceof kI&&r instanceof kI);var n,r}(e,t)))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}class FI extends PI{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class zI extends PI{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function VI(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function qI(e,t,n){const r=new Map;ST(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,vI(o,a,n[i]))}return r}function GI(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,wI(e,s,t))}return r}class WI extends PI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HI extends PI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&DI(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=LI(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=LI(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=cI();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=MI(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(lC.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fI())}isEqual(e){return this.batchId===e.batchId&&qT(this.mutations,e.mutations,(e,t)=>UI(e,t))&&qT(this.baseMutations,e.baseMutations,(e,t)=>UI(e,t))}}class $I{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ST(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=function(){return dI}();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new $I(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XI,ZI;function JI(e){if(void 0===e)return bT("GRPC error has no .code"),_T.UNKNOWN;switch(e){case XI.OK:return _T.OK;case XI.CANCELLED:return _T.CANCELLED;case XI.UNKNOWN:return _T.UNKNOWN;case XI.DEADLINE_EXCEEDED:return _T.DEADLINE_EXCEEDED;case XI.RESOURCE_EXHAUSTED:return _T.RESOURCE_EXHAUSTED;case XI.INTERNAL:return _T.INTERNAL;case XI.UNAVAILABLE:return _T.UNAVAILABLE;case XI.UNAUTHENTICATED:return _T.UNAUTHENTICATED;case XI.INVALID_ARGUMENT:return _T.INVALID_ARGUMENT;case XI.NOT_FOUND:return _T.NOT_FOUND;case XI.ALREADY_EXISTS:return _T.ALREADY_EXISTS;case XI.PERMISSION_DENIED:return _T.PERMISSION_DENIED;case XI.FAILED_PRECONDITION:return _T.FAILED_PRECONDITION;case XI.ABORTED:return _T.ABORTED;case XI.OUT_OF_RANGE:return _T.OUT_OF_RANGE;case XI.UNIMPLEMENTED:return _T.UNIMPLEMENTED;case XI.DATA_LOSS:return _T.DATA_LOSS;default:return xT(39323,{code:e})}}(ZI=XI||(XI={}))[ZI.OK=0]="OK",ZI[ZI.CANCELLED=1]="CANCELLED",ZI[ZI.UNKNOWN=2]="UNKNOWN",ZI[ZI.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ZI[ZI.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ZI[ZI.NOT_FOUND=5]="NOT_FOUND",ZI[ZI.ALREADY_EXISTS=6]="ALREADY_EXISTS",ZI[ZI.PERMISSION_DENIED=7]="PERMISSION_DENIED",ZI[ZI.UNAUTHENTICATED=16]="UNAUTHENTICATED",ZI[ZI.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ZI[ZI.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ZI[ZI.ABORTED=10]="ABORTED",ZI[ZI.OUT_OF_RANGE=11]="OUT_OF_RANGE",ZI[ZI.UNIMPLEMENTED=12]="UNIMPLEMENTED",ZI[ZI.INTERNAL=13]="INTERNAL",ZI[ZI.UNAVAILABLE=14]="UNAVAILABLE",ZI[ZI.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const eR=new JA([4294967295,4294967295],0);function tR(e){const t=(new TextEncoder).encode(e),n=new eT;return n.update(t),new Uint8Array(n.digest())}function nR(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new JA([n,r],0),new JA([i,s],0)]}class rR{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new iR(`Invalid padding: ${t}`);if(n<0)throw new iR(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new iR(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new iR(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=JA.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(JA.fromNumber(n)));return 1===r.compare(eR)&&(r=new JA([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=tR(e),[n,r]=nR(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new rR(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=tR(e),[n,r]=nR(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class iR extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,oR.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new sR(lC.min(),r,new EC(BT),iI(),fI())}}class oR{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new oR(n,t,fI(),fI(),fI())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class lR{constructor(e,t){this.targetId=e,this.Ce=t}}class cR{constructor(e,t,n=IC.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class uR{constructor(){this.ve=0,this.Fe=fR(),this.Me=IC.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=fI(),t=fI(),n=fI();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:xT(38017,{changeType:i})}}),new oR(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=fR()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ST(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dR{constructor(e){this.Ge=e,this.ze=new Map,this.je=iI(),this.Je=hR(),this.He=hR(),this.Ye=new EC(BT)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:xT(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(zj(i))if(0===n){const e=new YT(i.path);this.et(t,e,mj.newNoDocument(e,lC.min()))}else ST(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){const n=this.ut(e),i=n?this.ct(n,e,r):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=MC(n).toUint8Array()}catch(a){if(a instanceof jC)return wT("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{o=new rR(s,r,i)}catch(a){return wT(a instanceof iR?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return 0===o.ge?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&zj(i.target)){const t=new YT(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,mj.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=fI();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new sR(e,t,this.Ye,this.je,n);return this.je=iI(),this.Je=hR(),this.He=hR(),this.Ye=new EC(BT),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new uR,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new AC(BT),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new AC(BT),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||yT("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uR),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function hR(){return new EC(YT.comparator)}function fR(){return new EC(YT.comparator)}const pR=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),mR=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),gR=(()=>({and:"AND",or:"OR"}))();class yR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bR(e,t){return e.useProto3Json||yC(t)?t:{value:t}}function wR(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vR(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function xR(e,t){return wR(e,t.toTimestamp())}function kR(e){return ST(!!e,49232),lC.fromTimestamp(function(e){const t=OC(e);return new aC(t.seconds,t.nanos)}(e))}function SR(e,t){return ER(e,t).canonicalString()}function ER(e,t){const n=(r=e,new HT(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?n:n.child(t)}function _R(e){const t=HT.fromString(e);return ST(qR(t),10190,{key:t.toString()}),t}function NR(e,t){return SR(e.databaseId,t.path)}function AR(e,t){const n=_R(t);if(n.get(1)!==e.databaseId.projectId)throw new NT(_T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new NT(_T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new YT(jR(n))}function TR(e,t){return SR(e.databaseId,t)}function CR(e){return new HT(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function jR(e){return ST(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function IR(e,t,n){return{name:NR(e,t),fields:n.value.mapValue.fields}}function RR(e,t){return{documents:[TR(e,t.path)]}}function OR(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=TR(e,i);const s=function(e){if(0!==e.length)return zR(Sj.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map(e=>{return{field:UR((t=e).field),direction:DR(t.dir)};var t})}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=bR(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i};var l}function PR(e){let t=function(e){const t=_R(e);return 4===t.length?HT.emptyPath():jR(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ST(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=MR(e);return t instanceof Sj&&_j(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>{return new wj(FR((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,yC(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new gj(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new gj(n,t)}(n.endAt)),function(e,t,n,r,i,s,o,a){return new Vj(e,t,n,r,i,s,o,a)}(t,i,o,s,a,"F",l,c)}function MR(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=FR(e.unaryFilter.field);return kj.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=FR(e.unaryFilter.field);return kj.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=FR(e.unaryFilter.field);return kj.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=FR(e.unaryFilter.field);return kj.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xT(61313);default:return xT(60726)}}(e):void 0!==e.fieldFilter?(t=e,kj.create(FR(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xT(58110);default:return xT(50506)}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return Sj.create(e.compositeFilter.filters.map(e=>MR(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return xT(1026)}}(e.compositeFilter.op))}(e):xT(30097,{filter:e});var t}function DR(e){return pR[e]}function LR(e){return mR[e]}function BR(e){return gR[e]}function UR(e){return{fieldPath:e.canonicalString()}}function FR(e){return $T.fromServerFormat(e.fieldPath)}function zR(e){return e instanceof kj?function(e){if("=="===e.op){if(uj(e.value))return{unaryFilter:{field:UR(e.field),op:"IS_NAN"}};if(cj(e.value))return{unaryFilter:{field:UR(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(uj(e.value))return{unaryFilter:{field:UR(e.field),op:"IS_NOT_NAN"}};if(cj(e.value))return{unaryFilter:{field:UR(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:UR(e.field),op:LR(e.op),value:e.value}}}(e):e instanceof Sj?function(e){const t=e.getFilters().map(e=>zR(e));return 1===t.length?t[0]:{compositeFilter:{op:BR(e.op),filters:t}}}(e):xT(54877,{filter:e})}function VR(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function qR(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,t,n,r,i=lC.min(),s=lC.min(),o=IC.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new GR(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new GR(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new GR(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new GR(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e){this.yt=e}}function HR(e){const t=PR({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Yj(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.Cn=new $R}addToCollectionParentIndex(e,t){return this.Cn.add(t),pC.resolve()}getCollectionParents(e,t){return pC.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return pC.resolve()}deleteFieldIndex(e,t){return pC.resolve()}deleteAllFieldIndexes(e){return pC.resolve()}createTargetIndexes(e,t){return pC.resolve()}getDocumentsMatchingTarget(e,t){return pC.resolve(null)}getIndexType(e,t){return pC.resolve(0)}getFieldIndexes(e,t){return pC.resolve([])}getNextCollectionGroupToUpdate(e){return pC.resolve(null)}getMinOffset(e,t){return pC.resolve(uC.min())}getMinOffsetFromCollectionGroup(e,t){return pC.resolve(uC.min())}updateCollectionGroup(e,t,n){return pC.resolve()}updateIndexEntries(e,t){return pC.resolve()}}class $R{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new AC(HT.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new AC(HT.comparator)).toArray()}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QR=41943040;class XR{static withCacheSize(e){return new XR(e,XR.DEFAULT_COLLECTION_PERCENTILE,XR.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */XR.DEFAULT_COLLECTION_PERCENTILE=10,XR.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,XR.DEFAULT=new XR(QR,XR.DEFAULT_COLLECTION_PERCENTILE,XR.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),XR.DISABLED=new XR(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ZR{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ZR(0)}static cr(){return new ZR(-1)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="LruGarbageCollector";function eO([e,t],[n,r]){const i=BT(e,n);return 0===i?BT(t,r):i}class tO{constructor(e){this.Ir=e,this.buffer=new AC(eO),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();eO(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nO{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){yT(JR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){mC(e)?yT(JR,"Ignoring IndexedDB error during garbage collection: ",e):await fC(e)}await this.Vr(3e5)})}}class rO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return pC.resolve(gC.ce);const n=new tO(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(yT("LruGarbageCollector","Garbage collection skipped; disabled"),pC.resolve(YR)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(yT("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YR):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(yT("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),gT()<=ON.DEBUG&&yT("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(o-s)+`ms\n\tRemoved ${i} targets in `+(a-o)+`ms\n\tRemoved ${e} documents in `+(l-a)+`ms\nTotal Duration: ${l-c}ms`),pC.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class iO{constructor(){this.changes=new nI(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mj.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?pC.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&LI(n.mutation,e,CC.empty(),aC.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,fI()).next(()=>t))}getLocalViewOfDocuments(e,t,n=fI()){const r=lI();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=oI();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=lI();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,fI()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=iI();const s=uI(),o=uI();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof zI)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),LI(o.mutation,t,o.mutation.getFieldMask(),aC.now())):s.set(t.key,CC.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>o.set(e,new sO(t,s.get(e)??null))),o))}recalculateAndSaveOverlays(e,t){const n=uI();let r=new EC((e,t)=>e-t),i=fI();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||CC.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||fI()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=cI();l.forEach(e=>{if(!i.has(e)){const r=MI(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return pC.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return i=t,YT.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Wj(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r);var i}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):pC.resolve(lI());let o=-1,a=i;return s.next(t=>pC.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?pC.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,fI())).next(e=>({batchId:o,changes:aI(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new YT(t)).next(e=>{let t=oI();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=oI();return this.indexManager.getCollectionParents(e,i).next(o=>pC.forEach(o,o=>{const a=(l=t,c=o.child(i),new Vj(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,mj.newInvalidDocument(r)))});let n=oI();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&LI(s.mutation,r,CC.empty(),aC.now()),Jj(t,r)&&(n=n.insert(e,r))}),n})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return pC.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,{id:(n=t).id,version:n.version,createTime:kR(n.createTime)}),pC.resolve();var n}getNamedQuery(e,t){return pC.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,{name:(n=t).name,query:HR(n.bundledQuery),readTime:kR(n.readTime)}),pC.resolve();var n}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.overlays=new EC(YT.comparator),this.qr=new Map}getOverlay(e,t){return pC.resolve(this.overlays.get(t))}getOverlays(e,t){const n=lI();return pC.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),pC.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),pC.resolve()}getOverlaysForCollection(e,t,n){const r=lI(),i=t.length+1,s=new YT(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return pC.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new EC((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=lI(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=lI(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return pC.resolve(o)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new YI(t,n));let i=this.qr.get(t);void 0===i&&(i=fI(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.sessionToken=IC.EMPTY_BYTE_STRING}getSessionToken(e){return pC.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,pC.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.Qr=new AC(dO.$r),this.Ur=new AC(dO.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new dO(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new dO(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new YT(new HT([])),n=new dO(t,e),r=new dO(t,e+1),i=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),i.push(e.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new YT(new HT([])),n=new dO(t,e),r=new dO(t,e+1);let i=fI();return this.Ur.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new dO(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class dO{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return YT.comparator(e.key,t.key)||BT(e.Yr,t.Yr)}static Kr(e,t){return BT(e.Yr,t.Yr)||YT.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new AC(dO.$r)}checkEmpty(e){return pC.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new KI(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Zr=this.Zr.add(new dO(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return pC.resolve(s)}lookupMutationBatch(e,t){return pC.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),i=r<0?0:r;return pC.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return pC.resolve(0===this.mutationQueue.length?-1:this.tr-1)}getAllMutationBatches(e){return pC.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new dO(t,0),r=new dO(t,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);i.push(t)}),pC.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new AC(BT);return t.forEach(e=>{const t=new dO(e,0),r=new dO(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),pC.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;YT.isDocumentKey(i)||(i=i.child(""));const s=new dO(new YT(i),0);let o=new AC(BT);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)},s),pC.resolve(this.ti(o))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){ST(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return pC.forEach(t.mutations,r=>{const i=new dO(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new dO(t,0),r=this.Zr.firstAfterOrEqual(n);return pC.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,pC.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.ri=e,this.docs=new EC(YT.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return pC.resolve(n?n.document.mutableCopy():mj.newInvalidDocument(t))}getEntries(e,t){let n=iI();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():mj.newInvalidDocument(e))}),pC.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=iI();const s=t.path,o=new YT(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||dC(cC(o),n)<=0||(r.has(o.key)||Jj(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return pC.resolve(i)}getAllFromCollectionGroup(e,t,n,r){xT(9500)}ii(e,t){return pC.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new pO(this)}getSize(e){return pC.resolve(this.size)}}class pO extends iO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),pC.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.persistence=e,this.si=new nI(e=>Uj(e),Fj),this.lastRemoteSnapshotVersion=lC.min(),this.highestTargetId=0,this.oi=0,this._i=new uO,this.targetCount=0,this.ai=ZR.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),pC.resolve()}getLastRemoteSnapshotVersion(e){return pC.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pC.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),pC.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),pC.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ZR(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,pC.resolve()}updateTargetData(e,t){return this.Pr(t),pC.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,pC.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),pC.waitFor(i).next(()=>r)}getTargetCount(e){return pC.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return pC.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),pC.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),pC.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),pC.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return pC.resolve(n)}containsKey(e,t){return pC.resolve(this._i.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e,t){this.ui={},this.overlays={},this.ci=new gC(0),this.li=!1,this.li=!0,this.hi=new cO,this.referenceDelegate=e(this),this.Pi=new mO(this),this.indexManager=new KR,this.remoteDocumentCache=new fO(e=>this.referenceDelegate.Ti(e)),this.serializer=new WR(t),this.Ii=new aO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new hO(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){yT("MemoryPersistence","Starting transaction:",e);const r=new yO(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return pC.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class yO extends hC{constructor(e){super(),this.currentSequenceNumber=e}}class bO{constructor(e){this.persistence=e,this.Ri=new uO,this.Vi=null}static mi(e){return new bO(e)}get fi(){if(this.Vi)return this.Vi;throw xT(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),pC.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),pC.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),pC.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pC.forEach(this.fi,n=>{const r=YT.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,lC.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return pC.or([()=>pC.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class wO{constructor(e,t){this.persistence=e,this.pi=new nI(e=>function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=vC(t)),t=wC(e.get(n),t);return vC(t)}(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=function(e,t){return new rO(e,t)}(this,t)}static mi(e,t){return new wO(e,t)}Ei(){}di(e){return pC.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return pC.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?pC.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,i.removeEntry(r,lC.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),pC.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),pC.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),pC.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),pC.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sj(e.data.value)),t}br(e,t,n){return pC.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return pC.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=fI(),r=fI();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new vO(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=kN()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ys(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ws(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new xO;return this.Ss(e,t,n).next(r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>i.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(gT()<=ON.DEBUG&&yT("QueryEngine","SDK will not create cache indexes for query:",Zj(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),pC.resolve()):(gT()<=ON.DEBUG&&yT("QueryEngine","Query:",Zj(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(gT()<=ON.DEBUG&&yT("QueryEngine","The SDK decides to create cache indexes for query:",Zj(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kj(t))):pC.resolve())}ys(e,t){if(Gj(t))return pC.resolve(null);let n=Kj(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Yj(t,null,"F"),n=Kj(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=fI(...r);return this.ps.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,r);return this.Cs(t,s,i,n.readTime)?this.ys(e,Yj(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,r){return Gj(t)||r.isEqual(lC.min())?pC.resolve(null):this.ps.getDocuments(e,n).next(i=>{const s=this.Ds(t,i);return this.Cs(t,s,n,r)?pC.resolve(null):(gT()<=ON.DEBUG&&yT("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zj(t)),this.vs(e,s,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=lC.fromTimestamp(1e9===r?new aC(n+1,0):new aC(n,r));return new uC(i,YT.empty(),t)}(r,-1)).next(e=>e))})}Ds(e,t){let n=new AC(eI(e));return t.forEach((t,r)=>{Jj(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return gT()<=ON.DEBUG&&yT("QueryEngine","Using full collection scan to execute query:",Zj(t)),this.ps.getDocumentsMatchingQuery(e,t,uC.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="LocalStore";class EO{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new EC(BT),this.xs=new nI(e=>Uj(e),Fj),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}async function _O(e,t){const n=ET(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let o=fI();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({Ls:e,removedBatchIds:i,addedBatchIds:s}))})})}function NO(e){const t=ET(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function AO(e,t){const n=ET(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];t.targetChanges.forEach((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Pi.removeMatchingKeys(e,s.removedDocuments,a).next(()=>n.Pi.addMatchingKeys(e,s.addedDocuments,a)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(IC.EMPTY_BYTE_STRING,lC.min()).withLastLimboFreeSnapshotVersion(lC.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){if(0===e.resumeToken.approximateByteSize())return!0;if(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8)return!0;return n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Pi.updateTargetData(e,c))});let a=iI(),l=fI();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(function(e,t,n){let r=fI(),i=fI();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=iI();return n.forEach((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(lC.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):yT(SO,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{ks:r,qs:i}})}(e,s,t.documentUpdates).next(e=>{a=e.ks,l=e.qs})),!r.isEqual(lC.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return pC.waitFor(o).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ms=i,e))}function TO(e,t){const n=ET(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}async function CO(e,t,n){const r=ET(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(o){if(!mC(o))throw o;yT(SO,`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function jO(e,t,n){const r=ET(e);let i=lC.min(),s=fI();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=ET(e),i=r.xs.get(n);return void 0!==i?pC.resolve(r.Ms.get(i)):r.Pi.getTargetData(t,n)}(r,e,Kj(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:lC.min(),n?s:fI())).next(e=>(function(e,t,n){let r=e.Os.get(t)||lC.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,Qs:s})))}class IO{constructor(){this.activeTargetIds=pI}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RO{constructor(){this.Mo=new IO,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new IO,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{Oo(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="ConnectivityMonitor";class MO{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){yT(PO,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){yT(PO,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DO=null;function LO(){return null===DO?DO=268435456+Math.round(2147483648*Math.random()):DO++,"0x"+DO.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const BO="RestConnection",UO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===GC?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,i){const s=LO(),o=this.zo(e,t.toUriEncodedString());yT(BO,`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(a,r,i);const{host:l}=new URL(o),c=bN(l);return this.Jo(e,o,a,n,c).then(t=>(yT(BO,`Received RPC '${e}' ${s}: `,t),t),t=>{throw wT(BO,`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t})}Ho(e,t,n,r,i,s){return this.Go(e,t,n,r,i)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+pT,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=UO[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="WebChannelConnection";class qO extends FO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=LO();return new Promise((i,o)=>{const a=new nT;a.setWithCredentials(!0),a.listenOnce(iT.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case sT.NO_ERROR:const t=a.getResponseJson();yT(VO,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(t)),i(t);break;case sT.TIMEOUT:yT(VO,`RPC '${e}' ${s} timed out`),o(new NT(_T.DEADLINE_EXCEEDED,"Request time out"));break;case sT.HTTP_ERROR:const n=a.getStatus();if(yT(VO,`RPC '${e}' ${s} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=e?.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(_T).indexOf(t)>=0?t:_T.UNKNOWN}(t.status);o(new NT(e,t.message))}else o(new NT(_T.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new NT(_T.UNAVAILABLE,"Connection failed."));break;default:xT(9055,{l_:e,streamId:s,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{yT(VO,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(r);yT(VO,`RPC '${e}' ${s} sending request:`,r),a.send(t,"POST",l,n,15)})}T_(e,t,n){const r=LO(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cT(),o=lT(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.jo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");yT(VO,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=s.createWebChannel(c,a);this.I_(u);let d=!1,h=!1;const f=new zO({Yo:t=>{h?yT(VO,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(yT(VO,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),yT(VO,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(t){setTimeout(()=>{throw t},0)}})};return p(u,rT.EventType.OPEN,()=>{h||(yT(VO,`RPC '${e}' stream ${r} transport opened.`),f.o_())}),p(u,rT.EventType.CLOSE,()=>{h||(h=!0,yT(VO,`RPC '${e}' stream ${r} transport closed`),f.a_(),this.E_(u))}),p(u,rT.EventType.ERROR,t=>{h||(h=!0,wT(VO,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.a_(new NT(_T.UNAVAILABLE,"The operation could not be completed")))}),p(u,rT.EventType.MESSAGE,t=>{if(!h){const n=t.data[0];ST(!!n,16349);const i=n,s=i?.error||i[0]?.error;if(s){yT(VO,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=XI[e];if(void 0!==t)return JI(t)}(t),i=s.message;void 0===n&&(n=_T.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,f.a_(new NT(n,i)),u.close()}else yT(VO,`RPC '${e}' stream ${r} received:`,n),f.u_(n)}}),p(o,aT.STAT_EVENT,t=>{t.stat===oT.PROXY?yT(VO,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===oT.NOPROXY&&yT(VO,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function GO(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(e){return new yR(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&yT("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="PersistentStream";class $O{constructor(e,t,n,r,i,s,o,a){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new HO(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===_T.RESOURCE_EXHAUSTED?(bT(t.toString()),bT("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===_T.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.D_===t&&this.G_(e,n)},t=>{e(()=>{const e=new NT(_T.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return yT(KO,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(yT(KO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YO extends $O{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:xT(39313,{state:r}),s=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(ST(void 0===t||"string"==typeof t,58123),IC.fromBase64String(t||"")):(ST(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),IC.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(e){const t=void 0===e.code?_T.UNKNOWN:JI(e.code);return new NT(t,e.message||"")}(a);n=new cR(i,s,o,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=AR(e,r.document.name),s=kR(r.document.updateTime),o=r.document.createTime?kR(r.document.createTime):lC.min(),a=new fj({mapValue:{fields:r.document.fields}}),l=mj.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new aR(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=AR(e,r.document),s=r.readTime?kR(r.readTime):lC.min(),o=mj.newNoDocument(i,s),a=r.removedTargetIds||[];n=new aR([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=AR(e,r.document),s=r.removedTargetIds||[];n=new aR([],s,i,null)}else{if(!("filter"in t))return xT(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new QI(r,i),o=e.targetId;n=new lR(o,s)}}var r;return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return lC.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?lC.min():t.readTime?kR(t.readTime):lC.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=CR(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=zj(r)?{documents:RR(e,r)}:{query:OR(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=vR(e,t.resumeToken);const r=bR(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(lC.min())>0){n.readTime=wR(e,t.snapshotVersion.toTimestamp());const r=bR(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xT(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=CR(this.serializer),t.removeTarget=e,this.q_(t)}}class QO extends $O{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ST(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ST(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){ST(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(ST(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?kR(e.updateTime):kR(t);return n.isEqual(lC.min())&&(n=kR(t)),new II(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=kR(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=CR(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>function(e,t){let n;if(t instanceof FI)n={update:IR(e,t.key,t.value)};else if(t instanceof WI)n={delete:NR(e,t.key)};else if(t instanceof zI)n={update:IR(e,t.key,t.data),updateMask:VR(t.fieldMask)};else{if(!(t instanceof HI))return xT(16599,{Vt:t.type});n={verify:NR(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof kI)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof SI)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _I)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof AI)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw xT(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:xR(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:xT(27497))),n;var r,i}(this.serializer,e))};this.q_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{}class ZO extends XO{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new NT(_T.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Go(e,ER(t,n),r,i,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===_T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new NT(_T.UNKNOWN,e.toString())})}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,ER(t,n),r,s,o,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===_T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new NT(_T.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class JO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bT(t),this.aa=!1):yT("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="RemoteStore";class tP{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{uP(this)&&(yT(eP,"Restarting streams for network reachability change."),await async function(e){const t=ET(e);t.Ea.add(4),await rP(t),t.Ra.set("Unknown"),t.Ea.delete(4),await nP(t)}(this))})}),this.Ra=new JO(n,r)}}async function nP(e){if(uP(e))for(const t of e.da)await t(!0)}async function rP(e){for(const t of e.da)await t(!1)}function iP(e,t){const n=ET(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),cP(n)?lP(n):TP(n).O_()&&oP(n,t))}function sP(e,t){const n=ET(e),r=TP(n);n.Ia.delete(t),r.O_()&&aP(n,t),0===n.Ia.size&&(r.O_()?r.L_():uP(n)&&n.Ra.set("Unknown"))}function oP(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(lC.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}TP(e).Y_(t)}function aP(e,t){e.Va.Ue(t),TP(e).Z_(t)}function lP(e){e.Va=new dR({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),TP(e).start(),e.Ra.ua()}function cP(e){return uP(e)&&!TP(e).x_()&&e.Ia.size>0}function uP(e){return 0===ET(e).Ea.size}function dP(e){e.Va=void 0}async function hP(e){e.Ra.set("Online")}async function fP(e){e.Ia.forEach((t,n)=>{oP(e,t)})}async function pP(e,t){dP(e),cP(e)?(e.Ra.ha(t),lP(e)):e.Ra.set("Unknown")}async function mP(e,t,n){if(e.Ra.set("Online"),t instanceof cR&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(r){yT(eP,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await gP(e,r)}else if(t instanceof aR?e.Va.Ze(t):t instanceof lR?e.Va.st(t):e.Va.tt(t),!n.isEqual(lC.min()))try{const t=await NO(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(IC.EMPTY_BYTE_STRING,r.snapshotVersion)),aP(e,t);const i=new GR(r.target,t,n,r.sequenceNumber);oP(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(i){yT(eP,"Failed to raise snapshot:",i),await gP(e,i)}}async function gP(e,t,n){if(!mC(t))throw t;e.Ea.add(1),await rP(e),e.Ra.set("Offline"),n||(n=()=>NO(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{yT(eP,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await nP(e)})}function yP(e,t){return t().catch(n=>gP(e,n,t))}async function bP(e){const t=ET(e),n=CP(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:-1;for(;wP(t);)try{const e=await TO(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,vP(t,e)}catch(i){await gP(t,i)}xP(t)&&kP(t)}function wP(e){return uP(e)&&e.Ta.length<10}function vP(e,t){e.Ta.push(t);const n=CP(e);n.O_()&&n.X_&&n.ea(t.mutations)}function xP(e){return uP(e)&&!CP(e).x_()&&e.Ta.length>0}function kP(e){CP(e).start()}async function SP(e){CP(e).ra()}async function EP(e){const t=CP(e);for(const n of e.Ta)t.ea(n.mutations)}async function _P(e,t,n){const r=e.Ta.shift(),i=$I.from(r,t,n);await yP(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await bP(e)}async function NP(e,t){t&&CP(e).X_&&await async function(e,t){if(function(e){switch(e){case _T.OK:return xT(64938);case _T.CANCELLED:case _T.UNKNOWN:case _T.DEADLINE_EXCEEDED:case _T.RESOURCE_EXHAUSTED:case _T.INTERNAL:case _T.UNAVAILABLE:case _T.UNAUTHENTICATED:return!1;case _T.INVALID_ARGUMENT:case _T.NOT_FOUND:case _T.ALREADY_EXISTS:case _T.PERMISSION_DENIED:case _T.FAILED_PRECONDITION:case _T.ABORTED:case _T.OUT_OF_RANGE:case _T.UNIMPLEMENTED:case _T.DATA_LOSS:return!0;default:return xT(15467,{code:e})}}(n=t.code)&&n!==_T.ABORTED){const n=e.Ta.shift();CP(e).B_(),await yP(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await bP(e)}var n}(e,t),xP(e)&&kP(e)}async function AP(e,t){const n=ET(e);n.asyncQueue.verifyOperationInProgress(),yT(eP,"RemoteStore received new credentials");const r=uP(n);n.Ea.add(3),await rP(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await nP(n)}function TP(e){return e.ma||(e.ma=function(e,t,n){const r=ET(e);return r.sa(),new YO(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:hP.bind(null,e),t_:fP.bind(null,e),r_:pP.bind(null,e),H_:mP.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),cP(e)?lP(e):e.Ra.set("Unknown")):(await e.ma.stop(),dP(e))})),e.ma}function CP(e){return e.fa||(e.fa=function(e,t,n){const r=ET(e);return r.sa(),new QO(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:SP.bind(null,e),r_:NP.bind(null,e),ta:EP.bind(null,e),na:_P.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await bP(e)):(await e.fa.stop(),e.Ta.length>0&&(yT(eP,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class jP{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new AT,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new jP(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new NT(_T.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function IP(e,t){if(bT("AsyncQueue",`${t}: ${e}`),mC(e))return new NT(_T.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{static emptySet(e){return new RP(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||YT.comparator(t.key,n.key):(e,t)=>YT.comparator(e.key,t.key),this.keyedMap=oI(),this.sortedSet=new EC(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof RP))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new RP;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(){this.ga=new EC(YT.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):xT(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class PP{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new PP(e,t,RP.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qj(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class DP{constructor(){this.queries=LP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=ET(e),r=n.queries;n.queries=LP(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new NT(_T.ABORTED,"Firestore shutting down"))}}function LP(){return new nI(e=>Xj(e),Qj)}async function BP(e,t){const n=ET(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new MP,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const e=IP(o,`Initialization of query '${Zj(t.query)}' failed`);return void t.onError(e)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&VP(n)}async function UP(e,t){const n=ET(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function FP(e,t){const n=ET(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(i)&&(r=!0);t.wa=i}}r&&VP(n)}function zP(e,t,n){const r=ET(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function VP(e){e.Ca.forEach(e=>{e.next()})}var qP,GP;(GP=qP||(qP={})).Ma="default",GP.Cache="cache";class WP{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new PP(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=PP.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qP.Cache}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.key=e}}class KP{constructor(e){this.key=e}}class $P{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=fI(),this.mutatedKeys=fI(),this.eu=eI(e),this.tu=new RP(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new OP,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Jj(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.eu(u,a)>0||l&&this.eu(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xT(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=r??!1;const o=t&&!r?this._u():[],a=0===this.Xa.size&&this.current&&!r?1:0,l=a!==this.Za;return this.Za=a,0!==s.length||l?{snapshot:new PP(this.query,e.tu,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=fI(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new KP(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new HP(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=fI();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return PP.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const YP="SyncEngine";class QP{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class XP{constructor(e){this.key=e,this.hu=!1}}class ZP{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new nI(e=>Xj(e),Qj),this.Iu=new Map,this.Eu=new Set,this.du=new EC(YT.comparator),this.Au=new Map,this.Ru=new uO,this.Vu={},this.mu=new Map,this.fu=ZR.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function JP(e,t,n=!0){const r=vM(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await tM(r,t,n,!0),i}async function eM(e,t){const n=vM(e);await tM(n,t,!0,!1)}async function tM(e,t,n,r){const i=await function(e,t){const n=ET(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(i=>i?(r=i,pC.resolve(r)):n.Pi.allocateTargetId(e).next(i=>(r=new GR(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}(e.localStore,Kj(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await async function(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await jO(e.localStore,t.query,!1).then(({documents:e})=>t.view.ru(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return pM(e,t.targetId,a.au),a.snapshot}(e,t,n,r);const s=await jO(e.localStore,t,!0),o=new $P(t,s.Qs),a=o.ru(s.documents),l=oR.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);pM(e,n,c.au);const u=new QP(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&iP(e.remoteStore,i),a}async function nM(e,t,n){const r=ET(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(e=>!Qj(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await CO(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&sP(r.remoteStore,i.targetId),hM(r,i.targetId)}).catch(fC)):(hM(r,i.targetId),await CO(r.localStore,i.targetId,!0))}async function rM(e,t){const n=ET(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sP(n.remoteStore,r.targetId))}async function iM(e,t,n){const r=function(e){const t=ET(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cM.bind(null,t),t}(e);try{const e=await function(e,t){const n=ET(e),r=aC.now(),i=t.reduce((e,t)=>e.add(t.key),fI());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=iI(),l=fI();return n.Ns.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{s=i;const o=[];for(const e of t){const t=BI(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new zI(e.key,t,pj(t.value.mapValue),RI.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:aI(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new EC(BT)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await yM(r,e.changes),await bP(r.remoteStore)}catch(i){const e=IP(i,"Failed to persist write");n.reject(e)}}async function sM(e,t){const n=ET(e);try{const e=await AO(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(ST(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?ST(r.hu,14607):e.removedDocuments.size>0&&(ST(r.hu,42227),r.hu=!1))}),await yM(n,e,t)}catch(r){await fC(r)}}function oM(e,t,n){const r=ET(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=ET(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.Sa)i.va(t)&&(r=!0)}),r&&VP(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function aM(e,t,n){const r=ET(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let e=new EC(YT.comparator);e=e.insert(s,mj.newNoDocument(s,lC.min()));const n=fI().add(s),i=new sR(lC.min(),new Map,new EC(BT),e,n);await sM(r,i),r.du=r.du.remove(s),r.Au.delete(t),gM(r)}else await CO(r.localStore,t,!1).then(()=>hM(r,t,n)).catch(fC)}async function lM(e,t){const n=ET(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ET(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=pC.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);ST(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=fI();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);dM(n,r,null),uM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yM(n,e)}catch(i){await fC(i)}}async function cM(e,t,n){const r=ET(e);try{const e=await function(e,t){const n=ET(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(ST(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);dM(r,t,n),uM(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await yM(r,e)}catch(i){await fC(i)}}function uM(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function dM(e,t,n){const r=ET(e);let i=r.Vu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function hM(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||fM(e,t)})}function fM(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(sP(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),gM(e))}function pM(e,t,n){for(const r of n)r instanceof HP?(e.Ru.addReference(r.key,t),mM(e,r)):r instanceof KP?(yT(YP,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||fM(e,r.key)):xT(19791,{wu:r})}function mM(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(yT(YP,"New document in limbo: "+n),e.Eu.add(r),gM(e))}function gM(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new YT(HT.fromString(t)),r=e.fu.next();e.Au.set(r,new XP(n)),e.du=e.du.insert(n,r),iP(e.remoteStore,new GR(Kj(qj(n.path)),r,"TargetPurposeLimboResolution",gC.ce))}}async function yM(e,t,n){const r=ET(e),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((e,a)=>{o.push(r.pu(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){const t=e?!e.fromCache:n?.targetChanges.get(a.targetId)?.current;r.sharedClientState.updateQueryState(a.targetId,t?"current":"not-current")}if(e){i.push(e);const t=vO.As(a.targetId,e);s.push(t)}}))}),await Promise.all(o),r.Pu.H_(i),await async function(e,t){const n=ET(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>pC.forEach(t,t=>pC.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>pC.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(r){if(!mC(r))throw r;yT(SO,"Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,i)}}}(r.localStore,s))}async function bM(e,t){const n=ET(e);if(!n.currentUser.isEqual(t)){yT(YP,"User change. New user:",t.toKey());const e=await _O(n.localStore,t);n.currentUser=t,i="'waitForPendingWrites' promise is rejected due to a user change.",(r=n).mu.forEach(e=>{e.forEach(e=>{e.reject(new NT(_T.CANCELLED,i))})}),r.mu.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await yM(n,e.Ls)}var r,i}function wM(e,t){const n=ET(e),r=n.Au.get(t);if(r&&r.hu)return fI().add(r.key);{let e=fI();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function vM(e){const t=ET(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sM.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aM.bind(null,t),t.Pu.H_=FP.bind(null,t.eventManager),t.Pu.yu=zP.bind(null,t.eventManager),t}class xM{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=WO(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return function(e,t,n,r){return new EO(e,t,n,r)}(this.persistence,new kO,e.initialUser,this.serializer)}Cu(e){return new gO(bO.mi,this.serializer)}Du(e){return new RO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xM.provider={build:()=>new xM};class kM extends xM{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ST(this.persistence.referenceDelegate instanceof wO,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new nO(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?XR.withCacheSize(this.cacheSizeBytes):XR.DEFAULT;return new gO(e=>wO.mi(e,t),this.serializer)}}class SM{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>oM(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=bM.bind(null,this.syncEngine),await async function(e,t){const n=ET(e);t?(n.Ea.delete(2),await nP(n)):t||(n.Ea.add(2),await rP(n),n.Ra.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new DP}createDatastore(e){const t=WO(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new qO(r));var r;return function(e,t,n,r){return new ZO(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new tP(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>oM(this.syncEngine,e,0),MO.v()?new MO:new OO)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new ZP(e,t,n,r,i,s);return o&&(a.gu=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){const t=ET(e);yT(eP,"RemoteStore shutting down."),t.Ea.add(5),await rP(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}SM.provider={build:()=>new SM};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class EM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bT("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="FirestoreClient";class NM{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=fT.UNAUTHENTICATED,this.clientId=LT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{yT(_M,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(yT(_M,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new AT;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=IP(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function AM(e,t){e.asyncQueue.verifyOperationInProgress(),yT(_M,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await _O(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function TM(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){yT(_M,"Using user provided OfflineComponentProvider");try{await AM(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!("FirebaseError"===(n=i).name?n.code===_T.FAILED_PRECONDITION||n.code===_T.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw i;wT("Error using user provided cache. Falling back to memory cache: "+i),await AM(e,new xM)}}else yT(_M,"Using default OfflineComponentProvider"),await AM(e,new kM(void 0));var n;return e._offlineComponents}(e);yT(_M,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>AP(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>AP(t.remoteStore,n)),e._onlineComponents=t}async function CM(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(yT(_M,"Using user provided OnlineComponentProvider"),await TM(e,e._uninitializedComponentsProvider._online)):(yT(_M,"Using default OnlineComponentProvider"),await TM(e,new SM))),e._onlineComponents}async function jM(e){const t=await CM(e),n=t.eventManager;return n.onListen=JP.bind(null,t.syncEngine),n.onUnlisten=nM.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=eM.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=rM.bind(null,t.syncEngine),n}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function IM(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const RM=new Map,OM="firestore.googleapis.com",PM=!0;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new NT(_T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OM,this.ssl=PM}else this.host=e.host,this.ssl=e.ssl??PM;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=QR;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new NT(_T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IM(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new NT(_T.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new NT(_T.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new NT(_T.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class DM{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new NT(_T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new NT(_T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MM(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new CT;switch(e.type){case"firstParty":return new OT(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new NT(_T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=RM.get(e);t&&(yT("ComponentProvider","Removing Datastore"),RM.delete(e),t.terminate())}(this),Promise.resolve()}}function LM(e,t,n,r={}){e=nC(e,DM);const i=bN(t),s=e._getSettings(),o={...s,emulatorOptions:e._getEmulatorOptions()},a=`${t}:${n}`;i&&(async function(e){(await fetch(e,{credentials:"include"})).ok}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(`https://${a}`),xN("Firestore",!0)),s.host!==OM&&s.host!==a&&wT("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!NN(l,o)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=fT.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[dN(JSON.stringify({alg:"none",type:"JWT"})),dN(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e._app?.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new NT(_T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new fT(i)}e._authCredentials=new jT(new TT(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new BM(this.firestore,e,this._query)}}class UM{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new FM(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new UM(this.firestore,e,this._key)}toJSON(){return{type:UM._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(iC(t,UM._jsonSchema))return new UM(e,n||null,new YT(HT.fromString(t.referencePath)))}}UM._jsonSchemaVersion="firestore/documentReference/1.0",UM._jsonSchema={type:rC("string",UM._jsonSchemaVersion),referencePath:rC("string")};class FM extends BM{constructor(e,t,n){super(e,t,qj(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new UM(this.firestore,null,new YT(e))}withConverter(e){return new FM(this.firestore,e,this._path)}}function zM(e,t,...n){if(e=TN(e),QT("collection","path",t),e instanceof DM){const r=HT.fromString(t,...n);return JT(r),new FM(e,null,r)}{if(!(e instanceof UM||e instanceof FM))throw new NT(_T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(HT.fromString(t,...n));return JT(r),new FM(e.firestore,null,r)}}function VM(e,t,...n){if(e=TN(e),1===arguments.length&&(t=LT.newId()),QT("doc","path",t),e instanceof DM){const r=HT.fromString(t,...n);return ZT(r),new UM(e,null,new YT(r))}{if(!(e instanceof UM||e instanceof FM))throw new NT(_T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(HT.fromString(t,...n));return ZT(r),new UM(e.firestore,e instanceof FM?e.converter:null,new YT(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="AsyncQueue";class GM{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new HO(this,"async_queue_retry"),this._c=()=>{const e=GO();e&&yT(qM,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=GO();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=GO();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new AT;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!mC(e))throw e;yT(qM,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,bT("INTERNAL UNHANDLED ERROR: ",WM(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=jP.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&xT(47125,{Pc:WM(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function WM(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function HM(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class KM extends DM{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new GM,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new GM(e),this._firestoreClient=void 0,await e}}}function $M(e,t){const n="object"==typeof e?e:function(e=RA){const t=PA.get(e);if(!t&&e===RA&&gN())return zA();if(!t)throw UA.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:GC,i=function(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=mN("firestore");e&&LM(i,...e)}return i}function YM(e){if(e._terminated)throw new NT(_T.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){const t=e._freezeSettings(),n=(r=e._databaseId,i=e._app?.options.appId||"",s=e._persistenceKey,o=t,new qC(r,i,s,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,IM(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator));var r,i,s,o;e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new NM(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){const t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e),e._firestoreClient}class QM{constructor(e){this._byteString=e}static fromBase64String(e){try{return new QM(IC.fromBase64String(e))}catch(t){throw new NT(_T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new QM(IC.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:QM._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iC(e,QM._jsonSchema))return QM.fromBase64String(e.bytes)}}QM._jsonSchemaVersion="firestore/bytes/1.0",QM._jsonSchema={type:rC("string",QM._jsonSchemaVersion),bytes:rC("string")};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class XM{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new NT(_T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $T(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new NT(_T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new NT(_T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return BT(this._lat,e._lat)||BT(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:JM._jsonSchemaVersion}}static fromJSON(e){if(iC(e,JM._jsonSchema))return new JM(e.latitude,e.longitude)}}JM._jsonSchemaVersion="firestore/geoPoint/1.0",JM._jsonSchema={type:rC("string",JM._jsonSchemaVersion),latitude:rC("number"),longitude:rC("number")};
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class eD{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:eD._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iC(e,eD._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new eD(e.vectorValues);throw new NT(_T.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}eD._jsonSchemaVersion="firestore/vectorValue/1.0",eD._jsonSchema={type:rC("string",eD._jsonSchemaVersion),vectorValues:rC("object")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const tD=/^__.*__$/;class nD{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new zI(e,this.data,this.fieldMask,t,this.fieldTransforms):new FI(e,this.data,t,this.fieldTransforms)}}class rD{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new zI(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function iD(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xT(40011,{Ac:e})}}class sD{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new sD({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return xD(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(iD(this.Ac)&&tD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class oD{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||WO(e)}Cc(e,t,n,r=!1){return new sD({Ac:e,methodName:t,Dc:n,path:$T.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function aD(e){const t=e._freezeSettings(),n=WO(e._databaseId);return new oD(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lD(e,t,n,r,i,s={}){const o=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);yD("Data must be an object, but it was:",o,r);const a=mD(r,o);let l,c;if(s.merge)l=new CC(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=bD(t,r,n);if(!o.contains(i))throw new NT(_T.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);kD(e,i)||e.push(i)}l=new CC(e),c=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=o.fieldTransforms;return new nD(new fj(a),l,c)}class cD extends ZM{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cD}}class uD extends ZM{_toFieldTransform(e){return new jI(e.path,new kI)}isEqual(e){return e instanceof uD}}class dD extends ZM{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=function(e,t,n){return new sD({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}(this,e,!0),n=this.vc.map(e=>pD(e,t)),r=new SI(n);return new jI(e.path,r)}isEqual(e){return e instanceof dD&&NN(this.vc,e.vc)}}function hD(e,t,n,r){const i=e.Cc(1,t,n);yD("Data must be an object, but it was:",i,r);const s=[],o=fj.empty();kC(r,(e,r)=>{const a=vD(t,e,n);r=TN(r);const l=i.yc(a);if(r instanceof cD)s.push(a);else{const e=pD(r,l);null!=e&&(s.push(a),o.set(a,e))}});const a=new CC(s);return new rD(o,a,i.fieldTransforms)}function fD(e,t,n,r,i,s){const o=e.Cc(1,t,n),a=[bD(t,r,n)],l=[i];if(s.length%2!=0)throw new NT(_T.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(bD(t,s[h])),l.push(s[h+1]);const c=[],u=fj.empty();for(let h=a.length-1;h>=0;--h)if(!kD(c,a[h])){const e=a[h];let t=l[h];t=TN(t);const n=o.yc(e);if(t instanceof cD)c.push(e);else{const r=pD(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new CC(c);return new rD(u,d,o.fieldTransforms)}function pD(e,t){if(gD(e=TN(e)))return yD("Unsupported field value:",t,e),mD(e,t);if(e instanceof ZM)return function(e,t){if(!iD(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=pD(i,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=TN(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return yI(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=aC.fromDate(e);return{timestampValue:wR(t.serializer,n)}}if(e instanceof aC){const n=new aC(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:wR(t.serializer,n)}}if(e instanceof JM)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof QM)return{bytesValue:vR(t.serializer,e._byteString)};if(e instanceof UM){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:SR(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof eD)return n=e,r=t,{mapValue:{fields:{[HC]:{stringValue:YC},[QC]:{arrayValue:{values:n.toArray().map(e=>{if("number"!=typeof e)throw r.Sc("VectorValues must only contain numeric values.");return mI(r.serializer,e)})}}}}};var n,r;throw t.Sc(`Unsupported field value: ${tC(e)}`)}(e,t)}function mD(e,t){const n={};return SC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):kC(e,(e,r)=>{const i=pD(r,t.mc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function gD(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof aC||e instanceof JM||e instanceof QM||e instanceof UM||e instanceof ZM||e instanceof eD)}function yD(e,t,n){if(!gD(n)||!eC(n)){const r=tC(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function bD(e,t,n){if((t=TN(t))instanceof XM)return t._internalPath;if("string"==typeof t)return vD(e,t);throw xD("Field path arguments must be of type string or ",e,!1,void 0,n)}const wD=new RegExp("[~\\*/\\[\\]]");function vD(e,t,n){if(t.search(wD)>=0)throw xD(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new XM(...t.split("."))._internalPath}catch(r){throw xD(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function xD(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new NT(_T.INVALID_ARGUMENT,a+e+l)}function kD(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new UM(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ED(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_D("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ED extends SD{data(){return super.data()}}function _D(e,t){return"string"==typeof t?vD(e,t):t instanceof XM?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new NT(_T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AD{}class TD extends AD{}function CD(e,t,...n){let r=[];t instanceof AD&&r.push(t),r=r.concat(n),function(e){const t=e.filter(e=>e instanceof RD).length,n=e.filter(e=>e instanceof jD).length;if(t>1||t>0&&n>0)throw new NT(_T.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class jD extends TD{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new jD(e,t,n)}_apply(e){const t=this._parse(e);return UD(e._query,t),new BM(e.firestore,e.converter,$j(e._query,t))}_parse(e){const t=aD(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new NT(_T.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){BD(o,s);const t=[];for(const n of o)t.push(LD(r,e,n));a={arrayValue:{values:t}}}else a=LD(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||BD(o,s),a=function(e,t,n,r=!1){return pD(n,e.Cc(r?4:3,t))}(n,t,o,"in"===s||"not-in"===s);return kj.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function ID(e,t,n){const r=t,i=_D("where",e);return jD._create(i,r,n)}class RD extends AD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new RD(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Sj.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)UD(n,i),n=$j(n,i)}(e._query,t),new BM(e.firestore,e.converter,$j(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class OD extends TD{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new OD(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new NT(_T.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new NT(_T.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wj(t,n)}(e._query,this._field,this._direction);return new BM(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Vj(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function PD(e,t="asc"){const n=t,r=_D("orderBy",e);return OD._create(r,n)}class MD extends TD{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new MD(e,t,n)}_apply(e){return new BM(e.firestore,e.converter,Yj(e._query,this._limit,this._limitType))}}function DD(e){return function(e,t){if(t<=0)throw new NT(_T.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}("limit",e),MD._create("limit",e,"F")}function LD(e,t,n){if("string"==typeof(n=TN(n))){if(""===n)throw new NT(_T.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wj(t)&&-1!==n.indexOf("/"))throw new NT(_T.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(HT.fromString(n));if(!YT.isDocumentKey(r))throw new NT(_T.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return oj(e,new YT(r))}if(n instanceof UM)return oj(e,n._key);throw new NT(_T.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tC(n)}.`)}function BD(e,t){if(!Array.isArray(e)||0===e.length)throw new NT(_T.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function UD(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new NT(_T.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new NT(_T.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class FD{convertValue(e,t="none"){switch(XC(e)){case 0:return null;case 1:return e.booleanValue;case 2:return PC(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(MC(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xT(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return kC(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){const t=e.fields?.[QC].arrayValue?.values?.map(e=>PC(e.doubleValue));return new eD(t)}convertGeoPoint(e){return new JM(PC(e.latitude),PC(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=zC(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(VC(e));default:return null}}convertTimestamp(e){const t=OC(e);return new aC(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=HT.fromString(e);ST(qR(n),9688,{name:e});const r=new WC(n.get(1),n.get(3)),i=new YT(n.popFirst(5));return r.isEqual(t)||bT(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class VD{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qD extends SD{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new GD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(_D("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new NT(_T.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=qD._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}qD._jsonSchemaVersion="firestore/documentSnapshot/1.0",qD._jsonSchema={type:rC("string",qD._jsonSchemaVersion),bundleSource:rC("string","DocumentSnapshot"),bundleName:rC("string"),bundle:rC("string")};class GD extends qD{data(e={}){return super.data(e)}}class WD{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new VD(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new GD(this._firestore,this._userDataWriter,n.key,n,new VD(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new NT(_T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new GD(e._firestore,e._userDataWriter,n.doc.key,n.doc,new VD(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new GD(e._firestore,e._userDataWriter,t.doc.key,t.doc,new VD(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:HD(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new NT(_T.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=WD._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=LT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HD(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xT(61501,{type:e})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(e){e=nC(e,UM);const t=nC(e.firestore,KM);return function(e,t,n={}){const r=new AT;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new EM({next:a=>{s.Nu(),t.enqueueAndForget(()=>UP(e,o));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new NT(_T.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new NT(_T.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new WP(qj(n.path),s,{includeMetadataChanges:!0,qa:!0});return BP(e,o)}(await jM(e),e.asyncQueue,t,n,r)),r.promise}(YM(t),e._key).then(n=>nL(t,e,n))}WD._jsonSchemaVersion="firestore/querySnapshot/1.0",WD._jsonSchema={type:rC("string",WD._jsonSchemaVersion),bundleSource:rC("string","QuerySnapshot"),bundleName:rC("string"),bundle:rC("string")};class $D extends FD{constructor(e){super(),this.firestore=e}convertBytes(e){return new QM(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new UM(this.firestore,null,t)}}function YD(e){e=nC(e,BM);const t=nC(e.firestore,KM),n=YM(t),r=new $D(t);return ND(e._query),function(e,t,n={}){const r=new AT;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new EM({next:n=>{s.Nu(),t.enqueueAndForget(()=>UP(e,o)),n.fromCache&&"server"===r.source?i.reject(new NT(_T.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new WP(n,s,{includeMetadataChanges:!0,qa:!0});return BP(e,o)}(await jM(e),e.asyncQueue,t,n,r)),r.promise}(n,e._query).then(n=>new WD(t,r,e,n))}function QD(e,t,n){e=nC(e,UM);const r=nC(e.firestore,KM),i=zD(e.converter,t,n);return tL(r,[lD(aD(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,RI.none())])}function XD(e,t,n,...r){e=nC(e,UM);const i=nC(e.firestore,KM),s=aD(i);let o;return o="string"==typeof(t=TN(t))||t instanceof XM?fD(s,"updateDoc",e._key,t,n,r):hD(s,"updateDoc",e._key,t),tL(i,[o.toMutation(e._key,RI.exists(!0))])}function ZD(e){return tL(nC(e.firestore,KM),[new WI(e._key,RI.none())])}function JD(e,t){const n=nC(e.firestore,KM),r=VM(e),i=zD(e.converter,t);return tL(n,[lD(aD(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,RI.exists(!1))]).then(()=>r)}function eL(e,...t){e=TN(e);let n={includeMetadataChanges:!1,source:"default"},r=0;"object"!=typeof t[r]||HM(t[r])||(n=t[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(HM(t[r])){const e=t[r];t[r]=e.next?.bind(e),t[r+1]=e.error?.bind(e),t[r+2]=e.complete?.bind(e)}let s,o,a;if(e instanceof UM)o=nC(e.firestore,KM),a=qj(e._key.path),s={next:n=>{t[r]&&t[r](nL(o,e,n))},error:t[r+1],complete:t[r+2]};else{const n=nC(e,BM);o=nC(n.firestore,KM),a=n._query;const i=new $D(o);s={next:e=>{t[r]&&t[r](new WD(o,i,n,e))},error:t[r+1],complete:t[r+2]},ND(e._query)}return function(e,t,n,r){const i=new EM(r),s=new WP(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>BP(await jM(e),s)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>UP(await jM(e),s))}}(YM(o),a,i,s)}function tL(e,t){return function(e,t){const n=new AT;return e.asyncQueue.enqueueAndForget(async()=>iM(await function(e){return CM(e).then(e=>e.syncEngine)}(e),t,n)),n.promise}(YM(e),t)}function nL(e,t,n){const r=n.docs.get(t._key),i=new $D(e);return new qD(e,i,t._key,r,new VD(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=aD(e)}set(e,t,n){this._verifyNotCommitted();const r=iL(e,this._firestore),i=zD(r.converter,t,n),s=lD(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,RI.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=iL(e,this._firestore);let s;return s="string"==typeof(t=TN(t))||t instanceof XM?fD(this._dataReader,"WriteBatch.update",i._key,t,n,r):hD(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,RI.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=iL(e,this._firestore);return this._mutations=this._mutations.concat(new WI(t._key,RI.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new NT(_T.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function iL(e,t){if((e=TN(e)).firestore!==t)throw new NT(_T.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function sL(){return new uD("serverTimestamp")}function oL(...e){return new dD("arrayUnion",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(e){return YM(e=nC(e,KM)),new rL(e,t=>tL(e,t))}!function(e,t=!0){pT="12.3.0",BA(new CN("firestore",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new KM(new IT(e.getProvider("auth-internal")),new MT(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new NT(_T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new WC(e.options.projectId,t)}(i,n),i);return r={useFetchStreams:t,...r},s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),VA(dT,hT,e),VA(dT,hT,"esm2020")}();const lL=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:FD,Bytes:QM,CollectionReference:FM,DocumentReference:UM,DocumentSnapshot:qD,FieldPath:XM,FieldValue:ZM,Firestore:KM,FirestoreError:NT,GeoPoint:JM,Query:BM,QueryCompositeFilterConstraint:RD,QueryConstraint:TD,QueryDocumentSnapshot:GD,QueryFieldFilterConstraint:jD,QueryLimitConstraint:MD,QueryOrderByConstraint:OD,QuerySnapshot:WD,SnapshotMetadata:VD,Timestamp:aC,VectorValue:eD,WriteBatch:rL,_AutoId:LT,_ByteString:IC,_DatabaseId:WC,_DocumentKey:YT,_EmptyAuthCredentialsProvider:CT,_FieldPath:$T,_cast:nC,_logWarn:wT,_validateIsNotUsedTogether:XT,addDoc:JD,arrayUnion:oL,collection:zM,connectFirestoreEmulator:LM,deleteDoc:ZD,doc:VM,ensureFirestoreConfigured:YM,executeWrite:tL,getDoc:KD,getDocs:YD,getFirestore:$M,limit:DD,onSnapshot:eL,orderBy:PD,query:CD,serverTimestamp:sL,setDoc:QD,updateDoc:XD,where:ID,writeBatch:aL},Symbol.toStringTag,{value:"Module"}));
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
VA("firebase","12.3.0","app");const cL=$M(zA({apiKey:"AIzaSyCacuEPoqLi5_FYOCnbaz8RPz7HKeF8WZI",authDomain:"usdfg-app.firebaseapp.com",projectId:"usdfg-app",storageBucket:"usdfg-app.firebasestorage.app",messagingSenderId:"10599746981",appId:"1:10599746981:web:97ce124f98f9b96872c4c"}));async function uL(){try{const e=await YD(zM(cL,"challenges"));return console.log("✅ Firestore connected. Challenges found:",e.size),!0}catch(e){return console.error("❌ Firestore connection failed:",e),!1}}zM(cL,"users");const dL=async(e,t)=>{try{const n=VM(cL,"challenges",e);await XD(n,{status:t,updatedAt:aC.now()}),console.log("✅ Challenge status updated:",e,"to",t)}catch(n){throw console.error("❌ Error updating challenge status:",n),n}},hL=e=>eL(CD(zM(cL,"challenges"),PD("createdAt","desc")),t=>{const n=t.docs.map(e=>({id:e.id,...e.data()}));console.log("🔄 Real-time update: Received",n.length,"challenges"),e(n)},e=>{console.error("❌ Firestore listener error:",e)}),fL=async()=>{try{const e=CD(zM(cL,"challenges"),PD("createdAt","desc")),t=(await YD(e)).docs.map(e=>({id:e.id,...e.data()}));return console.log("📦 Fetched",t.length,"challenges"),t}catch(e){return console.error("❌ Error fetching challenges:",e),[]}},pL=async(e,t)=>{try{const n=VM(cL,"challenges",e),r=await KD(n);if(!r.exists())throw new Error("Challenge not found");const i=r.data();if(i.players&&i.players.length>=i.maxPlayers)throw new Error("Challenge already full");if(i.players&&i.players.includes(t))throw new Error("You are already in this challenge");const s=i.players?[...i.players,t]:[t],o=s.length>=i.maxPlayers,a={players:s,status:o?"in-progress":"active",joinedBy:oL(t),updatedAt:sL()};return o&&(a.resultDeadline=aC.fromDate(new Date(Date.now()+72e5)),console.log("⏰ Challenge is full! Result submission phase started (2-hour deadline)")),await XD(n,a),console.log("✅ Player joined challenge:",e),!0}catch(n){throw console.error("❌ Error joining challenge:",n),n}};async function mL(e){const t=VM(cL,"challenges",e),n=VM(cL,"challenges_archive",e),r=aL(cL);r.set(n,{refId:e,movedAt:aC.now()}),r.delete(t),await r.commit(),console.log("🗄️ Challenge archived:",e)}const gL=async(e,t,n)=>{try{const r=VM(cL,"challenges",e),i=await KD(r);if(!i.exists())throw new Error("Challenge not found");const s=i.data();if(!s.players||!s.players.includes(t))throw new Error("You are not part of this challenge");if(s.results&&s.results[t])throw new Error("You have already submitted your result");const o=s.results||{};o[t]={didWin:n,submittedAt:aC.now()},await XD(r,{results:o,updatedAt:aC.now()}),console.log("✅ Result submitted:",{challengeId:e,wallet:t,didWin:n}),Object.keys(o).length===s.maxPlayers&&await async function(e,t){try{const n=t.results||{},r=Object.keys(n);if(2!==r.length)return void console.log("⏳ Waiting for both players to submit results");const i=r[0],s=r[1],o=n[i].didWin,a=n[s].didWin,l=VM(cL,"challenges",e);if(o&&a)return await XD(l,{status:"disputed",winner:null,updatedAt:aC.now()}),void console.log("🔴 DISPUTE: Both players claim they won");if(!o&&!a)return await XD(l,{status:"completed",winner:"forfeit",updatedAt:aC.now()}),void console.log("⚠️ FORFEIT: Both players claim they lost - Suspicious collusion detected, both lose entry fees");const c=o?i:s,u=o?s:i;await XD(l,{status:"completed",winner:c,updatedAt:aC.now()}),console.log("🏆 WINNER DETERMINED:",c),console.log("📊 Updating player stats..."),console.log("   Game:",t.game,"Category:",t.category,"Prize:",t.prizePool);const d=c===t.creator?t.creatorTag:void 0,h=u===t.creator?t.creatorTag:void 0,f=wL(d),p=wL(h);console.log("   Updating winner stats:",c,"as",f||"Anonymous"),await vL(c,"win",t.prizePool,t.game,t.category,f),console.log("   Updating loser stats:",u,"as",p||"Anonymous"),await vL(u,"loss",0,t.game,t.category,p),console.log("💰 Prize pool to be released:",t.prizePool,"USDFG to",c)}catch(n){throw console.error("❌ Error determining winner:",n),n}}(e,s)}catch(r){throw console.error("❌ Error submitting result:",r),r}};const yL=async e=>{try{const t=VM(cL,"challenges",e),n=await KD(t);if(!n.exists())return;const r=n.data();if(!r.resultDeadline||"in-progress"!==r.status)return;const i=aC.now();if(!(i.toMillis()>r.resultDeadline.toMillis()))return;const s=r.results||{},o=Object.keys(s).length;if(0===o)return await XD(t,{status:"completed",winner:"forfeit",updatedAt:aC.now()}),void console.log("⚠️ DEADLINE PASSED: No results submitted - FORFEIT (no refund)");if(1===o){const e=Object.keys(s)[0];if(s[e].didWin)await XD(t,{status:"completed",winner:e,updatedAt:aC.now()}),console.log("🏆 DEADLINE PASSED: Winner by default (opponent no-show):",e);else{const n=r.players.find(t=>t!==e);await XD(t,{status:"completed",winner:n||"tie",updatedAt:aC.now()}),console.log("🏆 DEADLINE PASSED: Opponent wins (player admitted defeat, opponent no-show):",n)}}}catch(t){throw console.error("❌ Error checking result deadline:",t),t}},bL=["fuck","shit","ass","bitch","damn","hell","crap","dick","cock","pussy","nigger","nigga","fag","faggot","retard","retarded","nazi","hitler"];function wL(e){if(!e)return;const t=e.toLowerCase();for(const n of bL)if(t.includes(n))return void console.log("⚠️ Blocked inappropriate username:",e);return e.trim().slice(0,20)||void 0}async function vL(e,t,n,r,i,s){try{const o=VM(cL,"player_stats",e),a=await KD(o);if(a.exists()){const l=a.data(),c=l.wins+("win"===t?1:0),u=l.losses+("loss"===t?1:0),d=l.gamesPlayed+1,h=c/d*100,f=l.gameStats||{};f[r]||(f[r]={wins:0,losses:0,earned:0}),f[r].wins+="win"===t?1:0,f[r].losses+="loss"===t?1:0,f[r].earned+=n;const p=l.categoryStats||{};p[i]||(p[i]={wins:0,losses:0,earned:0}),p[i].wins+="win"===t?1:0,p[i].losses+="loss"===t?1:0,p[i].earned+=n;const m={wins:c,losses:u,winRate:Math.round(10*h)/10,totalEarned:l.totalEarned+n,gamesPlayed:d,lastActive:aC.now(),gameStats:f,categoryStats:p};s&&!l.displayName&&(m.displayName=s,console.log(`🔒 Username locked for ${e}: "${s}"`)),await XD(o,m),console.log(`✅ Updated player stats: ${e} - ${t} (+${n} USDFG)`)}else{const a={wallet:e,displayName:s||void 0,wins:"win"===t?1:0,losses:"loss"===t?1:0,winRate:"win"===t?100:0,totalEarned:n,gamesPlayed:1,lastActive:aC.now(),gameStats:{[r]:{wins:"win"===t?1:0,losses:"loss"===t?1:0,earned:n}},categoryStats:{[i]:{wins:"win"===t?1:0,losses:"loss"===t?1:0,earned:n}}};await QD(o,a),console.log("✅ Created new player stats:",e,"as",s||"Anonymous")}}catch(o){console.error("❌ Error updating player stats:",o)}}async function xL(e=10,t="totalEarned"){try{console.log(`📊 Fetching top ${e} players (sorted by ${t})...`);const n=CD(zM(cL,"player_stats"),PD(t,"desc"),DD(e)),r=await YD(n),i=[];return r.forEach(e=>{const t=e.data();console.log(`   Player: ${t.wallet.slice(0,8)}... - ${t.totalEarned} USDFG - ${t.winRate}% WR`),i.push(t)}),console.log(`✅ Fetched ${i.length} players total`),i}catch(n){return console.error("❌ Error fetching top players:",n),console.error("   Error details:",n),[]}}const kL=Object.freeze(Object.defineProperty({__proto__:null,addChallenge:async e=>{try{const t=await JD(zM(cL,"challenges"),{...e,createdAt:aC.now(),players:[e.creator]});return console.log("✅ Challenge created with ID:",t.id),t.id}catch(t){throw console.error("❌ Error creating challenge:",t),t}},archiveChallenge:mL,checkResultDeadline:yL,deleteChallenge:async e=>{try{const t=VM(cL,"challenges",e);await ZD(t),console.log("✅ Challenge deleted:",e)}catch(t){throw console.error("❌ Error deleting challenge:",t),t}},fetchChallenges:fL,getTopPlayers:xL,joinChallenge:pL,listenToChallenges:hL,submitChallengeResult:gL,testFirestoreConnection:uL,updateChallengeStatus:dL},Symbol.toStringTag,{value:"Module"})),SL={Bronze:"Bronze: New competitor, keep climbing!",Silver:"Silver: Solid competitor, rising star!",Gold:"Gold: Elite performer, top 10%!",Platinum:"Platinum: Legendary, the best of the best!",Ghostly:"Ghostly: Transcendent, the rarest and most mysterious tier!"};const EL=()=>{const[t,n]=v.useState("total-gains"),[r,i]=v.useState(null),[s,o]=v.useState([]),[a,l]=v.useState(!0);return v.useEffect(()=>{(async()=>{l(!0);try{let e="totalEarned";"most-wins"===t?e="wins":"total-gains"===t&&(e="totalEarned");const n=(await xL(10,e)).map((e,t)=>{return{rank:t+1,wallet:e.wallet,wins:e.wins,losses:e.losses,winRate:`${e.winRate.toFixed(1)}%`,winStreak:0,gains:e.totalEarned,rankTitle:(n=e.winRate,r=e.gamesPlayed,r<3?"Bronze":n>=90?"Ghostly":n>=80?"Platinum":n>=70?"Gold":n>=60?"Silver":"Bronze")};var n,r});o(n)}catch(e){console.error("Failed to fetch leaderboard:",e),o([])}finally{l(!1)}})()},[t]),e.jsx("section",{className:"py-20 bg-card",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("h2",{className:"text-3xl md:text-4xl font-extrabold mb-2 drop-shadow-glow",children:["USDFG ",e.jsx("span",{className:"text-primary",children:"LEADERBOARD"})]}),e.jsx("div",{className:"mx-auto mb-4 h-1 w-40 rounded-full bg-gradient-to-r from-cyan-400 via-purple-500 to-cyan-400 animate-pulse shadow-[0_0_32px_#22d3ee99] shimmer-underline"}),e.jsxs("p",{className:"text-cyan-200 max-w-2xl mx-auto text-lg font-semibold mb-2",children:["No usernames. No profiles. Just your wallet, your skill, your record.",e.jsx(rN,{children:e.jsxs(iN,{children:[e.jsx(sN,{asChild:!0,children:e.jsx("span",{className:"ml-2 cursor-pointer text-cyan-400",children:"ⓘ"})}),e.jsx(oN,{className:"bg-black/80 text-cyan-100 border-cyan-400/40",children:"Your wallet is your identity. No personal data, no registration, no tracking."})]})})]}),e.jsx("p",{className:"text-cyan-400 max-w-2xl mx-auto text-base font-medium",children:"Only skill matters. No bots. No aliases. Every win is on-chain."})]}),e.jsxs("div",{className:"max-w-5xl mx-auto relative",children:[e.jsx("div",{className:"pointer-events-none absolute inset-0 z-10 rounded-2xl overflow-hidden",children:e.jsx("div",{className:"absolute top-0 left-0 w-full h-1/3 bg-gradient-to-b from-white/30 to-transparent opacity-30 animate-glass-reflection"})}),e.jsx("div",{className:"flex flex-wrap justify-center mb-6 border-b border-cyan-800/60",children:[{id:"most-wins",label:"Most Wins"},{id:"total-gains",label:"Total Skill Rewards"}].map(r=>e.jsx(dy,{variant:t===r.id?"default":"ghost",className:"rounded-none rounded-t-md font-bold tracking-wide px-6 py-2 text-lg "+(t===r.id?"bg-gradient-to-r from-cyan-400 to-purple-500 text-black shadow-[0_0_16px_#22d3ee99]":"text-cyan-300 hover:text-white"),onClick:()=>n(r.id),children:r.label},r.id))}),e.jsx("div",{className:"overflow-x-auto rounded-2xl bg-gradient-to-br from-white/10 to-[#00ffff22] border-2 border-cyan-400/40 shadow-2xl backdrop-blur-md p-2 relative neon-outline",children:e.jsxs(X_,{children:[e.jsx(Z_,{children:e.jsxs(eN,{children:[e.jsx(tN,{className:"w-12 text-center",children:"Rank"}),e.jsx(tN,{className:"text-left",children:"Wallet"}),e.jsx(tN,{className:"text-center",children:"Wins"}),e.jsx(tN,{className:"text-center",children:"Losses"}),e.jsx(tN,{className:"text-center",children:"Win Rate"}),e.jsx(tN,{className:"text-center",children:"Streak"}),e.jsx(tN,{className:"w-36 text-center",style:{overflow:"visible",position:"relative"},children:e.jsx("div",{className:"flex items-center justify-center gap-1 relative",children:"Skill Rewards (USDFG)"})}),e.jsx(tN,{className:"w-24 text-center",children:"Tier"})]})}),e.jsx(J_,{children:a?e.jsx(eN,{children:e.jsx(nN,{colSpan:8,className:"text-center py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-400"}),e.jsx("p",{className:"text-cyan-300",children:"Loading leaderboard..."})]})})}):0===s.length?e.jsx(eN,{children:e.jsx(nN,{colSpan:8,className:"text-center py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(wt,{className:"w-16 h-16 text-cyan-400/50"}),e.jsx("p",{className:"text-cyan-300 text-lg font-semibold",children:"No players yet!"}),e.jsx("p",{className:"text-gray-400",children:"Be the first to complete a challenge and claim the top spot."})]})})}):s.map((t,n)=>{const s=`${t.wallet.slice(0,6)}...${t.wallet.slice(-4)}`;return t.rankTitle,SL[t.rankTitle]||t.rankTitle,e.jsxs(eN,{className:"relative group transition-transform duration-200 "+(n<3?"z-10 animate-glow-row":""),style:n<3?{boxShadow:"0 0 32px 8px var(--tier-glow-"+t.rankTitle.toLowerCase()+")"}:{},children:[e.jsx(nN,{className:"text-center font-bold text-lg",children:t.rank}),e.jsxs(nN,{className:"font-mono text-sm flex items-center gap-2",children:[e.jsx("span",{children:s}),e.jsx(rN,{children:e.jsxs(iN,{children:[e.jsx(sN,{asChild:!0,children:e.jsx(at,{className:"w-4 h-4 cursor-pointer hover:text-cyan-400",onClick:()=>{navigator.clipboard.writeText(t.wallet),i(n),setTimeout(()=>i(null),1200)}})}),e.jsx(oN,{className:"bg-black/80 text-cyan-100 border-cyan-400/40",children:r===n?"Copied!":"Copy wallet address"})]})})]}),e.jsx(nN,{className:"text-center",children:t.wins}),e.jsx(nN,{className:"text-center",children:t.losses}),e.jsx(nN,{className:"text-center",children:t.winRate}),e.jsx(nN,{className:"text-center",children:t.winStreak}),e.jsx(nN,{className:"text-center font-bold text-cyan-300",children:(o=t.gains,o>=1?o.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):o>=.01?o.toLocaleString(void 0,{minimumFractionDigits:4,maximumFractionDigits:4}):o.toLocaleString(void 0,{minimumFractionDigits:6,maximumFractionDigits:6}))}),e.jsx(nN,{className:"text-center",children:e.jsx(rN,{children:e.jsxs(iN,{children:[e.jsx(sN,{asChild:!0,children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full font-semibold text-white shadow-md border-2 ${"Gold"===t.rankTitle?"bg-gradient-to-r from-yellow-400 to-yellow-600 border-yellow-400":"Silver"===t.rankTitle?"bg-gradient-to-r from-gray-300 to-gray-500 border-gray-300":"Bronze"===t.rankTitle?"bg-gradient-to-r from-amber-700 to-yellow-500 border-amber-700":"bg-gradient-to-r from-cyan-400 to-blue-600 border-cyan-400"} animate-fade-in-up`,children:["Gold"===t.rankTitle&&e.jsx(lt,{className:"w-5 h-5 text-yellow-300 drop-shadow-glow animate-bounce"}),"Silver"===t.rankTitle&&e.jsx(lt,{className:"w-5 h-5 text-gray-200 drop-shadow-glow animate-bounce"}),"Bronze"===t.rankTitle&&e.jsx(lt,{className:"w-5 h-5 text-amber-400 drop-shadow-glow animate-bounce"}),"Platinum"===t.rankTitle&&e.jsx(lt,{className:"w-5 h-5 text-cyan-200 drop-shadow-glow animate-bounce"}),"Ghostly"===t.rankTitle&&e.jsx(lt,{className:"w-5 h-5 text-purple-400 drop-shadow-glow animate-bounce",style:{filter:"drop-shadow(0 0 8px #a78bfa) drop-shadow(0 0 16px #fff)"}}),e.jsx("span",{className:"ml-1",children:t.rankTitle})]})}),e.jsx(oN,{children:e.jsxs("span",{children:[t.rankTitle," Tier: ","Gold"===t.rankTitle?"Top 1% - Legendary performance":"Silver"===t.rankTitle?"Top 10% - Elite competitor":"Bronze"===t.rankTitle?"Top 25% - Proven winner":"Platinum - Consistent excellence"]})})]})})})]},t.wallet);var o})})]})}),e.jsx("div",{className:"flex justify-center mt-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("span",{className:"w-8 h-8 flex items-center justify-center bg-primary text-background rounded-md",children:"1"}),e.jsx("span",{className:"w-8 h-8 flex items-center justify-center text-muted-foreground hover:text-white transition-colors rounded-md cursor-pointer",children:"2"}),e.jsx("span",{className:"w-8 h-8 flex items-center justify-center text-muted-foreground hover:text-white transition-colors rounded-md cursor-pointer",children:"3"}),e.jsx("span",{className:"w-8 h-8 flex items-center justify-center text-muted-foreground hover:text-white transition-colors rounded-md cursor-pointer",children:"Next ›"})]})})]})]})})},_L=()=>{const t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};return e.jsx("section",{className:"py-20 px-4 text-white relative overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx($_.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-3xl md:text-4xl font-extrabold tracking-wide mb-2 text-center drop-shadow-glow",children:"Supported Games"}),e.jsx($_.div,{initial:{width:0},animate:{width:"200px"},transition:{duration:.8,delay:.3},className:"mx-auto mb-12 h-1 rounded-full bg-gradient-to-r from-cyan-400 via-purple-500 to-cyan-400 animate-pulse shadow-[0_0_32px_#22d3ee99]"}),e.jsxs($_.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.5},className:"relative max-w-2xl mx-auto mb-12 px-6 py-6 rounded-2xl bg-gradient-to-br from-white/10 to-[#00ffff22] border border-cyan-400/40 shadow-xl backdrop-blur-md text-center",children:[e.jsx("p",{className:"text-xl md:text-2xl font-extrabold text-white mb-2 drop-shadow-glow",children:"The Arena Is Open. Any Game. No Excuses."}),e.jsxs("p",{className:"text-md md:text-lg text-cyan-100 leading-relaxed font-medium",children:["Dominate in the games you know. Rise through the ones they don't expect.",e.jsx("br",{}),"USDFG supports verified competitive play across all major genres — sports, fighting, racing, and more.",e.jsx("br",{}),"If it can be played with skill, it can be challenged.",e.jsx("br",{}),e.jsx("span",{className:"text-cyan-300 font-semibold",children:"Custom rules. Public results. Smart contract enforcement."}),e.jsx("br",{}),e.jsx("span",{className:"text-white font-bold",children:"No odds. No bets. Just performance."})]})]}),e.jsx($_.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-stretch h-full",children:[{image:"/assets/usdfg-sports-game-competition.png",title:"🏀 Sports Game Challenge",challenges:"Compete across major sports genres. Outplay the competition. Only the best walk away.",alt:"USDFG sports game competition - dominate head-to-head matches"},{image:"/assets/usdfg-fighting-game-tournament.png",title:"🥋 Fighting Game Challenge",challenges:"Every move counts. No gimmicks, no RNG — just pure skill.",alt:"USDFG fighting game tournament - master combos and counters"},{image:"/assets/usdfg-racing-game-challenge.png",title:"🏎️ Racing Game Challenge",challenges:"Time is your enemy. Every millisecond earned, not given.",alt:"USDFG racing game challenge - test your precision and speed"},{image:"/assets/usdfg-shooting-game-battle.png",title:"🔫 Shooter Game Challenge",challenges:"Clutch moments. Custom chaos. Only your aim decides the outcome.",alt:"USDFG shooting game battle - prove your aim and reflexes"}].map((n,r)=>e.jsxs($_.div,{variants:t,className:"group relative h-full flex flex-col",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-purple-500/20 rounded-xl blur-xl group-hover:blur-2xl transition-all duration-500 animate-pulse"}),e.jsxs("div",{className:"relative bg-[#0d0d0d]/80 backdrop-blur-sm border border-cyan-500/30 rounded-xl p-6 shadow-[0_0_16px_rgba(72,216,255,0.2)] hover:shadow-[0_0_32px_rgba(72,216,255,0.4)] transition-all duration-500 hover:scale-[1.02] hover:border-cyan-500/50 h-full flex flex-col",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:n.image.replace(".png",".webp"),alt:n.alt,className:"w-full h-48 object-cover rounded-lg mb-4 shadow-lg",loading:"lazy",decoding:"async"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent rounded-lg"})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("h3",{className:"text-xl font-bold mb-2 flex items-center gap-2 group-hover:text-cyan-400 transition-colors duration-300",children:[e.jsx("span",{className:"animate-bounce",children:n.title.split(" ")[0]}),e.jsx("span",{children:n.title.split(" ").slice(1).join(" ")})]}),e.jsx("p",{className:"text-gray-300 whitespace-pre-line leading-relaxed",children:n.challenges})]})]})]},r))})]})})},NL=()=>{my();const t=v.useRef(null),[n,r]=v.useState(!1);return v.useEffect(()=>{const e=t.current;if(!e)return;const n=new window.IntersectionObserver(([e])=>{e.isIntersecting&&(r(!0),n.disconnect())},{threshold:.2});return n.observe(e),()=>n.disconnect()},[]),e.jsx("section",{className:"py-20 bg-gradient-to-r from-card to-background",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs("section",{className:"flex flex-col items-center py-14 px-4",children:[e.jsx("div",{className:"flex justify-center mb-8 relative w-full",style:{alignItems:"center",minHeight:"340px"},children:e.jsx("div",{className:"relative rounded-xl overflow-hidden flex items-center justify-center",style:{minHeight:"300px"},children:e.jsx("img",{src:"/assets/usdfg-enter-the-challenge-arcade.webp",alt:"USDFG Mascot Entering the Challenge Arena",className:"w-full max-w-3xl rounded-xl",style:{display:"block",margin:"0 auto"},loading:"lazy",decoding:"async"})})}),e.jsx("p",{className:"text-center text-sm text-neutral-400 mt-2 italic",children:"Step in. Only the skilled walk out."})]}),e.jsxs("p",{className:"text-center text-lg text-white font-semibold mt-12",children:["Ready to ",e.jsx("span",{className:"text-purple-400",children:"Game"}),", ",e.jsx("span",{className:"text-blue-400",children:"Earn"}),", and ",e.jsx("span",{className:"text-purple-400",children:"Conquer"}),"?"]}),e.jsx(_,{to:"/app",className:"flex justify-center",children:e.jsx("button",{className:"mt-4 px-6 py-2 text-sm font-semibold bg-gradient-to-r from-cyan-400 to-purple-500 text-black rounded-full shadow-lg transition-all duration-200 hover:scale-105 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-cyan-400/60",children:"Enter the Arena →"})}),e.jsx("div",{className:"flex justify-center mt-8",children:e.jsxs("div",{className:"relative max-w-2xl w-full",children:[e.jsx("div",{className:"absolute inset-0 rounded-xl blur-2xl bg-gradient-to-r from-cyan-400/10 via-purple-500/10 to-cyan-400/10 z-0",style:{filter:"blur(24px)"}}),e.jsxs("blockquote",{className:"relative z-10 text-center text-neutral-300 italic font-medium px-4 py-6",children:['"I built USDFG to reward the ones who never begged for a seat. No mercy. No reruns. If you\'re waiting for permission, you already lost."',e.jsx("br",{}),e.jsx("span",{className:"block mt-2 text-xs text-neutral-500",children:"— Hussein A."})]})]})})]})})})};var AL,TL,CL,jL,IL,RL={exports:{}};function OL(){if(TL)return AL;TL=1;return AL="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function PL(){if(jL)return CL;jL=1;var e=OL();function t(){}function n(){}return n.resetWarningCache=t,CL=function(){function r(t,n,r,i,s,o){if(o!==e){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function i(){return r}r.isRequired=r;var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s}}function ML(){return IL||(IL=1,RL.exports=PL()()),RL.exports}const DL=k(ML());var LL,BL;var UL=function(){if(BL)return LL;BL=1;var e,t=b(),n=(e=t)&&"object"==typeof e&&"default"in e?e.default:e;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=!("undefined"==typeof window||!window.document||!window.document.createElement);return LL=function(e,s,o){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof s)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==o&&"function"!=typeof o)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(a){if("function"!=typeof a)throw new Error("Expected WrappedComponent to be a React component.");var l,c=[];function u(){l=e(c.map(function(e){return e.props})),d.canUseDOM?s(l):o&&(l=o(l))}var d=function(e){var t,r;function i(){return e.apply(this,arguments)||this}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.peek=function(){return l},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=l;return l=void 0,c=[],e};var s=i.prototype;return s.UNSAFE_componentWillMount=function(){c.push(this),u()},s.componentDidUpdate=function(){u()},s.componentWillUnmount=function(){var e=c.indexOf(this);c.splice(e,1),u()},s.render=function(){return n.createElement(a,this.props)},i}(t.PureComponent);return r(d,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(a)+")"),r(d,"canUseDOM",i),d}}}();const FL=k(UL);var zL,VL;var qL=function(){if(VL)return zL;VL=1;var e="undefined"!=typeof Element,t="function"==typeof Map,n="function"==typeof Set,r="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function i(s,o){if(s===o)return!0;if(s&&o&&"object"==typeof s&&"object"==typeof o){if(s.constructor!==o.constructor)return!1;var a,l,c,u;if(Array.isArray(s)){if((a=s.length)!=o.length)return!1;for(l=a;0!==l--;)if(!i(s[l],o[l]))return!1;return!0}if(t&&s instanceof Map&&o instanceof Map){if(s.size!==o.size)return!1;for(u=s.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;for(u=s.entries();!(l=u.next()).done;)if(!i(l.value[1],o.get(l.value[0])))return!1;return!0}if(n&&s instanceof Set&&o instanceof Set){if(s.size!==o.size)return!1;for(u=s.entries();!(l=u.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(o)){if((a=s.length)!=o.length)return!1;for(l=a;0!==l--;)if(s[l]!==o[l])return!1;return!0}if(s.constructor===RegExp)return s.source===o.source&&s.flags===o.flags;if(s.valueOf!==Object.prototype.valueOf&&"function"==typeof s.valueOf&&"function"==typeof o.valueOf)return s.valueOf()===o.valueOf();if(s.toString!==Object.prototype.toString&&"function"==typeof s.toString&&"function"==typeof o.toString)return s.toString()===o.toString();if((a=(c=Object.keys(s)).length)!==Object.keys(o).length)return!1;for(l=a;0!==l--;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(e&&s instanceof Element)return!1;for(l=a;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!s.$$typeof)&&!i(s[c[l]],o[c[l]]))return!1;return!0}return s!=s&&o!=o}return zL=function(e,t){try{return i(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}}();const GL=k(qL);
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var WL,HL;var KL=function(){if(HL)return WL;HL=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;return WL=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(r,i){for(var s,o,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(r),l=1;l<arguments.length;l++){for(var c in s=Object(arguments[l]))t.call(s,c)&&(a[c]=s[c]);if(e){o=e(s);for(var u=0;u<o.length;u++)n.call(s,o[u])&&(a[o[u]]=s[o[u]])}}return a},WL}();const $L=k(KL);var YL="bodyAttributes",QL="htmlAttributes",XL="titleAttributes",ZL={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(ZL).map(function(e){return ZL[e]});var JL,eB,tB,nB,rB="charset",iB="cssText",sB="href",oB="http-equiv",aB="innerHTML",lB="itemprop",cB="name",uB="property",dB="rel",hB="src",fB="target",pB={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},mB="defaultTitle",gB="defer",yB="encodeSpecialCharacters",bB="onChangeClientState",wB="titleTemplate",vB=Object.keys(pB).reduce(function(e,t){return e[pB[t]]=t,e},{}),xB=[ZL.NOSCRIPT,ZL.SCRIPT,ZL.STYLE],kB="data-react-helmet",SB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EB=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NB=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},AB=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},TB=function(e){var t=OB(e,ZL.TITLE),n=OB(e,wB);if(n&&t)return n.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var r=OB(e,mB);return t||r||void 0},CB=function(e){return OB(e,bB)||function(){}},jB=function(e,t){return t.filter(function(t){return void 0!==t[e]}).map(function(t){return t[e]}).reduce(function(e,t){return _B({},e,t)},{})},IB=function(e,t){return t.filter(function(e){return void 0!==e[ZL.BASE]}).map(function(e){return e[ZL.BASE]}).reverse().reduce(function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var s=r[i].toLowerCase();if(-1!==e.indexOf(s)&&n[s])return t.concat(n)}return t},[])},RB=function(e,t,n){var r={};return n.filter(function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&BB("Helmet: "+e+' should be of type "Array". Instead found type "'+SB(t[e])+'"'),!1)}).map(function(t){return t[e]}).reverse().reduce(function(e,n){var i={};n.filter(function(e){for(var n=void 0,s=Object.keys(e),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();-1===t.indexOf(l)||n===dB&&"canonical"===e[n].toLowerCase()||l===dB&&"stylesheet"===e[l].toLowerCase()||(n=l),-1===t.indexOf(a)||a!==aB&&a!==iB&&a!==lB||(n=a)}if(!n||!e[n])return!1;var c=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][c]&&(i[n][c]=!0,!0)}).reverse().forEach(function(t){return e.push(t)});for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=$L({},r[a],i[a]);r[a]=l}return e},[]).reverse()},OB=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},PB=(JL=Date.now(),function(e){var t=Date.now();t-JL>16?(JL=t,e(t)):setTimeout(function(){PB(e)},0)}),MB=function(e){return clearTimeout(e)},DB="undefined"!=typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||PB:globalThis.requestAnimationFrame||PB,LB="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||MB:globalThis.cancelAnimationFrame||MB,BB=function(e){return console&&"function"==typeof console.warn&&console.warn(e)},UB=null,FB=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,s=e.linkTags,o=e.metaTags,a=e.noscriptTags,l=e.onChangeClientState,c=e.scriptTags,u=e.styleTags,d=e.title,h=e.titleAttributes;qB(ZL.BODY,r),qB(ZL.HTML,i),VB(d,h);var f={baseTag:GB(ZL.BASE,n),linkTags:GB(ZL.LINK,s),metaTags:GB(ZL.META,o),noscriptTags:GB(ZL.NOSCRIPT,a),scriptTags:GB(ZL.SCRIPT,c),styleTags:GB(ZL.STYLE,u)},p={},m={};Object.keys(f).forEach(function(e){var t=f[e],n=t.newTags,r=t.oldTags;n.length&&(p[e]=n),r.length&&(m[e]=f[e].oldTags)}),t&&t(),l(e,p,m)},zB=function(e){return Array.isArray(e)?e.join(""):e},VB=function(e,t){void 0!==e&&document.title!==e&&(document.title=zB(e)),qB(ZL.TITLE,t)},qB=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(kB),i=r?r.split(","):[],s=[].concat(i),o=Object.keys(t),a=0;a<o.length;a++){var l=o[a],c=t[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),-1===i.indexOf(l)&&i.push(l);var u=s.indexOf(l);-1!==u&&s.splice(u,1)}for(var d=s.length-1;d>=0;d--)n.removeAttribute(s[d]);i.length===s.length?n.removeAttribute(kB):n.getAttribute(kB)!==o.join(",")&&n.setAttribute(kB,o.join(","))}},GB=function(e,t){var n=document.head||document.querySelector(ZL.HEAD),r=n.querySelectorAll(e+"["+kB+"]"),i=Array.prototype.slice.call(r),s=[],o=void 0;return t&&t.length&&t.forEach(function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===aB)n.innerHTML=t.innerHTML;else if(r===iB)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var a=void 0===t[r]?"":t[r];n.setAttribute(r,a)}n.setAttribute(kB,"true"),i.some(function(e,t){return o=t,n.isEqualNode(e)})?i.splice(o,1):s.push(n)}),i.forEach(function(e){return e.parentNode.removeChild(e)}),s.forEach(function(e){return n.appendChild(e)}),{oldTags:i,newTags:s}},WB=function(e){return Object.keys(e).reduce(function(t,n){var r=void 0!==e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r},"")},HB=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(function(t,n){return t[pB[n]||n]=e[n],t},t)},KB=function(e,t,n){switch(e){case ZL.TITLE:return{toComponent:function(){return e=t.title,n=t.titleAttributes,(r={key:e})[kB]=!0,i=HB(n,r),[S.createElement(ZL.TITLE,i,e)];var e,n,r,i},toString:function(){return function(e,t,n,r){var i=WB(n),s=zB(t);return i?"<"+e+" "+kB+'="true" '+i+">"+AB(s,r)+"</"+e+">":"<"+e+" "+kB+'="true">'+AB(s,r)+"</"+e+">"}(e,t.title,t.titleAttributes,n)}};case YL:case QL:return{toComponent:function(){return HB(t)},toString:function(){return WB(t)}};default:return{toComponent:function(){return function(e,t){return t.map(function(t,n){var r,i=((r={key:n})[kB]=!0,r);return Object.keys(t).forEach(function(e){var n=pB[e]||e;if(n===aB||n===iB){var r=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:r}}else i[n]=t[e]}),S.createElement(e,i)})}(e,t)},toString:function(){return function(e,t,n){return t.reduce(function(t,r){var i=Object.keys(r).filter(function(e){return!(e===aB||e===iB)}).reduce(function(e,t){var i=void 0===r[t]?t:t+'="'+AB(r[t],n)+'"';return e?e+" "+i:i},""),s=r.innerHTML||r.cssText||"",o=-1===xB.indexOf(e);return t+"<"+e+" "+kB+'="true" '+i+(o?"/>":">"+s+"</"+e+">")},"")}(e,t,n)}}}},$B=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,s=e.linkTags,o=e.metaTags,a=e.noscriptTags,l=e.scriptTags,c=e.styleTags,u=e.title,d=void 0===u?"":u,h=e.titleAttributes;return{base:KB(ZL.BASE,t,r),bodyAttributes:KB(YL,n,r),htmlAttributes:KB(QL,i,r),link:KB(ZL.LINK,s,r),meta:KB(ZL.META,o,r),noscript:KB(ZL.NOSCRIPT,a,r),script:KB(ZL.SCRIPT,l,r),style:KB(ZL.STYLE,c,r),title:KB(ZL.TITLE,{title:d,titleAttributes:h},r)}},YB=FL(function(e){return{baseTag:IB([sB,fB],e),bodyAttributes:jB(YL,e),defer:OB(e,gB),encode:OB(e,yB),htmlAttributes:jB(QL,e),linkTags:RB(ZL.LINK,[dB,sB],e),metaTags:RB(ZL.META,[cB,rB,oB,uB,lB],e),noscriptTags:RB(ZL.NOSCRIPT,[aB],e),onChangeClientState:CB(e),scriptTags:RB(ZL.SCRIPT,[hB,aB],e),styleTags:RB(ZL.STYLE,[iB],e),title:TB(e),titleAttributes:jB(XL,e)}},function(e){UB&&LB(UB),e.defer?UB=DB(function(){FB(e,function(){UB=null})}):(FB(e),UB=null)},$B)(function(){return null}),QB=(eB=YB,nB=tB=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return!GL(this.props,e)},t.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case ZL.SCRIPT:case ZL.NOSCRIPT:return{innerHTML:t};case ZL.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},t.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,i=e.newChildProps,s=e.nestedChildren;return _B({},r,((t={})[n.type]=[].concat(r[n.type]||[],[_B({},i,this.mapNestedChildrenToProps(n,s))]),t))},t.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,s=e.newChildProps,o=e.nestedChildren;switch(r.type){case ZL.TITLE:return _B({},i,((t={})[r.type]=o,t.titleAttributes=_B({},s),t));case ZL.BODY:return _B({},i,{bodyAttributes:_B({},s)});case ZL.HTML:return _B({},i,{htmlAttributes:_B({},s)})}return _B({},i,((n={})[r.type]=_B({},s),n))},t.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=_B({},t);return Object.keys(e).forEach(function(t){var r;n=_B({},n,((r={})[t]=e[t],r))}),n},t.prototype.warnOnInvalidChildren=function(e,t){return!0},t.prototype.mapChildrenToProps=function(e,t){var n=this,r={};return S.Children.forEach(e,function(e){if(e&&e.props){var i=e.props,s=i.children,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(function(t,n){return t[vB[n]||n]=e[n],t},t)}(NB(i,["children"]));switch(n.warnOnInvalidChildren(e,s),e.type){case ZL.LINK:case ZL.META:case ZL.NOSCRIPT:case ZL.SCRIPT:case ZL.STYLE:r=n.flattenArrayTypeChildren({child:e,arrayTypeChildren:r,newChildProps:o,nestedChildren:s});break;default:t=n.mapObjectTypeChildren({child:e,newProps:t,newChildProps:o,nestedChildren:s})}}}),t=this.mapArrayTypeChildrenToProps(r,t)},t.prototype.render=function(){var e=this.props,t=e.children,n=NB(e,["children"]),r=_B({},n);return t&&(r=this.mapChildrenToProps(t,r)),S.createElement(eB,r)},EB(t,null,[{key:"canUseDOM",set:function(e){eB.canUseDOM=e}}]),t}(S.Component),tB.propTypes={base:DL.object,bodyAttributes:DL.object,children:DL.oneOfType([DL.arrayOf(DL.node),DL.node]),defaultTitle:DL.string,defer:DL.bool,encodeSpecialCharacters:DL.bool,htmlAttributes:DL.object,link:DL.arrayOf(DL.object),meta:DL.arrayOf(DL.object),noscript:DL.arrayOf(DL.object),onChangeClientState:DL.func,script:DL.arrayOf(DL.object),style:DL.arrayOf(DL.object),title:DL.string,titleAttributes:DL.object,titleTemplate:DL.string},tB.defaultProps={defer:!0,encodeSpecialCharacters:!0},tB.peek=eB.peek,tB.rewind=function(){var e=eB.rewind();return e||(e=$B({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),e},nB);QB.renderStatic=QB.rewind;const XB=()=>{const t="https://usdfg.pro/assets/usdfg-og-banner.webp",n="https://usdfg.pro/";return e.jsxs(e.Fragment,{children:[e.jsxs(QB,{children:[e.jsx("title",{children:"USDFGAMING – Skill-Based Crypto Gaming Platform | Game. Earn. Conquer."}),e.jsx("meta",{name:"description",content:"USDFGAMING is the elite, skill-based crypto gaming platform. Compete in verified challenges, earn USDFG, and prove your skill. No gambling. No chance. 100% on-chain rewards."}),e.jsx("meta",{name:"keywords",content:"USDFG, USDFG, skill-based crypto gaming, earn from skill not luck, leaderboard, non-custodial, fair play, Game. Earn. Conquer., USDFGAMING, gaming token"}),e.jsx("link",{rel:"canonical",href:n}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:site_name",content:"USDFGAMING"}),e.jsx("meta",{property:"og:url",content:n}),e.jsx("meta",{property:"og:title",content:"USDFGAMING – Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{property:"og:description",content:"Compete in verified challenges, earn USDFG, and prove your skill. No gambling, 100% on-chain."}),e.jsx("meta",{property:"og:image",content:t}),e.jsx("meta",{property:"og:image:type",content:"image/webp"}),e.jsx("meta",{property:"og:image:width",content:"1200"}),e.jsx("meta",{property:"og:image:height",content:"630"}),e.jsx("meta",{property:"og:image:alt",content:"USDFG mascot entering neon arcade: ENTER THE CHALLENGE"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:site",content:"@USDFGAMING"}),e.jsx("meta",{name:"twitter:url",content:n}),e.jsx("meta",{name:"twitter:title",content:"USDFGAMING – Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{name:"twitter:description",content:"Compete in verified challenges, earn USDFG, and prove your skill. No gambling, 100% on-chain."}),e.jsx("meta",{name:"twitter:image",content:t}),e.jsx("script",{type:"application/ld+json",children:`\n          {\n            "@context": "https://schema.org",\n            "@graph": [\n              {\n                "@type": "Organization",\n                "name": "USDFGAMING",\n                "url": "${n}",\n                "logo": "${t}",\n                "sameAs": [\n                  "https://twitter.com/USDFGAMING",\n                  "https://t.me/+TPjhAyJiAF9mZTI0",\n                  "https://instagram.com/usdfgaming",\n                  "https://www.tiktok.com/@usdfgames"\n                ]\n              },\n              {\n                "@type": "WebSite",\n                "url": "${n}",\n                "potentialAction": {\n                  "@type": "SearchAction",\n                  "target": "${n}search?q={search_term_string}",\n                  "query-input": "required name=search_term_string"\n                }\n              }\n            ]\n          }\n        `})]}),e.jsx(hy,{}),e.jsxs("main",{id:"main-content",role:"main","aria-label":"Homepage Main Content",className:"min-h-screen bg-background flex-1",children:[e.jsx("section",{"aria-label":"Hero Section",children:e.jsx(yy,{})}),e.jsx("section",{"aria-label":"About Section",children:e.jsx(by,{})}),e.jsx("section",{"aria-label":"Platform Features Section",children:e.jsx(wy,{})}),e.jsx("section",{"aria-label":"Challenge System Section",children:e.jsx(Y_,{})}),e.jsx("section",{"aria-label":"Leaderboard Preview Section",children:e.jsx(EL,{})}),e.jsx("section",{"aria-label":"Tokenomics Section",children:e.jsx(Q_,{})}),e.jsx("section",{"aria-label":"Game Categories Section",children:e.jsx(_L,{})}),e.jsx("section",{"aria-label":"CTA Section",children:e.jsx(NL,{})})]}),e.jsx(py,{isRevealed:!0})]})},ZB={},JB=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),i=n?.nonce||n?.getAttribute("nonce");r=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in ZB)return;ZB[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,i&&r.setAttribute("nonce",i),document.head.appendChild(r),t?new Promise((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&i(e.reason);return e().catch(i)})},eU=new rl("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new rl("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const tU=new rl("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new rl("So11111111111111111111111111111111111111112"),new rl("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const nU=e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)});var rU,iU={};var sU=(rU||(rU=1,Object.defineProperty(iU,"__esModule",{value:!0}),iU.toBigIntLE=function(e){{const t=Buffer.from(e);t.reverse();const n=t.toString("hex");return 0===n.length?BigInt(0):BigInt(`0x${n}`)}},iU.toBigIntBE=function(e){{const t=e.toString("hex");return 0===t.length?BigInt(0):BigInt(`0x${t}`)}},iU.toBufferLE=function(e,t){{const n=e.toString(16),r=Buffer.from(n.padStart(2*t,"0").slice(0,2*t),"hex");return r.reverse(),r}},iU.toBufferBE=function(e,t){{const n=e.toString(16);return Buffer.from(n.padStart(2*t,"0").slice(0,2*t),"hex")}}),iU);const oU=(aU=8,e=>{const t=Os.blob(aU,e),{encode:n,decode:r}=nU(t),i=t;return i.decode=(e,t)=>{const n=r(e,t);return sU.toBigIntLE(Buffer.from(n))},i.encode=(e,t,r)=>{const i=sU.toBufferLE(e,aU);return n(i,t,r)},i});var aU;const lU=e=>{const t=Os.blob(32,e),{encode:n,decode:r}=nU(t),i=t;return i.decode=(e,t)=>{const n=r(e,t);return new rl(n)},i.encode=(e,t,r)=>{const i=e.toBuffer();return n(i,t,r)},i};class cU extends Error{constructor(e){super(e)}}class uU extends cU{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}const dU=Os.struct([Os.u32("mintAuthorityOption"),lU("mintAuthority"),oU("supply"),Os.u8("decimals"),(e=>{const t=Os.u8(e),{encode:n,decode:r}=nU(t),i=t;return i.decode=(e,t)=>!!r(e,t),i.encode=(e,t,r)=>{const i=Number(e);return n(i,t,r)},i})("isInitialized"),Os.u32("freezeAuthorityOption"),lU("freezeAuthority")]);async function hU(e,t,n=!1,r=eU,i=tU){if(!n&&!rl.isOnCurve(t.toBuffer()))throw new uU;const[s]=await rl.findProgramAddress([t.toBuffer(),r.toBuffer(),e.toBuffer()],i);return s}dU.span;const fU=new rl("2KL4BKvUtDmABvuvRopkCEb33myWM1W9BGodAZ82RWDT"),pU=new rl("3SeLoDGsajuQUt2pzSkZV7LmB7gKtckmrD693U69kcUd"),mU=new rl("7iGZRCHmVTFt9kRn5bc9C2cvDGVp2ZdDYUQsiRfDuspX"),gU={ADMIN:Buffer.from("admin"),PRICE_ORACLE:Buffer.from("price_oracle"),CHALLENGE:Buffer.from("challenge"),ESCROW_WALLET:Buffer.from("escrow_wallet")},yU=({isConnected:t,onConnect:n,onDisconnect:r,compact:i=!1})=>{const{publicKey:s,connected:o,connecting:a,disconnect:l,select:c,wallets:u}=kh(),{connection:d}=Bd(),[h,f]=v.useState(null),[p,m]=v.useState(null);if(v.useEffect(()=>{if("undefined"!=typeof window&&window.phantom?.solana?.isPhantom&&!o&&!a){console.log("👻 Phantom detected in mobile browser - auto-connecting...");const e=u.find(e=>"Phantom"===e.adapter.name);e&&c(e.adapter.name)}},[u,o,a,c]),v.useEffect(()=>{o&&s?(n(),d.getBalance(s).then(e=>{f(e/Md)}).catch(e=>{console.error("❌ SOL balance fetch failed:",e),f(null)}),hU(mU,s).then(e=>d.getTokenAccountBalance(e)).then(e=>{const t=e.value.uiAmount||0;m(t)}).catch(e=>{console.error("❌ USDFG balance fetch failed:",e),m(0)})):o||(f(null),m(null),r())},[o,s,n,r,d]),o&&s)return i?e.jsxs("button",{onClick:()=>l(),className:"px-2 py-1.5 bg-green-500/20 text-green-400 border border-green-500/30 rounded-md text-xs font-medium hover:bg-green-500/30 transition-colors flex items-center gap-1",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-green-400 rounded-full"}),e.jsxs("span",{className:"hidden sm:inline",children:[s.toString().slice(0,4),"..."]}),e.jsx("span",{className:"sm:hidden",children:"Connected"})]}):e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm text-gray-400",children:[s.toString().slice(0,8),"...",s.toString().slice(-8)]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-cyan-400 font-bold text-sm",children:null!==p?`${p.toLocaleString()} USDFG`:"Loading..."}),e.jsx("div",{className:"text-gray-400 text-xs",children:null!==h?`${h.toFixed(4)} SOL`:"Loading..."})]})})]}),e.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 border border-green-500/30 rounded text-xs",children:"🟢 Connected"}),e.jsx(ty,{className:"px-3 py-1 border border-gray-600 text-white rounded hover:bg-gray-800 transition-colors"})]});const g="undefined"!=typeof window&&/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),y="undefined"!=typeof window&&window.phantom?.solana?.isPhantom,b=()=>{if(g&&!y){const e=window.location.href;window.location.href=`https://phantom.app/ul/browse/${e}`}};return e.jsx("div",{className:"flex flex-col space-y-2",children:i?g&&!y?e.jsx("button",{onClick:b,className:"px-2.5 py-1.5 bg-cyan-500/20 text-cyan-400 border border-cyan-500/30 rounded-md text-xs font-medium hover:bg-cyan-500/30 transition-colors",children:"Connect Wallet"}):e.jsx("div",{className:"wallet-adapter-button-trigger-wrapper",children:e.jsx(ry,{className:"!px-2.5 !py-1.5 !bg-cyan-500/20 !text-cyan-400 !border !border-cyan-500/30 !rounded-md !text-xs !font-medium hover:!bg-cyan-500/30 !transition-colors !min-w-0",children:"Connect Wallet"})}):e.jsxs(e.Fragment,{children:[g&&!y?e.jsxs("button",{onClick:b,className:"w-full px-4 py-3 bg-gradient-to-r from-cyan-400 to-purple-500 text-black font-bold rounded-lg hover:brightness-110 transition-all flex items-center justify-center space-x-2 border-2 border-purple-400 shadow-lg",style:{minHeight:"48px",fontSize:"16px"},children:[e.jsx("span",{style:{fontSize:"20px"},children:"👻"}),e.jsx("span",{children:"Connect Wallet"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ry,{className:"px-4 py-2 bg-gradient-to-r from-cyan-400 to-purple-500 text-black font-semibold rounded-lg hover:brightness-110 transition-all disabled:opacity-50",children:"Connect Wallet"}),a&&e.jsx("div",{className:"text-sm text-blue-400 bg-blue-500/10 border border-blue-500/20 rounded p-2",children:"🔗 Please approve the connection in your wallet popup."})]}),g&&!y&&e.jsx("div",{className:"text-xs text-gray-400 text-center mt-2",children:"Opens in Phantom browser"})]})})};new nd(Pd("devnet"),"confirmed");var bU,wU={exports:{}};var vU=function(){if(bU)return wU.exports;bU=1;const e=/[\p{Lu}]/u,t=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,r=/([\p{Alpha}\p{N}_]|$)/u,i=/[_.\- ]+/,s=new RegExp("^"+i.source),o=new RegExp(i.source+r.source,"gu"),a=new RegExp("\\d+"+r.source,"gu"),l=(r,i)=>{if("string"!=typeof r&&!Array.isArray(r))throw new TypeError("Expected the input to be `string | string[]`");if(i={pascalCase:!1,preserveConsecutiveUppercase:!1,...i},0===(r=Array.isArray(r)?r.map(e=>e.trim()).filter(e=>e.length).join("-"):r.trim()).length)return"";const l=!1===i.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(i.locale),c=!1===i.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(i.locale);if(1===r.length)return i.pascalCase?c(r):l(r);return r!==l(r)&&(r=((n,r,i)=>{let s=!1,o=!1,a=!1;for(let l=0;l<n.length;l++){const c=n[l];s&&e.test(c)?(n=n.slice(0,l)+"-"+n.slice(l),s=!1,a=o,o=!0,l++):o&&a&&t.test(c)?(n=n.slice(0,l-1)+"-"+n.slice(l-1),a=o,o=!1,s=!0):(s=r(c)===c&&i(c)!==c,a=o,o=i(c)===c&&r(c)!==c)}return n})(r,l,c)),r=r.replace(s,""),r=i.preserveConsecutiveUppercase?((e,t)=>(n.lastIndex=0,e.replace(n,e=>t(e))))(r,l):l(r),i.pascalCase&&(r=c(r.charAt(0))+r.slice(1)),((e,t)=>(o.lastIndex=0,a.lastIndex=0,e.replace(o,(e,n)=>t(n)).replace(a,e=>t(e))))(r,c)};return wU.exports=l,wU.exports.default=l,wU.exports}();const xU=k(vU);var kU,SU={},EU={};function _U(){if(kU)return EU;kU=1;class e{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function t(e,t){return t.property?e+"["+t.property+"]":e}EU.Layout=e,EU.nameWithProperty=t,EU.bindConstructorLayout=function(t,n){if("function"!=typeof t)throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(n&&n instanceof e))throw new TypeError("layout must be a Layout");if(n.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=n,n.boundConstructor_=t,n.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(e,t){return n.encode(this,e,t)},writable:!0}),Object.defineProperty(t,"decode",{value:function(e,t){return n.decode(e,t)},writable:!0})};class n extends e{isCount(){throw new Error("ExternalLayout is abstract")}}class r extends n{constructor(e,t){if(void 0===e&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t){void 0===t&&(t=0);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}class i extends n{constructor(t,n,r){if(!(t instanceof e))throw new TypeError("layout must be a Layout");if(void 0===n)n=0;else if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=n}isCount(){return this.layout instanceof s||this.layout instanceof o}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class s extends e{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class o extends e{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}class a extends e{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeIntLE(e,n,this.span),this.span}}class l extends e{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeIntBE(e,n,this.span),this.span}}const c=Math.pow(2,32);function u(e){const t=Math.floor(e/c);return{hi32:t,lo32:e-t*c}}function d(e,t){return e*c+t}class h extends e{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return d(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=u(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class f extends e{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);return d(e.readUInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,n){void 0===n&&(n=0);const r=u(e);return t.writeUInt32BE(r.hi32,n),t.writeUInt32BE(r.lo32,n+4),8}}class p extends e{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return d(e.readInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=u(e);return t.writeUInt32LE(r.lo32,n),t.writeInt32LE(r.hi32,n+4),8}}class m extends e{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);return d(e.readInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,n){void 0===n&&(n=0);const r=u(e);return t.writeInt32BE(r.hi32,n),t.writeUInt32BE(r.lo32,n+4),8}}class g extends e{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatLE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeFloatLE(e,n),4}}class y extends e{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatBE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeFloatBE(e,n),4}}class b extends e{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleLE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeDoubleLE(e,n),8}}class w extends e{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleBE(t)}encode(e,t,n){return void 0===n&&(n=0),t.writeDoubleBE(e,n),8}}class v extends e{constructor(t,r,i){if(!(t instanceof e))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof n&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(r instanceof n)&&0<t.span&&(s=r*t.span),super(s,i),this.elementLayout=t,this.count=r}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0,i=this.count;if(i instanceof n&&(i=i.decode(e,t)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let n=0;for(;n<i;)r+=this.elementLayout.getSpan(e,t+r),++n}return r}decode(e,t){void 0===t&&(t=0);const r=[];let i=0,s=this.count;for(s instanceof n&&(s=s.decode(e,t));i<s;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return r}encode(e,t,r){void 0===r&&(r=0);const i=this.elementLayout,s=e.reduce((e,n)=>e+i.encode(n,t,r+e),0);return this.count instanceof n&&this.count.encode(e.length,t,r),s}}class x extends e{constructor(t,n,r){if(!Array.isArray(t)||!t.reduce((t,n)=>t&&n instanceof e,!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof n&&void 0===r&&(r=n,n=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((e,t)=>e+t.getSpan(),0)}catch(s){}super(i,n),this.fields=t,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i},0)}catch(r){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,s=0;for(const o of this.fields){let r=o.span;if(s=0<r?r:0,void 0!==o.property){const i=e[o.property];void 0!==i&&(s=o.encode(i,t,n),0>r&&(r=o.getSpan(t,n)))}i=n,n+=r}return i+s-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class k{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class S extends k{constructor(e,t){if(!(e instanceof n&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class E extends e{constructor(t,r,a){const l=t instanceof s||t instanceof o;if(l)t=new S(new i(t));else if(t instanceof n&&t.isCount())t=new S(t);else if(!(t instanceof k))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===r&&(r=null),!(null===r||r instanceof e))throw new TypeError("defaultLayout must be null or a Layout");if(null!==r){if(0>r.span)throw new Error("defaultLayout must have constant span");void 0===r.property&&(r=r.replicate("content"))}let c=-1;r&&(c=r.span,0<=c&&l&&(c+=t.layout.span)),super(c,a),this.discriminator=t,this.usesPrefixDiscriminator=l,this.defaultLayout=r,this.registry={};let u=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return u(e)},this.configGetSourceVariant=function(e){u=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let s=this.registry[i];if(void 0===s){let o=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(o=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[s.property]=this.defaultLayout.decode(e,t+o)}else n=s.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=r.layout.span),r.encode(e[r.property],t,n),s+i.encode(e[i.property],t,n+s)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new _(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return Buffer.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class _ extends e{constructor(t,n,r,i){if(!(t instanceof E))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===i&&(i=r,r=null),r){if(!(r instanceof e))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof i)throw new TypeError("variant must have a String property")}let s=t.span;0>t.span&&(s=r?r.span:0,0<=s&&t.usesPrefixDiscriminator&&(s+=t.discriminator.layout.span)),super(s,i),this.union=t,this.variant=n,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function N(e){return 0>e&&(e+=4294967296),e}class A extends e{constructor(e,t,n){if(!(e instanceof s||e instanceof o))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===n&&(n=t,t=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let r=0;this._packedSetValue=function(e){return r=N(e),this},this._packedGetValue=function(){return r}}decode(e,t){const n=this.makeDestinationObject();void 0===t&&(t=0);const r=this.word.decode(e,t);this._packedSetValue(r);for(const i of this.fields)void 0!==i.property&&(n[i.property]=i.decode(r));return n}encode(e,t,n){void 0===n&&(n=0);const r=this.word.decode(t,n);this._packedSetValue(r);for(const i of this.fields)if(void 0!==i.property){const t=e[i.property];void 0!==t&&i.encode(t)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new T(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new C(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class T{constructor(e,t,n){if(!(e instanceof A))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const r=8*e.span,i=e.fields.reduce((e,t)=>e+t.bits,0);if(t+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-t),this.wordMask=N(this.valueMask<<this.start),this.property=n}decode(){return N(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==N(e&this.valueMask))throw new TypeError(t("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=N(e<<this.start);this.container._packedSetValue(N(n&~this.wordMask)|r)}}class C extends T{constructor(e,t){super(e,1,t)}decode(e,t){return!!T.prototype.decode.call(this,e,t)}encode(e){return"boolean"==typeof e&&(e=+e),T.prototype.encode.call(this,e)}}class j extends e{constructor(e,t){if(!(e instanceof n&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof n||(r=e),super(r,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,r,i){let s=this.length;if(this.length instanceof n&&(s=e.length),!Buffer.isBuffer(e)||s!==e.length)throw new TypeError(t("Blob.encode",this)+" requires (length "+s+") Buffer as src");if(i+s>r.length)throw new RangeError("encoding overruns Buffer");return r.write(e.toString("hex"),i,s,"hex"),this.length instanceof n&&this.length.encode(s,r,i),s}}class I extends e{constructor(e){super(-1,e)}getSpan(e,t){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");void 0===t&&(t=0);let n=t;for(;n<e.length&&0!==e[n];)n+=1;return 1+n-t}decode(e,t,n){void 0===t&&(t=0);let r=this.getSpan(e,t);return e.slice(t,t+r-1).toString("utf-8")}encode(e,t,n){void 0===n&&(n=0),"string"!=typeof e&&(e=e.toString());const r=new Buffer(e,"utf8"),i=r.length;if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return r.copy(t,n),t[n+i]=0,i+1}}class R extends e{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return void 0===t&&(t=0),e.length-t}decode(e,t,n){void 0===t&&(t=0);let r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return e.slice(t,t+r).toString("utf-8")}encode(e,t,n){void 0===n&&(n=0),"string"!=typeof e&&(e=e.toString());const r=new Buffer(e,"utf8"),i=r.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>t.length)throw new RangeError("encoding overruns Buffer");return r.copy(t,n),i}}class O extends e{constructor(e,t){super(0,t),this.value=e}decode(e,t,n){return this.value}encode(e,t,n){return 0}}return EU.ExternalLayout=n,EU.GreedyCount=r,EU.OffsetLayout=i,EU.UInt=s,EU.UIntBE=o,EU.Int=a,EU.IntBE=l,EU.Float=g,EU.FloatBE=y,EU.Double=b,EU.DoubleBE=w,EU.Sequence=v,EU.Structure=x,EU.UnionDiscriminator=k,EU.UnionLayoutDiscriminator=S,EU.Union=E,EU.VariantLayout=_,EU.BitStructure=A,EU.BitField=T,EU.Boolean=C,EU.Blob=j,EU.CString=I,EU.UTF8=R,EU.Constant=O,EU.greedy=(e,t)=>new r(e,t),EU.offset=(e,t,n)=>new i(e,t,n),EU.u8=e=>new s(1,e),EU.u16=e=>new s(2,e),EU.u24=e=>new s(3,e),EU.u32=e=>new s(4,e),EU.u40=e=>new s(5,e),EU.u48=e=>new s(6,e),EU.nu64=e=>new h(e),EU.u16be=e=>new o(2,e),EU.u24be=e=>new o(3,e),EU.u32be=e=>new o(4,e),EU.u40be=e=>new o(5,e),EU.u48be=e=>new o(6,e),EU.nu64be=e=>new f(e),EU.s8=e=>new a(1,e),EU.s16=e=>new a(2,e),EU.s24=e=>new a(3,e),EU.s32=e=>new a(4,e),EU.s40=e=>new a(5,e),EU.s48=e=>new a(6,e),EU.ns64=e=>new p(e),EU.s16be=e=>new l(2,e),EU.s24be=e=>new l(3,e),EU.s32be=e=>new l(4,e),EU.s40be=e=>new l(5,e),EU.s48be=e=>new l(6,e),EU.ns64be=e=>new m(e),EU.f32=e=>new g(e),EU.f32be=e=>new y(e),EU.f64=e=>new b(e),EU.f64be=e=>new w(e),EU.struct=(e,t,n)=>new x(e,t,n),EU.bits=(e,t,n)=>new A(e,t,n),EU.seq=(e,t,n)=>new v(e,t,n),EU.union=(e,t,n)=>new E(e,t,n),EU.unionLayoutDiscriminator=(e,t)=>new S(e,t),EU.blob=(e,t)=>new j(e,t),EU.cstr=e=>new I(e),EU.utf8=(e,t)=>new R(e,t),EU.const=(e,t)=>new O(e,t),EU}const NU=x(Dd);var AU;var TU=(AU||(AU=1,function(e){var t=SU&&SU.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.struct=e.f64=e.f32=e.i32=e.u32=e.i16=e.u16=e.i8=e.u8=void 0,e.u64=a,e.i64=function(e){return new o(8,!0,e)},e.u128=function(e){return new o(16,!1,e)},e.i128=function(e){return new o(16,!0,e)},e.u256=function(e){return new o(32,!1,e)},e.i256=function(e){return new o(32,!0,e)},e.publicKey=function(e){return new l((0,n.blob)(32),e=>new r.PublicKey(e),e=>e.toBuffer(),e)},e.option=function(e,t){return new c(e,t)},e.bool=function(e){return new l((0,n.u8)(),u,d,e)},e.vec=function(e,t){const r=(0,n.u32)("length"),i=(0,n.struct)([r,(0,n.seq)(e,(0,n.offset)(r,-r.span),"values")]);return new l(i,({values:e})=>e,e=>({values:e}),t)},e.tagged=function(e,t,r){const i=(0,n.struct)([a("tag"),t.replicate("data")]);return new l(i,function({tag:t,data:n}){if(!t.eq(e))throw new Error("Invalid tag, expected: "+e.toString("hex")+", got: "+t.toString("hex"));return n},t=>({tag:e,data:t}),r)},e.vecU8=h,e.str=function(e){return new l(h(),e=>e.toString("utf-8"),e=>Buffer.from(e,"utf-8"),e)},e.rustEnum=function(e,t,r){const i=(0,n.union)(null!=r?r:(0,n.u8)(),t);return e.forEach((e,t)=>i.addVariant(t,e,e.property)),i},e.array=function(e,t,r){const i=(0,n.struct)([(0,n.seq)(e,t,"values")]);return new l(i,({values:e})=>e,e=>({values:e}),r)},e.map=function(e,t,r){const i=(0,n.u32)("length"),s=(0,n.struct)([i,(0,n.seq)(new f(e,t),(0,n.offset)(i,-i.span),"values")]);return new l(s,({values:e})=>new Map(e),e=>({values:Array.from(e.entries())}),r)};const n=_U(),r=NU,i=t(ss());var s=_U();Object.defineProperty(e,"u8",{enumerable:!0,get:function(){return s.u8}}),Object.defineProperty(e,"i8",{enumerable:!0,get:function(){return s.s8}}),Object.defineProperty(e,"u16",{enumerable:!0,get:function(){return s.u16}}),Object.defineProperty(e,"i16",{enumerable:!0,get:function(){return s.s16}}),Object.defineProperty(e,"u32",{enumerable:!0,get:function(){return s.u32}}),Object.defineProperty(e,"i32",{enumerable:!0,get:function(){return s.s32}}),Object.defineProperty(e,"f32",{enumerable:!0,get:function(){return s.f32}}),Object.defineProperty(e,"f64",{enumerable:!0,get:function(){return s.f64}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return s.struct}});class o extends n.Layout{constructor(e,t,r){super(e,r),this.blob=(0,n.blob)(e),this.signed=t}decode(e,t=0){const n=new i.default(this.blob.decode(e,t),10,"le");return this.signed?n.fromTwos(8*this.span).clone():n}encode(e,t,n=0){return this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(Buffer,"le",this.span),t,n)}}function a(e){return new o(8,!1,e)}class l extends n.Layout{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}class c extends n.Layout{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=(0,n.u8)()}encode(e,t,n=0){return null==e?this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+1)+1)}decode(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+1);throw new Error("Invalid option "+this.property)}getSpan(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return 1;if(1===n)return this.layout.getSpan(e,t+1)+1;throw new Error("Invalid option "+this.property)}}function u(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}function d(e){return e?1:0}function h(e){const t=(0,n.u32)("length"),r=(0,n.struct)([t,(0,n.blob)((0,n.offset)(t,-t.span),"data")]);return new l(r,({data:e})=>e,e=>({data:e}),e)}class f extends n.Layout{constructor(e,t,n){super(e.span+t.span,n),this.keyLayout=e,this.valueLayout=t}decode(e,t){return t=t||0,[this.keyLayout.decode(e,t),this.valueLayout.decode(e,t+this.keyLayout.getSpan(e,t))]}encode(e,t,n){n=n||0;const r=this.keyLayout.encode(e[0],t,n);return r+this.valueLayout.encode(e[1],t,n+r)}getSpan(e,t){return this.keyLayout.getSpan(e,t)+this.valueLayout.getSpan(e,t)}}}(SU)),SU);
/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function CU(e){let t=e.length;for(;--t>=0;)e[t]=0}CU(new Array(576));CU(new Array(60));CU(new Array(512));CU(new Array(256));CU(new Array(29));CU(new Array(30));var jU=(e,t,n,r)=>{let i=65535&e,s=e>>>16&65535,o=0;for(;0!==n;){o=n>2e3?2e3:n,n-=o;do{i=i+t[r++]|0,s=s+i|0}while(--o);i%=65521,s%=65521}return i|s<<16};const IU=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var RU=(e,t,n,r)=>{const i=IU,s=r+n;e^=-1;for(let o=r;o<s;o++)e=e>>>8^i[255&(e^t[o])];return-1^e},OU={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},PU={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const MU=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var DU=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)MU(n,t)&&(e[t]=n[t])}}return e},LU=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,s=e.length;r<s;r++){let t=e[r];n.set(t,i),i+=t.length}return n};let BU=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(AW){BU=!1}const UU=new Uint8Array(256);for(let TW=0;TW<256;TW++)UU[TW]=TW>=252?6:TW>=248?5:TW>=240?4:TW>=224?3:TW>=192?2:1;UU[254]=UU[254]=1;var FU=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,s,o=e.length,a=0;for(i=0;i<o;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<o&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),s=0,i=0;s<a;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<o&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},zU=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,i;const s=new Array(2*n);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){s[i++]=t;continue}let o=UU[t];if(o>4)s[i++]=65533,r+=o-1;else{for(t&=2===o?31:3===o?15:7;o>1&&r<n;)t=t<<6|63&e[r++],o--;o>1?s[i++]=65533:t<65536?s[i++]=t:(t-=65536,s[i++]=55296|t>>10&1023,s[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&BU)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(s,i)},VU=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+UU[e[n]]>t?n:t};var qU=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const GU=16209;var WU=function(e,t){let n,r,i,s,o,a,l,c,u,d,h,f,p,m,g,y,b,w,v,x,k,S,E,_;const N=e.state;n=e.next_in,E=e.input,r=n+(e.avail_in-5),i=e.next_out,_=e.output,s=i-(t-e.avail_out),o=i+(e.avail_out-257),a=N.dmax,l=N.wsize,c=N.whave,u=N.wnext,d=N.window,h=N.hold,f=N.bits,p=N.lencode,m=N.distcode,g=(1<<N.lenbits)-1,y=(1<<N.distbits)-1;e:do{f<15&&(h+=E[n++]<<f,f+=8,h+=E[n++]<<f,f+=8),b=p[h&g];t:for(;;){if(w=b>>>24,h>>>=w,f-=w,w=b>>>16&255,0===w)_[i++]=65535&b;else{if(!(16&w)){if(64&w){if(32&w){N.mode=16191;break e}e.msg="invalid literal/length code",N.mode=GU;break e}b=p[(65535&b)+(h&(1<<w)-1)];continue t}for(v=65535&b,w&=15,w&&(f<w&&(h+=E[n++]<<f,f+=8),v+=h&(1<<w)-1,h>>>=w,f-=w),f<15&&(h+=E[n++]<<f,f+=8,h+=E[n++]<<f,f+=8),b=m[h&y];;){if(w=b>>>24,h>>>=w,f-=w,w=b>>>16&255,16&w){if(x=65535&b,w&=15,f<w&&(h+=E[n++]<<f,f+=8,f<w&&(h+=E[n++]<<f,f+=8)),x+=h&(1<<w)-1,x>a){e.msg="invalid distance too far back",N.mode=GU;break e}if(h>>>=w,f-=w,w=i-s,x>w){if(w=x-w,w>c&&N.sane){e.msg="invalid distance too far back",N.mode=GU;break e}if(k=0,S=d,0===u){if(k+=l-w,w<v){v-=w;do{_[i++]=d[k++]}while(--w);k=i-x,S=_}}else if(u<w){if(k+=l+u-w,w-=u,w<v){v-=w;do{_[i++]=d[k++]}while(--w);if(k=0,u<v){w=u,v-=w;do{_[i++]=d[k++]}while(--w);k=i-x,S=_}}}else if(k+=u-w,w<v){v-=w;do{_[i++]=d[k++]}while(--w);k=i-x,S=_}for(;v>2;)_[i++]=S[k++],_[i++]=S[k++],_[i++]=S[k++],v-=3;v&&(_[i++]=S[k++],v>1&&(_[i++]=S[k++]))}else{k=i-x;do{_[i++]=_[k++],_[i++]=_[k++],_[i++]=_[k++],v-=3}while(v>2);v&&(_[i++]=_[k++],v>1&&(_[i++]=_[k++]))}break}if(64&w){e.msg="invalid distance code",N.mode=GU;break e}b=m[(65535&b)+(h&(1<<w)-1)]}}break}}while(n<r&&i<o);v=f>>3,n-=v,f-=v<<3,h&=(1<<f)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<o?o-i+257:257-(i-o),N.hold=h,N.bits=f};const HU=15,KU=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),$U=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),YU=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),QU=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var XU=(e,t,n,r,i,s,o,a)=>{const l=a.bits;let c,u,d,h,f,p,m=0,g=0,y=0,b=0,w=0,v=0,x=0,k=0,S=0,E=0,_=null;const N=new Uint16Array(16),A=new Uint16Array(16);let T,C,j,I=null;for(m=0;m<=HU;m++)N[m]=0;for(g=0;g<r;g++)N[t[n+g]]++;for(w=l,b=HU;b>=1&&0===N[b];b--);if(w>b&&(w=b),0===b)return i[s++]=20971520,i[s++]=20971520,a.bits=1,0;for(y=1;y<b&&0===N[y];y++);for(w<y&&(w=y),k=1,m=1;m<=HU;m++)if(k<<=1,k-=N[m],k<0)return-1;if(k>0&&(0===e||1!==b))return-1;for(A[1]=0,m=1;m<HU;m++)A[m+1]=A[m]+N[m];for(g=0;g<r;g++)0!==t[n+g]&&(o[A[t[n+g]]++]=g);if(0===e?(_=I=o,p=20):1===e?(_=KU,I=$U,p=257):(_=YU,I=QU,p=0),E=0,g=0,m=y,f=s,v=w,x=0,d=-1,S=1<<w,h=S-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){T=m-x,o[g]+1<p?(C=0,j=o[g]):o[g]>=p?(C=I[o[g]-p],j=_[o[g]-p]):(C=96,j=0),c=1<<m-x,u=1<<v,y=u;do{u-=c,i[f+(E>>x)+u]=T<<24|C<<16|j}while(0!==u);for(c=1<<m-1;E&c;)c>>=1;if(0!==c?(E&=c-1,E+=c):E=0,g++,0===--N[m]){if(m===b)break;m=t[n+o[g]]}if(m>w&&(E&h)!==d){for(0===x&&(x=w),f+=y,v=m-x,k=1<<v;v+x<b&&(k-=N[v+x],!(k<=0));)v++,k<<=1;if(S+=1<<v,1===e&&S>852||2===e&&S>592)return 1;d=E&h,i[d]=w<<24|v<<16|f-s}}return 0!==E&&(i[f+E]=m-x<<24|64<<16),a.bits=w,0};const{Z_FINISH:ZU,Z_BLOCK:JU,Z_TREES:eF,Z_OK:tF,Z_STREAM_END:nF,Z_NEED_DICT:rF,Z_STREAM_ERROR:iF,Z_DATA_ERROR:sF,Z_MEM_ERROR:oF,Z_BUF_ERROR:aF,Z_DEFLATED:lF}=PU,cF=16180,uF=16190,dF=16191,hF=16192,fF=16194,pF=16199,mF=16200,gF=16206,yF=16209,bF=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function wF(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const vF=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<cF||t.mode>16211?1:0},xF=e=>{if(vF(e))return iF;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=cF,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,tF},kF=e=>{if(vF(e))return iF;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,xF(e)},SF=(e,t)=>{let n;if(vF(e))return iF;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?iF:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,kF(e))},EF=(e,t)=>{if(!e)return iF;const n=new wF;e.state=n,n.strm=e,n.window=null,n.mode=cF;const r=SF(e,t);return r!==tF&&(e.state=null),r};let _F,NF,AF=!0;const TF=e=>{if(AF){_F=new Int32Array(512),NF=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(XU(1,e.lens,0,288,_F,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;XU(2,e.lens,0,32,NF,0,e.work,{bits:5}),AF=!1}e.lencode=_F,e.lenbits=9,e.distcode=NF,e.distbits=5},CF=(e,t,n,r)=>{let i;const s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(t.subarray(n-r,n-r+i),s.wnext),(r-=i)?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0};var jF={inflateReset:kF,inflateReset2:SF,inflateResetKeep:xF,inflateInit:e=>EF(e,15),inflateInit2:EF,inflate:(e,t)=>{let n,r,i,s,o,a,l,c,u,d,h,f,p,m,g,y,b,w,v,x,k,S,E=0;const _=new Uint8Array(4);let N,A;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(vF(e)||!e.output||!e.input&&0!==e.avail_in)return iF;n=e.state,n.mode===dF&&(n.mode=hF),o=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,d=a,h=l,S=tF;e:for(;;)switch(n.mode){case cF:if(0===n.wrap){n.mode=hF;break}for(;u<16;){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,_[0]=255&c,_[1]=c>>>8&255,n.check=RU(n.check,_,2,0),c=0,u=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=yF;break}if((15&c)!==lF){e.msg="unknown compression method",n.mode=yF;break}if(c>>>=4,u-=4,k=8+(15&c),0===n.wbits&&(n.wbits=k),k>15||k>n.wbits){e.msg="invalid window size",n.mode=yF;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:dF,c=0,u=0;break;case 16181:for(;u<16;){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}if(n.flags=c,(255&n.flags)!==lF){e.msg="unknown compression method",n.mode=yF;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=yF;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(_[0]=255&c,_[1]=c>>>8&255,n.check=RU(n.check,_,2,0)),c=0,u=0,n.mode=16182;case 16182:for(;u<32;){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(_[0]=255&c,_[1]=c>>>8&255,_[2]=c>>>16&255,_[3]=c>>>24&255,n.check=RU(n.check,_,4,0)),c=0,u=0,n.mode=16183;case 16183:for(;u<16;){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(_[0]=255&c,_[1]=c>>>8&255,n.check=RU(n.check,_,2,0)),c=0,u=0,n.mode=16184;case 16184:if(1024&n.flags){for(;u<16;){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(_[0]=255&c,_[1]=c>>>8&255,n.check=RU(n.check,_,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(f=n.length,f>a&&(f=a),f&&(n.head&&(k=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+f),k)),512&n.flags&&4&n.wrap&&(n.check=RU(n.check,r,f,s)),a-=f,s+=f,n.length-=f),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===a)break e;f=0;do{k=r[s+f++],n.head&&k&&n.length<65536&&(n.head.name+=String.fromCharCode(k))}while(k&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=RU(n.check,r,f,s)),a-=f,s+=f,k)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===a)break e;f=0;do{k=r[s+f++],n.head&&k&&n.length<65536&&(n.head.comment+=String.fromCharCode(k))}while(k&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=RU(n.check,r,f,s)),a-=f,s+=f,k)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;u<16;){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=yF;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=dF;break;case 16189:for(;u<32;){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}e.adler=n.check=bF(c),c=0,u=0,n.mode=uF;case uF:if(0===n.havedict)return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=u,rF;e.adler=n.check=1,n.mode=dF;case dF:if(t===JU||t===eF)break e;case hF:if(n.last){c>>>=7&u,u-=7&u,n.mode=gF;break}for(;u<3;){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}switch(n.last=1&c,c>>>=1,u-=1,3&c){case 0:n.mode=16193;break;case 1:if(TF(n),n.mode=pF,t===eF){c>>>=2,u-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=yF}c>>>=2,u-=2;break;case 16193:for(c>>>=7&u,u-=7&u;u<32;){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=yF;break}if(n.length=65535&c,c=0,u=0,n.mode=fF,t===eF)break e;case fF:n.mode=16195;case 16195:if(f=n.length,f){if(f>a&&(f=a),f>l&&(f=l),0===f)break e;i.set(r.subarray(s,s+f),o),a-=f,s+=f,l-=f,o+=f,n.length-=f;break}n.mode=dF;break;case 16196:for(;u<14;){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=yF;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;u<3;){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}n.lens[T[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[T[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},S=XU(0,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,S){e.msg="invalid code lengths set",n.mode=yF;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;E=n.lencode[c&(1<<n.lenbits)-1],g=E>>>24,y=E>>>16&255,b=65535&E,!(g<=u);){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}if(b<16)c>>>=g,u-=g,n.lens[n.have++]=b;else{if(16===b){for(A=g+2;u<A;){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}if(c>>>=g,u-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=yF;break}k=n.lens[n.have-1],f=3+(3&c),c>>>=2,u-=2}else if(17===b){for(A=g+3;u<A;){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}c>>>=g,u-=g,k=0,f=3+(7&c),c>>>=3,u-=3}else{for(A=g+7;u<A;){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}c>>>=g,u-=g,k=0,f=11+(127&c),c>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=yF;break}for(;f--;)n.lens[n.have++]=k}}if(n.mode===yF)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=yF;break}if(n.lenbits=9,N={bits:n.lenbits},S=XU(1,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,S){e.msg="invalid literal/lengths set",n.mode=yF;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},S=XU(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,S){e.msg="invalid distances set",n.mode=yF;break}if(n.mode=pF,t===eF)break e;case pF:n.mode=mF;case mF:if(a>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=u,WU(e,h),o=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,n.mode===dF&&(n.back=-1);break}for(n.back=0;E=n.lencode[c&(1<<n.lenbits)-1],g=E>>>24,y=E>>>16&255,b=65535&E,!(g<=u);){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}if(y&&!(240&y)){for(w=g,v=y,x=b;E=n.lencode[x+((c&(1<<w+v)-1)>>w)],g=E>>>24,y=E>>>16&255,b=65535&E,!(w+g<=u);){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}c>>>=w,u-=w,n.back+=w}if(c>>>=g,u-=g,n.back+=g,n.length=b,0===y){n.mode=16205;break}if(32&y){n.back=-1,n.mode=dF;break}if(64&y){e.msg="invalid literal/length code",n.mode=yF;break}n.extra=15&y,n.mode=16201;case 16201:if(n.extra){for(A=n.extra;u<A;){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;E=n.distcode[c&(1<<n.distbits)-1],g=E>>>24,y=E>>>16&255,b=65535&E,!(g<=u);){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}if(!(240&y)){for(w=g,v=y,x=b;E=n.distcode[x+((c&(1<<w+v)-1)>>w)],g=E>>>24,y=E>>>16&255,b=65535&E,!(w+g<=u);){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}c>>>=w,u-=w,n.back+=w}if(c>>>=g,u-=g,n.back+=g,64&y){e.msg="invalid distance code",n.mode=yF;break}n.offset=b,n.extra=15&y,n.mode=16203;case 16203:if(n.extra){for(A=n.extra;u<A;){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=yF;break}n.mode=16204;case 16204:if(0===l)break e;if(f=h-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=yF;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),m=n.window}else m=i,p=o-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do{i[o++]=m[p++]}while(--f);0===n.length&&(n.mode=mF);break;case 16205:if(0===l)break e;i[o++]=n.length,l--,n.mode=mF;break;case gF:if(n.wrap){for(;u<32;){if(0===a)break e;a--,c|=r[s++]<<u,u+=8}if(h-=l,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?RU(n.check,i,h,o-h):jU(n.check,i,h,o-h)),h=l,4&n.wrap&&(n.flags?c:bF(c))!==n.check){e.msg="incorrect data check",n.mode=yF;break}c=0,u=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;u<32;){if(0===a)break e;a--,c+=r[s++]<<u,u+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=yF;break}c=0,u=0}n.mode=16208;case 16208:S=nF;break e;case yF:S=sF;break e;case 16210:return oF;default:return iF}return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=a,n.hold=c,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<yF&&(n.mode<gF||t!==ZU))&&CF(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?RU(n.check,i,h,e.next_out-h):jU(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===dF?128:0)+(n.mode===pF||n.mode===fF?256:0),(0===d&&0===h||t===ZU)&&S===tF&&(S=aF),S},inflateEnd:e=>{if(vF(e))return iF;let t=e.state;return t.window&&(t.window=null),e.state=null,tF},inflateGetHeader:(e,t)=>{if(vF(e))return iF;const n=e.state;return 2&n.wrap?(n.head=t,t.done=!1,tF):iF},inflateSetDictionary:(e,t)=>{const n=t.length;let r,i,s;return vF(e)?iF:(r=e.state,0!==r.wrap&&r.mode!==uF?iF:r.mode===uF&&(i=1,i=jU(i,t,n,0),i!==r.check)?sF:(s=CF(e,t,n,n),s?(r.mode=16210,oF):(r.havedict=1,tF)))},inflateInfo:"pako inflate (from Nodeca project)"};var IF=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const RF=Object.prototype.toString,{Z_NO_FLUSH:OF,Z_FINISH:PF,Z_OK:MF,Z_STREAM_END:DF,Z_NEED_DICT:LF,Z_STREAM_ERROR:BF,Z_DATA_ERROR:UF,Z_MEM_ERROR:FF}=PU;function zF(e){this.options=DU({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new qU,this.strm.avail_out=0;let n=jF.inflateInit2(this.strm,t.windowBits);if(n!==MF)throw new Error(OU[n]);if(this.header=new IF,jF.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=FU(t.dictionary):"[object ArrayBuffer]"===RF.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=jF.inflateSetDictionary(this.strm,t.dictionary),n!==MF)))throw new Error(OU[n])}zF.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(o=t===~~t?t:!0===t?PF:OF,"[object ArrayBuffer]"===RF.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=jF.inflate(n,o),s===LF&&i&&(s=jF.inflateSetDictionary(n,i),s===MF?s=jF.inflate(n,o):s===UF&&(s=LF));n.avail_in>0&&s===DF&&n.state.wrap>0&&0!==e[n.next_in];)jF.inflateReset(n),s=jF.inflate(n,o);switch(s){case BF:case UF:case LF:case FF:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(0===n.avail_out||s===DF))if("string"===this.options.to){let e=VU(n.output,n.next_out),t=n.next_out-e,i=zU(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(s!==MF||0!==a){if(s===DF)return s=jF.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},zF.prototype.onData=function(e){this.chunks.push(e)},zF.prototype.onEnd=function(e){e===MF&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=LU(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var VF={inflate:function(e,t){const n=new zF(t);if(n.push(e),n.err)throw n.msg||OU[n.err];return n.result}};const{inflate:qF}=VF;var GF,WF=qF,HF={exports:{}};var KF=(GF||(GF=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,r,s,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new i(r,s||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=new Array(s);i<s;i++)o[i]=r[i].fn;return o},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,s,o){var a=n?n+e:e;if(!this._events[a])return!1;var l,c,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,s),!0;case 6:return u.fn.call(u.context,t,r,i,s,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var s=n?n+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||o(this,s);else{for(var l=0,c=[],u=a.length;l<u;l++)(a[l].fn!==t||i&&!a[l].once||r&&a[l].context!==r)&&c.push(a[l]);c.length?this._events[s]=1===c.length?c[0]:c:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a}(HF)),HF.exports);const $F=k(KF);const YF=e=>"version"in e;function QF(e){return ms.encode(e)}function XF(e){return V.Buffer.from(e,"base64")}function ZF(e){return"accounts"in e}const JF=TU.struct([TU.publicKey("authority"),TU.vecU8("data")]);function ez(e,t,n,r){return(null==e?void 0:e.length)?e[0].name?n(e):r(e):t()}function tz(e,...t){if(e.args.length!=t.length)throw new Error("Invalid argument length");const n={};let r=0;return e.args.forEach(e=>{n[e.name]=t[r],r+=1}),n}function nz(e,t={}){e.forEach(e=>{if(ZF(e))nz(e.accounts,t[e.name]);else if(!t[e.name])throw new Error(`Account \`${e.name}\` not provided.`)})}function rz(e){return e instanceof rl?e:new rl(e)}class iz extends TypeError{constructor(e,t){let n;const{message:r,...i}=e,{path:s}=e;super(0===s.length?r:"At path: "+s.join(".")+" -- "+r),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[e,...t()]}}}function sz(e){return"object"==typeof e&&null!=e}function oz(e){return"string"==typeof e?JSON.stringify(e):""+e}function az(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:s}=t,{type:o}=n,{refinement:a,message:l="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+oz(r)+"`"}=e;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:l}}function*lz(e,t,n,r){var i;sz(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]);for(const s of e){const e=az(s,t,n,r);e&&(yield e)}}function*cz(e,t,n){void 0===n&&(n={});const{path:r=[],branch:i=[e],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(e=t.coercer(e,a),o&&"type"!==t.type&&sz(t.schema)&&sz(e)&&!Array.isArray(e)))for(const c in e)void 0===t.schema[c]&&delete e[c];let l=!0;for(const c of t.validator(e,a))l=!1,yield[c,void 0];for(let[c,u,d]of t.entries(e,a)){const t=cz(u,d,{path:void 0===c?r:[...r,c],branch:void 0===c?i:[...i,u],coerce:s,mask:o});for(const n of t)n[0]?(l=!1,yield[n[0],void 0]):s&&(u=n[1],void 0===c?e=u:e instanceof Map?e.set(c,u):e instanceof Set?e.add(u):sz(e)&&(e[c]=u))}if(l)for(const c of t.refiner(e,a))l=!1,yield[c,void 0];l&&(yield[void 0,e])}class uz{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:n,validator:r,refiner:i,coercer:s=e=>e,entries:o=function*(){}}=e;this.type=t,this.schema=n,this.entries=o,this.coercer=s,this.validator=r?(e,t)=>lz(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>lz(i(e,t),t,this,e):()=>[]}assert(e){return function(e,t){const n=fz(e,t);if(n[0])throw n[0]}(e,this)}create(e){return dz(e,this)}is(e){return hz(e,this)}mask(e){return function(e,t){const n=fz(e,t,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(e,this)}validate(e,t){return void 0===t&&(t={}),fz(e,this,t)}}function dz(e,t){const n=fz(e,t,{coerce:!0});if(n[0])throw n[0];return n[1]}function hz(e,t){return!fz(e,t)[0]}function fz(e,t,n){void 0===n&&(n={});const r=cz(e,t,n),i=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(i[0]){return[new iz(i[0],function*(){for(const e of r)e[0]&&(yield e[0])}),void 0]}return[void 0,i[1]]}function pz(e,t){return new uz({type:e,schema:null,validator:t})}function mz(e){return new uz({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+oz(e)})}function gz(e){const t=oz(e);return new uz({type:"literal",schema:e,validator:n=>n===e||"Expected the literal `"+t+"`, but received: "+oz(n)})}function yz(e){return new uz({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function bz(){return pz("number",e=>"number"==typeof e&&!isNaN(e)||"Expected a number, but received: "+oz(e))}function wz(e){return new uz({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function vz(){return pz("string",e=>"string"==typeof e||"Expected a string, but received: "+oz(e))}function xz(e){const t=Object.keys(e);return new uz({type:"type",schema:e,*entries(n){if(sz(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>sz(e)||"Expected an object, but received: "+oz(e)})}function kz(e){const t=e.map(e=>e.type).join(" | ");return new uz({type:"union",schema:null,coercer:(t,n)=>(e.find(e=>{const[n]=e.validate(t,{coerce:!0});return!n})||Sz()).coercer(t,n),validator(n,r){const i=[];for(const t of e){const[...e]=cz(n,t,r),[s]=e;if(!s[0])return[];for(const[t]of e)t&&i.push(t)}return["Expected the value to satisfy a union of `"+t+"`, but received: "+oz(n),...i]}})}function Sz(){return pz("unknown",()=>!0)}async function Ez(e,t,n){if(t.length<=99)return await _z(e,t,n);{const s=(r=t,i=99,Array.apply(0,new Array(Math.ceil(r.length/i))).map((e,t)=>r.slice(t*i,(t+1)*i)));return(await Promise.all(s.map(t=>_z(e,t,n)))).flat()}var r,i}async function _z(e,t,n){const r=null!=n?n:e.commitment,{value:i,context:s}=await e.getMultipleAccountsInfoAndContext(t,r);return i.map((e,n)=>null===e?null:{publicKey:t[n],account:e,context:s})}function Nz(e){return t=Tz(e),n=Az,r=t=>"error"in t?t:{...t,result:dz(t.result,e)},new uz({...t,coercer:(e,i)=>hz(e,n)?t.coercer(r(e,i),i):t.coercer(e,i)});var t,n,r}const Az=Tz(Sz());function Tz(e){return kz([xz({jsonrpc:gz("2.0"),id:vz(),result:e}),xz({jsonrpc:gz("2.0"),id:vz(),error:xz({code:Sz(),message:vz(),data:wz(pz("any",()=>!0))})})])}const Cz=(jz=xz({err:yz(kz([xz({}),vz()])),logs:yz(mz(vz())),accounts:wz(yz(mz(yz(xz({executable:pz("boolean",e=>"boolean"==typeof e),owner:vz(),lamports:bz(),data:mz(vz()),rentEpoch:wz(bz())}))))),unitsConsumed:wz(bz())}),Nz(xz({context:xz({slot:bz()}),value:jz})));var jz;class Iz{constructor(e,t,n=Iz.defaultOptions()){this.connection=e,this.wallet=t,this.opts=n,this.publicKey=null==t?void 0:t.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t=Iz.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,n){var r,i,s,o;if(void 0===n&&(n=this.opts),YF(e))t&&e.sign(t);else if(e.feePayer=null!==(r=e.feePayer)&&void 0!==r?r:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,t)for(const c of t)e.partialSign(c);const a=(e=await this.wallet.signTransaction(e)).serialize();try{return await Oz(this.connection,a,n)}catch(l){if(l instanceof Pz){const t=QF(YF(e)?(null===(i=e.signatures)||void 0===i?void 0:i[0])||new Uint8Array:null!==(s=e.signature)&&void 0!==s?s:new Uint8Array),n=YF(e)?0:void 0,r=await this.connection.getTransaction(t,{commitment:"confirmed",maxSupportedTransactionVersion:n});if(r){const e=null===(o=r.meta)||void 0===o?void 0:o.logMessages;throw e?new Fl(l.message,e):l}throw l}throw l}}async sendAll(e,t){var n,r,i;void 0===t&&(t=this.opts);const s=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash;let o=e.map(e=>{var t,n;if(YF(e.tx)){let t=e.tx;return e.signers&&t.sign(e.signers),t}{let r=e.tx,i=null!==(t=e.signers)&&void 0!==t?t:[];return r.feePayer=null!==(n=r.feePayer)&&void 0!==n?n:this.wallet.publicKey,r.recentBlockhash=s,i.forEach(e=>{r.partialSign(e)}),r}});const a=await this.wallet.signAllTransactions(o),l=[];for(let u=0;u<o.length;u+=1){const e=a[u],s=e.serialize();try{l.push(await Oz(this.connection,s,t))}catch(c){if(c instanceof Pz){const t=QF(YF(e)?(null===(n=e.signatures)||void 0===n?void 0:n[0])||new Uint8Array:null!==(r=e.signature)&&void 0!==r?r:new Uint8Array),s=YF(e)?0:void 0,o=await this.connection.getTransaction(t,{commitment:"confirmed",maxSupportedTransactionVersion:s});if(o){const e=null===(i=o.meta)||void 0===i?void 0:i.logMessages;throw e?new Fl(c.message,e):c}throw c}throw c}}return l}async simulate(e,t,n,r){let i,s=(await this.connection.getLatestBlockhash(null!=n?n:this.connection.commitment)).blockhash;if(YF(e)?(t&&t.length>0&&(e.sign(t),e=await this.wallet.signTransaction(e)),i=await this.connection.simulateTransaction(e,{commitment:n})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=s,t&&t.length>0&&(e=await this.wallet.signTransaction(e)),i=await async function(e,t,n,r,i){var s;n&&n.length>0&&t.sign(...n);const o=t._compile(),a=o.serialize(),l=t._serialize(a).toString("base64"),c={encoding:"base64",commitment:null!=r?r:e.commitment};if(i){const e=(Array.isArray(i)?i:o.nonProgramIds()).map(e=>e.toBase58());c.accounts={encoding:"base64",addresses:e}}n&&n.length>0&&(c.sigVerify=!0);const u=[l,c],d=dz(await e._rpcRequest("simulateTransaction",u),Cz);if("error"in d){let e;if("data"in d.error&&(e=null===(s=d.error.data)||void 0===s?void 0:s.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(d.error.message,n)}throw new Fl("failed to simulate transaction: "+d.error.message,e)}return d.result}(this.connection,e,t,n,r)),i.value.err)throw new Rz(i.value);return i.value}}class Rz extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function Oz(e,t,n){const r=n?{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot}:{};let i;const s=Date.now();for(;Date.now()-s<6e4;)try{const s=await e.sendRawTransaction(t,r);if(null==n?void 0:n.blockhash)if(0===r.maxRetries){const t=AbortSignal.timeout(15e3);i=(await e.confirmTransaction({abortSignal:t,signature:s,...n.blockhash},n&&n.commitment)).value}else i=(await e.confirmTransaction({signature:s,...n.blockhash},n&&n.commitment)).value;else i=(await e.confirmTransaction(s,n&&n.commitment)).value;if(i.err)throw new Pz(`Raw transaction ${s} failed (${JSON.stringify(i)})`);return s}catch(o){if("TimeoutError"===o.name)continue;throw o}throw Error("Transaction failed to confirm in 60s")}class Pz extends Error{constructor(e){super(e)}}function Mz(){return Iz.local()}var Dz="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},Lz={};Object.defineProperty(Lz,"__esModule",{value:!0});var Bz=Lz.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=Lz.ANCHOR_ERROR__REQUIRE_VIOLATED=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=Lz.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=Lz.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=Lz.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=Lz.ANCHOR_ERROR__CONSTRAINT_SPACE=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=Lz.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=Lz.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=Lz.ANCHOR_ERROR__CONSTRAINT_ZERO=Lz.ANCHOR_ERROR__CONSTRAINT_ADDRESS=Lz.ANCHOR_ERROR__CONSTRAINT_CLOSE=Lz.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=Lz.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=Lz.ANCHOR_ERROR__CONSTRAINT_STATE=Lz.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=Lz.ANCHOR_ERROR__CONSTRAINT_SEEDS=Lz.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=Lz.ANCHOR_ERROR__CONSTRAINT_OWNER=Lz.ANCHOR_ERROR__CONSTRAINT_RAW=Lz.ANCHOR_ERROR__CONSTRAINT_SIGNER=Lz.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=Lz.ANCHOR_ERROR__CONSTRAINT_MUT=Lz.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=Lz.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=Lz.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=Lz.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=Lz.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=Lz.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=Lz.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=Lz.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,Uz=Lz.ANCHOR_ERROR__DEPRECATED=Lz.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=Lz.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=Lz.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=Lz.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=Lz.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=Lz.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=Lz.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=Lz.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=Lz.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=Lz.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=Lz.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=Lz.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=Lz.ANCHOR_ERROR__INVALID_PROGRAM_ID=Lz.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=Lz.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=Lz.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=Lz.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=Lz.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=Lz.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=Lz.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=Lz.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=Lz.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=Lz.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=Lz.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=Lz.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=Lz.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,Fz=Lz.ANCHOR_ERROR__INSTRUCTION_MISSING=100,zz=Lz.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,Vz=Lz.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,qz=Lz.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,Gz=Lz.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,Wz=Lz.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,Hz=Lz.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,Kz=Lz.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,$z=Lz.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,Yz=Lz.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,Qz=Lz.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,Xz=Lz.ANCHOR_ERROR__CONSTRAINT_RAW=2003,Zz=Lz.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,Jz=Lz.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,eV=Lz.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,tV=Lz.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,nV=Lz.ANCHOR_ERROR__CONSTRAINT_STATE=2008,rV=Lz.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,iV=Lz.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,sV=Lz.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,oV=Lz.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,aV=Lz.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,lV=Lz.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,cV=Lz.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,uV=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,dV=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,hV=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,fV=Lz.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,pV=Lz.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,mV=Lz.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,gV=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,yV=Lz.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,bV=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,wV=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,vV=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,xV=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,kV=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,SV=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,EV=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,_V=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,NV=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,AV=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,TV=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,CV=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,jV=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,IV=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,RV=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,OV=Lz.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,PV=Lz.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;Bz=Lz.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var MV=Lz.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,DV=Lz.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,LV=Lz.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,BV=Lz.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,UV=Lz.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,FV=Lz.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,zV=Lz.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,VV=Lz.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,qV=Lz.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,GV=Lz.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,WV=Lz.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,HV=Lz.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,KV=Lz.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,$V=Lz.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,YV=Lz.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,QV=Lz.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,XV=Lz.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,ZV=Lz.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,JV=Lz.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,eq=Lz.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,tq=Lz.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,nq=Lz.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,rq=Lz.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,iq=Lz.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,sq=Lz.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,oq=Lz.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;Uz=Lz.ANCHOR_ERROR__DEPRECATED=5e3;const aq=new Map;function lq(e){return void 0!==aq.get(e)}class cq extends Error{constructor(e){super(e),this.name="IdlError"}}class uq{constructor(e){this.stack=e}static parse(e){var t;const n=/^Program (\w*) invoke/,r=/^Program \w* success/,i=[];for(let s=0;s<e.length;s++){if(r.exec(e[s])){i.pop();continue}const o=null===(t=n.exec(e[s]))||void 0===t?void 0:t[1];o&&i.push(new rl(o))}return new uq(i)}}class dq extends Error{constructor(e,t,n,r,i,s){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:e,errorMessage:t,comparedValues:s,origin:i},this._programErrorStack=uq.parse(r)}static parse(e){if(!e)return null;const t=e.findIndex(e=>e.startsWith("Program log: AnchorError"));if(-1===t)return null;const n=e[t],r=[n];let i;if(t+1<e.length)if("Program log: Left:"===e[t+1]){const n=/^Program log: (.*)$/,s=n.exec(e[t+2])[1],o=n.exec(e[t+4])[1];i=[new rl(s),new rl(o)],r.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const n=/^Program log: (Left|Right): (.*)$/,s=n.exec(e[t+1])[2],o=n.exec(e[t+2])[2];r.push(...e.slice(t+1,t+3)),i=[s,o]}const s=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),o=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),a=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(s){const[t,n,o]=s.slice(1,4),a={code:t,number:parseInt(n)};return new dq(a,o,r,e,void 0,i)}if(o){const[t,n,s,a,l]=o.slice(1,6),c={code:s,number:parseInt(a)},u={file:t,line:parseInt(n)};return new dq(c,l,r,e,u,i)}if(a){const[t,n,s,o]=a.slice(1,5),l=t,c={code:n,number:parseInt(s)};return new dq(c,o,r,e,l,i)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class hq extends Error{constructor(e,t,n){super(),this.code=e,this.msg=t,this.logs=n,n&&(this._programErrorStack=uq.parse(n))}static parse(e,t){const n=e.toString();let r,i;if(n.includes("custom program error:")){let e=n.split("custom program error: ");if(2!==e.length)return null;r=e[1]}else{const e=n.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;r=e[0].match(/([0-9]+)/g)[0]}try{i=parseInt(r)}catch(o){return null}let s=t.get(i);return void 0!==s?new hq(i,s,e.logs):(s=mq.get(i),void 0!==s?new hq(i,s,e.logs):null)}get program(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack}toString(){return this.msg}}function fq(e,t){lq("debug-logs")&&console.log("Translating error:",e);const n=dq.parse(e.logs);if(n)return n;const r=hq.parse(e,t);if(r)return r;if(e.logs){const t={get:function(t,n){return"programErrorStack"===n?t.programErrorStack.stack:"program"===n?t.programErrorStack.stack[e.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return e.programErrorStack=uq.parse(e.logs),new Proxy(e,t)}return e}const pq={InstructionMissing:Fz,InstructionFallbackNotFound:zz,InstructionDidNotDeserialize:Vz,InstructionDidNotSerialize:qz,IdlInstructionStub:Gz,IdlInstructionInvalidProgram:Wz,IdlAccountNotEmpty:Hz,EventInstructionStub:Kz,ConstraintMut:$z,ConstraintHasOne:Yz,ConstraintSigner:Qz,ConstraintRaw:Xz,ConstraintOwner:Zz,ConstraintRentExempt:Jz,ConstraintSeeds:eV,ConstraintExecutable:tV,ConstraintState:nV,ConstraintAssociated:rV,ConstraintAssociatedInit:iV,ConstraintClose:sV,ConstraintAddress:oV,ConstraintZero:aV,ConstraintTokenMint:lV,ConstraintTokenOwner:cV,ConstraintMintMintAuthority:uV,ConstraintMintFreezeAuthority:dV,ConstraintMintDecimals:hV,ConstraintSpace:fV,ConstraintAccountIsNone:pV,ConstraintTokenTokenProgram:mV,ConstraintMintTokenProgram:gV,ConstraintAssociatedTokenTokenProgram:yV,ConstraintMintGroupPointerExtension:bV,ConstraintMintGroupPointerExtensionAuthority:wV,ConstraintMintGroupPointerExtensionGroupAddress:vV,ConstraintMintGroupMemberPointerExtension:xV,ConstraintMintGroupMemberPointerExtensionAuthority:kV,ConstraintMintGroupMemberPointerExtensionMemberAddress:SV,ConstraintMintMetadataPointerExtension:EV,ConstraintMintMetadataPointerExtensionAuthority:_V,ConstraintMintMetadataPointerExtensionMetadataAddress:NV,ConstraintMintCloseAuthorityExtension:AV,ConstraintMintCloseAuthorityExtensionAuthority:TV,ConstraintMintPermanentDelegateExtension:CV,ConstraintMintPermanentDelegateExtensionDelegate:jV,ConstraintMintTransferHookExtension:IV,ConstraintMintTransferHookExtensionAuthority:RV,ConstraintMintTransferHookExtensionProgramId:OV,RequireViolated:PV,RequireEqViolated:Bz,RequireKeysEqViolated:MV,RequireNeqViolated:DV,RequireKeysNeqViolated:LV,RequireGtViolated:BV,RequireGteViolated:UV,AccountDiscriminatorAlreadySet:FV,AccountDiscriminatorNotFound:zV,AccountDiscriminatorMismatch:VV,AccountDidNotDeserialize:qV,AccountDidNotSerialize:GV,AccountNotEnoughKeys:WV,AccountNotMutable:HV,AccountOwnedByWrongProgram:KV,InvalidProgramId:$V,InvalidProgramExecutable:YV,AccountNotSigner:QV,AccountNotSystemOwned:XV,AccountNotInitialized:ZV,AccountNotProgramData:JV,AccountNotAssociatedTokenAccount:eq,AccountSysvarMismatch:tq,AccountReallocExceedsLimit:nq,AccountDuplicateReallocs:rq,DeclaredProgramIdMismatch:iq,TryingToInitPayerAsProgramAccount:sq,InvalidNumericConversion:oq,Deprecated:Uz},mq=new Map([[pq.InstructionMissing,"Instruction discriminator not provided"],[pq.InstructionFallbackNotFound,"Fallback functions are not supported"],[pq.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[pq.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[pq.IdlInstructionStub,"The program was compiled without idl instructions"],[pq.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[pq.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[pq.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[pq.ConstraintMut,"A mut constraint was violated"],[pq.ConstraintHasOne,"A has one constraint was violated"],[pq.ConstraintSigner,"A signer constraint was violated"],[pq.ConstraintRaw,"A raw constraint was violated"],[pq.ConstraintOwner,"An owner constraint was violated"],[pq.ConstraintRentExempt,"A rent exemption constraint was violated"],[pq.ConstraintSeeds,"A seeds constraint was violated"],[pq.ConstraintExecutable,"An executable constraint was violated"],[pq.ConstraintState,"Deprecated Error, feel free to replace with something else"],[pq.ConstraintAssociated,"An associated constraint was violated"],[pq.ConstraintAssociatedInit,"An associated init constraint was violated"],[pq.ConstraintClose,"A close constraint was violated"],[pq.ConstraintAddress,"An address constraint was violated"],[pq.ConstraintZero,"Expected zero account discriminant"],[pq.ConstraintTokenMint,"A token mint constraint was violated"],[pq.ConstraintTokenOwner,"A token owner constraint was violated"],[pq.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[pq.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[pq.ConstraintMintDecimals,"A mint decimals constraint was violated"],[pq.ConstraintSpace,"A space constraint was violated"],[pq.ConstraintAccountIsNone,"A required account for the constraint is None"],[pq.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[pq.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[pq.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[pq.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[pq.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[pq.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[pq.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[pq.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[pq.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[pq.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[pq.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[pq.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[pq.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[pq.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[pq.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[pq.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[pq.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[pq.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[pq.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[pq.RequireViolated,"A require expression was violated"],[pq.RequireEqViolated,"A require_eq expression was violated"],[pq.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[pq.RequireNeqViolated,"A require_neq expression was violated"],[pq.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[pq.RequireGtViolated,"A require_gt expression was violated"],[pq.RequireGteViolated,"A require_gte expression was violated"],[pq.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[pq.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[pq.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[pq.AccountDidNotDeserialize,"Failed to deserialize the account"],[pq.AccountDidNotSerialize,"Failed to serialize the account"],[pq.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[pq.AccountNotMutable,"The given account is not mutable"],[pq.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[pq.InvalidProgramId,"Program ID was not as expected"],[pq.InvalidProgramExecutable,"Program account is not executable"],[pq.AccountNotSigner,"The given account did not sign"],[pq.AccountNotSystemOwned,"The given account is not owned by the system program"],[pq.AccountNotInitialized,"The program expected this account to be already initialized"],[pq.AccountNotProgramData,"The given account is not a program data account"],[pq.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[pq.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[pq.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[pq.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[pq.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[pq.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[pq.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[pq.Deprecated,"The API being used is deprecated and should no longer be used"]]);class gq{static fieldLayout(e,t=[],n){const r=e.name;switch(e.type){case"bool":return TU.bool(r);case"u8":return TU.u8(r);case"i8":return TU.i8(r);case"u16":return TU.u16(r);case"i16":return TU.i16(r);case"u32":return TU.u32(r);case"i32":return TU.i32(r);case"f32":return TU.f32(r);case"u64":return TU.u64(r);case"i64":return TU.i64(r);case"f64":return TU.f64(r);case"u128":return TU.u128(r);case"i128":return TU.i128(r);case"u256":return TU.u256(r);case"i256":return TU.i256(r);case"bytes":return TU.vecU8(r);case"string":return TU.str(r);case"pubkey":return TU.publicKey(r);default:if("option"in e.type)return TU.option(gq.fieldLayout({type:e.type.option},t,n),r);if("vec"in e.type)return TU.vec(gq.fieldLayout({type:e.type.vec},t,n),r);if("array"in e.type){let[i,s]=e.type.array;return s=gq.resolveArrayLen(s,n),TU.array(gq.fieldLayout({type:i},t,n),s,r)}if("defined"in e.type){if(!t)throw new cq("User defined types not provided");const i=e.type.defined.name,s=t.find(e=>e.name===i);if(!s)throw new cq(`Type not found: ${e.name}`);return gq.typeDefLayout({typeDef:s,types:t,genericArgs:null!=n?n:e.type.defined.generics,name:r})}if("generic"in e.type){const r=null==n?void 0:n.at(0);if("type"!==(null==r?void 0:r.kind))throw new cq(`Invalid generic field: ${e.name}`);return gq.fieldLayout({...e,type:r.type},t)}throw new cq(`Not yet implemented: ${JSON.stringify(e.type)}`)}}static typeDefLayout({typeDef:e,types:t,name:n,genericArgs:r}){switch(e.type.kind){case"struct":{const i=ez(e.type.fields,()=>[],n=>n.map(n=>{const i=r?gq.resolveGenericArgs({type:n.type,typeDef:e,genericArgs:r}):r;return gq.fieldLayout(n,t,i)}),n=>n.map((n,i)=>{const s=r?gq.resolveGenericArgs({type:n,typeDef:e,genericArgs:r}):r;return gq.fieldLayout({name:i.toString(),type:n},t,s)}));return TU.struct(i,n)}case"enum":{const i=e.type.variants.map(n=>{const i=ez(n.fields,()=>[],n=>n.map(n=>{const i=r?gq.resolveGenericArgs({type:n.type,typeDef:e,genericArgs:r}):r;return gq.fieldLayout(n,t,i)}),n=>n.map((n,i)=>{const s=r?gq.resolveGenericArgs({type:n,typeDef:e,genericArgs:r}):r;return gq.fieldLayout({name:i.toString(),type:n},t,s)}));return TU.struct(i,n.name)});return void 0!==n?TU.rustEnum(i).replicate(n):TU.rustEnum(i,n)}case"type":return gq.fieldLayout({type:e.type.alias,name:n},t)}}static typeSize(e,t,n){var r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"u256":case"i256":case"pubkey":return 32;default:if("option"in e)return 1+gq.typeSize(e.option,t,n);if("coption"in e)return 4+gq.typeSize(e.coption,t,n);if("vec"in e)return 1;if("array"in e){let[r,i]=e.array;return i=gq.resolveArrayLen(i,n),gq.typeSize(r,t,n)*i}if("defined"in e){const i=null===(r=t.types)||void 0===r?void 0:r.find(t=>t.name===e.defined.name);if(!i)throw new cq(`Type not found: ${JSON.stringify(e)}`);const s=r=>{const s=null!=n?n:e.defined.generics,o=s?gq.resolveGenericArgs({type:r,typeDef:i,genericArgs:s}):s;return gq.typeSize(r,t,o)};switch(i.type.kind){case"struct":return ez(i.type.fields,()=>[0],e=>e.map(e=>s(e.type)),e=>e.map(e=>s(e))).reduce((e,t)=>e+t,0);case"enum":{const e=i.type.variants.map(e=>ez(e.fields,()=>[0],e=>e.map(e=>s(e.type)),e=>e.map(e=>s(e))).reduce((e,t)=>e+t,0));return Math.max(...e)+1}case"type":return gq.typeSize(i.type.alias,t,n)}}if("generic"in e){const r=null==n?void 0:n.at(0);if("type"!==(null==r?void 0:r.kind))throw new cq(`Invalid generic: ${e.generic}`);return gq.typeSize(r.type,t,n)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,t){if("number"==typeof e)return e;if(t){const n=t.find(e=>"const"===e.kind);"const"===(null==n?void 0:n.kind)&&(e=+n.value)}if("number"!=typeof e)throw new cq("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:t,genericArgs:n,isDefined:r}){if("object"!=typeof e)return null;for(const i in t.generics){const s=t.generics[i];if("generic"in e&&s.name===e.generic)return[n[i]];if("option"in e){const i=gq.resolveGenericArgs({type:e.option,typeDef:t,genericArgs:n,isDefined:r});if(!i||!r)return i;if("type"===i[0].kind)return[{kind:"type",type:{option:i[0].type}}]}if("vec"in e){const i=gq.resolveGenericArgs({type:e.vec,typeDef:t,genericArgs:n,isDefined:r});if(!i||!r)return i;if("type"===i[0].kind)return[{kind:"type",type:{vec:i[0].type}}]}if("array"in e){const[o,a]=e.array,l="object"==typeof a,c=gq.resolveGenericArgs({type:o,typeDef:t,genericArgs:n,isDefined:r})||[];if(l){const e=t.generics.findIndex(e=>e.name===a.generic);-1!==e&&c.push(n[e])}if(c.length>0){if(!r)return c;if("type"===c[0].kind&&"const"===c[1].kind)return[{kind:"type",type:{array:[c[0].type,+c[1].value]}}]}if(l&&s.name===a.generic){const e=n[i];return r?[{kind:"type",type:{array:[o,+e.value]}}]:[e]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(e=>{switch(e.kind){case"type":return gq.resolveGenericArgs({type:e.type,typeDef:t,genericArgs:n,isDefined:!0});case"const":return[e]}}).filter(e=>null!==e):null}return null}}class yq{constructor(e){this.idl=e;const t=e.instructions.map(t=>{const n=t.name,r=t.args.map(t=>gq.fieldLayout(t,e.types)),i=TU.struct(r,n);return[n,{discriminator:t.discriminator,layout:i}]});this.ixLayouts=new Map(t)}encode(e,t){const n=V.Buffer.alloc(1e3),r=this.ixLayouts.get(e);if(!r)throw new Error(`Unknown method: ${e}`);const i=r.layout.encode(t,n),s=n.slice(0,i);return V.Buffer.concat([V.Buffer.from(r.discriminator),s])}decode(e,t="hex"){"string"==typeof e&&(e="hex"===t?V.Buffer.from(e,"hex"):ms.decode(e));for(const[n,r]of this.ixLayouts){const t=e.subarray(0,r.discriminator.length);if(t.equals(V.Buffer.from(r.discriminator)))return{name:n,data:r.layout.decode(e.subarray(t.length))}}return null}format(e,t){return bq.format(e,t,this.idl)}}class bq{static format(e,t,n){const r=n.instructions.find(t=>e.name===t.name);if(!r)return console.error("Invalid instruction given"),null;const i=r.args.map(t=>({name:t.name,type:bq.formatIdlType(t.type),data:bq.formatIdlData(t,e.data[t.name],n.types)})),s=bq.flattenIdlAccounts(r.accounts);return{args:i,accounts:t.map((e,t)=>t<s.length?{name:s[t].name,...e}:{name:void 0,...e})}}static formatIdlType(e){if("string"==typeof e)return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const t=e.defined.name;if(e.defined.generics){return`${t}<${e.defined.generics.map(e=>{switch(e.kind){case"type":return bq.formatIdlType(e.type);case"const":return e.value}}).join(", ")}>`}return t}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,n){if("string"==typeof e.type)return t.toString();if("vec"in e.type)return"["+t.map(t=>this.formatIdlData({name:"",type:e.type.vec},t,n)).join(", ")+"]";if("option"in e.type)return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t,n);if("defined"in e.type){if(!n)throw new Error("User defined types not provided");const r=e.type.defined.name,i=n.find(e=>e.name===r);if(!i)throw new Error(`Type not found: ${r}`);return bq.formatIdlDataDefined(i,t,n)}return"unknown"}static formatIdlDataDefined(e,t,n){switch(e.type.kind){case"struct":return"{ "+ez(e.type.fields,()=>"",e=>Object.entries(t).map(([t,r])=>{const i=e.find(e=>e.name===t);if(!i)throw new Error(`Field not found: ${t}`);return t+": "+bq.formatIdlData(i,r,n)}).join(", "),e=>Object.entries(t).map(([t,r])=>t+": "+bq.formatIdlData({name:"",type:e[t]},r,n)).join(", "))+" }";case"enum":{const r=Object.keys(t)[0],i=e.type.variants.find(e=>e.name===r);if(!i)throw new Error(`Unable to find variant: ${r}`);const s=t[r];return ez(i.fields,()=>r,e=>{const t=Object.keys(s).map(t=>{const r=s[t],i=e.find(e=>e.name===t);if(!i)throw new Error(`Field not found: ${t}`);return t+": "+bq.formatIdlData(i,r,n)}).join(", ");return`${r} { ${t} }`},e=>{const t=Object.entries(s).map(([t,r])=>t+": "+bq.formatIdlData({name:"",type:e[t]},r,n)).join(", ");return`${r} { ${t} }`})}case"type":return bq.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,t){return e.map(e=>{const n=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.hasOwnProperty("accounts")){const r=t?`${t} > ${n}`:n;return bq.flattenIdlAccounts(e.accounts,r)}return{...e,name:t?`${t} > ${n}`:n}}).flat()}}class wq{constructor(e){if(this.idl=e,!e.accounts)return void(this.accountLayouts=new Map);const t=e.types;if(!t)throw new Error("Accounts require `idl.types`");const n=e.accounts.map(e=>{const n=t.find(t=>t.name===e.name);if(!n)throw new Error(`Account not found: ${e.name}`);return[e.name,{discriminator:e.discriminator,layout:gq.typeDefLayout({typeDef:n,types:t})}]});this.accountLayouts=new Map(n)}async encode(e,t){const n=V.Buffer.alloc(1e3),r=this.accountLayouts.get(e);if(!r)throw new Error(`Unknown account: ${e}`);const i=r.layout.encode(t,n),s=n.slice(0,i),o=this.accountDiscriminator(e);return V.Buffer.concat([o,s])}decode(e,t){const n=this.accountDiscriminator(e);if(n.compare(t.slice(0,n.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeAny(e){for(const[t,n]of this.accountLayouts){if(e.subarray(0,n.discriminator.length).equals(V.Buffer.from(n.discriminator)))return this.decodeUnchecked(t,e)}throw new Error("Account not found")}decodeUnchecked(e,t){const n=this.accountDiscriminator(e),r=t.subarray(n.length),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);return i.layout.decode(r)}memcmp(e,t){const n=this.accountDiscriminator(e);return{offset:0,bytes:ms.encode(t?V.Buffer.concat([n,t]):n)}}size(e){return this.accountDiscriminator(e).length+gq.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var t;const n=null===(t=this.idl.accounts)||void 0===t?void 0:t.find(t=>t.name===e);if(!n)throw new Error(`Account not found: ${e}`);return V.Buffer.from(n.discriminator)}}class vq{constructor(e){if(!e.events)return void(this.layouts=new Map);const t=e.types;if(!t)throw new Error("Events require `idl.types`");const n=e.events.map(e=>{const n=t.find(t=>t.name===e.name);if(!n)throw new Error(`Event not found: ${e.name}`);return[e.name,{discriminator:e.discriminator,layout:gq.typeDefLayout({typeDef:n,types:t})}]});this.layouts=new Map(n)}decode(e){let t;try{t=XF(e)}catch(n){return null}for(const[r,i]of this.layouts){const e=t.subarray(0,i.discriminator.length);if(e.equals(V.Buffer.from(i.discriminator)))return{name:r,data:i.layout.decode(t.subarray(e.length))}}return null}}class xq{constructor(e){const t=e.types;if(!t)return void(this.typeLayouts=new Map);const n=t.filter(e=>!e.generics).map(e=>[e.name,gq.typeDefLayout({typeDef:e,types:t})]);this.typeLayouts=new Map(n)}encode(e,t){const n=V.Buffer.alloc(1e3),r=this.typeLayouts.get(e);if(!r)throw new Error(`Unknown type: ${e}`);const i=r.encode(t,n);return n.slice(0,i)}decode(e,t){const n=this.typeLayouts.get(e);if(!n)throw new Error(`Unknown type: ${e}`);return n.decode(t)}}class kq{constructor(e){this.instruction=new yq(e),this.accounts=new wq(e),this.events=new vq(e),this.types=new xq(e)}}class Sq{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,n){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var Eq=Sq;class _q extends Sq{isCount(){throw new Error("ExternalLayout is abstract")}}class Nq extends _q{constructor(e,t,n){if(!(e instanceof Sq))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Aq||this.layout instanceof Tq}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,n){return void 0===n&&(n=0),this.layout.encode(e,t,n+this.offset)}}class Aq extends Sq{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntLE(e,n,this.span),this.span}}class Tq extends Sq{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,n){return void 0===n&&(n=0),t.writeUIntBE(e,n,this.span),this.span}}const Cq=Math.pow(2,32);function jq(e){const t=Math.floor(e/Cq);return{hi32:t,lo32:e-t*Cq}}function Iq(e,t){return e*Cq+t}class Rq extends Sq{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return Iq(e.readUInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=jq(e);return t.writeUInt32LE(r.lo32,n),t.writeUInt32LE(r.hi32,n+4),8}}class Oq extends Sq{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const n=e.readUInt32LE(t);return Iq(e.readInt32LE(t+4),n)}encode(e,t,n){void 0===n&&(n=0);const r=jq(e);return t.writeUInt32LE(r.lo32,n),t.writeInt32LE(r.hi32,n+4),8}}class Pq extends Sq{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce((e,t)=>e&&t instanceof Sq,!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const s of e)if(0>s.span&&void 0===s.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce((e,t)=>e+t.getSpan(),0)}catch(i){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;try{n=this.fields.reduce((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i},0)}catch(r){throw new RangeError("indeterminate span")}return n}decode(e,t){void 0===t&&(t=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t,n){void 0===n&&(n=0);const r=n;let i=0,s=0;for(const o of this.fields){let r=o.span;if(s=0<r?r:0,void 0!==o.property){const i=e[o.property];void 0!==i&&(s=o.encode(i,t,n),0>r&&(r=o.getSpan(t,n)))}i=n,n+=r}return i+s-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class Mq{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Dq extends Mq{constructor(e,t){if(!(e instanceof _q&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class Lq extends Sq{constructor(e,t,n){const r=e instanceof Aq||e instanceof Tq;if(r)e=new Dq(new Nq(e));else if(e instanceof _q&&e.isCount())e=new Dq(e);else if(!(e instanceof Mq))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof Sq))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&r&&(i+=e.layout.span)),super(i,n),this.discriminator=e,this.usesPrefixDiscriminator=r,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return s(e)},this.configGetSourceVariant=function(e){s=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(e.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(e,t){let n;void 0===t&&(t=0);const r=this.discriminator,i=r.decode(e,t);let s=this.registry[i];if(void 0===s){let o=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(o=r.layout.span),n=this.makeDestinationObject(),n[r.property]=i,n[s.property]=this.defaultLayout.decode(e,t+o)}else n=s.decode(e,t);return n}encode(e,t,n){void 0===n&&(n=0);const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=r.layout.span),r.encode(e[r.property],t,n),s+i.encode(e[i.property],t,n+s)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new Bq(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t){let n=e;return Buffer.isBuffer(e)&&(void 0===t&&(t=0),n=this.discriminator.decode(e,t)),this.registry[n]}}class Bq extends Sq{constructor(e,t,n,r){if(!(e instanceof Lq))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof Sq))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(e,t+n)}decode(e,t){const n=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class Uq extends Sq{constructor(e,t){if(!(e instanceof _q&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof _q||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t){void 0===t&&(t=0);let n=this.span;return 0>n&&(n=this.length.decode(e,t)),e.slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof _q&&(r=e.length),!Buffer.isBuffer(e)||r!==e.length)throw new TypeError((i="Blob.encode",((s=this).property?i+"["+s.property+"]":i)+" requires (length "+r+") Buffer as src"));var i,s;if(n+r>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),n,r,"hex"),this.length instanceof _q&&this.length.encode(r,t,n),r}}var Fq=(e,t,n)=>new Nq(e,t,n),zq=e=>new Aq(4,e),Vq=e=>new Oq(e),qq=(e,t,n)=>new Pq(e,t,n),Gq=(e,t,n)=>new Lq(e,t,n),Wq=(e,t)=>new Uq(e,t);class Hq extends Eq{constructor(e){super(-1,e),this.property=e,this.layout=qq([zq("length"),zq("lengthPadding"),Wq(Fq(zq(),-8),"chars")],this.property)}encode(e,t,n=0){if(null==e)return this.layout.span;const r={chars:Buffer.from(e,"utf8")};return this.layout.encode(r,t,n)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return zq().span+zq().span+new os(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function Kq(e){return new Hq(e)}function $q(e){return Wq(32,e)}const Yq=Gq(zq("instruction"));Yq.addVariant(0,qq([Vq("lamports"),Vq("space"),$q("owner")]),"createAccount"),Yq.addVariant(1,qq([$q("owner")]),"assign"),Yq.addVariant(2,qq([Vq("lamports")]),"transfer"),Yq.addVariant(3,qq([$q("base"),Kq("seed"),Vq("lamports"),Vq("space"),$q("owner")]),"createAccountWithSeed"),Yq.addVariant(4,qq([$q("authorized")]),"advanceNonceAccount"),Yq.addVariant(5,qq([Vq("lamports")]),"withdrawNonceAccount"),Yq.addVariant(6,qq([$q("authorized")]),"initializeNonceAccount"),Yq.addVariant(7,qq([$q("authorized")]),"authorizeNonceAccount"),Yq.addVariant(8,qq([Vq("space")]),"allocate"),Yq.addVariant(9,qq([$q("base"),Kq("seed"),Vq("space"),$q("owner")]),"allocateWithSeed"),Yq.addVariant(10,qq([$q("base"),Kq("seed"),$q("owner")]),"assignWithSeed"),Yq.addVariant(11,qq([Vq("lamports"),Kq("seed"),$q("owner")]),"transferWithSeed"),Math.max(...Object.values(Yq.registry).map(e=>e.span));class Qq extends Eq{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}function Xq(e){return new Qq(Wq(32),e=>new rl(e),e=>e.toBuffer(),e)}var Zq;qq([zq("version"),zq("state"),Xq("authorizedPubkey"),Xq("nonce"),qq([(Zq="lamportsPerSignature",new Rq(Zq))],"feeCalculator")]),new rl("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),new rl("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Jq={exports:{}};!function(e,t){var n,r="undefined"!=typeof self?self:Dz,i=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();n=i,function(e){var t="URLSearchParams"in n,r="Symbol"in n&&"iterator"in Symbol,i="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in n,o="ArrayBuffer"in n;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function m(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var n;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&(n=e)&&DataView.prototype.isPrototypeOf(n)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,r=f(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=p(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=u(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),d(e)},h.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),d(e)},h.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),d(e)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var n,r,i=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),b.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function x(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];x.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},e.DOMException=n.DOMException;try{new e.DOMException}catch(E){e.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(t,n){return new Promise(function(r,s){var o=new w(t,n);if(o.signal&&o.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function l(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;r(new x(i,n))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new e.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),o.signal&&(o.signal.addEventListener("abort",l),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",l)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})}S.polyfill=!0,n.fetch||(n.fetch=S,n.Headers=h,n.Request=w,n.Response=x),e.Headers=h,e.Request=w,e.Response=x,e.fetch=S,Object.defineProperty(e,"__esModule",{value:!0})}({}),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t}(Jq,Jq.exports),TU.rustEnum([TU.struct([],"uninitialized"),TU.struct([TU.option(TU.publicKey(),"authorityAddress")],"buffer"),TU.struct([TU.publicKey("programdataAddress")],"program"),TU.struct([TU.u64("slot"),TU.option(TU.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,TU.u32());const eG="Program log: ",tG="Program data: ";class nG{constructor(e,t,n){this._programId=e,this._provider=t,this._eventParser=new rG(e,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t,n){var r;let i=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!==(r=this._eventListeners.get(e))&&void 0!==r?r:[]).concat(i)),this._eventCallbacks.set(i,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(e,t)=>{if(!e.err)for(const n of this._eventParser.parseLogs(e.logs)){const r=this._eventListeners.get(n.name);r&&r.forEach(r=>{const i=this._eventCallbacks.get(r);if(i){const[,r]=i;r(n.data,t.slot,e.signature)}})}},n)),i}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[n]=t;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);if(this._eventCallbacks.delete(e),r=r.filter(t=>t!==e),this._eventListeners.set(n,r),0===r.length&&this._eventListeners.delete(n),0===this._eventCallbacks.size){if(0!==this._eventListeners.size)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class rG{constructor(e,t){this.coder=t,this.programId=e}*parseLogs(e,t=!1){const n=new sG([...e]),r=new iG,i=n.next();if(null===i)return;const s=rG.INVOKE_RE.exec(i);if(!s||s[2]!==rG.ROOT_DEPTH)throw new Error(`Unexpected first log line: ${i}`);for(r.push(s[1]);null!==n.peek();){const e=n.next();if(null===e)break;let[i,s,o]=this.handleLog(r,e,t);if(i&&(yield i),s&&r.push(s),o){r.pop();const e=n.peek();if(e&&e.endsWith("invoke [1]")){const t=rG.INVOKE_RE.exec(e);t&&r.push(t[1])}}}}handleLog(e,t,n){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t,n):[null,...this.handleSystemLog(t)]}handleProgramLog(e,t){if(e.startsWith(eG)||e.startsWith(tG)){const n=e.startsWith(eG)?e.slice(13):e.slice(14),r=this.coder.events.decode(n);if(t&&null===r)throw new Error(`Unable to decode event ${n}`);return[r,null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){if(e.startsWith(`Program ${this.programId.toString()} log:`))return[this.programId.toString(),!1];if(e.includes("invoke")&&!e.endsWith("[1]"))return["cpi",!1];return/^Program ([1-9A-HJ-NP-Za-km-z]+) success$/.test(e)?[null,!0]:[null,!1]}}rG.INVOKE_RE=/^Program ([1-9A-HJ-NP-Za-km-z]+) invoke \[(\d+)\]$/,rG.ROOT_DEPTH="1";class iG{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class sG{constructor(e){this.logs=e,this.logs=this.logs.filter(e=>e.startsWith("Program "))}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}peek(){return this.logs.length>0?this.logs[0]:null}}function oG(e,t){var n,r;let i={};const s=e.args?e.args.length:0;if(t.length>s){if(t.length!==s+1)throw new Error(`provided too many arguments ${t} to instruction ${null==e?void 0:e.name} expecting: ${null!==(r=null===(n=e.args)||void 0===n?void 0:n.map(e=>e.name))&&void 0!==r?r:[]}`);i=t.pop()}return[t,i]}class aG{static build(e,t,n){if("_inner"===e.name)throw new cq("the _inner name is reserved");const r=(...i)=>{const[s,o]=oG(e,[...i]);nz(e.accounts,o.accounts);const a=r.accounts(o.accounts);return void 0!==o.remainingAccounts&&a.push(...o.remainingAccounts),lq("debug-logs")&&console.log("Outgoing account metas:",a),new Al({keys:a,programId:n,data:t(e.name,tz(e,...s))})};return r.accounts=t=>aG.accountsArray(t,e.accounts,n,e.name),r}static accountsArray(e,t,n,r){return e?t.map(t=>{if(ZF(t)){const i=e[t.name];return aG.accountsArray(i,t.accounts,n,r).flat()}let i;try{i=rz(e[t.name])}catch(o){throw new Error(`Wrong input type for account "${t.name}" in the instruction accounts object${void 0!==r?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}const s=t.optional&&i.equals(n);return{pubkey:i,isWritable:Boolean(t.writable&&!s),isSigner:Boolean(t.signer&&!s)}}).flat():[]}}class lG{static build(e,t){return(...n)=>{var r,i,s;const[,o]=oG(e,[...n]),a=new Tl;if(o.preInstructions&&o.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=o.preInstructions)||void 0===r||r.forEach(e=>a.add(e)),null===(i=o.instructions)||void 0===i||i.forEach(e=>a.add(e)),a.add(t(...n)),null===(s=o.postInstructions)||void 0===s||s.forEach(e=>a.add(e)),a}}}class cG{static build(e,t,n,r){return async(...i)=>{var s;const o=t(...i),[,a]=oG(e,[...i]);if(void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await r.sendAndConfirm(o,null!==(s=a.signers)&&void 0!==s?s:[],a.options)}catch(l){throw fq(l,n)}}}}class uG{static build(e,t,n,r){var i;return(null!==(i=e.accounts)&&void 0!==i?i:[]).reduce((i,s)=>(i[s.name]=new dG(e,s,n,r,t),i),{})}}class dG{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,t,n,r,i){this._idlAccount=t,this._programId=n,this._provider=null!=r?r:Mz(),this._coder=null!=i?i:new kq(e),this._size=this._coder.accounts.size(t.name)}async fetchNullable(e,t){const{data:n}=await this.fetchNullableAndContext(e,t);return n}async fetchNullableAndContext(e,t){const n=await this.getAccountInfoAndContext(e,t),{value:r,context:i}=n;return{data:r&&0!==r.data.length?this._coder.accounts.decode(this._idlAccount.name,r.data):null,context:i}}async fetch(e,t){const{data:n}=await this.fetchNullableAndContext(e,t);if(null===n)throw new Error(`Account does not exist or has no data ${e.toString()}`);return n}async fetchAndContext(e,t){const{data:n,context:r}=await this.fetchNullableAndContext(e,t);if(null===n)throw new Error(`Account does not exist ${e.toString()}`);return{data:n,context:r}}async fetchMultiple(e,t){return(await this.fetchMultipleAndContext(e,t)).map(e=>e?e.data:null)}async fetchMultipleAndContext(e,t){return(await Ez(this._provider.connection,e.map(e=>rz(e)),t)).map(e=>{if(null==e)return null;const{account:t,context:n}=e;return{data:this._coder.accounts.decode(this._idlAccount.name,t.data),context:n}})}async all(e){const t=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Buffer?e:void 0),n=[];return null!=(null==t?void 0:t.offset)&&null!=(null==t?void 0:t.bytes)&&n.push({memcmp:{offset:t.offset,bytes:t.bytes}}),null!=(null==t?void 0:t.dataSize)&&n.push({dataSize:t.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(e)?e:[]]})).map(({pubkey:e,account:t})=>({publicKey:e,account:this._coder.accounts.decode(this._idlAccount.name,t.data)}))}subscribe(e,t){const n=hG.get(e.toString());if(n)return n.ee;const r=new $F;e=rz(e);const i=this._provider.connection.onAccountChange(e,e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);r.emit("change",t)},t);return hG.set(e.toString(),{ee:r,listener:i}),r}async unsubscribe(e){let t=hG.get(e.toString());t?hG&&await this._provider.connection.removeAccountChangeListener(t.listener).then(()=>{hG.delete(e.toString())}).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const n=this.size;if(void 0===this._provider.publicKey)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return Zl.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:n),programId:this._programId})}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(rz(e),t)}async getAccountInfoAndContext(e,t){return await this._provider.connection.getAccountInfoAndContext(rz(e),t)}}const hG=new Map;class fG{static build(e,t,n,r,i,s,o){return async(...a)=>{var l;const c=t(...a),[,u]=oG(e,[...a]);let d;if(void 0===r.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{d=await r.simulate(c,u.signers,null===(l=u.options)||void 0===l?void 0:l.commitment)}catch(p){throw fq(p,n)}if(void 0===d)throw new Error("Unable to simulate transaction");const h=d.logs;if(!h)throw new Error("Simulated logs not found");const f=[];if(o.events){let e=new rG(s,i);for(const t of e.parseLogs(h))f.push(t)}return{events:f,raw:h}}}}function pG(e){return new yG(Wq(8),e=>wG.fromBuffer(e),e=>e.toBuffer(),e)}function mG(e){return new yG(Wq(32),e=>new rl(e),e=>e.toBuffer(),e)}function gG(e,t){return new bG(e,t)}class yG extends Eq{constructor(e,t,n,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=n}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,n){return this.layout.encode(this.encoder(e),t,n)}getSpan(e,t){return this.layout.getSpan(e,t)}}class bG extends Eq{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=zq()}encode(e,t,n=0){return null==e?this.layout.span+this.discriminator.encode(0,t,n):(this.discriminator.encode(1,t,n),this.layout.encode(e,t,n+4)+4)}decode(e,t=0){const n=this.discriminator.decode(e,t);if(0===n)return null;if(1===n)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}class wG extends os{toBuffer(){const e=super.toArray().reverse(),t=Buffer.from(e);if(8===t.length)return t;if(t.length>=8)throw new Error("u64 too large");const n=Buffer.alloc(8);return t.copy(n),n}static fromBuffer(e){if(8!==e.length)throw new Error(`Invalid buffer length: ${e.length}`);return new wG([...e].reverse().map(e=>`00${e.toString(16)}`.slice(-2)).join(""),16)}}const vG=qq([mG("mint"),mG("owner"),pG("amount"),gG(mG(),"delegate"),(()=>{const e=Gq((e=>new Aq(1,e))("discriminator"),null,"state");return e.addVariant(0,qq([]),"uninitialized"),e.addVariant(1,qq([]),"initialized"),e.addVariant(2,qq([]),"frozen"),e})(),gG(pG(),"isNative"),pG("delegatedAmount"),gG(mG(),"closeAuthority")]);class xG{constructor(e,t,n,r,i,s,o,a){this._args=e,this._accounts=t,this._provider=n,this._programId=r,this._idlIx=i,this._idlTypes=o,this._customResolver=a,this._accountStore=new kG(n,s,r)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(e++,16===e){const e=t=>ZF(t)?t.accounts.some(e):!!(t.address||t.pda||t.relations),t=(e,n=[],r=[])=>{for(const i of e)ZF(i)?r.push(...t(i.accounts,[...n,i.name])):r.push([...n,i.name]);return r},n=this._idlIx.accounts.filter(e),r=t(n).filter(e=>!this.get(e)).map(e=>e.reduce((e,t)=>e+"."+t)).map(e=>`\`${e}\``).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${r}`].join(" "))}}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const t=e.reduce((e,t)=>e&&e[t],this._accounts);if(t&&t.toBase58)return t}set(e,t){let n=this._accounts;e.forEach((r,i)=>{var s;i===e.length-1&&(n[r]=t),n[r]=null!==(s=n[r])&&void 0!==s?s:{},n=n[r]})}resolveOptionalsHelper(e,t){const n={};for(const r of t){const t=r.name,i=e[t];void 0!==i&&(EG(i)?ZF(r)?n[t]=this.resolveOptionalsHelper(i,r.accounts):n[t]=_G(i):null!==i?n[t]=rz(i):r.optional&&(n[t]=this._programId))}return n}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:t}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,t}return 0}resolveEventCpi(e,t=[]){for(const n in e){const r=e[n];ZF(r)&&this.resolveEventCpi(r.accounts,[...t,r.name]);const i=+n+1;if(i===e.length)return;const s=e[n].name,o=e[i].name;if("eventAuthority"===s&&"program"===o){const e=[...t,s],n=[...t,o];return this.get(e)||this.set(e,rl.findProgramAddressSync([Buffer.from("__event_authority")],this._programId)[0]),void(this.get(n)||this.set(n,this._programId))}}}resolveConst(e,t=[]){for(const n of e){const e=n.name;if(ZF(n))this.resolveConst(n.accounts,[...t,e]);else{const r=n;if((r.signer||r.address)&&!this.get([...t,e])){if(r.signer){if(!this._provider.publicKey)throw new Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...t,e],this._provider.publicKey)}r.address&&this.set([...t,e],rz(r.address))}}}}async resolvePdasAndRelations(e,t=[]){let n=0;for(const r of e){const e=r.name;if(ZF(r))n+=await this.resolvePdasAndRelations(r.accounts,[...t,e]);else{const i=r;if((i.pda||i.relations)&&!this.get([...t,e])){n++;try{if(i.pda){const n=await Promise.all(i.pda.seeds.map(e=>this.toBuffer(e,t)));if(n.some(e=>!e))continue;const r=await this.parseProgramId(i,t),[s]=rl.findProgramAddressSync(n,r);this.set([...t,e],s)}}catch{}try{if(i.relations){const n=this.get([...t,i.relations[0]]);if(n){const r=await this._accountStore.fetchAccount({publicKey:n});this.set([...t,e],r[e])}}}catch{}}}}return n}async parseProgramId(e,t=[]){var n;if(!(null===(n=e.pda)||void 0===n?void 0:n.program))return this._programId;const r=await this.toBuffer(e.pda.program,t);if(!r)throw new Error(`Program seed not resolved: ${e.name}`);return new rl(r)}async toBuffer(e,t=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,t);default:throw new Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){const[t,...n]=e.path.split("."),r=this._idlIx.args.findIndex(e=>e.name===t);if(-1===r)throw new Error(`Unable to find argument for seed: ${t}`);const i=n.reduce((e,t)=>(null!=e?e:{})[t],this._args[r]);if(void 0===i)return;const s=this.getType(this._idlIx.args[r].type,n);return this.toBufferValue(s,i)}async toBufferAccount(e,t=[]){const[n,...r]=e.path.split("."),i=this.get([...t,n]);if(!i)return;if(!r.length)return this.toBufferValue("pubkey",i);if(!e.account)throw new Error(`Seed account is required in order to resolve type: ${e.path}`);let s=await this._accountStore.fetchAccount({publicKey:i,name:e.account}),o=r;for(;o.length>0;)s=s[o[0]],o=o.slice(1);if(void 0===s)return;const a=this.getType({defined:{name:e.account}},r);return this.toBufferValue(a,s)}toBufferValue(e,t){switch(e){case"u8":case"i8":return Buffer.from([t]);case"u16":case"i16":return new os(t).toArrayLike(Buffer,"le",2);case"u32":case"i32":return new os(t).toArrayLike(Buffer,"le",4);case"u64":case"i64":return new os(t).toArrayLike(Buffer,"le",8);case"u128":case"i128":return new os(t).toArrayLike(Buffer,"le",16);case"u256":case"i256":return new os(t).toArrayLike(Buffer,"le",32);case"string":case"bytes":return Buffer.from(t);case"pubkey":return t.toBuffer();default:if(null==e?void 0:e.array)return Buffer.from(t);throw new Error(`Unexpected seed type: ${e}`)}}getType(e,t=[]){var n;const r=null===(n=null==e?void 0:e.defined)||void 0===n?void 0:n.name;if(r){if("tokenAccount"===r)switch(t.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${t}`)}const e=this._idlTypes.find(e=>e.name===r);if(!e)throw new Error(`Type not found: ${r}`);const[n,...i]=t,s=e.type.fields.find(e=>e.name===n);if(!s)throw new Error(`Field not found: ${n}`);return this.getType(s.type,i)}return e}}class kG{constructor(e,t,n){this._provider=e,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=t}async fetchAccount({publicKey:e,name:t}){const n=e.toBase58();if(!this._cache.has(n)){const i=await this._provider.connection.getAccountInfo(e);if(null===i)throw new Error(`Account not found: ${n}`);if("tokenAccount"===t){const e=(r=i.data,vG.decode(r));this._cache.set(n,e)}else{const e=await this.getAccountsNs(i.owner);if(e){const t=Object.values(e)[0];if(t){const e=t.coder.accounts.decodeAny(i.data);this._cache.set(n,e)}}}}var r;return this._cache.get(n)}async getAccountsNs(e){const t=e.toBase58();if(!this._idls[t]){const n=await CG.fetchIdl(e,this._provider);if(n){const e=new CG(n,this._provider);this._idls[t]=e.account}}return this._idls[t]}}class SG{static build(e,t,n,r,i,s,o,a,l,c,u){return(...d)=>new NG(d,r,i,s,o,a,e,t,n,l,c,u)}}function EG(e){return"object"==typeof e&&null!==e&&!("_bn"in e)}function _G(e,t){const n={};for(const r in e){const t=e[r];if(null===t)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");n[r]=EG(t)?_G(t):rz(t)}return n}class NG{constructor(e,t,n,r,i,s,o,a,l,c,u,d){this._args=e,this._ixFn=t,this._txFn=n,this._rpcFn=r,this._simulateFn=i,this._viewFn=s,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new xG(e,this._accounts,o,a,l,c,u,d)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,t=!1){return this._preInstructions=t?e.concat(this._preInstructions):this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{signature:await this.rpc(e),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class AG{static build(e,t,n,r){const i=t.accounts.find(e=>e.writable),s=!!t.returns;if(i||!s)return;return async(...i)=>{let s=await n(...i);const o=`Program return: ${e} `;let a=s.raw.find(e=>e.startsWith(o));if(!a)throw new Error("View expected return log");let l=XF(a.slice(o.length)),c=t.returns;if(!c)throw new Error("View expected return type");return gq.fieldLayout({type:c},r.types).decode(l)}}}class TG{static build(e,t,n,r,i){const s={},o={},a={},l={},c={},u={},d=function(e){const t=new Map;return e.errors&&e.errors.forEach(e=>{var n;let r=null!==(n=e.msg)&&void 0!==n?n:e.name;t.set(e.code,r)}),t}(e),h=e.accounts?uG.build(e,t,n,r):{};return e.instructions.forEach(f=>{const p=aG.build(f,(e,n)=>t.instruction.encode(e,n),n),m=lG.build(f,p),g=cG.build(f,m,d,r),y=fG.build(f,m,d,r,t,n,e),b=AG.build(n,f,y,e),w=SG.build(r,n,f,p,m,g,y,b,h,e.types||[],null==i?void 0:i(f)),v=f.name;o[v]=p,a[v]=m,s[v]=g,l[v]=y,c[v]=w,b&&(u[v]=b)}),[s,o,a,h,l,c,u]}}class CG{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,t=Mz(),n,r){this._idl=function(e){const t=["name","path","account","relations","generic"],n=e=>e.split(".").map(e=>xU(e,{locale:!1})).join("."),r=e=>{for(const i in e){const s=e[i];t.includes(i)?e[i]=Array.isArray(s)?s.map(n):n(s):"object"==typeof s&&r(s)}},i=structuredClone(e);return r(i),i}(e),this._rawIdl=e,this._provider=t,this._programId=rz(e.address),this._coder=null!=n?n:new kq(this._idl),this._events=new nG(this._programId,t,this._coder);const[i,s,o,a,l,c,u]=TG.build(this._idl,this._coder,this._programId,t,r);this.rpc=i,this.instruction=s,this.transaction=o,this.account=a,this.simulate=l,this.methods=c,this.views=u}static async at(e,t){const n=rz(e),r=await CG.fetchIdl(n,t);if(!r)throw new Error(`IDL not found for program: ${e.toString()}`);return new CG(r,t)}static async fetchIdl(e,t){t=null!=t?t:Mz();const n=rz(e),r=await async function(e){const t=(await rl.findProgramAddress([],e))[0];return await rl.createWithSeed(t,"anchor:idl",e)}(n),i=await t.connection.getAccountInfo(r);if(!i)return null;let s=(o=i.data.slice(8),JF.decode(o));var o;const a=WF(s.data);return JSON.parse((l=a,new TextDecoder("utf-8").decode(l)));var l}addEventListener(e,t,n){return this._events.addEventListener(e,t,n)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new rl("11111111111111111111111111111111");const jG={version:"0.1.0",name:"usdfg_smart_contract",instructions:[{name:"createChallenge",accounts:[{name:"challenge",isMut:!0,isSigner:!1},{name:"creator",isMut:!0,isSigner:!0},{name:"creatorTokenAccount",isMut:!0,isSigner:!1},{name:"escrowTokenAccount",isMut:!0,isSigner:!1},{name:"escrowWallet",isMut:!1,isSigner:!1},{name:"challengeSeed",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"priceOracle",isMut:!1,isSigner:!1},{name:"adminState",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"usdfgAmount",type:"u64"}]},{name:"acceptChallenge",accounts:[{name:"challenge",isMut:!0,isSigner:!1},{name:"challenger",isMut:!0,isSigner:!0},{name:"challengerTokenAccount",isMut:!0,isSigner:!1},{name:"escrowTokenAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"adminState",isMut:!1,isSigner:!1},{name:"escrowWallet",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[]},{name:"resolveChallenge",accounts:[{name:"challenge",isMut:!0,isSigner:!1},{name:"escrowTokenAccount",isMut:!0,isSigner:!1},{name:"winnerTokenAccount",isMut:!0,isSigner:!1},{name:"escrowWallet",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"adminState",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"winner",type:"publicKey"}]}],accounts:[{name:"Challenge",type:{kind:"struct",fields:[{name:"creator",type:"publicKey"},{name:"challenger",type:{option:"publicKey"}},{name:"entryFee",type:"u64"},{name:"status",type:{defined:"ChallengeStatus"}},{name:"disputeTimer",type:"i64"},{name:"winner",type:{option:"publicKey"}},{name:"createdAt",type:"i64"},{name:"lastUpdated",type:"i64"},{name:"processing",type:"bool"}]}}],types:[{name:"ChallengeStatus",type:{kind:"enum",variants:[{name:"Open"},{name:"InProgress"},{name:"Completed"},{name:"Cancelled"},{name:"Disputed"}]}}],metadata:{address:"2KL4BKvUtDmABvuvRopkCEb33myWM1W9BGodAZ82RWDT"}};async function IG(e,t){try{console.log("🔧 Initializing USDFG Smart Contract...");const r={publicKey:e.publicKey,signTransaction:e.signTransaction,signAllTransactions:e.signAllTransactions||(async t=>{const n=[];for(const r of t)n.push(await e.signTransaction(r));return n})},i=new Iz(t,r,{commitment:"confirmed"}),s=new CG(jG,fU,i),[o]=rl.findProgramAddressSync([gU.ADMIN],fU);console.log("📍 Admin State PDA:",o.toString());try{const e=await s.account.adminState.fetch(o);console.log("✅ Admin state already initialized!"),console.log("   Admin:",e.admin.toString())}catch(n){console.log("🔨 Initializing admin state...");const t=await s.methods.initialize().accounts({adminState:o,admin:e.publicKey,systemProgram:Zl.programId,rent:Ml}).rpc();console.log("✅ Admin state initialized! TX:",t)}const[a]=rl.findProgramAddressSync([gU.PRICE_ORACLE],fU);console.log("📍 Price Oracle PDA:",a.toString());try{const e=await s.account.priceOracle.fetch(a);console.log("✅ Price oracle already initialized!"),console.log("   Price:",e.usdPerUsdfg.toString())}catch(n){console.log("🔨 Initializing price oracle...");const t=new os(15e7),r=await s.methods.initializePriceOracle(t).accounts({priceOracle:a,adminState:o,admin:e.publicKey,systemProgram:Zl.programId,rent:Ml}).rpc();console.log("✅ Price oracle initialized! TX:",r)}console.log("🎉 Smart contract fully initialized and ready!")}catch(r){throw console.error("❌ Error initializing smart contract:",r),r}}async function RG(e){try{const[t]=rl.findProgramAddressSync([gU.ADMIN],fU);return null!==await e.getAccountInfo(t)}catch(t){return!1}}async function OG(e,t,n){try{console.log("🔄 Updating price oracle...");const[r]=rl.findProgramAddressSync([gU.ADMIN],fU),[i]=rl.findProgramAddressSync([gU.PRICE_ORACLE],fU),s=new os(n?Math.floor(1e9*n):15e7);console.log("💰 Updating price to:",n||.15,"USD");const o=Buffer.from([61,34,117,155,75,34,123,208]),a=Buffer.alloc(8);s.toArrayLike(Buffer,"le",8).copy(a);const l=Buffer.concat([o,a]),c={keys:[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:new rl(e.publicKey.toString()),isSigner:!0,isWritable:!0}],programId:fU,data:l},{Transaction:u,TransactionInstruction:d}=await JB(async()=>{const{Transaction:e,TransactionInstruction:t}=await Promise.resolve().then(()=>Dd);return{Transaction:e,TransactionInstruction:t}},void 0),h=(new u).add(new d(c));h.feePayer=new rl(e.publicKey.toString()),h.recentBlockhash=(await t.getLatestBlockhash()).blockhash;const f=await e.signTransaction(h),p=await t.sendRawTransaction(f.serialize());await t.confirmTransaction(p,"confirmed"),console.log("✅ Price oracle updated! TX:",p)}catch(r){throw console.error("❌ Error updating price oracle:",r),r}}const PG=({children:t,onClick:n,variant:r="primary",size:i="md",disabled:s=!1,className:o="",type:a="button"})=>{const l={primary:{gradient:"linear-gradient(135deg, #3B82F6, #1E40AF)",glow:"0 0 20px rgba(59, 130, 246, 0.3)",border:"1px solid rgba(59, 130, 246, 0.4)"},secondary:{gradient:"linear-gradient(135deg, #6B7280, #374151)",glow:"0 0 20px rgba(107, 114, 128, 0.3)",border:"1px solid rgba(107, 114, 128, 0.4)"},success:{gradient:"linear-gradient(135deg, #10B981, #047857)",glow:"0 0 20px rgba(16, 185, 129, 0.3)",border:"1px solid rgba(16, 185, 129, 0.4)"},warning:{gradient:"linear-gradient(135deg, #F59E0B, #D97706)",glow:"0 0 20px rgba(245, 158, 11, 0.3)",border:"1px solid rgba(245, 158, 11, 0.4)"},danger:{gradient:"linear-gradient(135deg, #EF4444, #DC2626)",glow:"0 0 20px rgba(239, 68, 68, 0.3)",border:"1px solid rgba(239, 68, 68, 0.4)"},purple:{gradient:"linear-gradient(135deg, #8B5CF6, #7C3AED)",glow:"0 0 20px rgba(139, 92, 246, 0.3)",border:"1px solid rgba(139, 92, 246, 0.4)"},cyan:{gradient:"linear-gradient(135deg, #06B6D4, #0891B2)",glow:"0 0 20px rgba(6, 182, 212, 0.3)",border:"1px solid rgba(6, 182, 212, 0.4)"}}[r];return e.jsxs("button",{type:a,onClick:n,disabled:s,className:`\n        relative overflow-hidden rounded-lg font-semibold transition-all duration-300\n        ${{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[i]}\n        ${s?"opacity-50 cursor-not-allowed":"cursor-pointer hover:scale-105 hover:brightness-110"}\n        ${o}\n      `,style:{background:l.gradient,boxShadow:l.glow,border:l.border,color:"white"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-transparent to-white/10 rounded-lg"}),e.jsx("span",{className:"relative z-10",children:t})]})},MG=({isOpen:t,onClose:n,title:r,children:i,className:s=""})=>(v.useEffect(()=>{document.body.style.overflow=t?"hidden":""},[t]),t?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:n}),e.jsxs("div",{className:`\n          relative w-[90vw] max-w-2xl max-h-[90vh] overflow-hidden rounded-2xl border border-cyan-400/20\n          bg-gradient-to-br from-gray-900/95 to-black/95 backdrop-blur-md\n          shadow-[0_25px_50px_rgba(0,0,0,0.8)] shadow-cyan-400/10\n          ${s}\n        `,children:[r&&e.jsx("div",{className:"p-6 border-b border-cyan-400/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-purple-500 bg-clip-text text-transparent",children:r}),e.jsx("button",{onClick:n,className:"p-2 rounded-lg bg-gray-800/50 hover:bg-gray-700/50 transition-colors duration-300",children:e.jsx(kt,{className:"w-5 h-5 text-gray-400"})})]})}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:i})]})]}):null),DG=({isConnected:t,onConnect:n,onCreateChallenge:r,usdfgPrice:i,usdfgToUsd:s})=>{const[o,a]=v.useState({game:"NBA 2K25",platform:"PS5",username:"",entryFee:50,mode:"Head-to-Head",customMode:"",rules:"",customRules:!1}),[l,c]=v.useState(1),[u,d]=v.useState(!1),[h,f]=v.useState([]),[p,m]=v.useState(!1),g=[...Object.values({Sports:["EA UFC 6","FC 26","Madden 26","NBA 2K26"],Racing:["F1 2023","Mario Kart","Gran Turismo 7"],Fighting:["Mortal Kombat 1","Street Fighter 6","Tekken 8"],Shooting:["COD MW3","Fortnite","Valorant"]}).flat(),"Custom"],y=(e,t)=>{a(n=>({...n,[e]:t})),p&&f([])},b=e=>{const t=[];return 1===e&&(o.game||t.push("Please select a game"),o.platform||t.push("Please select a platform"),o.username.trim()||t.push("Username is required")),2===e&&(o.mode||t.push("Please select a challenge mode"),o.entryFee<10&&t.push("Minimum entry fee is 10 USDFG"),o.entryFee>1e3&&t.push("Maximum entry fee is 1000 USDFG")),3===e&&(o.rules.trim()||t.push("Please provide challenge rules")),f(t),0===t.length};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center space-x-2",children:Array.from({length:3},(t,n)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold "+(n+1<=l?"bg-gradient-to-r from-cyan-400 to-purple-500 text-black":"bg-gray-700 text-gray-400"),children:n+1}),n<2&&e.jsx("div",{className:"w-8 h-0.5 "+(n+1<l?"bg-gradient-to-r from-cyan-400 to-purple-500":"bg-gray-700")})]},n))}),1===l&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Choose Your Game"}),e.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:g.map(t=>e.jsx("button",{onClick:()=>y("game",t),className:"p-3 rounded-lg border-2 transition-all duration-300 "+(o.game===t?"border-cyan-400 bg-cyan-400/10 text-cyan-400":"border-gray-600 bg-gray-800/50 text-gray-300 hover:border-gray-500"),children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Platform"}),e.jsx("select",{value:o.platform,onChange:e=>y("platform",e.target.value),className:"w-full p-3 bg-gray-800 border border-gray-600 rounded-lg text-white focus:border-cyan-400 focus:ring-1 focus:ring-cyan-400",children:["PS5","Xbox","PC","Switch","Other/Custom"].map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Username"}),e.jsx("input",{type:"text",value:o.username,onChange:e=>y("username",e.target.value),placeholder:"Enter your gaming username",className:"w-full p-3 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-cyan-400 focus:ring-1 focus:ring-cyan-400"})]})]}),2===l&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Challenge Configuration"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Challenge Mode"}),e.jsx("select",{value:o.mode,onChange:e=>y("mode",e.target.value),className:"w-full p-3 bg-gray-800 border border-gray-600 rounded-lg text-white focus:border-cyan-400 focus:ring-1 focus:ring-cyan-400",children:{"EA UFC 6":["Full Match","Quick Match (No halftime)","2v2 Challenge","Custom Challenge"],"FC 26":["Full Match","Quick Match (No halftime)","2v2 Challenge","Custom Challenge"],"Madden 26":["Full Match","Quick Match (No halftime)","2v2 Challenge","Custom Challenge"],"NBA 2K26":["Full Match","Quick Match (No halftime)","2v2 Challenge","Custom Challenge"],"F1 2023":["Best Lap Time","1v1 Race to Finish","Custom Challenge"],"Mario Kart":["Best Lap Time","1v1 Race to Finish","Custom Challenge"],"Gran Turismo 7":["Best Lap Time","1v1 Race to Finish","Custom Challenge"],"Mortal Kombat 1":["Best of 3","Mirror Match","2v2 Team Fight","Custom Challenge"],"Street Fighter 6":["Best of 3","Mirror Match","2v2 Team Fight","Custom Challenge"],"Tekken 8":["Best of 3","Mirror Match","2v2 Team Fight","Custom Challenge"],"COD MW3":["Run the Fade","10 and Done","Snipers Only","Custom Challenge"],Fortnite:["Run the Fade","10 and Done","Snipers Only","Custom Challenge"],Valorant:["Run the Fade","10 and Done","Snipers Only","Custom Challenge"],Custom:["Custom Challenge"]}[o.game]?.map(t=>e.jsx("option",{value:t,children:t},t))}),e.jsxs("div",{className:"mt-3 p-3 bg-gray-800/50 rounded-lg border border-gray-600",children:[e.jsx("p",{className:"text-sm text-gray-300 whitespace-pre-line",children:(w=o.mode,{"Full Match":"Complete game duration with full regulation time. Best for competitive players who want the complete experience.","Quick Match (No halftime)":"Fast-paced shortened matches without halftime breaks. Perfect for quick sessions and rapid-fire competition.","2v2 Challenge":"Team-based action requiring coordination with teammates. Communication and teamwork are essential for victory.","Best Lap Time":"Race against the clock to set the fastest lap time. Precision and speed matter most.","1v1 Race to Finish":"Direct head-to-head racing competition. Pure speed and skill determine the winner.","Best of 3":"Tournament-style series where first to win 2 games advances. High stakes, high rewards.","Mirror Match":"Both players use the same character. Pure skill vs skill with no character advantages.","2v2 Team Fight":"Team coordination required. Communication and strategy are crucial for team victory.","Run the Fade":"Intense 1v1 combat. No teammates, no excuses - just pure skill and reflexes.","10 and Done":"First to 10 kills wins. Fast-paced action with clear victory conditions.","Snipers Only":"Sniper rifles only. Precision and patience are key to victory.","Custom Challenge":"Create your own rules and format. Maximum flexibility for unique challenges."}[w]||"Custom challenge format with your own rules.")}),e.jsx("div",{className:"mt-2 pt-2 border-t border-gray-600",children:e.jsx(PG,{onClick:()=>{const e=o.mode;let t="";t="Full Match"===e?"• Full game duration\n• Standard game settings\n• No substitutions\n• Winner takes all":"Quick Match (No halftime)"===e?"• Shortened duration\n• No halftime breaks\n• Fast-paced action\n• Winner takes all":"2v2 Challenge"===e?"• Team coordination required\n• Communication essential\n• No solo play\n• Team victory":"Best Lap Time"===e?"• Race against clock\n• Best time wins\n• No collisions\n• Precision required":"1v1 Race to Finish"===e?"• Direct head-to-head racing\n• No assists\n• Pure speed and skill\n• Winner takes all":"Best of 3"===e?"• First to win 2 games\n• No breaks between games\n• Standard settings\n• Winner advances":"Mirror Match"===e?"• Same character for both players\n• Pure skill competition\n• No character advantages\n• Winner takes all":"2v2 Team Fight"===e?"• Team coordination required\n• Communication essential\n• Team strategy\n• Team victory":"Run the Fade"===e?"• 1v1 combat\n• No teammates\n• Pure skill and reflexes\n• Winner takes all":"10 and Done"===e?"• First to 10 kills wins\n• Fast-paced action\n• Clear victory conditions\n• Winner takes all":"Snipers Only"===e?"• Sniper rifles only\n• Precision and patience\n• No other weapons\n• Winner takes all":"• Custom rules\n• Flexible format\n• Your own challenge\n• Winner takes all",y("rules",t)},variant:"secondary",size:"sm",className:"text-xs",children:"Auto-Generate Rules"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Entry Fee (USDFG)"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"number",min:"10",max:"1000",value:o.entryFee,onChange:e=>y("entryFee",parseInt(e.target.value)||0),className:"flex-1 p-3 bg-gray-800 border border-gray-600 rounded-lg text-white focus:border-cyan-400 focus:ring-1 focus:ring-cyan-400"}),e.jsxs("div",{className:"text-sm text-gray-400",children:["≈ $",s(o.entryFee).toFixed(2)," USD"]})]}),e.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:["Prize Pool: ",2*o.entryFee," USDFG (2x entry fee)"]})]})]})}),3===l&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Challenge Rules"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Rules & Conditions"}),e.jsx("textarea",{value:o.rules,onChange:e=>y("rules",e.target.value),placeholder:"Enter detailed rules for your challenge...",rows:6,className:"w-full p-3 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-cyan-400 focus:ring-1 focus:ring-cyan-400 resize-none"}),e.jsx("div",{className:"mt-2 text-sm text-gray-400",children:"Be specific about game settings, time limits, and winning conditions."})]})]})}),h.length>0&&e.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:[e.jsx("div",{className:"text-red-400 font-medium mb-2",children:"Please fix the following errors:"}),e.jsx("ul",{className:"text-red-300 text-sm space-y-1",children:h.map((t,n)=>e.jsxs("li",{children:["• ",t]},n))})]}),e.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-700",children:[e.jsx(PG,{onClick:()=>{c(e=>Math.max(e-1,1))},variant:"secondary",disabled:1===l,children:"Previous"}),e.jsx("div",{className:"flex space-x-3",children:l<3?e.jsx(PG,{onClick:()=>{m(!0),b(l)&&c(e=>Math.min(e+1,3))},variant:"primary",children:"Next"}):e.jsx(PG,{onClick:()=>{if(b(l)){const e={...o,maxPlayers:o.mode.includes("2v2")?2:o.mode.includes("3v3")?3:o.mode.includes("5v5")?5:2,prizePool:2*o.entryFee,category:o.game,creatorTag:o.username,platform:o.platform};r(e)}},variant:"success",disabled:!t,children:"Create Challenge"})})]}),!t&&e.jsxs("div",{className:"mt-4 p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:[e.jsx("p",{className:"text-yellow-400 text-sm mb-3",children:"Connect your wallet to create challenges and compete for rewards!"}),e.jsx(PG,{onClick:()=>{d(!0),setTimeout(()=>{n(),d(!1)},1e3)},variant:"warning",disabled:u,children:u?"Connecting...":"Connect Wallet"})]})]});var w},LG=({children:t})=>e.jsx("header",{className:"sticky top-0 z-50 border-b border-cyan-400/20 shadow-[0_2px_24px_rgba(0,232,252,0.1)] backdrop-blur-md bg-black/80",children:e.jsx("div",{className:"container mx-auto px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(_,{to:"/",className:"flex items-center space-x-3 group",title:"Built for the ones who don't blink.",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-cyan-400 via-purple-500 to-rose-400 rounded-lg flex items-center justify-center transition-transform duration-300 group-hover:scale-110",children:e.jsx("span",{className:"text-black font-bold text-lg",children:"🎮"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400 via-purple-500 to-rose-400 rounded-lg blur-md opacity-0 group-hover:opacity-50 transition-opacity duration-300"})]}),e.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-500 to-rose-400 bg-clip-text text-transparent font-extrabold text-xl tracking-wide",children:"USDFG"})]}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[e.jsxs(_,{to:"/",className:"text-white/80 hover:text-cyan-400 transition-colors duration-300 font-medium relative group",children:["Home",e.jsx("div",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-500 group-hover:w-full transition-all duration-300"})]}),e.jsxs(_,{to:"/app",className:"text-white/80 hover:text-cyan-400 transition-colors duration-300 font-medium relative group",children:["Arena",e.jsx("div",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-500 group-hover:w-full transition-all duration-300"})]}),e.jsxs(_,{to:"/whitepaper",className:"text-white/80 hover:text-cyan-400 transition-colors duration-300 font-medium relative group",children:["Whitepaper",e.jsx("div",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-500 group-hover:w-full transition-all duration-300"})]})]}),e.jsx("div",{className:"flex items-center space-x-4",children:t})]})})}),BG=({challengeId:t,currentWallet:n})=>{const[r,i]=v.useState([]),[s,o]=v.useState(""),[a,l]=v.useState(!1),c=v.useRef(null);v.useEffect(()=>{c.current?.scrollIntoView({behavior:"smooth"})},[r]),v.useEffect(()=>{const e=eL(CD(zM(cL,"challenge_chats"),ID("challengeId","==",t)),e=>{console.log("📨 Received messages:",e.size);const t=[];e.forEach(e=>{const n=e.data();console.log("💬 Message:",n),t.push({id:e.id,...n})}),t.sort((e,t)=>(e.timestamp?.seconds||0)-(t.timestamp?.seconds||0)),console.log("✅ Messages sorted and ready:",t.length);const n=t.filter(e=>"SYSTEM"===e.sender);console.log("🟡 System messages found:",n.length,n),i(t)},e=>{console.error("❌ Chat listener error:",e),console.error("Error code:",e.code),console.error("Error message:",e.message)});return()=>e()},[t]);const u=async()=>{if(s.trim()&&!a){l(!0);try{console.log("📤 Sending message:",{challengeId:t,text:s.trim(),sender:n}),await JD(zM(cL,"challenge_chats"),{challengeId:t,text:s.trim(),sender:n,timestamp:sL()}),console.log("✅ Message sent successfully"),o("")}catch(e){console.error("❌ Failed to send message:",e),alert("Failed to send message. Check console for details.")}finally{l(!1)}}};return e.jsxs("div",{className:"flex flex-col bg-black/30 rounded-xl p-3 h-48 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase",children:"Chat"}),e.jsxs("span",{className:"text-xs text-gray-500",children:[r.length," messages"]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-2 mb-2 scrollbar-thin scrollbar-thumb-gray-700 scrollbar-track-transparent",children:[0===r.length?e.jsx("p",{className:"text-gray-500 text-xs text-center py-4",children:"No messages yet. Start the conversation!"}):r.map(t=>{const r=t.sender===n;return"SYSTEM"===t.sender?e.jsx("div",{className:"flex justify-center my-2",children:e.jsx("div",{className:"max-w-[90%] px-4 py-2 bg-yellow-500/10 border border-yellow-500/30 rounded-lg text-xs text-yellow-300 text-center",children:t.text})},t.id):e.jsx("div",{className:"flex "+(r?"justify-end":"justify-start"),children:e.jsxs("div",{className:"max-w-[80%] px-3 py-1.5 rounded-lg text-sm "+(r?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-gray-800 text-gray-200"),children:[!r&&e.jsxs("p",{className:"text-xs text-gray-400 mb-0.5",children:[t.sender.slice(0,6),"..."]}),e.jsx("p",{className:"break-words",children:t.text})]})},t.id)}),e.jsx("div",{ref:c})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{className:"flex-1 bg-gray-800 text-white text-sm px-3 py-2 rounded-lg border border-gray-700 focus:border-purple-500 focus:outline-none placeholder-gray-500",placeholder:"Type message...",value:s,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),u())},disabled:a}),e.jsx("button",{onClick:u,disabled:!s.trim()||a,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed text-white p-2 rounded-lg transition-all",children:e.jsx(yt,{className:"w-4 h-4"})})]})]})},UG=({challengeId:t,currentWallet:n})=>{const[r,i]=v.useState(!1),[s,o]=v.useState(!1),[a,l]=v.useState(!1),[c,u]=v.useState("Initializing..."),[d,h]=v.useState(!1),f=v.useRef(null),p=v.useRef(null),m=v.useRef(null),g=v.useRef(0);console.log("🎤 VoiceChat component mounted",{challengeId:t,currentWallet:n}),v.useEffect(()=>{if(!d)return console.log("🎤 VoiceChat useEffect triggered - initializing..."),y(),()=>{console.log("🎤 VoiceChat useEffect cleanup"),b()}},[t,n,d]);const y=async()=>{console.log("🎤 Starting voice chat initialization...");try{u("Requesting mic permission..."),console.log("🎤 Requesting microphone permission...");const e=await navigator.mediaDevices.getUserMedia({audio:!0});console.log("✅ Microphone permission granted!"),f.current=e,o(!0),u("Mic ready, waiting for opponent...");const r=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:openrelay.metered.ca:80","turn:openrelay.metered.ca:443","turn:openrelay.metered.ca:443?transport=tcp"],username:"openrelayproject",credential:"openrelayproject"}],iceCandidatePoolSize:10});p.current=r,e.getTracks().forEach(t=>{r.addTrack(t,e)}),r.ontrack=e=>{m.current&&e.streams[0]&&(m.current.srcObject=e.streams[0],m.current.play().catch(e=>console.error("Audio play failed:",e)),l(!0))};r.onicecandidate=async e=>{if(e.candidate){console.log("🧊 New ICE candidate:",e.candidate.type);const r=`candidate_${n}_${Date.now()}`;await QD(VM(cL,"voice_signals",t),{[r]:e.candidate.toJSON(),timestamp:Date.now()},{merge:!0})}else console.log("🧊 All ICE candidates sent")},r.onconnectionstatechange=()=>{console.log("🔌 Connection state:",r.connectionState),"connected"===r.connectionState?(l(!0),u("Voice connected!"),g.current=0,console.log("✅ Voice chat connected!")):"connecting"===r.connectionState?u("Connecting to opponent..."):"disconnected"===r.connectionState?(l(!1),u("Disconnected, reconnecting..."),console.log("⚠️ Voice chat disconnected - attempting reconnect")):"failed"===r.connectionState&&(l(!1),g.current<3?(g.current++,u(`Connection failed, retry ${g.current}/3...`),console.log(`❌ Voice chat connection failed - retry attempt ${g.current}`),r.restartIce()):(u("Connection failed (check network)"),console.error("❌ Voice chat connection failed after max retries")))},r.oniceconnectionstatechange=()=>{console.log("🧊 ICE connection state:",r.iceConnectionState),"connected"===r.iceConnectionState||"completed"===r.iceConnectionState?console.log("✅ ICE connection established!"):"failed"===r.iceConnectionState&&console.error("❌ ICE connection failed - may need better TURN servers")};const i=VM(cL,"voice_signals",t);eL(i,async e=>{const t=e.data();if(t)try{if(t.offer&&t.offerFrom!==n&&!r.currentRemoteDescription){console.log("📞 Received offer, creating answer..."),await r.setRemoteDescription(new RTCSessionDescription(t.offer));const e=await r.createAnswer();await r.setLocalDescription(e),await QD(i,{answer:e,answerFrom:n,timestamp:Date.now()},{merge:!0})}else t.answer&&t.answerFrom!==n&&t.offerFrom===n&&("have-local-offer"!==r.signalingState||r.currentRemoteDescription||(console.log("✅ Received answer, setting remote description..."),await r.setRemoteDescription(new RTCSessionDescription(t.answer))));Object.keys(t).forEach(async e=>{if(e.startsWith("candidate_")&&!e.includes(n))try{r.remoteDescription?(console.log("🧊 Adding remote ICE candidate"),await r.addIceCandidate(new RTCIceCandidate(t[e]))):console.log("⏳ Queuing ICE candidate (no remote description yet)")}catch(i){console.error("❌ Failed to add ICE candidate:",i)}})}catch(s){console.error("❌ Error handling WebRTC signal:",s)}});await new Promise(e=>setTimeout(e,100));const{getDoc:s}=await JB(async()=>{const{getDoc:e}=await Promise.resolve().then(()=>lL);return{getDoc:e}},void 0),a=(await s(i)).data();if(a?.offer)a.offerFrom!==n&&(console.log("📞 Offer already exists from opponent, will answer when ready"),u("Found opponent, connecting..."));else{console.log("📞 Creating offer (first person in room)..."),u("Creating offer, waiting for opponent...");const e=await r.createOffer();await r.setLocalDescription(e),await QD(i,{offer:e,offerFrom:n,timestamp:Date.now()},{merge:!0})}}catch(e){console.error("❌ Voice chat init failed:",e),o(!1);let t="Unknown error";e instanceof Error&&(t="NotAllowedError"===e.name||e.message.includes("Permission denied")?"Mic permission denied. Please allow mic access.":e.message.includes("AVAudioSession")||e.message.includes("NotReadableError")?"Mic in use by another app. Close other apps.":"NotFoundError"===e.name?"No microphone found":e.message),u(`Error: ${t}`)}},b=async()=>{console.log("🧹 Cleaning up voice chat..."),f.current&&(f.current.getTracks().forEach(e=>{e.stop(),console.log("🛑 Stopped track:",e.kind)}),f.current=null),p.current&&(p.current.close(),p.current=null);try{await ZD(VM(cL,"voice_signals",t)),console.log("✅ Cleaned up Firestore signals")}catch(e){console.error("Failed to clean up voice signals:",e)}o(!1),l(!1),i(!1)};return d?e.jsx("div",{className:"p-3 rounded-lg border border-gray-700 bg-gray-800/50",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-500"}),e.jsx("span",{className:"text-gray-400 text-sm",children:"Voice chat disabled (using text only)"})]}),e.jsx("button",{onClick:()=>{h(!1),u("Initializing...")},className:"px-3 py-1 rounded-lg bg-gray-700 hover:bg-gray-600 text-white text-xs transition-colors",children:"Enable Voice"})]})}):e.jsxs("div",{className:"p-3 rounded-lg border "+(c.includes("Error")||c.includes("use by another")?"bg-red-900/20 border-red-500/30":"bg-gray-800 border-gray-700"),children:[e.jsx("audio",{ref:m,autoPlay:!0}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0 "+(a?"bg-green-500 animate-pulse":s?"bg-yellow-500":"bg-red-500")}),e.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[e.jsx("span",{className:"text-white text-sm font-medium",children:a?"🎙️ Voice Connected":s?"🔌 Voice Chat":"❌ Voice Unavailable"}),e.jsx("span",{className:"text-xs truncate "+(c.includes("Error")?"text-red-400":"text-gray-400"),children:c}),c.includes("Error")&&e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"💬 Text chat works fine"}),e.jsx("button",{onClick:()=>{b(),h(!0)},className:"text-xs text-blue-400 hover:text-blue-300 underline",children:"Skip voice"})]})]})]}),e.jsx("button",{onClick:()=>{if(!f.current)return;const e=!r;f.current.getAudioTracks().forEach(t=>{t.enabled=!e}),i(e)},disabled:!s,className:"px-3 py-2 rounded-lg text-white transition-all disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0 "+(r?"bg-red-600 hover:bg-red-700 shadow-lg shadow-red-500/20":"bg-green-600 hover:bg-green-700 shadow-lg shadow-green-500/20"),children:r?e.jsx(pt,{className:"w-4 h-4"}):e.jsx(mt,{className:"w-4 h-4"})})]})]})},FG=v.memo(({isOpen:t,onClose:n,challengeId:r,challengeTitle:i,currentWallet:s,onSubmit:o,isSubmitting:a=!1})=>{const[l,c]=v.useState(null),[u,d]=v.useState(!1),[h,f]=v.useState(null),[p,m]=v.useState(null),g=v.useRef(null),y=v.useCallback(e=>{const t=e.target.files?.[0];if(t){m(t);const e=new FileReader;e.onloadend=()=>{f(e.result)},e.readAsDataURL(t)}},[]),b=v.useCallback(()=>{f(null),m(null),g.current&&(g.current.value="")},[]),w=v.useCallback(async()=>{if(null!==l){d(!0);try{await o(l,p),n()}catch(e){console.error("❌ Error submitting result:",e),alert(e.message||"Failed to submit result. Please try again.")}finally{d(!1)}}},[l,p,o,n]);return v.useEffect(()=>{const e=e=>{"Escape"!==e.key||!t||u||a||(console.log("⌨️ ESC pressed - closing modal"),n())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,u,a,n]),e.jsx(Qx,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx($_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50",onClick:n}),e.jsx($_.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"tween",duration:.3,ease:"easeOut"},className:"fixed bottom-0 left-0 right-0 z-50 flex justify-center",onClick:e=>e.stopPropagation(),children:e.jsx("div",{className:"w-full max-w-2xl bg-gradient-to-br from-gray-900 via-purple-900/20 to-gray-900 border-t-2 border-x-2 border-purple-500/30 rounded-t-3xl shadow-2xl max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start sticky top-0 bg-gray-900/95 backdrop-blur-sm -mx-6 px-6 py-4 border-b border-gray-800 z-10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-lg",children:e.jsx(wt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Submit Result"}),e.jsx("p",{className:"text-sm text-gray-400 mt-0.5",children:i})]})]}),e.jsx("button",{onClick:n,disabled:u||a,className:"text-gray-400 hover:text-white transition-colors disabled:opacity-50",children:e.jsx(kt,{className:"w-6 h-6"})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500/10 to-pink-500/10 border border-purple-500/20 rounded-xl p-4 mb-4",children:e.jsx("p",{className:"text-xl font-semibold text-white text-center",children:"Did you win this match?"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>c(!0),disabled:u||a,className:`\n                        relative overflow-hidden p-6 rounded-xl border-2 transition-all duration-200\n                        disabled:opacity-50 disabled:cursor-not-allowed\n                        ${!0===l?"border-green-500 bg-gradient-to-br from-green-500/20 to-emerald-500/20 shadow-lg shadow-green-500/20":"border-gray-600 bg-gray-800/50 hover:border-green-500/50 hover:bg-green-500/10"}\n                      `,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:"🏆"}),e.jsx("p",{className:"text-xl font-bold text-white",children:"YES"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"I won"})]}),!0===l&&e.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]}),e.jsxs("button",{onClick:()=>c(!1),disabled:u||a,className:`\n                        relative overflow-hidden p-6 rounded-xl border-2 transition-all duration-200\n                        disabled:opacity-50 disabled:cursor-not-allowed\n                        ${!1===l?"border-red-500 bg-gradient-to-br from-red-500/20 to-rose-500/20 shadow-lg shadow-red-500/20":"border-gray-600 bg-gray-800/50 hover:border-red-500/50 hover:bg-red-500/10"}\n                      `,children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:"😔"}),e.jsx("p",{className:"text-xl font-bold text-white",children:"NO"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"I lost"})]}),!1===l&&e.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})]})]})]}),!0===l&&e.jsx($_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:e.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/20 rounded-lg p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("p",{className:"text-sm font-semibold text-purple-300",children:"📸 Upload Proof (Optional but Recommended)"})}),h?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:h,alt:"Proof",className:"w-full h-48 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:b,className:"absolute top-2 right-2 p-2 bg-red-600 hover:bg-red-700 rounded-full text-white transition-all",children:e.jsx(kt,{className:"w-4 h-4"})}),e.jsxs("div",{className:"absolute bottom-2 left-2 px-2 py-1 bg-green-600 rounded text-xs text-white flex items-center gap-1",children:[e.jsx(ut,{className:"w-3 h-3"}),"Proof uploaded"]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{ref:g,type:"file",accept:"image/*",capture:"environment",onChange:y,className:"hidden"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>g.current?.click(),className:"flex items-center justify-center gap-2 p-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white rounded-lg transition-all",children:[e.jsx(it,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Take Photo"})]}),e.jsxs("button",{type:"button",onClick:()=>{g.current&&(g.current.removeAttribute("capture"),g.current.click())},className:"flex items-center justify-center gap-2 p-3 bg-purple-700 hover:bg-purple-800 text-white rounded-lg transition-all",children:[e.jsx(xt,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Upload"})]})]}),e.jsx("p",{className:"text-xs text-gray-400 text-center mt-2",children:"Screenshot of victory screen, final score, or match result"})]})]})}),t&&e.jsx(UG,{challengeId:r,currentWallet:s}),t&&e.jsx(BG,{challengeId:r,currentWallet:s}),e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-blue-300 text-center",children:"⏰ Your opponent has 2 hours to submit their result"})}),e.jsx("div",{className:"space-y-3",children:e.jsx("button",{onClick:w,disabled:null===l||u||a,className:`\n                      w-full py-4 rounded-xl font-bold text-lg transition-all duration-200\n                      disabled:opacity-50 disabled:cursor-not-allowed\n                      ${null!==l?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white shadow-lg shadow-purple-500/20":"bg-gray-700 text-gray-400 cursor-not-allowed"}\n                    `,children:u||a?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(ht,{className:"w-5 h-5 animate-spin"}),"Submitting..."]}):"Submit Result"})}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"⚠️ Results are final and cannot be changed after submission"})]})})})]})})}),zG=()=>{const t=kh(),{connection:n}=Bd(),{connected:r,signTransaction:i,publicKey:s,connect:o,signAllTransactions:a}=t,l=r,[c,u]=v.useState(!1),[d,h]=v.useState(!1),[f,p]=v.useState(!1),[m,g]=v.useState(!1),[y,b]=v.useState(null),[w,x]=v.useState("All"),[k,S]=v.useState("All"),[E,N]=v.useState(!1),[A,T]=v.useState(.15),[C,j]=v.useState(new Date),[I,R]=v.useState(!0),[O,P]=v.useState(0),[M,D]=v.useState(!1),[L,B]=v.useState([]),[U,F]=v.useState(!0),[z,V]=v.useState(null),[q,G]=v.useState(!1),[W,H]=v.useState(!1),K=v.useCallback(async()=>{try{const e=.15,t=.02*(Math.random()-.5),n=Math.max(.01,e+t);T(Number(n.toFixed(4)))}catch(e){console.error("Failed to fetch USDFG price:",e),T(.15)}},[]);v.useEffect(()=>{r&&s&&(console.log("🔍 Current wallet:",s.toString()),console.log("🔍 Admin wallet:",pU.toString()),console.log("🔍 Is admin?",s.toString()===pU.toString()))},[r,s]);v.useEffect(()=>{K();const e=setInterval(K,3e4);return()=>clearInterval(e)},[K]),v.useEffect(()=>{(async()=>{try{const e=q?50:5,t=await xL(e,"totalEarned");B(t)}catch(e){console.error("Failed to fetch top players:",e)}finally{F(!1)}})()},[q]),v.useEffect(()=>{console.log("🔥 Testing Firestore connection..."),uL().then(e=>{e?console.log("✅ Firebase Firestore is ready for real-time challenges!"):console.error("❌ Firebase connection failed - check your config")})},[]);const $=v.useCallback(e=>e*A,[A]),{challenges:Y,loading:Q,error:X}=(()=>{const[e,t]=v.useState([]),[n,r]=v.useState(!0),[i,s]=v.useState(null);return v.useEffect(()=>{const e=hL(e=>{t(e),r(!1),s(null)});return(async()=>{try{const e=await fL();e.length>0&&t(e)}catch(e){console.error("❌ Failed to fetch initial challenges:",e),s("Failed to load challenges")}})(),()=>e()},[]),{challenges:e,loading:n,error:i}})();!function(e){const t=v.useRef(new Set),n=v.useRef(new Map);v.useEffect(()=>{if(!e?.length)return;const r=async()=>{const r=Date.now();for(const s of e)if(s.expiresAt){if((s.expiresAt.toMillis?s.expiresAt.toMillis():s.expiresAt)<r&&("active"===s.status||"pending"===s.status)){if(t.current.has(s.id))continue;console.log("⏰ Auto-expiring challenge:",s.id),t.current.add(s.id);try{await dL(s.id,"expired"),console.log("✅ Challenge marked as expired:",s.id);const e=setTimeout(async()=>{try{await mL(s.id),console.log("🏁 Challenge archived:",s.id),t.current.delete(s.id),n.current.delete(s.id)}catch(e){console.error("❌ Failed to archive challenge:",e),t.current.delete(s.id),n.current.delete(s.id)}},5e3);n.current.set(s.id,e)}catch(i){console.error("❌ Failed to mark challenge as expired:",i),t.current.delete(s.id)}}"expired"!==s.status||n.current.has(s.id)||t.current.has(s.id+"_archive")||(console.log("🗑️ Found expired challenge that needs archiving:",s.id),t.current.add(s.id+"_archive"),setTimeout(async()=>{try{await mL(s.id),console.log("🏁 Challenge archived (cleanup):",s.id),t.current.delete(s.id+"_archive")}catch(i){console.error("❌ Failed to archive challenge (cleanup):",i),t.current.delete(s.id+"_archive")}},2e3))}};r();const i=setInterval(r,3e4);return()=>{clearInterval(i),n.current.forEach(e=>clearTimeout(e)),n.current.clear()}},[e])}(Y),function(e){const t=v.useRef(new Set);v.useEffect(()=>{if(!e||0===e.length)return;const n=e.filter(e=>"in-progress"===e.status&&e.resultDeadline);if(0===n.length)return;const r=async()=>{for(const r of n){if(!r.id||!r.resultDeadline)continue;if(t.current.has(r.id))continue;const n=Date.now()-r.resultDeadline.toMillis();if(n>0){console.log("⏰ Checking result deadline for challenge:",r.id,"Time since deadline:",Math.floor(n/1e3/60),"minutes");try{await yL(r.id),t.current.add(r.id),setTimeout(()=>{t.current.delete(r.id)},6e5)}catch(e){console.error("❌ Error checking result deadline:",e)}}}};r();const i=setInterval(r,6e4);return()=>{clearInterval(i)}},[e])}(Y),v.useEffect(()=>{if(!s||!Y)return;const e=Y.filter(e=>{if("in-progress"!==e.status)return!1;const t=s.toString().toLowerCase();return(e.players||[]).some(e=>e.toLowerCase()===t)});if(e.length>0&&!m){const t=e[0];console.log("🎮 Auto-opening Submit Result Room for in-progress challenge:",t.id),b({id:t.id,title:t.title||t.game||"Challenge",...t}),g(!0)}},[Y,s,m]);const Z=Y.map(e=>{const t=(t=>{switch(t.toLowerCase()){case"head-to-head":case"1v1":return 2;case"tournament":case"bracket":return 8;case"battle royale":return 16;case"team vs team":return 4;default:return e.maxPlayers||2}})(e.mode),n=e.players?.length||1;return{id:e.id,clientId:e.id,title:`${e.game} ${e.mode}`,game:e.game,mode:e.mode,platform:e.platform,username:e.creatorTag,entryFee:e.entryFee,prizePool:e.prizePool,players:n,capacity:t,category:e.category,creator:e.creator,rules:e.rules,createdAt:e.createdAt?.toDate?.()?.toISOString()||(new Date).toISOString(),timestamp:e.createdAt?.toDate?.()?.getTime()||Date.now(),expiresAt:e.expiresAt?.toDate?.()?.getTime()||Date.now()+72e5,status:e.status,rawData:e}});X&&console.error("❌ Challenges error:",X);const J=Z.filter(e=>{const t="All"===w||e.category===w,n="All"===k||e.game===k,r=!E||e.creator===(s?.toString()||null);return t&&n&&r}),ee=["All",...Array.from(new Set(Z.map(e=>e.game)))],te=s?.toString()||null,ne=te&&Z.some(e=>{const t=e.creator===te,n=Y.some(t=>t.id===e.id&&t.players?.includes(te)),r="active"===e.status||"pending"===e.status||"in-progress"===e.status;return(t||n)&&r});return v.useEffect(()=>(document.body.classList.add("arena-page"),()=>{document.body.classList.remove("arena-page")}),[]),e.jsxs(e.Fragment,{children:[e.jsxs(QB,{children:[e.jsx("title",{children:"USDFG Arena - Gaming Platform | USDFGAMING"}),e.jsx("meta",{name:"description",content:"Enter the USDFG Arena - Compete in skill-based challenges, earn USDFG, and prove your gaming prowess."})]}),e.jsxs("div",{className:"min-h-screen bg-background-1 relative w-full overflow-x-hidden",children:[e.jsx("div",{className:"parallax-glow"}),e.jsxs(LG,{children:[e.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[e.jsx(PG,{onClick:()=>{ne?alert("You already have an active challenge (created or joined). Complete it before creating a new one."):M?console.log("⏳ Challenge creation in progress, please wait..."):(console.log("🔥 CREATE CHALLENGE BUTTON CLICKED!"),u(!0))},variant:"cyan",disabled:ne||M,title:ne?"You have an active challenge (created or joined)":M?"Creating challenge...":"Create a new challenge",children:ne?"In Challenge":M?"Creating...":"Create Challenge"}),e.jsx(yU,{isConnected:l,onConnect:()=>{localStorage.setItem("wallet_connected","true")},onDisconnect:()=>{localStorage.removeItem("wallet_connected"),localStorage.removeItem("wallet_address")}}),r&&s?.toString()===pU.toString()&&e.jsxs(e.Fragment,{children:[console.log("🔍 Admin wallet detected, showing refresh button"),e.jsx("button",{onClick:async()=>{if(s&&r)if(s.toString()===pU.toString()){H(!0);try{console.log("🔄 Admin refreshing oracle..."),await OG(t,n),alert("✅ Oracle refreshed successfully! Players can now create challenges."),console.log("✅ Oracle refreshed!")}catch(e){console.error("❌ Error refreshing oracle:",e),alert(`Failed to refresh oracle: ${e.message}`)}finally{H(!1)}}else alert("Only the admin wallet can refresh the oracle");else alert("Please connect your wallet first")},disabled:W,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",title:"Refresh the price oracle (admin only)",children:W?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),e.jsx("span",{children:"Refreshing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"🔄"}),e.jsx("span",{children:"Refresh Oracle"})]})})]})]}),e.jsx("div",{className:"flex md:hidden items-center",children:e.jsx(yU,{isConnected:l,onConnect:()=>{localStorage.setItem("wallet_connected","true")},onDisconnect:()=>{localStorage.removeItem("wallet_connected"),localStorage.removeItem("wallet_address")},compact:!0})})]}),e.jsx("div",{className:"container mx-auto px-4 py-2 w-full",children:e.jsxs("div",{className:"flex items-center justify-between text-sm w-full",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[e.jsx("div",{className:"w-2 h-2 rounded-full "+(Q||X?"bg-red-400":"bg-green-400 animate-pulse")}),e.jsxs("span",{className:"text-text-dim text-xs sm:text-sm",children:[Q?"Loading...":X?"Error":"Firestore Live"," • ",Z.length," active"]})]}),e.jsx("div",{className:"text-text-dim text-xs sm:text-sm hidden sm:block",children:"Real-time sync enabled"})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-4 sm:py-8 w-full",children:[e.jsxs("div",{className:"text-center neocore-section",children:[e.jsxs("div",{className:"inline-flex items-center bg-background-2/60 border border-glow/20 rounded-full px-4 py-2 mb-6 backdrop-blur-sm glow-soft",children:[e.jsx("div",{className:"w-2 h-2 bg-glow-cyan rounded-full mr-2 animate-pulse"}),e.jsx("span",{className:"text-sm text-text-dim mr-2 neocore-body",children:"USDFG Price:"}),e.jsxs("span",{className:"text-glow-cyan font-semibold neocore-body",children:[A.toFixed(4)," USDFG"]}),e.jsx("span",{className:"text-xs text-text-dim ml-2 neocore-body",children:"Live"})]}),e.jsxs("h1",{className:"neocore-h1 text-2xl sm:text-4xl lg:text-5xl",children:["Welcome to the ",e.jsx("span",{className:"bg-gradient-to-r from-glow-cyan to-glow-electric bg-clip-text text-transparent",children:"Arena"})]}),e.jsx("p",{className:"text-base sm:text-xl max-w-2xl mx-auto neocore-body mb-6 sm:mb-8 px-4",children:"Compete in skill-based challenges, earn USDFG, and prove your gaming prowess against players worldwide."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 sm:gap-4 px-4",children:[e.jsx("button",{onClick:()=>u(!0),className:"elite-btn neocore-button px-4 sm:px-6 py-2 sm:py-3 w-full sm:w-auto text-sm sm:text-base",children:"Create Challenge"}),e.jsx(_,{to:"#challenges",className:"text-glow-cyan underline underline-offset-4 hover:text-glow-cyan/80 transition-colors neocore-body text-sm sm:text-base",children:"Browse Challenges"})]}),!l&&e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4 max-w-md mx-auto",children:e.jsx("p",{className:"text-yellow-400 text-sm",children:"Connect your wallet to start competing and earning rewards!"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-black/20 border border-gray-800 rounded-lg p-6 text-center backdrop-blur-sm",children:[e.jsx("div",{className:"text-4xl mb-2",children:"🏆"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"1,247"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Active Challenges"})]}),e.jsxs("div",{className:"bg-black/20 border border-gray-800 rounded-lg p-6 text-center backdrop-blur-sm",children:[e.jsx("div",{className:"text-4xl mb-2",children:"👥"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"8,432"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Players Online"})]}),e.jsxs("div",{className:"bg-black/20 border border-gray-800 rounded-lg p-6 text-center backdrop-blur-sm",children:[e.jsx("div",{className:"text-4xl mb-2",children:"⚡"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"45,678"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"USDFG Rewarded"})]}),e.jsxs("div",{className:"bg-black/20 border border-gray-800 rounded-lg p-6 text-center backdrop-blur-sm",children:[e.jsx("div",{className:"text-4xl mb-2",children:"📈"}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"+12.5%"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Win Rate"})]})]}),e.jsx("section",{id:"challenges",className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Available Challenges"}),e.jsx("div",{className:"hidden md:flex",children:e.jsx(PG,{onClick:()=>u(!0),variant:"cyan",size:"md",className:"px-6 py-3",children:"Create Challenge"})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-black/20 border border-gray-800 rounded-lg backdrop-blur-sm",children:[e.jsxs("div",{className:"p-6 border-b border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[e.jsx("span",{className:"mr-2",children:"🎯"}),"Available Challenges"]}),e.jsxs("span",{className:"text-sm text-gray-400",children:[J.length," challenge",1!==J.length?"s":""]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Category:"}),e.jsx("select",{value:w,onChange:e=>x(e.target.value),className:"px-3 py-1.5 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm focus:border-cyan-400 focus:outline-none",children:["All","Fighting","Sports","Shooting","Racing"].map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Game:"}),e.jsx("select",{value:k,onChange:e=>S(e.target.value),className:"px-3 py-1.5 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm focus:border-cyan-400 focus:outline-none",children:ee.map(t=>e.jsx("option",{value:t,children:t},t))})]}),l&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:()=>N(!E),className:"px-3 py-1.5 rounded-lg border text-sm transition-all "+(E?"bg-cyan-500/20 border-cyan-500/30 text-cyan-400":"bg-gray-800 border-gray-600 text-white hover:bg-gray-700"),children:E?"👤 My Challenges":"🌐 All Challenges"})}),("All"!==w||"All"!==k||E)&&e.jsx("button",{onClick:()=>{x("All"),S("All"),N(!1)},className:"px-3 py-1.5 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg text-sm hover:bg-red-500/30 transition-colors",children:"Clear Filters"})]})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:0===J.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"No challenges found matching your filters."}),e.jsx("button",{onClick:()=>{x("All"),S("All")},className:"text-cyan-400 hover:text-cyan-300 text-sm underline",children:"Clear filters to see all challenges"})]}):J.map(t=>{const n=(e=>{const t=s?.toString()?.toLowerCase()||null,n=e.creator?.toLowerCase()||null;return!(!t||!n)&&t===n})(t);return e.jsxs("div",{className:"challenge-card p-4 cursor-pointer hover:bg-background-2/40 transition-colors "+("expired"===t.status?"challenge-expired":""),onClick:()=>{b(t),p(!0)},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-glow-pink to-glow-electric rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white",children:"🥊"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-text-primary font-semibold neocore-body",children:t.title}),e.jsxs("p",{className:"text-text-dim text-sm neocore-body",children:[t.category," • ",t.game]}),t.platform&&t.username&&e.jsxs("p",{className:"text-text-dim/60 text-xs neocore-body",children:["🖥️ ",t.platform," • 👤 ",t.username]}),t.createdAt&&e.jsxs("p",{className:"text-text-dim/60 text-xs neocore-body",children:["Created ",new Date(t.createdAt).toLocaleDateString()," at ",new Date(t.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),t.expiresAt&&t.expiresAt>Date.now()&&e.jsxs("p",{className:"text-orange-400/80 text-xs neocore-body",children:["⏰ Expires in ",Math.max(0,Math.floor((t.expiresAt-Date.now())/6e4))," minutes"]}),n&&e.jsx("span",{className:"inline-block px-2 py-1 bg-glow-electric/20 text-glow-electric border border-glow-electric/30 rounded text-xs mt-1 neocore-body",children:"Your Challenge"})]})]}),"active"===t.status&&e.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 border border-green-500/30 rounded text-xs",children:"Active"}),"in-progress"===t.status&&e.jsx("span",{className:"px-2 py-1 bg-yellow-500/20 text-yellow-400 border border-yellow-500/30 rounded text-xs",children:"In Progress"}),"expired"===t.status&&e.jsx("span",{className:"px-2 py-1 bg-red-500/20 text-red-400 border border-red-500/30 rounded text-xs animate-pulse",children:"Expired"}),"completed"===t.status&&e.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 border border-green-500/30 rounded text-xs",children:"✅ Completed"}),"disputed"===t.status&&e.jsx("span",{className:"px-2 py-1 bg-red-500/20 text-red-400 border border-red-500/30 rounded text-xs animate-pulse",children:"🔴 Disputed"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-white font-semibold",children:[t.entryFee," USDFG"]}),e.jsx("div",{className:"text-gray-400 text-xs",children:"Entry Fee"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-white font-semibold",children:[t.prizePool," USDFG"]}),e.jsx("div",{className:"text-gray-400 text-xs",children:"Prize Pool"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-white font-semibold",children:[t.players||0,"/",t.capacity||2]}),e.jsx("div",{className:"text-gray-400 text-xs",children:"Players"})]})]}),t.solanaAccountId&&e.jsx("div",{className:"mb-4",children:e.jsxs("a",{href:`https://explorer.solana.com/address/${t.solanaAccountId}?cluster=devnet`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-3 py-2 bg-purple-600/20 text-purple-400 border border-purple-600/30 rounded-lg hover:bg-purple-600/30 transition-all text-sm",onClick:e=>e.stopPropagation(),children:[e.jsx("span",{children:"🔗"}),e.jsx("span",{children:"View Escrow on Solana Explorer"}),e.jsx("span",{className:"text-xs",children:"↗"})]})}),(t.description||t.rules||t.requirements)&&e.jsx("div",{className:"mb-4",children:e.jsxs("details",{className:"group",children:[e.jsxs("summary",{className:"cursor-pointer text-sm text-cyan-400 hover:text-cyan-300 flex items-center",children:[e.jsx("span",{className:"mr-2",children:"📋"}),"Challenge Details",e.jsx("span",{className:"ml-auto group-open:rotate-180 transition-transform",children:"▼"})]}),e.jsxs("div",{className:"mt-3 space-y-3 text-sm",children:[t.description&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400 font-medium",children:"Description:"}),e.jsx("p",{className:"text-gray-300 mt-1",children:t.description})]}),t.rules&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400 font-medium",children:"Rules:"}),e.jsx("p",{className:"text-gray-300 mt-1",children:t.rules})]}),t.requirements&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400 font-medium",children:"Requirements:"}),e.jsx("p",{className:"text-gray-300 mt-1",children:t.requirements})]}),t.matchFormat&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400 font-medium",children:"Format:"}),e.jsx("p",{className:"text-gray-300 mt-1",children:t.matchFormat})]}),t.restrictions&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400 font-medium",children:"Restrictions:"}),e.jsx("p",{className:"text-gray-300 mt-1",children:t.restrictions})]})]})]})}),("completed"===t.status||"disputed"===t.status)&&t.rawData?.winner&&e.jsx("div",{className:"mb-4 p-4 rounded-lg border-2 bg-gradient-to-r from-yellow-500/10 to-orange-500/10 border-yellow-500/30",children:e.jsx("div",{className:"text-center",children:"tie"===t.rawData.winner?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-3xl mb-2",children:"🤝"}),e.jsx("div",{className:"text-xl font-bold text-yellow-400",children:"TIE - Entry Fees Returned"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Entry fees will be returned to both players"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-3xl mb-2",children:"🏆"}),e.jsx("div",{className:"text-xl font-bold text-yellow-400",children:"Winner"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1 font-mono break-all",children:t.rawData.winner}),t.rawData.winner.toLowerCase()===s?.toString().toLowerCase()&&e.jsx("p",{className:"text-green-400 font-semibold mt-2",children:"🎉 You Won!"})]})})}),"disputed"===t.status&&e.jsx("div",{className:"mb-4 p-4 rounded-lg border-2 bg-gradient-to-r from-red-500/10 to-pink-500/10 border-red-500/30",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"⚠️"}),e.jsx("div",{className:"text-xl font-bold text-red-400",children:"Dispute"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Both players claimed they won. Admin review required."})]})}),(()=>{const r=s?.toString()?.toLowerCase(),i=r&&t.rawData?.players?.some(e=>e.toLowerCase()===r),a=r&&t.rawData?.results?.[r];return"in-progress"===t.status&&console.log("🔍 In-Progress Challenge Debug:",{challengeId:t.id,status:t.status,currentWallet:r,players:t.rawData?.players,isParticipant:i,hasSubmittedResult:a,results:t.rawData?.results}),n&&"in-progress"!==t.status?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),(async e=>{if(console.log("🗑️ Attempting to delete challenge:",e),window.confirm("Are you sure you want to delete this challenge? This action cannot be undone."))try{const{deleteChallenge:t}=await JB(async()=>{const{deleteChallenge:e}=await Promise.resolve().then(()=>kL);return{deleteChallenge:e}},void 0);await t(e),console.log("✅ Challenge deleted from Firestore"),console.log("📡 Real-time listener will update UI automatically")}catch(t){console.error("❌ Failed to delete challenge:",t),alert("Failed to delete challenge: "+(t instanceof Error?t.message:"Unknown error"))}})(t.id)},className:"flex-1 px-4 py-2 bg-red-600/20 text-red-400 border border-red-600/30 font-semibold rounded-lg hover:bg-red-600/30 transition-all",children:"🗑️ Delete"}),e.jsx("button",{onClick:e=>e.stopPropagation(),className:"flex-1 px-4 py-2 bg-gray-600/20 text-gray-400 border border-gray-600/30 font-semibold rounded-lg hover:bg-gray-600/30 transition-all",disabled:!0,children:"✏️ Edit (Coming Soon)"})]}):"in-progress"===t.status?r&&l?i?a?e.jsx("div",{className:"w-full px-4 py-2 bg-blue-600/20 text-blue-400 border border-blue-600/30 font-semibold rounded-lg text-center",children:"✅ Result Submitted"}):e.jsx("button",{onClick:e=>{e.stopPropagation(),b(t),g(!0)},className:"w-full px-4 py-2 bg-gradient-to-r from-yellow-600 to-orange-500 text-white font-semibold rounded-lg hover:brightness-110 transition-all animate-pulse",children:"🏆 Submit Result"}):e.jsx("div",{className:"w-full px-4 py-2 bg-purple-600/20 text-purple-400 border border-purple-600/30 font-semibold rounded-lg text-center",children:"⚔️ Match In Progress"}):e.jsx("button",{onClick:e=>{e.stopPropagation(),o()},className:"w-full px-4 py-2 bg-gradient-to-r from-cyan-600 to-blue-500 text-white font-semibold rounded-lg hover:brightness-110 transition-all",children:"🔌 Connect to Submit Result"}):"active"===t.status&&t.players<t.capacity?e.jsx("button",{onClick:()=>{b(t),h(!0)},className:"w-full px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-500 text-white font-semibold rounded-lg hover:brightness-110 transition-all disabled:opacity-50",disabled:!l,children:l?"Join Challenge":"Connect to Join"}):"active"===t.status&&t.players>=t.capacity?e.jsx("div",{className:"w-full px-4 py-2 bg-gray-600/20 text-gray-400 border border-gray-600/30 font-semibold rounded-lg text-center",children:"🔒 Challenge Full"}):"expired"===t.status?e.jsx("div",{className:"w-full px-4 py-2 bg-red-600/20 text-red-400 border border-red-600/30 font-semibold rounded-lg text-center",children:"⏰ Expired"}):"completed"===t.status?e.jsx("div",{className:"w-full px-4 py-2 bg-green-600/20 text-green-400 border border-green-600/30 font-semibold rounded-lg text-center",children:"✅ Completed"}):"disputed"===t.status?e.jsx("div",{className:"w-full px-4 py-2 bg-red-600/20 text-red-400 border border-red-600/30 font-semibold rounded-lg text-center",children:"🔴 Disputed"}):e.jsx("div",{className:"w-full px-4 py-2 bg-gray-600/20 text-gray-400 border border-gray-600/30 font-semibold rounded-lg text-center",children:"📋 View Details"})})()]},t.id)})})})]}),e.jsxs("div",{className:"bg-black/20 border border-gray-800 rounded-lg backdrop-blur-sm",children:[e.jsx("div",{className:"p-6 border-b border-gray-800",children:e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[e.jsx("span",{className:"mr-2",children:"🏆"}),"Top Players"]})}),e.jsxs("div",{className:"p-6",children:[U?e.jsx("div",{className:"flex justify-center items-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-400"})}):0===L.length?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-400 text-sm",children:"No players yet. Be the first!"})}):e.jsx("div",{className:"space-y-4",children:L.map((t,n)=>e.jsx("div",{className:`bg-gradient-to-r ${["from-yellow-500/20 to-orange-500/20 border-yellow-500/30","from-gray-400/20 to-gray-500/20 border-gray-400/30","from-amber-600/20 to-yellow-700/20 border-amber-600/30","from-cyan-400/20 to-blue-500/20 border-cyan-400/30","from-purple-400/20 to-pink-500/20 border-purple-400/30"][n]} rounded-lg p-4 border group`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${["from-yellow-400 to-orange-500","from-gray-300 to-gray-400","from-amber-600 to-yellow-700","from-cyan-400 to-blue-500","from-purple-400 to-pink-500"][n]} rounded-full flex items-center justify-center text-black font-bold shrink-0`,children:n+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-white font-semibold text-sm truncate cursor-help",title:t.wallet,children:t.displayName||`${t.wallet.slice(0,6)}...${t.wallet.slice(-4)}`}),t.gamesPlayed>=5&&e.jsx("span",{className:"text-cyan-400 text-xs",title:"Verified Player (5+ games)",children:"✓"}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(t.wallet),V(t.wallet),setTimeout(()=>V(null),2e3)},className:"opacity-0 group-hover:opacity-100 transition-opacity text-gray-400 hover:text-cyan-400 text-xs",title:"Copy wallet address",children:z===t.wallet?"✓":"📋"})]}),e.jsxs("p",{className:"text-gray-400 text-xs",children:[e.jsxs("span",{className:"text-green-400",children:[t.wins,"W"]})," • ",e.jsxs("span",{className:"text-red-400",children:[t.losses,"L"]})," • ",t.winRate.toFixed(0),"% win rate"]})]})]}),e.jsxs("div",{className:"text-right shrink-0",children:[e.jsx("div",{className:"text-cyan-400 font-bold text-lg",children:t.totalEarned.toFixed(0)}),e.jsx("div",{className:"text-gray-400 text-xs",children:"USDFG"})]})]})},t.wallet))}),!U&&L.length>0&&e.jsx("div",{className:"px-6 pb-6",children:e.jsx("button",{onClick:()=>{G(!q),F(!0)},className:"w-full py-2 rounded-lg bg-gray-800 hover:bg-gray-700 text-cyan-400 text-sm font-semibold transition-colors",children:q?"← Show Less":"View All Players →"})})]})]})]})]}),e.jsx(MG,{isOpen:c,onClose:()=>{console.log("🔥 MODAL CLOSING!"),u(!1)},title:"Create New Challenge",children:e.jsx(DG,{isConnected:l,onConnect:()=>o(),onCreateChallenge:async e=>{if(!M){D(!0);try{const n=s?.toString()||null;if(!n)throw new Error("Wallet not connected");const r=Z.find(e=>{const t=e.creator===n,r=Y.some(t=>t.id===e.id&&t.players?.includes(n)),i="active"===e.status||"pending"===e.status||"in-progress"===e.status;return(t||r)&&i});if(r)return alert("You already have an active challenge (created or joined). Complete it before creating a new one."),void console.log("❌ Blocked: User already has active challenge:",r.id);console.log("✅ No active challenges found, proceeding with creation..."),console.log("📦 Importing smart contract functions...");const{createChallenge:i}=await JB(async()=>{const{createChallenge:e}=await import("./contract-DjQxHweE.js");return{createChallenge:e}},__vite__mapDeps([0,1,2])),{Connection:o,clusterApiUrl:a}=await JB(async()=>{const{Connection:e,clusterApiUrl:t}=await Promise.resolve().then(()=>Dd);return{Connection:e,clusterApiUrl:t}},void 0),l=(e=>{switch(e.toLowerCase()){case"head-to-head":case"1v1":default:return 2;case"tournament":case"bracket":return 8;case"battle royale":return 16;case"team vs team":return 4}})(e.mode);console.log(`🎯 Setting maxPlayers to ${l} for mode: ${e.mode}`);const c=new o(a("devnet"),"confirmed");/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&(console.log("📱 Mobile detected - adding small delay for Phantom..."),await new Promise(e=>setTimeout(e,500))),console.log("🚀 Creating challenge on smart contract with escrow...");const d=await i(t,c,e.entryFee);console.log("✅ Challenge created on smart contract! PDA:",d);const h=.05,f=2*e.entryFee,p=f-f*h,m=e=>["NBA 2K25","FIFA 24","Madden NFL 24"].includes(e)?"Sports":["Street Fighter 6","Tekken 8"].includes(e)?"Fighting":["Call of Duty","Valorant"].includes(e)?"Shooting":["Forza Horizon"].includes(e)?"Racing":"Other",{addChallenge:g}=await JB(async()=>{const{addChallenge:e}=await Promise.resolve().then(()=>kL);return{addChallenge:e}},void 0),{Timestamp:y}=await JB(async()=>{const{Timestamp:e}=await Promise.resolve().then(()=>lL);return{Timestamp:e}},void 0),b={creator:n,creatorTag:e.username,game:e.game,mode:"Custom Mode"===e.mode?e.customMode:e.mode,platform:e.platform,entryFee:e.entryFee,maxPlayers:l,rules:e.rules||"",status:"active",players:[n],expiresAt:y.fromDate(new Date(Date.now()+72e5)),solanaAccountId:d,category:m(e.game),prizePool:Math.round(p)};console.log("🔥 Adding challenge to Firestore...");const w=await g(b);console.log("✅ Challenge added to Firestore with ID:",w),console.log("📡 Real-time listener will update UI automatically"),u(!1),console.log("✅ Modal closed automatically after challenge creation")}catch(n){console.error("❌ Failed to create challenge:",n),alert("Failed to create challenge: "+(n instanceof Error?n.message:"Unknown error"))}finally{D(!1)}}},usdfgPrice:A,usdfgToUsd:$})}),d&&y&&e.jsx(VG,{challenge:y,onClose:()=>h(!1),isConnected:l,onConnect:()=>o()}),f&&y&&e.jsx(qG,{challenge:y,onClose:()=>p(!1),onJoin:()=>{p(!1),h(!0)},isConnected:l,onConnect:()=>o()}),e.jsx(FG,{isOpen:m,onClose:()=>{g(!1),b(null)},challengeId:y?.id||"",challengeTitle:y?.title||"",currentWallet:s?.toString()||"",onSubmit:async(e,t)=>{if(y&&s)try{console.log("📝 Submitting result:",{challengeId:y.id,didWin:e,hasProof:!!t}),await gL(y.id,s.toBase58(),e),console.log("✅ Result submitted successfully"),g(!1),b(null),alert(e?"🏆 You submitted that you WON! Waiting for opponent...":"😔 You submitted that you LOST. Waiting for opponent...")}catch(n){throw console.error("❌ Failed to submit result:",n),n}else console.error("❌ No challenge selected or wallet not connected")}}),e.jsx("button",{onClick:()=>{ne?alert("You already have an active challenge (created or joined). Complete it before creating a new one."):u(!0)},disabled:ne||M,className:`fixed bottom-20 right-6 md:hidden ${ne||M?"bg-gray-600/50 cursor-not-allowed":"bg-gradient-to-r from-cyan-400 to-purple-500 hover:brightness-110"} text-white p-4 rounded-full shadow-[0_0_20px_rgba(34,211,238,0.5)] transition-all z-40 flex items-center justify-center`,title:ne?"You have an active challenge":"Create Challenge",children:e.jsx("span",{className:"text-2xl font-bold",children:"+"})})]})]})},VG=({challenge:t,onClose:n,isConnected:r,onConnect:i})=>{const{publicKey:s,signTransaction:o}=kh(),[a,l]=v.useState("review"),[c,u]=v.useState(null),[d,h]=v.useState(!1);return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:n}),e.jsxs("div",{className:"relative w-[90vw] max-w-md rounded-2xl border border-gray-800 bg-gray-900 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Join Challenge"}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white",children:"✕"})]}),"review"===a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Challenge:"}),e.jsx("span",{className:"text-white font-medium",children:t.title})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Entry Fee:"}),e.jsxs("span",{className:"text-white font-medium",children:[t.entryFee," USDFG"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Prize Pool:"}),e.jsxs("span",{className:"text-white font-medium",children:[t.prizePool," USDFG"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Players:"}),e.jsxs("span",{className:"text-white font-medium",children:[t.players,"/",t.capacity]})]})]}),e.jsx("p",{className:"text-xs text-gray-400",children:"You will need to approve a transaction in your wallet. Make sure you have enough USDFG and SOL for fees."}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{onClick:async()=>{if(!r||!s||!o)return u("Please connect your wallet first"),void l("error");l("processing");try{const e=s.toString();if(!e)throw new Error("Wallet not connected");console.log("🚀 Joining challenge:",t.id),await async function(e,t,n){try{return console.log(`💸 Joining challenge ${e} with entry fee ${t} USDFG`),console.log(`👤 Wallet: ${n}`),console.log("✅ Join transaction simulated successfully"),!0}catch(c){throw console.error("❌ Error joining challenge on-chain:",c),c}}(t.id,t.entryFee,e),await pL(t.id,e),console.log("✅ Successfully joined challenge!"),l("success"),setTimeout(()=>{n()},1500)}catch(e){console.error("❌ Join failed:",e),u(e.message||"Failed to join challenge. Please try again."),l("error")}},className:"bg-gradient-to-r from-purple-600 to-pink-500 text-white px-6 py-2 rounded-lg font-semibold hover:brightness-110 transition-all",children:"Join Challenge"})]})]}),"processing"===a&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto h-12 w-12 animate-spin rounded-full border-2 border-gray-600 border-t-cyan-400 mb-4"}),e.jsx("p",{className:"text-gray-300",children:"Processing your request..."})]}),"success"===a&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-green-500/20 flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-green-400 text-xl",children:"✓"})}),e.jsx("p",{className:"text-green-400 font-medium",children:"Successfully joined the challenge!"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Good luck in the Arena!"})]}),"error"===a&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-red-500/20 flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-red-400 text-xl",children:"✕"})}),e.jsx("p",{className:"text-red-400 font-medium",children:c}),r?e.jsx("button",{onClick:()=>l("review"),className:"mt-4 bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Try Again"}):e.jsx("button",{onClick:()=>{/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?window.open("https://phantom.app/ul/browse/"+encodeURIComponent(window.location.href),"_blank"):n()},disabled:d,className:"mt-4 bg-gradient-to-r from-cyan-400 to-purple-500 text-black px-4 py-2 rounded-lg font-semibold hover:brightness-110 transition-all disabled:opacity-50",children:d?"Connecting...":"Connect Wallet First"})]})]})]})},qG=({challenge:t,onClose:n,onJoin:r,isConnected:i,onConnect:s})=>{const[o,a]=v.useState(!1);return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-background-2/95 border border-glow/20 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto backdrop-blur-sm glow-soft",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-text-primary neocore-h2",children:"Challenge Details"}),e.jsx("button",{onClick:n,className:"text-text-dim hover:text-text-primary transition-colors",children:"✕"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-glow-pink to-glow-electric rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:"🥊"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-text-primary neocore-body",children:t.title}),e.jsxs("p",{className:"text-text-dim neocore-body",children:[t.category," • ",t.game]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-background/50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-text-dim mb-1",children:"Entry Fee"}),e.jsxs("div",{className:"text-lg font-semibold text-text-primary",children:[t.entryFee," USDFG"]})]}),e.jsxs("div",{className:"bg-background/50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-text-dim mb-1",children:"Prize Pool"}),e.jsxs("div",{className:"text-lg font-semibold text-text-primary",children:[t.prizePool," USDFG"]})]}),e.jsxs("div",{className:"bg-background/50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-text-dim mb-1",children:"Players"}),e.jsxs("div",{className:"text-lg font-semibold text-text-primary",children:[t.players,"/",t.capacity]})]}),e.jsxs("div",{className:"bg-background/50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-text-dim mb-1",children:"Platform"}),e.jsx("div",{className:"text-lg font-semibold text-text-primary",children:t.platform})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-text-primary mb-3 neocore-body",children:"Rules & Requirements"}),e.jsx("div",{className:"bg-background/50 rounded-lg p-4",children:e.jsx("pre",{className:"text-text-primary whitespace-pre-wrap neocore-body",children:t.rules})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-text-primary mb-3 neocore-body",children:"Challenge Creator"}),e.jsx("div",{className:"bg-background/50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-cyan-400 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold",children:t.username?.charAt(0)||"👤"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-text-primary font-semibold neocore-body",children:t.username||"Anonymous Player"}),e.jsxs("div",{className:"text-text-dim text-sm neocore-body",children:["Created ",new Date(t.createdAt).toLocaleDateString()]})]})]})})]}),e.jsxs("div",{className:"flex space-x-3",children:[i?e.jsx("button",{onClick:r,className:"flex-1 bg-gradient-to-r from-cyan-400 to-purple-500 text-black font-semibold py-3 px-6 rounded-lg hover:brightness-110 transition-all neocore-button",children:"Join Challenge"}):e.jsx("button",{onClick:()=>{n(),console.log('🔗 Please connect your wallet using the main "Connect Wallet" button first')},disabled:o,className:"flex-1 bg-gradient-to-r from-cyan-400 to-purple-500 text-black font-semibold py-3 px-6 rounded-lg hover:brightness-110 transition-all disabled:opacity-50 neocore-button",children:o?"Connecting...":"Connect Wallet to Join"}),e.jsx("button",{onClick:n,className:"px-6 py-3 border border-gray-600 text-text-primary rounded-lg hover:bg-gray-800 transition-colors",children:"Close"})]})]})]})})},GG=({glitchColors:t=["#2b4539","#61dca3","#61b3dc"],glitchSpeed:n=50,centerVignette:r=!1,outerVignette:i=!0,smooth:s=!0,characters:o="ABCDEFGHIJKLMNOPQRSTUVWXYZ!@#$&*()-_+=/[]{};:<>.,0123456789"})=>{const a=v.useRef(null),l=v.useRef(null),c=v.useRef([]),u=v.useRef({columns:0,rows:0}),d=v.useRef(null),h=v.useRef(Date.now()),f=Array.from(o),p=()=>f[Math.floor(Math.random()*f.length)],m=()=>t[Math.floor(Math.random()*t.length)],g=e=>{e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,t,n,r)=>t+t+n+n+r+r);const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},y=()=>{const e=a.current;if(!e)return;const t=e.parentElement;if(!t)return;const n=window.devicePixelRatio||1,r=t.getBoundingClientRect();if(0===r.width||0===r.height)return void setTimeout(y,100);e.width=r.width*n,e.height=r.height*n,e.style.width=`${r.width}px`,e.style.height=`${r.height}px`,d.current&&d.current.setTransform(n,0,0,n,0,0);const{columns:i,rows:s}=(o=r.width,l=r.height,{columns:Math.ceil(o/10),rows:Math.ceil(l/20)});var o,l;((e,t)=>{u.current={columns:e,rows:t};const n=e*t;c.current=Array.from({length:n},()=>({char:p(),color:m(),targetColor:m(),colorProgress:1}))})(i,s),b()},b=()=>{if(!d.current||0===c.current.length)return;const e=d.current,{width:t,height:n}=a.current.getBoundingClientRect();e.clearRect(0,0,t,n),e.font="16px monospace",e.textBaseline="top",c.current.forEach((t,n)=>{const r=n%u.current.columns*10,i=20*Math.floor(n/u.current.columns);e.fillStyle=t.color,e.fillText(t.char,r,i)})},w=()=>{let e=!1;c.current.forEach(t=>{if(t.colorProgress<1){t.colorProgress+=.05,t.colorProgress>1&&(t.colorProgress=1);const s=g(t.color),o=g(t.targetColor);s&&o&&(t.color=(n=s,r=o,i=t.colorProgress,`rgb(${Math.round(n.r+(r.r-n.r)*i)}, ${Math.round(n.g+(r.g-n.g)*i)}, ${Math.round(n.b+(r.b-n.b)*i)})`),e=!0)}var n,r,i}),e&&b()},x=()=>{const e=Date.now();e-h.current>=n&&((()=>{if(!c.current||0===c.current.length)return;const e=Math.max(1,Math.floor(.05*c.current.length));for(let t=0;t<e;t++){const e=Math.floor(Math.random()*c.current.length);c.current[e]&&(c.current[e].char=p(),c.current[e].targetColor=m(),s?c.current[e].colorProgress=0:(c.current[e].color=c.current[e].targetColor,c.current[e].colorProgress=1))}})(),b(),h.current=e),s&&w(),l.current=requestAnimationFrame(x)};return v.useEffect(()=>{const e=a.current;if(!e)return;d.current=e.getContext("2d");const t=setTimeout(()=>{y(),x()},50);let n;const r=()=>{clearTimeout(n),n=setTimeout(()=>{l.current&&cancelAnimationFrame(l.current),y(),x()},100)};return window.addEventListener("resize",r),()=>{clearTimeout(t),l.current&&cancelAnimationFrame(l.current),window.removeEventListener("resize",r)}},[n,s]),e.jsxs("div",{className:"relative w-full h-full bg-black overflow-hidden",children:[e.jsx("canvas",{ref:a,className:"block w-full h-full"}),i&&e.jsx("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none bg-[radial-gradient(circle,_rgba(0,0,0,0)_60%,_rgba(0,0,0,1)_100%)]"}),r&&e.jsx("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none bg-[radial-gradient(circle,_rgba(0,0,0,0.8)_0%,_rgba(0,0,0,0)_60%)]"})]})};function WG(){const[t,n]=v.useState(!1),[r,i]=v.useState("");v.useEffect(()=>{"true"===localStorage.getItem("arena-access")&&n(!0)},[]);const s=()=>{"6996"===r?(n(!0),localStorage.setItem("arena-access","true")):alert("Wrong password")},o=e=>{"Enter"===e.key&&s()};return t?e.jsx(zG,{}):e.jsxs("div",{className:"min-h-screen text-text-primary flex flex-col items-center justify-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 w-full h-full",children:e.jsx(GG,{glitchSpeed:50,centerVignette:!0,outerVignette:!1,smooth:!0})}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center neocore-panel p-8 backdrop-blur-md bg-black/40 border border-cyan-500/30",children:[e.jsx("h1",{className:"neocore-h2 mb-4 text-glow-cyan",children:"Enter Arena Password"}),e.jsx("input",{type:"password",value:r,onChange:e=>i(e.target.value),onKeyPress:o,className:"px-3 py-2 rounded-md bg-black/60 border border-cyan-500/50 text-cyan-100 backdrop-blur-sm focus:border-cyan-400 focus:outline-none neocore-body",placeholder:"Password",autoFocus:!0}),e.jsx("button",{onClick:s,className:"mt-3 elite-btn neocore-button",children:"Enter"})]})]})}const HG=()=>{const t=N(),[n,r]=v.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(QB,{children:[e.jsx("title",{children:"Create Challenge - USDFG Arena | USDFGAMING"}),e.jsx("meta",{name:"description",content:"Create a new skill-based gaming challenge in the USDFG Arena."})]}),e.jsxs("div",{className:"min-h-screen bg-background-1 relative",children:[e.jsx("div",{className:"parallax-glow"}),e.jsx("header",{className:"border-b border-soft bg-background-2/80 backdrop-blur-sm neocore-panel",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(_,{to:"/app",children:e.jsxs(dy,{variant:"ghost",size:"sm",className:"text-text-dim hover:text-text-primary",children:[e.jsx(rt,{className:"w-4 h-4 mr-2"}),"Back to Arena"]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-glow-cyan to-glow-electric rounded-lg flex items-center justify-center",children:e.jsx(ct,{className:"w-5 h-5 text-black"})}),e.jsx("h1",{className:"neocore-h2 text-text-primary",children:"Create Challenge"})]})]})})}),e.jsx("main",{className:"container mx-auto px-4 py-8 relative z-10",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(sy,{className:"challenge-card",children:[e.jsxs(oy,{children:[e.jsx(ay,{className:"neocore-h2 text-text-primary",children:"New Gaming Challenge"}),e.jsx("p",{className:"text-text-dim neocore-body",children:"Set up a skill-based challenge and let the best gamer win."})]}),e.jsx(ly,{children:e.jsx(DG,{onSubmit:async e=>{r(!0),console.log("Creating challenge:",e),await new Promise(e=>setTimeout(e,2e3)),r(!1),t("/app")},isSubmitting:n})})]})})})]})]})},KG=Qe("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-black"}},defaultVariants:{variant:"default"}});function $G({className:t,variant:n,...r}){return e.jsx("div",{className:yn(KG({variant:n}),t),...r})}var YG,QG,XG={exports:{}},ZG={};var JG=(QG||(QG=1,XG.exports=function(){if(YG)return ZG;YG=1;var e=b(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useState,r=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function o(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!t(e,r)}catch(i){return!0}}var a="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),l=n({inst:{value:a,getSnapshot:t}}),c=l[0].inst,u=l[1];return i(function(){c.value=a,c.getSnapshot=t,o(c)&&u({inst:c})},[e,a,t]),r(function(){return o(c)&&u({inst:c}),e(function(){o(c)&&u({inst:c})})},[e]),s(a),a};return ZG.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:a,ZG}()),XG.exports);function eW(){return()=>{}}var tW="Avatar",[nW]=p(tW),[rW,iW]=nW(tW),sW=v.forwardRef((t,n)=>{const{__scopeAvatar:r,...i}=t,[s,o]=v.useState("idle");return e.jsx(rW,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:e.jsx(m.span,{...i,ref:n})})});sW.displayName=tW;var oW="AvatarImage",aW=v.forwardRef((t,n)=>{const{__scopeAvatar:r,src:i,onLoadingStatusChange:s=()=>{},...o}=t,a=iW(oW,r),l=function(e,{referrerPolicy:t,crossOrigin:n}){const r=JG.useSyncExternalStore(eW,()=>!0,()=>!1),i=v.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,a]=v.useState(()=>uW(s,e));return y(()=>{a(uW(s,e))},[s,e]),y(()=>{const e=e=>()=>{a(e)};if(!s)return;const r=e("loaded"),i=e("error");return s.addEventListener("load",r),s.addEventListener("error",i),t&&(s.referrerPolicy=t),"string"==typeof n&&(s.crossOrigin=n),()=>{s.removeEventListener("load",r),s.removeEventListener("error",i)}},[s,n,t]),o}(i,o),c=g(e=>{s(e),a.onImageLoadingStatusChange(e)});return y(()=>{"idle"!==l&&c(l)},[l,c]),"loaded"===l?e.jsx(m.img,{...o,ref:n,src:i}):null});aW.displayName=oW;var lW="AvatarFallback",cW=v.forwardRef((t,n)=>{const{__scopeAvatar:r,delayMs:i,...s}=t,o=iW(lW,r),[a,l]=v.useState(void 0===i);return v.useEffect(()=>{if(void 0!==i){const e=window.setTimeout(()=>l(!0),i);return()=>window.clearTimeout(e)}},[i]),a&&"loaded"!==o.imageLoadingStatus?e.jsx(m.span,{...s,ref:n}):null});function uW(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}cW.displayName=lW;var dW=sW,hW=aW,fW=cW;const pW=v.forwardRef(({className:t,...n},r)=>e.jsx(dW,{ref:r,className:yn("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...n}));pW.displayName=dW.displayName;v.forwardRef(({className:t,...n},r)=>e.jsx(hW,{ref:r,className:yn("aspect-square h-full w-full",t),...n})).displayName=hW.displayName;const mW=v.forwardRef(({className:t,...n},r)=>e.jsx(fW,{ref:r,className:yn("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...n}));function gW(e){if(0===e.length)return{wins:0,losses:0,winRate:0,totalEarnings:0,currentStreak:0,bestStreak:0,last10:[],gamesByCategory:{},monthlyStats:[]};const t=[...e].sort((e,t)=>t.timestamp-e.timestamp),n=e.filter(e=>"win"===e.result).length,r=e.filter(e=>"loss"===e.result).length,i=e.length>0?n/e.length*100:0,s=e.reduce((e,t)=>e+("win"===t.result?t.amount:0),0),o=function(e){if(0===e.length)return 0;const t=e[0].result;let n=1;for(let r=1;r<e.length&&e[r].result===t;r++)n++;return"win"===t?n:-n}(t),a=function(e){if(0===e.length)return 0;let t=0,n=0;for(const r of e)"win"===r.result?(n++,t=Math.max(t,n)):n=0;return t}(t),l=t.slice(0,10).map(e=>({result:e.result,game:e.game,amount:e.amount,timestamp:e.timestamp})),c=function(e){const t={};for(const n of e){const e=yW(n.game);t[e]||(t[e]={wins:0,losses:0,totalEarnings:0}),"win"===n.result?(t[e].wins++,t[e].totalEarnings+=n.amount):t[e].losses++}return t}(e),u=function(e){const t={};for(const n of e){const e=new Date(n.timestamp),r=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`;t[r]||(t[r]={wins:0,losses:0,earnings:0}),"win"===n.result?(t[r].wins++,t[r].earnings+=n.amount):t[r].losses++}return Object.entries(t).map(([e,t])=>({month:e,...t})).sort((e,t)=>e.month.localeCompare(t.month)).slice(-12)}(e);return{wins:n,losses:r,winRate:Math.round(10*i)/10,totalEarnings:s,currentStreak:o,bestStreak:a,last10:l,gamesByCategory:c,monthlyStats:u}}function yW(e){const t=e.toLowerCase();return t.includes("street fighter")||t.includes("tekken")||t.includes("mortal kombat")||t.includes("guilty gear")?"Fighting":t.includes("f1")||t.includes("mario kart")||t.includes("gran turismo")||t.includes("forza")?"Racing":t.includes("call of duty")||t.includes("fortnite")||t.includes("valorant")||t.includes("apex")?"Shooting":t.includes("ufc")||t.includes("fifa")||t.includes("madden")||t.includes("nba")?"Sports":"Other"}mW.displayName=fW.displayName;const bW=()=>{const{address:t}=A(),[n,r]=v.useState(null),[i,s]=v.useState(!0);return v.useEffect(()=>{(async()=>{if(t){s(!0);try{gW(await async function(e){return console.log(`🔍 Fetching events for player: ${e}`),[{id:"1",title:"Fighting Game Challenge",date:"2024-01-15",result:"win",amount:50,game:"Street Fighter 6"},{id:"2",title:"Racing Challenge",date:"2024-01-14",result:"loss",amount:-25,game:"F1 2023"},{id:"3",title:"Sports Challenge",date:"2024-01-13",result:"win",amount:75,game:"Madden 26"}]}(t));const e={address:t,displayName:`Player_${t.slice(0,8)}`,stats:{wins:23,losses:7,winRate:76.7,totalEarnings:1250,currentStreak:5,bestStreak:12,last10:[{result:"win",game:"Street Fighter 6",amount:100,timestamp:Date.now()-72e5},{result:"loss",game:"Tekken 8",amount:-50,timestamp:Date.now()-18e6},{result:"win",game:"Mortal Kombat 1",amount:75,timestamp:Date.now()-864e5}]},recentChallenges:[{id:"1",game:"Street Fighter 6",result:"win",amount:100,timestamp:Date.now()-72e5},{id:"2",game:"Tekken 8",result:"loss",amount:-50,timestamp:Date.now()-18e6},{id:"3",game:"Mortal Kombat 1",result:"win",amount:75,timestamp:Date.now()-864e5}]};r(e)}catch(e){console.error("Failed to load profile:",e)}finally{s(!1)}}})()},[t]),i?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-card flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-cyan-400 to-purple-500 rounded-full flex items-center justify-center mx-auto animate-pulse",children:e.jsx(ct,{className:"w-6 h-6 text-black"})}),e.jsx("p",{className:"text-gray-400",children:"Loading player profile..."})]})}):n?e.jsxs(e.Fragment,{children:[e.jsxs(QB,{children:[e.jsxs("title",{children:[n.displayName," - Player Profile | USDFG Arena"]}),e.jsx("meta",{name:"description",content:`View ${n.displayName}'s gaming stats and challenge history in the USDFG Arena.`})]}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-card",children:[e.jsx("header",{className:"border-b border-gray-800 bg-background/80 backdrop-blur-sm",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(_,{to:"/app",children:e.jsxs(dy,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:[e.jsx(rt,{className:"w-4 h-4 mr-2"}),"Back to Arena"]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-purple-500 rounded-lg flex items-center justify-center",children:e.jsx(ct,{className:"w-5 h-5 text-black"})}),e.jsx("h1",{className:"text-xl font-bold text-white",children:"Player Profile"})]})]})})}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsx(sy,{className:"bg-card/50 border-gray-800",children:e.jsx(ly,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx(pW,{className:"w-20 h-20",children:e.jsx(mW,{className:"bg-gradient-to-r from-cyan-400 to-purple-500 text-black text-2xl font-bold",children:n.displayName.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:n.displayName}),e.jsx("p",{className:"text-gray-400 font-mono text-sm",children:n.address}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsxs($G,{variant:"secondary",className:"bg-green-500/20 text-green-400",children:[e.jsx(wt,{className:"w-3 h-3 mr-1"}),n.stats.wins," Wins"]}),e.jsxs($G,{variant:"secondary",className:"bg-cyan-500/20 text-cyan-400",children:[e.jsx(St,{className:"w-3 h-3 mr-1"}),n.stats.totalEarnings," USDFG"]})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(sy,{className:"bg-card/50 border-gray-800",children:[e.jsx(oy,{className:"pb-3",children:e.jsx(ay,{className:"text-sm font-medium text-gray-400",children:"Win Rate"})}),e.jsxs(ly,{children:[e.jsxs("div",{className:"text-3xl font-bold text-green-400",children:[n.stats.winRate,"%"]}),e.jsxs("p",{className:"text-sm text-gray-400",children:[n.stats.wins,"W / ",n.stats.losses,"L"]})]})]}),e.jsxs(sy,{className:"bg-card/50 border-gray-800",children:[e.jsx(oy,{className:"pb-3",children:e.jsx(ay,{className:"text-sm font-medium text-gray-400",children:"Current Streak"})}),e.jsxs(ly,{children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-400",children:n.stats.currentStreak}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Best: ",n.stats.bestStreak]})]})]}),e.jsxs(sy,{className:"bg-card/50 border-gray-800",children:[e.jsx(oy,{className:"pb-3",children:e.jsx(ay,{className:"text-sm font-medium text-gray-400",children:"Total Earnings"})}),e.jsxs(ly,{children:[e.jsx("div",{className:"text-3xl font-bold text-cyan-400",children:n.stats.totalEarnings}),e.jsx("p",{className:"text-sm text-gray-400",children:"USDFG"})]})]}),e.jsxs(sy,{className:"bg-card/50 border-gray-800",children:[e.jsx(oy,{className:"pb-3",children:e.jsx(ay,{className:"text-sm font-medium text-gray-400",children:"Total Games"})}),e.jsxs(ly,{children:[e.jsx("div",{className:"text-3xl font-bold text-white",children:n.stats.wins+n.stats.losses}),e.jsx("p",{className:"text-sm text-gray-400",children:"Challenges"})]})]})]}),e.jsxs(sy,{className:"bg-card/50 border-gray-800",children:[e.jsx(oy,{children:e.jsxs(ay,{className:"text-white flex items-center",children:[e.jsx(ot,{className:"w-5 h-5 mr-2"}),"Recent Challenges"]})}),e.jsx(ly,{children:e.jsx("div",{className:"space-y-3",children:n.recentChallenges.map((t,n)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center "+("win"===t.result?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:"win"===t.result?e.jsx(wt,{className:"w-4 h-4"}):e.jsx(bt,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-semibold",children:t.game}),e.jsx("p",{className:"text-sm text-gray-400",children:new Date(t.timestamp).toLocaleDateString()})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold "+(t.amount>0?"text-green-400":"text-red-400"),children:[t.amount>0?"+":"",t.amount," USDFG"]}),e.jsx("p",{className:"text-sm "+("win"===t.result?"text-green-400":"text-red-400"),children:"win"===t.result?"Victory":"Defeat"})]})]},t.id))})})]})]})})]})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-card flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Player Not Found"}),e.jsx("p",{className:"text-gray-400",children:"This player profile could not be found."}),e.jsx(_,{to:"/app",children:e.jsx(dy,{className:"bg-gradient-to-r from-cyan-400 to-purple-500 text-black",children:"Back to Arena"})})]})})},wW=()=>(v.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),e.jsxs(e.Fragment,{children:[e.jsxs(QB,{children:[e.jsx("title",{children:"Privacy Policy | USDFGAMING – Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{name:"description",content:"Read the Privacy Policy for USDFGAMING. Learn how we protect your data and privacy on the elite, skill-based crypto gaming platform."}),e.jsx("meta",{name:"keywords",content:"USDFG, USDFG, privacy policy, crypto gaming privacy, skill-based gaming, data protection, non-custodial, USDFGAMING"}),e.jsx("link",{rel:"canonical",href:"https://usdfg.pro/privacy"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:"https://usdfg.pro/privacy"}),e.jsx("meta",{property:"og:title",content:"Privacy Policy | USDFGAMING – Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{property:"og:description",content:"Read the Privacy Policy for USDFGAMING. Learn how we protect your data and privacy on the elite, skill-based crypto gaming platform."}),e.jsx("meta",{property:"og:image",content:"https://usdfg.pro/usdfg-og-banner.png"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:site",content:"@USDFGAMING"}),e.jsx("meta",{name:"twitter:title",content:"Privacy Policy | USDFGAMING – Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{name:"twitter:description",content:"Read the Privacy Policy for USDFGAMING. Learn how we protect your data and privacy on the elite, skill-based crypto gaming platform."}),e.jsx("meta",{name:"twitter:image",content:"https://usdfg.pro/usdfg-og-banner.png"}),e.jsx("script",{type:"application/ld+json",children:'\n          {\n            "@context": "https://schema.org",\n            "@graph": [\n              {\n                "@type": "Organization",\n                "name": "USDFGAMING",\n                "url": "https://usdfg.pro",\n                "logo": "https://usdfg.pro/usdfg-og-banner.png",\n                "sameAs": [\n                  "https://twitter.com/USDFGAMING",\n                  "https://t.me/+TPjhAyJiAF9mZTI0",\n                  "https://instagram.com/usdfgaming",\n                  "https://www.tiktok.com/@usdfgames"\n                ]\n              },\n              {\n                "@type": "WebPage",\n                "url": "https://usdfg.pro/privacy",\n                "name": "Privacy Policy | USDFGAMING – Skill-Based Crypto Gaming Platform",\n                "description": "Read the Privacy Policy for USDFGAMING. Learn how we protect your data and privacy on the elite, skill-based crypto gaming platform."\n              }\n            ]\n          }\n        '})]}),e.jsx(hy,{}),e.jsxs("div",{className:"relative flex flex-col md:flex-row",children:[e.jsxs("nav",{className:"hidden md:block md:w-64 sticky top-24 h-fit self-start px-2 py-6 mr-8 bg-[#0b0b0c]/80 border border-cyan-400/30 rounded-lg shadow-[0_0_12px_#22d3ee22] mt-12 animate-fade-in",children:[e.jsx("h2",{className:"text-cyan-400 font-bold text-lg mb-4 tracking-wide",children:"On This Page"}),e.jsxs("ul",{className:"space-y-2 text-cyan-200 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#section-1",className:"hover:text-white transition",children:"What We Collect"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-2",className:"hover:text-white transition",children:"How We Use Data"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-3",className:"hover:text-white transition",children:"No Tracking or Profiling"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-4",className:"hover:text-white transition",children:"Platform Security"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-5",className:"hover:text-white transition",children:"Smart Contract Transparency"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-6",className:"hover:text-white transition",children:"Audit & Security Notices"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-7",className:"hover:text-white transition",children:"Cookies & Local Storage"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-8",className:"hover:text-white transition",children:"Third-Party Services"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-9",className:"hover:text-white transition",children:"Data Retention"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-10",className:"hover:text-white transition",children:"Data Location"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-11",className:"hover:text-white transition",children:"Data Access Format"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-12",className:"hover:text-white transition",children:"Your Rights"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-13",className:"hover:text-white transition",children:"Global Compliance"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-14",className:"hover:text-white transition",children:"Fair Play Monitoring"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-15",className:"hover:text-white transition",children:"Non-Custodial Disclaimer"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-16",className:"hover:text-white transition",children:"Not a Security"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-17",className:"hover:text-white transition",children:"AI & User-Generated Content"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-18",className:"hover:text-white transition",children:"Community Governance"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-19",className:"hover:text-white transition",children:"Platform Evolution"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-20",className:"hover:text-white transition",children:"Third-Party Hosted Events"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-21",className:"hover:text-white transition",children:"Policy Updates"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-22",className:"hover:text-white transition",children:"Children's Privacy"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-23",className:"hover:text-white transition",children:"Contact"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-related",className:"hover:text-white transition",children:"Related Policies"})})]})]}),e.jsx("main",{className:"min-h-screen bg-gradient-to-b from-[#181c2f] via-[#1a142e] to-[#181c2f] flex-1 text-cyan-100",children:e.jsxs("div",{className:"container mx-auto px-4 py-12 sm:py-16 md:py-20",children:[e.jsx("p",{className:"text-center text-sm text-neutral-400 italic mb-6",children:"No mercy. No reruns. Just skill."}),e.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-8 text-center",style:{color:"var(--text-light)",textShadow:"var(--neon-glow)"},children:"Privacy Policy"}),e.jsxs("div",{className:"max-w-2xl mx-auto mb-6 text-center animate-fade-in",children:[e.jsx("p",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Why This Policy Matters"}),e.jsx("p",{className:"text-base text-white/90",children:"USDFG is built for elite gamers and crypto users who demand privacy, transparency, and self-custody. This policy explains exactly how we protect your data and your rights—no fine print, no hidden tracking, ever."})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8 animate-fade-in",children:[e.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-[#0b0b0c] border border-cyan-400 text-cyan-300 font-bold shadow-[0_0_8px_#22d3ee] text-sm",children:"100% Non-Custodial"}),e.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-[#0b0b0c] border border-cyan-400 text-cyan-300 font-bold shadow-[0_0_8px_#22d3ee] text-sm",children:"No Tracking"}),e.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-[#0b0b0c] border border-cyan-400 text-cyan-300 font-bold shadow-[0_0_8px_#22d3ee] text-sm",children:"GDPR Aligned"}),e.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-[#0b0b0c] border border-cyan-400 text-cyan-300 font-bold shadow-[0_0_8px_#22d3ee] text-sm",children:"Self-Custody"})]}),e.jsx("div",{className:"text-center mb-8 animate-fade-in",children:e.jsx("span",{className:"inline-block px-4 py-1 rounded bg-[#0b0b0c] border border-cyan-400 text-cyan-200 font-medium text-xs tracking-wide shadow-[0_0_8px_#22d3ee]",children:"Last Updated: May 1, 2025  |  Version: v1.0"})}),e.jsx("section",{className:"whitepaper-section max-w-4xl mx-auto bg-[#111]/90 border border-[#22d3ee] p-6 sm:p-8 rounded-lg shadow-lg mb-10 transform transition-all duration-300 hover:scale-[1.01] hover:shadow-[0_0_20px_rgba(34,211,238,0.3)]",children:e.jsxs("div",{className:"prose prose-invert max-w-none",children:[e.jsx("p",{className:"text-base sm:text-lg mb-8 text-white",children:"USDFG is built on the principles of decentralization, skill-based competition, and user sovereignty. We minimize data exposure, do not host accounts, and never collect personal identifiers."}),e.jsxs("div",{className:"space-y-8 text-white",children:[e.jsxs("div",{id:"section-1",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 1. What We Collect"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsxs("p",{children:["USDFG does not collect or store personal data such as names, emails, or passwords. The platform is fully ",e.jsx("span",{className:"text-cyan-400 font-bold",children:"non-custodial"})," — we do not manage wallets or user accounts."]}),e.jsx("p",{children:"We may process limited public and system-level data strictly for platform functionality:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Public wallet addresses – used to verify challenge entries and reward eligibility"}),e.jsx("li",{children:"Challenge participation records – linked to wallets for match history and dispute resolution"}),e.jsx("li",{children:"Interaction signals – used for anti-cheat logic and improving performance"})]})]}),e.jsxs("div",{id:"section-2",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 2. How We Use Data"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"We do not sell, profile, or track users across the internet. All data processing is limited to:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Verifying wallet-based challenge participation"}),e.jsx("li",{children:"Preventing abuse through basic non-invasive anti-cheat"}),e.jsx("li",{children:"Platform analytics and integrity"}),e.jsx("li",{children:"Satisfying legal or compliance obligations (if required)"})]})]}),e.jsxs("div",{id:"section-3",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 3. No Tracking or Profiling"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsxs("p",{children:[e.jsx("span",{className:"text-cyan-400 font-bold",children:"USDFG does not use tracking pixels, fingerprinting scripts, cross-site cookies, or behavioral advertising systems."})," We do not monitor users beyond the platform or build advertising profiles."]})]}),e.jsxs("div",{id:"section-4",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 4. Platform Security"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"While USDFG does not collect personal data, we apply technical safeguards (e.g., HTTPS encryption, code audits) to protect gameplay, transactions, and system integrity."})]}),e.jsxs("div",{id:"section-5",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 5. Smart Contract Transparency"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"All core USDFG challenge and token contracts are publicly viewable on the Solana blockchain. Users are encouraged to review contract logic and interact only through the official platform interface."})]}),e.jsxs("div",{id:"section-6",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 6. Audit & Security Notices"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"While best efforts are made to review platform code, USDFG does not guarantee absolute security. Use of the platform is at your own risk. Known vulnerabilities should be reported to the USDFG team immediately for responsible disclosure."})]}),e.jsxs("div",{id:"section-7",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 7. Cookies and Local Storage"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"We may use cookies or local storage to remember user preferences, such as:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Dark mode settings"}),e.jsx("li",{children:"Last connected wallet"}),e.jsx("li",{children:"Basic UX enhancements"})]}),e.jsx("p",{children:"These can be disabled in your browser at any time."})]}),e.jsxs("div",{id:"section-8",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 8. Third-Party Services"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG integrates with external tools strictly for essential platform operations:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Phantom Wallet – for wallet connection and transaction approval"}),e.jsx("li",{children:"Solana RPC infrastructure – for interacting with the blockchain"})]}),e.jsx("p",{children:"These providers may operate under their own terms and policies. USDFG does not store or control any private data from these tools."})]}),e.jsxs("div",{id:"section-9",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 9. Data Retention"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"We retain only the minimum amount of system-level data needed to operate:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"No personal profiles"}),e.jsx("li",{children:"No off-chain identity storage"}),e.jsx("li",{children:"Challenge logs are kept only for fair play enforcement and dispute resolution"})]})]}),e.jsxs("div",{id:"section-10",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 10. Data Location"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG infrastructure is hosted in the United States or on decentralized cloud services. All data interactions follow U.S. regulatory standards where applicable."})]}),e.jsxs("div",{id:"section-11",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 11. Data Access Format"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"If you request access to your data, we will provide any stored system records linked to your wallet in a machine-readable format (e.g., JSON or CSV), where applicable."})]}),e.jsxs("div",{id:"section-12",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 12. Your Rights"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Depending on your jurisdiction, you may request to:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Access data linked to your public wallet address"}),e.jsx("li",{children:"Request deletion of match history (if applicable)"}),e.jsx("li",{children:"File a data complaint with a regulatory authority"})]}),e.jsx("p",{children:"Submit all requests via the contact methods below."})]}),e.jsxs("div",{id:"section-13",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 13. Global Compliance"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG aligns with major global data principles such as GDPR and CCPA by minimizing data processing, avoiding personal identifiers, and honoring data access or deletion requests when applicable. Users may contact us to exercise applicable rights."})]}),e.jsxs("div",{id:"section-14",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 14. Fair Play Monitoring"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"To maintain a fair competitive environment, USDFG may monitor gameplay activity, match logs, and behavior patterns for signs of cheating, abuse, or collusion. This data is processed anonymously and used strictly for enforcing platform rules."})]}),e.jsxs("div",{id:"section-15",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 15. Non-Custodial Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is a non-custodial platform. Users hold and manage their own wallets and private keys. USDFG cannot assist with recovery of lost access, assets sent to incorrect addresses, or unauthorized transactions initiated from a user's wallet."})]}),e.jsxs("div",{id:"section-16",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 16. Not a Security"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is not offered or intended to be a security, investment vehicle, or financial product. It has no profit expectation, voting rights, or dividend structure. USDFG is a utility token for skill-based participation only, and its legal structure is designed to comply with U.S. and global regulatory guidelines regarding digital assets."})]}),e.jsxs("div",{id:"section-17",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 17. AI and User-Generated Content Usage"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"By submitting, tagging, or creating content related to USDFG — including gameplay clips, memes, or commentary involving the brand, mascot, or platform — you grant USDFG a non-exclusive, royalty-free license to repost, remix, or use that content for marketing or community engagement. This includes AI-generated content incorporating USDFG themes."})]}),e.jsxs("div",{id:"section-18",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 18. Community Governance (Non-Binding)"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"If USDFG launches decentralized governance features or DAOs, participation is optional and non-binding unless clearly specified. DAO proposals do not override the platform's legal structure or ownership. Participation does not confer rights, control, or equity in the platform."})]}),e.jsxs("div",{id:"section-19",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 19. Platform Evolution"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG may update features, integrate third-party tools, or expand use cases over time. Any new functionality will remain subject to these core privacy principles unless explicitly noted."})]}),e.jsxs("div",{id:"section-20",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 20. Third-Party Hosted Events"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Tournaments or challenges hosted by external partners, streamers, or organizations using USDFG's infrastructure remain subject to these Terms. USDFG is not liable for payouts, results, or communications managed by third-party hosts. Users must verify host credibility before joining."})]}),e.jsxs("div",{id:"section-21",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 21. Policy Updates"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"We may update this Privacy Policy as the platform evolves. Major changes will be communicated via the platform or official channels."})]}),e.jsxs("div",{id:"section-22",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 22. Children's Privacy"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is not intended for users under the age of 13, or the minimum legal age in your region."}),e.jsx("p",{children:"We do not knowingly collect any data from minors."})]}),e.jsxs("div",{id:"section-23",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 23. Contact"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("div",{className:"bg-[#0b0b0c] border border-cyan-400 rounded-lg p-6 shadow-[0_0_16px_rgba(72,216,255,0.2)] max-w-lg mx-auto",children:e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsxs("li",{children:["📧 Email: ",e.jsx("a",{href:"mailto:founder@usdfg.pro",className:"text-[#22d3ee] hover:underline",children:"founder@usdfg.pro"})," or ",e.jsx("a",{href:"mailto:support@usdfg.pro",className:"text-[#22d3ee] hover:underline",children:"support@usdfg.pro"})]}),e.jsxs("li",{children:["🐦 Twitter/X: ",e.jsx("a",{href:"https://twitter.com/USDFGAMING",className:"text-[#22d3ee] hover:underline",children:"@USDFGAMING"})]})]})})]}),e.jsxs("div",{id:"section-related",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ Related Policies"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:e.jsx("a",{href:"/terms",className:"text-[#22d3ee] hover:underline",children:"View Terms of Service"})})]}),e.jsxs("div",{className:"mt-8 pt-8 border-t border-[#22d3ee]/30 text-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] mb-4",children:"🔚 Closing Statement"}),e.jsx("p",{children:"USDFG is founded on self-custody, transparency, and zero reliance on centralized infrastructure."}),e.jsx("p",{children:"We believe in proof over promises — and protecting our players from exploitation at every step."}),e.jsxs("div",{className:"mt-8 flex flex-col items-center",children:[e.jsx("span",{className:"text-cyan-400 font-bold text-lg",children:"Hussein Ali"}),e.jsx("span",{className:"text-neutral-400 text-xs",children:"Founder, USDFGAMING"})]})]})]})]})})]})})]}),e.jsx(py,{}),e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-6 right-6 z-50 bg-[#0b0b0c] border border-cyan-400 text-cyan-200 rounded-full px-4 py-2 shadow-[0_0_12px_#22d3ee] hover:bg-cyan-400 hover:text-[#0b0b0c] transition-all duration-300 text-sm font-bold md:block hidden","aria-label":"Back to Top",children:"↑ Back to Top"}),e.jsx("style",{children:"\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes slideIn {\n          from {\n            opacity: 0;\n            transform: translateX(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n\n        .animate-fade-in {\n          opacity: 0;\n          animation: fadeIn 0.5s ease-out forwards;\n        }\n\n        .animate-slide-in {\n          opacity: 0;\n          animation: slideIn 0.5s ease-out forwards;\n        }\n\n        /* Mobile optimizations */\n        @media (max-width: 640px) {\n          .whitepaper-section {\n            padding: 1rem;\n            margin: 0.5rem;\n            border-width: 1px;\n          }\n\n          h1 {\n            font-size: 2rem;\n            margin-bottom: 1.5rem;\n            padding: 0 0.5rem;\n          }\n\n          h2 {\n            font-size: 1.5rem;\n            margin-bottom: 1rem;\n          }\n\n          h3 {\n            font-size: 1.25rem;\n            line-height: 1.4;\n          }\n\n          p, li {\n            font-size: 0.875rem;\n            line-height: 1.5;\n          }\n\n          .container {\n            padding-left: 1rem;\n            padding-right: 1rem;\n          }\n\n          ul {\n            padding-left: 1.25rem;\n          }\n\n          /* Adjust spacing for mobile */\n          .space-y-8 > div {\n            margin-bottom: 1.5rem;\n          }\n\n          /* Ensure links are easily tappable */\n          a {\n            padding: 0.25rem 0;\n            display: inline-block;\n          }\n\n          /* Adjust disclaimer banner for mobile */\n          .fixed.bottom-0 {\n            padding: 0.75rem 1rem;\n          }\n\n          .fixed.bottom-0 p {\n            font-size: 0.75rem;\n            line-height: 1.4;\n          }\n        }\n\n        /* Smooth scrolling for the entire page */\n        html {\n          scroll-behavior: smooth;\n        }\n\n        /* Custom scrollbar */\n        ::-webkit-scrollbar {\n          width: 8px;\n        }\n\n        ::-webkit-scrollbar-track {\n          background: #111;\n        }\n\n        ::-webkit-scrollbar-thumb {\n          background: #22d3ee;\n          border-radius: 4px;\n        }\n\n        ::-webkit-scrollbar-thumb:hover {\n          background: #67e8f9;\n        }\n      "})]})),vW=()=>(v.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),e.jsxs(e.Fragment,{children:[e.jsxs(QB,{children:[e.jsx("title",{children:"Terms of Service | USDFGAMING – Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{name:"description",content:"Read the Terms of Service for USDFGAMING, the elite, skill-based crypto gaming platform. Understand your rights, responsibilities, and our commitment to fair, on-chain competition."}),e.jsx("meta",{name:"keywords",content:"USDFG, USDFG, terms of service, crypto gaming terms, skill-based gaming, fair play, non-custodial, USDFGAMING"}),e.jsx("link",{rel:"canonical",href:"https://usdfg.pro/terms"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:"https://usdfg.pro/terms"}),e.jsx("meta",{property:"og:title",content:"Terms of Service | USDFGAMING – Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{property:"og:description",content:"Read the Terms of Service for USDFGAMING, the elite, skill-based crypto gaming platform. Understand your rights, responsibilities, and our commitment to fair, on-chain competition."}),e.jsx("meta",{property:"og:image",content:"https://usdfg.pro/usdfg-og-banner.png"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:site",content:"@USDFGAMING"}),e.jsx("meta",{name:"twitter:title",content:"Terms of Service | USDFGAMING – Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{name:"twitter:description",content:"Read the Terms of Service for USDFGAMING, the elite, skill-based crypto gaming platform. Understand your rights, responsibilities, and our commitment to fair, on-chain competition."}),e.jsx("meta",{name:"twitter:image",content:"https://usdfg.pro/usdfg-og-banner.png"}),e.jsx("script",{type:"application/ld+json",children:'\n          {\n            "@context": "https://schema.org",\n            "@graph": [\n              {\n                "@type": "Organization",\n                "name": "USDFGAMING",\n                "url": "https://usdfg.pro",\n                "logo": "https://usdfg.pro/usdfg-og-banner.png",\n                "sameAs": [\n                  "https://twitter.com/USDFGAMING",\n                  "https://t.me/+TPjhAyJiAF9mZTI0",\n                  "https://instagram.com/usdfgaming",\n                  "https://www.tiktok.com/@usdfgames"\n                ]\n              },\n              {\n                "@type": "WebPage",\n                "url": "https://usdfg.pro/terms",\n                "name": "Terms of Service | USDFGAMING – Skill-Based Crypto Gaming Platform",\n                "description": "Read the Terms of Service for USDFGAMING, the elite, skill-based crypto gaming platform. Understand your rights, responsibilities, and our commitment to fair, on-chain competition."\n              }\n            ]\n          }\n        '})]}),e.jsx(hy,{}),e.jsxs("div",{className:"relative flex flex-col md:flex-row",children:[e.jsxs("nav",{className:"hidden md:block md:w-64 sticky top-24 h-fit self-start px-2 py-6 mr-8 bg-[#0b0b0c]/80 border border-cyan-400/30 rounded-lg shadow-[0_0_12px_#22d3ee22] mt-12 animate-fade-in",children:[e.jsx("h2",{className:"text-cyan-400 font-bold text-lg mb-4 tracking-wide",children:"On This Page"}),e.jsxs("ul",{className:"space-y-2 text-cyan-200 text-sm",style:{maxHeight:"70vh",overflowY:"auto"},children:[e.jsx("li",{children:e.jsx("a",{href:"#section-0",className:"hover:text-white transition",children:"Founder & Team"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-1",className:"hover:text-white transition",children:"Legal Classification"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-2",className:"hover:text-white transition",children:"Service Overview"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-3",className:"hover:text-white transition",children:"Eligibility"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-4",className:"hover:text-white transition",children:"Skill-Based Platform"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-5",className:"hover:text-white transition",children:"Token Use & Risk"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-6",className:"hover:text-white transition",children:"User Conduct"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-7",className:"hover:text-white transition",children:"Limitation of Liability"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-8",className:"hover:text-white transition",children:"Platform Availability"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-9",className:"hover:text-white transition",children:"Modifications"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-10",className:"hover:text-white transition",children:"Termination"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-11",className:"hover:text-white transition",children:"Governing Law"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-12",className:"hover:text-white transition",children:"Contact"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-13",className:"hover:text-white transition",children:"Dispute Resolution"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-14",className:"hover:text-white transition",children:"No Financial Advice"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-15",className:"hover:text-white transition",children:"User Responsibility"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-16",className:"hover:text-white transition",children:"Assumption of Risk"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-17",className:"hover:text-white transition",children:"Severability"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-18",className:"hover:text-white transition",children:"Naming Notice"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-19",className:"hover:text-white transition",children:"Indemnification"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-20",className:"hover:text-white transition",children:"Jurisdictional Use"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-21",className:"hover:text-white transition",children:"No Agency"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-22",className:"hover:text-white transition",children:"No Ownership Rights"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-23",className:"hover:text-white transition",children:"Token Acquisition & Use"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-24",className:"hover:text-white transition",children:"Legal Safeguards"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-25",className:"hover:text-white transition",children:"Third-Party Tools"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-26",className:"hover:text-white transition",children:"Intellectual Property"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-27",className:"hover:text-white transition",children:"Token Use Limitation"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-28",className:"hover:text-white transition",children:"Autonomous Execution"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-29",className:"hover:text-white transition",children:"No Promoter Liability"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-30",className:"hover:text-white transition",children:"Wallet & Transaction"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-31",className:"hover:text-white transition",children:"International Use"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-32",className:"hover:text-white transition",children:"Platform Fees"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-33",className:"hover:text-white transition",children:"No Guarantee of Earnings"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-34",className:"hover:text-white transition",children:"Blockchain Risks"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-35",className:"hover:text-white transition",children:"No Fiduciary Relationship"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-36",className:"hover:text-white transition",children:"Misuse & Harassment"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-37",className:"hover:text-white transition",children:"Regulatory Cooperation"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-38",className:"hover:text-white transition",children:"No Custodial Holdings"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-39",className:"hover:text-white transition",children:"Community Participation"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-40",className:"hover:text-white transition",children:"KYC / Identity"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-41",className:"hover:text-white transition",children:"Content Ownership"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-42",className:"hover:text-white transition",children:"Challenge Dispute"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-43",className:"hover:text-white transition",children:"Affiliate/Referral"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-44",className:"hover:text-white transition",children:"AI Use & Automation"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-45",className:"hover:text-white transition",children:"Analytics & Anti-Cheat"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-46",className:"hover:text-white transition",children:"Bounty & Rewards"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-47",className:"hover:text-white transition",children:"Platform Lifecycle"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-48",className:"hover:text-white transition",children:"Legal Jurisdiction"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-49",className:"hover:text-white transition",children:"Community Content & AI"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-50",className:"hover:text-white transition",children:"DAO Participation"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-51",className:"hover:text-white transition",children:"Successor Entity"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-52",className:"hover:text-white transition",children:"AI Gameplay"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-53",className:"hover:text-white transition",children:"Account Suspension"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-54",className:"hover:text-white transition",children:"Token Migration"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-55",className:"hover:text-white transition",children:"Data Retention"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-56",className:"hover:text-white transition",children:"No Service-Level Guarantee"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-57",className:"hover:text-white transition",children:"Regulatory Change"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-58",className:"hover:text-white transition",children:"Sponsored Content"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-59",className:"hover:text-white transition",children:"AI & User Content"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-60",className:"hover:text-white transition",children:"Community Governance"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-61",className:"hover:text-white transition",children:"Third-Party Events"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-62",className:"hover:text-white transition",children:"Not a Security"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-63",className:"hover:text-white transition",children:"Non-Custodial"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-64",className:"hover:text-white transition",children:"Platform Snapshot"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-65",className:"hover:text-white transition",children:"Forking Restrictions"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-66",className:"hover:text-white transition",children:"Platform Integrity"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-67",className:"hover:text-white transition",children:"Multichain Disclaimer"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-68",className:"hover:text-white transition",children:"Fixed Supply"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-69",className:"hover:text-white transition",children:"Smart Contract Stability"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-70",className:"hover:text-white transition",children:"Related Policies"})})]})]}),e.jsx("main",{className:"min-h-screen bg-gradient-to-b from-[#181c2f] via-[#1a142e] to-[#181c2f] flex-1 text-cyan-100",children:e.jsxs("div",{className:"container mx-auto px-4 py-12 sm:py-16 md:py-20",children:[e.jsx("p",{className:"text-center text-sm text-neutral-400 italic mb-6",children:"No mercy. No reruns. Just skill."}),e.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-8 text-center",style:{color:"var(--text-light)",textShadow:"var(--neon-glow)"},children:"Terms of Service"}),e.jsxs("div",{className:"max-w-2xl mx-auto mb-6 text-center animate-fade-in",children:[e.jsx("p",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Why These Terms Matter"}),e.jsx("p",{className:"text-base text-white/90",children:"USDFG is built for elite gamers and crypto users who demand fairness, transparency, and self-custody. These Terms set the standard for how we protect your rights, your assets, and your experience—no fine print, no hidden risks, ever."})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8 animate-fade-in",children:[e.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-[#0b0b0c] border border-cyan-400 text-cyan-300 font-bold shadow-[0_0_8px_#22d3ee] text-sm",children:"100% Non-Custodial"}),e.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-[#0b0b0c] border border-cyan-400 text-cyan-300 font-bold shadow-[0_0_8px_#22d3ee] text-sm",children:"No Gambling"}),e.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-[#0b0b0c] border border-cyan-400 text-cyan-300 font-bold shadow-[0_0_8px_#22d3ee] text-sm",children:"Skill-Based"}),e.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-[#0b0b0c] border border-cyan-400 text-cyan-300 font-bold shadow-[0_0_8px_#22d3ee] text-sm",children:"Self-Custody"})]}),e.jsx("div",{className:"text-center mb-8 animate-fade-in",children:e.jsx("span",{className:"inline-block px-4 py-1 rounded bg-[#0b0b0c] border border-cyan-400 text-cyan-200 font-medium text-xs tracking-wide shadow-[0_0_8px_#22d3ee]",children:"Last Updated: May 1, 2025  |  Version: v1.0"})}),e.jsx("section",{className:"whitepaper-section max-w-4xl mx-auto bg-[#111]/90 border border-[#22d3ee] p-6 sm:p-8 rounded-lg shadow-lg mb-10 transform transition-all duration-300 hover:scale-[1.01] hover:shadow-[0_0_20px_rgba(34,211,238,0.3)]",children:e.jsxs("div",{className:"prose prose-invert max-w-none",children:[e.jsx("p",{className:"text-base sm:text-lg mb-4 text-white",children:"Effective Date: May 1, 2025"}),e.jsx("p",{className:"text-base sm:text-lg mb-4 text-white font-semibold",children:"USDFG is founded and led by Hussein Ali, a builder who created the platform to champion skill, self-sovereignty, and competition over chance."}),e.jsxs("div",{className:"space-y-8 text-white",children:[e.jsxs("div",{id:"section-0",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 0. Founder and Team Structure"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsxs("p",{children:["USDFG is a platform founded and currently operated solely by ",e.jsx("span",{className:"text-cyan-400 font-bold",children:"Hussein Ali"}),' (the "Founder"). For the purposes of this agreement, any references to the "USDFG team" shall be interpreted as referring to the Founder and any authorized representatives who may be appointed in the future. This structure ensures clear accountability while allowing for future operational growth.']})]}),e.jsxs("div",{id:"section-1",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 1. Legal Classification Statement"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is a skill-based digital competition platform operated solely by its Founder. It does not offer any form of gambling, wagering, lotteries, or games of chance. Participation is voluntary and rewards are based exclusively on user skill and verified performance. USDFG is a utility token used solely to access platform features and has no guaranteed monetary value. These Terms are designed to comply with applicable laws related to gaming, digital assets, and consumer protections."})]}),e.jsxs("div",{id:"section-2",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 2. Service Overview"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is a skill-based digital platform where users participate in challenges, earn rewards, and engage with competitive content. The platform is powered by the USDFG token, used strictly for in-platform utilities and skill-based competitions. No gambling, betting, or games of chance are offered or supported. All competitions are based solely on user skill and verified performance metrics."})]}),e.jsxs("div",{id:"section-3",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 3. Eligibility"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is a platform for users 18 and older. Players aged 13 to 17 may participate only if parental or legal guardian consent is granted and verifiable. Users under 13 are strictly prohibited."}),e.jsx("p",{children:"USDFG does not collect personal identifiers or account data. Proof of age or consent may be requested where legally required."})]}),e.jsxs("div",{id:"section-4",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 4. Skill-Based Platform Only"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is a skill-based competition platform. We do not host, facilitate, or allow gambling, betting, lotteries, or games of chance. All outcomes are based solely on performance, gameplay ability, and user verification."})]}),e.jsxs("div",{id:"section-5",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 5. Token Use & Risk Disclosure"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is a utility token with no guaranteed value, used exclusively for platform participation and skill-based competitions."}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Token values may fluctuate and are not guaranteed."}),e.jsx("li",{children:"USDFG is non-custodial - we do not store or control your wallet or private keys."}),e.jsx("li",{children:"We cannot restore lost access or funds - users are responsible for their wallet security."}),e.jsx("li",{children:"You are fully responsible for complying with your local crypto laws."}),e.jsx("li",{children:"Tokens are for utility only - not for speculative investment."})]})]}),e.jsxs("div",{id:"section-6",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 6. User Conduct"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"By using USDFG, you agree to play fairly, respect others, stay legal, and protect the platform. Violations may result in immediate suspension or permanent ban."})]}),e.jsxs("div",{id:"section-7",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 7. Limitation of Liability"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"To the maximum extent allowed by law, USDFG and its founder are not liable for losses related to token use, platform downtime, unauthorized access, regulatory action, or indirect/incidental damages. Services are provided as-is."})]}),e.jsxs("div",{id:"section-8",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 8. Platform Availability"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"We do not guarantee 24/7 uptime. Downtime may occur due to blockchain outages, maintenance, or technical failures."})]}),e.jsxs("div",{id:"section-9",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 9. Modifications"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"These Terms may be updated at any time. If major changes are made, we'll notify you via in-platform notice or email. Continued use of USDFG constitutes acceptance of the new Terms."})]}),e.jsxs("div",{id:"section-10",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 10. Termination"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"We may terminate or suspend your access at any time for violating these Terms, abusing the platform, or engaging in fraudulent or illegal activity."})]}),e.jsxs("div",{id:"section-11",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 11. Governing Law"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"These Terms are governed by the laws of the United States. All legal matters must be resolved in U.S. courts."})]}),e.jsxs("div",{id:"section-12",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 12. Contact"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("div",{className:"bg-[#0b0b0c] border border-cyan-400 rounded-lg p-6 shadow-[0_0_16px_rgba(72,216,255,0.2)] max-w-lg mx-auto",children:e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsxs("li",{children:["X (Twitter): ",e.jsx("a",{href:"https://twitter.com/USDFGAMING",className:"text-[#22d3ee] hover:underline",children:"https://twitter.com/USDFGAMING"})]}),e.jsxs("li",{children:["Email: ",e.jsx("a",{href:"mailto:founder@usdfg.pro",className:"text-[#22d3ee] hover:underline",children:"founder@usdfg.pro"})," or ",e.jsx("a",{href:"mailto:support@usdfg.pro",className:"text-[#22d3ee] hover:underline",children:"support@usdfg.pro"})]}),e.jsxs("li",{children:["Official Website: ",e.jsx("a",{href:"https://usdfg.pro",className:"text-[#22d3ee] hover:underline",children:"https://usdfg.pro"})]})]})})]}),e.jsxs("div",{id:"section-13",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 13. Dispute Resolution"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"All disputes shall be resolved through binding arbitration under the rules of the American Arbitration Association. Class actions, collective claims, and public litigation are not permitted."})]}),e.jsxs("div",{id:"section-14",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 14. No Financial Advice"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG does not provide any financial, investment, or tax advice. The platform is strictly for competitive entertainment."})]}),e.jsxs("div",{id:"section-15",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 15. User Responsibility"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"You are fully responsible for wallet security, lawful use of the platform, and your own actions. USDFG is a non-custodial platform and does not manage user funds."})]}),e.jsxs("div",{id:"section-16",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 16. Assumption of Risk"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"You understand that cryptocurrency is volatile, features may change, and technical issues can occur. You use USDFG at your own risk."})]}),e.jsxs("div",{id:"section-17",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 17. Severability"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"If any clause is unenforceable, the remaining Terms remain valid."})]}),e.jsxs("div",{id:"section-18",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 18. Naming Notice"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"The official name is United We Stand Divided We Fall Gaming. The Solana-registered token is United We Stand Gaming. The brand is USDFGAMING and the ticker is USDFG. All references refer to the same entity."})]}),e.jsxs("div",{id:"section-19",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 19. Indemnification"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"You agree to defend and hold harmless USDFG, its Founder, and any future authorized representatives. The Founder is not liable for the project's legal or operational obligations."})]}),e.jsxs("div",{id:"section-20",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 20. Jurisdictional Use"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"You must verify that your local laws permit use of skill-based digital platforms and crypto. USDFG is not available in restricted regions."})]}),e.jsxs("div",{id:"section-21",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 21. No Agency"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"No agency, partnership, or employment relationship is created by using this platform."})]}),e.jsxs("div",{id:"section-22",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 22. No Ownership Rights"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Holding USDFG does not grant ownership, equity, voting power, or legal claim over the platform."})]}),e.jsxs("div",{id:"section-23",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 23. Token Acquisition and Use"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Users may acquire USDFG tokens to access features, create or join challenges, and participate in skill-based competitions. Acquiring tokens is not a bet, wager, or speculative investment, and using tokens to enter a challenge is not gambling. Challenge rewards are based solely on measurable performance and outcome verification. Users may withdraw earned tokens to their wallets and convert them using external platforms at their discretion. USDFG does not offer, facilitate, or control currency exchange or financial speculation."})]}),e.jsxs("div",{id:"section-24",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 24. Legal Safeguards and Gambling Exclusion"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG only hosts competitions where skill determines the result, and chance plays no role. Challenge rewards are distributed by programmatic smart contracts based on verifiable performance outcomes. USDFG's platform is structured in accordance with legal standards governing skill-based contests under U.S. law. USDFG is prepared to demonstrate the technical structure of its skill-based competitions upon formal legal request."})]}),e.jsxs("div",{id:"section-25",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 25. Third-Party Tools Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG integrates with external services like Phantom Wallet and Solana infrastructure. We are not responsible for issues on these third-party platforms."})]}),e.jsxs("div",{id:"section-26",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 26. Intellectual Property Ownership"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"All branding, designs, logos, mascots, token structures, and code are owned by USDFG or its licensors."})]}),e.jsxs("div",{id:"section-27",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 26.1. Third-Party Game Publisher Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is not affiliated with or endorsed by any third-party game publishers. All game trademarks, logos, and intellectual property belong to their respective owners. USDFG's platform operates independently and does not claim any official association with the games featured on our platform."})]}),e.jsxs("div",{id:"section-28",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 26.2. Game IP Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"All game titles referenced by users are owned by their respective publishers. USDFG is not affiliated with or endorsed by any game company."})]}),e.jsxs("div",{id:"section-29",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 27. Token Use Limitation"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Holding or acquiring USDFG does not entitle users to revenue, profits, dividends, ownership, or governance influence."})]}),e.jsxs("div",{id:"section-30",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 28. Autonomous Execution Clause"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Challenges and rewards operate via smart contracts. Results are final unless fraud or verified dispute is proven."})]}),e.jsxs("div",{id:"section-31",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 29. No Promoter Liability"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Marketing and community content is for entertainment only and does not constitute advice or guarantees. The Founder and any future authorized representatives are not liable for promotional content."})]}),e.jsxs("div",{id:"section-32",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 30. Wallet & Transaction Responsibility"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Users are solely responsible for wallet access, transaction accuracy, and associated fees."})]}),e.jsxs("div",{id:"section-33",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 31. International Use Exemption"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Users accessing the platform from outside the U.S. do so at their own risk."})]}),e.jsxs("div",{id:"section-34",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 32. Platform Fees and Use of Funds"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG applies a 5% fee on challenge transactions. Fees fund platform operations, compensation, and future growth. This is disclosed before challenge entry."})]}),e.jsxs("div",{id:"section-35",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 33. No Guarantee of Earnings or Results"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG does not guarantee earnings, token value, or personal results. It is not an investment or passive income scheme."})]}),e.jsxs("div",{id:"section-36",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 34. Acknowledgment of Blockchain Risks"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Users accept risks like volatility, delays, bugs, and external threats when using the platform."})]}),e.jsxs("div",{id:"section-37",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 35. No Fiduciary Relationship"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Using USDFG does not create a fiduciary relationship. Users are responsible for their own decisions."})]}),e.jsxs("div",{id:"section-38",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 36. Misuse, False Claims, and Public Harassment"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG may take legal or platform action against users spreading false claims or harassing the founder."})]}),e.jsxs("div",{id:"section-39",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 37. Regulatory Cooperation and Jurisdiction"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is not a security, investment, or gambling offering. We will comply with legal requests and may restrict access when required."})]}),e.jsxs("div",{id:"section-40",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 38. No Custodial Holdings or Token Sales"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG does not offer custodial services. Users manage their own wallets and tokens."})]}),e.jsxs("div",{id:"section-41",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 39. Community Participation Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Token holders do not have rights to influence financial or operational decisions. Feedback is optional and non-binding."})]}),e.jsxs("div",{id:"section-42",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 40. KYC / Identity Verification Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG may implement identity verification to prevent fraud and meet legal requirements."})]}),e.jsxs("div",{id:"section-43",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 41. Content Ownership"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Users retain ownership of uploaded content but grant USDFG a license to use it in promotional materials."})]}),e.jsxs("div",{id:"section-44",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 42. Challenge Dispute Resolution System"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Disputes may be reviewed based on logs or smart contract outcomes. No guarantees of reversal unless fraud is proven."})]}),e.jsxs("div",{id:"section-45",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 43. Affiliate or Referral System Terms"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Referral programs may be offered and changed at any time by the Founder or future authorized representatives. Abuse may lead to disqualification."})]}),e.jsxs("div",{id:"section-46",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 44. AI Use and Automation Disclosure"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG may use automated systems for moderation, verification, and platform optimization."})]}),e.jsxs("div",{id:"section-47",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 45. Analytics and Anti-Cheat Monitoring"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG may analyze user behavior, device metadata, and in-game activity to detect suspicious patterns, enforce fair play, or improve platform experience. This includes automated systems that detect botting, collusion, or exploitative behavior. By using the platform, users consent to this monitoring."})]}),e.jsxs("div",{id:"section-48",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 46. Bounty & Community Reward Programs"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG may, at its discretion, offer rewards for community-reported bugs, exploits, or valuable contributions. Participation in any bounty program is optional and subject to terms provided at the time of the offer. Rewards are not guaranteed unless explicitly confirmed by USDFG."})]}),e.jsxs("div",{id:"section-49",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 47. Platform Lifecycle and Discontinuation"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG makes no guarantee of indefinite platform availability. We reserve the right to suspend, evolve, or discontinue any feature, product, or service based on economic, legal, or operational requirements. Users accept that such decisions may occur without liability or obligation."})]}),e.jsxs("div",{id:"section-50",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 48. Legal Jurisdiction Flexibility"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG reserves the right to restructure or relocate platform operations to alternative legal jurisdictions in response to regulatory changes or legal requirements. Any changes will be communicated via official channels and updated in these Terms accordingly."})]}),e.jsxs("div",{id:"section-51",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 49. Community Content and AI Use"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Any artwork, memes, commentary, or content submitted or created using USDFG's platform, mascot, or brand assets may be reused, reposted, or modified by USDFG for community engagement, marketing, or archival purposes. Content generated through AI using USDFG branding is considered part of the platform ecosystem and may be curated or removed at USDFG's discretion."})]}),e.jsxs("div",{id:"section-52",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 50. DAO Participation Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:'If USDFG evolves into a decentralized governance structure ("DAO"), user participation will be non-binding, optional, and informational only unless explicitly defined through smart contract voting mechanisms. No DAO action shall imply platform ownership, employment, or fiduciary relationship with the Founder or any future authorized representatives.'})]}),e.jsxs("div",{id:"section-53",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 51. Successor Entity and Assignment"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"In the event of a platform restructure, merger, sale, or transition to a successor organization, all rights and responsibilities under these Terms shall transfer accordingly. Continued use of the platform constitutes acceptance of the updated controlling entity."})]}),e.jsxs("div",{id:"section-54",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 52. AI Gameplay Systems and Disclaimers"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG may use automated systems and machine learning to assist in challenge validation, cheating detection, dispute resolution, and gameplay moderation. These systems are designed to support—not replace—human oversight and do not guarantee perfect accuracy."})]}),e.jsxs("div",{id:"section-55",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 53. Account Suspension Review"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG reserves the right to suspend or permanently ban user accounts based on suspected misconduct, fraud, or policy violations. Suspensions may be automated or manual. USDFG is not obligated to provide an appeal or review process unless required by law."})]}),e.jsxs("div",{id:"section-56",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 54. Token Migration and Upgrade"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG reserves the right to migrate or upgrade the USDFG token, smart contracts, or platform infrastructure to a new blockchain, contract address, or versioned system. Users may be required to follow official migration instructions. Failure to do so may result in permanent loss of legacy tokens or access."})]}),e.jsxs("div",{id:"section-57",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 55. Data Retention and Access"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG stores only the minimal personal data required to operate the platform. Users may request a copy of their stored data or request deletion where legally applicable. Certain records may be retained as required by law or for platform integrity."})]}),e.jsxs("div",{id:"section-58",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 56. No Service-Level Guarantee"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG makes no guarantees regarding uptime, platform availability, or service responsiveness. While we aim to provide stable and continuous access, unexpected downtime, latency, or outages may occur without notice or compensation."})]}),e.jsxs("div",{id:"section-59",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 57. Regulatory Change Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG reserves the right to modify services, user permissions, fees, wallet integrations, or platform access to comply with future legal or regulatory changes in any applicable jurisdiction. These modifications may occur without prior notice and without user compensation."})]}),e.jsxs("div",{id:"section-60",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 58. Sponsored Content & Advertising"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsx("li",{children:'USDFG may feature limited sponsored content or advertising placements in designated areas (e.g., footer, landing page, or "Powered By" banners).'}),e.jsx("li",{children:"All ads are manually reviewed to ensure alignment with the platform's values."}),e.jsx("li",{children:"We do not sell user data, enable third-party tracking, or run external ad networks."}),e.jsx("li",{children:"Sponsored placements will be clearly labeled and selected based on relevance to gaming, crypto, or competitive ecosystems."}),e.jsx("li",{children:"Ads promoting gambling, staking, or speculative financial products are strictly prohibited."}),e.jsx("li",{children:"USDFG reserves the right to approve or reject any sponsorship based on integrity, legal safety, and brand alignment."})]})]}),e.jsxs("div",{id:"section-61",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 59. AI and User-Generated Content Usage"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"By submitting, tagging, or creating content related to USDFG, including gameplay, memes, or commentary involving the brand, mascot, or platform, you grant USDFG a non-exclusive, royalty-free license to repost, remix, or use that content for marketing or community engagement. This includes AI-generated content that incorporates USDFG themes."})]}),e.jsxs("div",{id:"section-62",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 60. Community Governance (Non-Binding)"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"If USDFG launches decentralized governance features or DAOs, participation is optional and non-binding unless clearly specified. DAO proposals do not override the platform's legal structure or ownership. Participation does not confer rights, control, or equity in the platform."})]}),e.jsxs("div",{id:"section-63",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 61. Third-Party Hosted Events"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Tournaments or challenges hosted by external partners, streamers, or organizations using USDFG's infrastructure remain subject to these Terms. USDFG is not liable for payouts, results, or communications managed by third-party hosts. Users must verify host credibility before joining."})]}),e.jsxs("div",{id:"section-64",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 62. Not a Security"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is not offered or intended to be a security, investment vehicle, or financial product. It has no profit expectation, voting rights, or dividend structure. USDFG is a utility token for skill-based participation only, and its legal structure is designed to comply with U.S. and global regulatory guidelines regarding digital assets."})]}),e.jsxs("div",{id:"section-65",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 63. Non-Custodial Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is a non-custodial platform. Users hold and manage their own wallets and private keys. USDFG cannot assist with recovery of lost access, assets sent to incorrect addresses, or unauthorized transactions initiated from a user's wallet."})]}),e.jsxs("div",{id:"section-66",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 64. Platform Snapshot Rights"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG reserves the right to take on-chain and off-chain snapshots of platform state (e.g., active challenges, wallet balances, user interactions) for auditing, dispute resolution, or governance-related decisions. These snapshots are non-editable and used solely for integrity and accountability."})]}),e.jsxs("div",{id:"section-67",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 65. Forking & Derivative Work Restrictions"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Unless explicitly licensed, no part of USDFG's codebase, smart contracts, branding, or platform logic may be copied, forked, or redeployed under a new project. This includes unauthorized derivatives using USDFG's token model, mascot, or core platform mechanics."})]}),e.jsxs("div",{id:"section-68",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 66. Platform Integrity Enforcement"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG reserves the right to monitor gameplay and ecosystem interactions for manipulation, exploits, or abusive automation. This includes but is not limited to: reward farming, collusion, botnet participation, and vote brigading. Breaches may result in penalties or bans."})]}),e.jsxs("div",{id:"section-69",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 67. Multichain Integration Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG may integrate with additional blockchains or Layer 2 systems in the future. Any such integrations are subject to the same non-custodial, utility-only terms. Token bridging, wrapping, or migration tools will be optional and clearly disclosed."})]}),e.jsxs("div",{id:"section-70",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 68. Fixed Supply Statement"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"The USDFG token has a permanently fixed maximum supply of 21 million tokens. No additional minting, inflation, or hidden reserves exist. All token-related functions are transparent and verifiable on-chain."})]}),e.jsxs("div",{id:"section-71",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 69. Smart Contract Stability Notice"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG smart contracts are immutable or upgradeable only through public, documented processes. Users will not be subject to hidden contract changes, forced migrations, or stealth updates that alter core platform functionality or token behavior."})]}),e.jsxs("div",{id:"section-72",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:"→ 70. Related Policies"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsxs("p",{children:["For details on how we handle platform data and privacy, please review our ",e.jsx("a",{href:"/privacy",className:"text-cyan-400 underline",children:"Privacy Policy"}),"."]})]})]})]})})]})})]}),e.jsx(py,{}),e.jsxs("p",{className:"text-sm text-muted-foreground text-center mt-10 mb-4",children:["This platform is operated at ",e.jsx("a",{href:"https://usdfg.pro",className:"underline",children:"https://usdfg.pro"})," and governed by these Terms."]}),e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-6 right-6 z-50 bg-[#0b0b0c] border border-cyan-400 text-cyan-200 rounded-full px-4 py-2 shadow-[0_0_12px_#22d3ee] hover:bg-cyan-400 hover:text-[#0b0b0c] transition-all duration-300 text-sm font-bold md:block hidden","aria-label":"Back to Top",children:"↑ Back to Top"}),e.jsx("style",{children:"\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes slideIn {\n          from {\n            opacity: 0;\n            transform: translateX(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n\n        .animate-fade-in {\n          opacity: 0;\n          animation: fadeIn 0.5s ease-out forwards;\n        }\n\n        .animate-slide-in {\n          opacity: 0;\n          animation: slideIn 0.5s ease-out forwards;\n        }\n\n        /* Mobile optimizations */\n        @media (max-width: 640px) {\n          .whitepaper-section {\n            padding: 1rem;\n            margin: 0.5rem;\n            border-width: 1px;\n          }\n\n          h1 {\n            font-size: 2rem;\n            margin-bottom: 1.5rem;\n            padding: 0 0.5rem;\n          }\n\n          h2 {\n            font-size: 1.5rem;\n            margin-bottom: 1rem;\n          }\n\n          h3 {\n            font-size: 1.25rem;\n            line-height: 1.4;\n          }\n\n          p, li {\n            font-size: 0.875rem;\n            line-height: 1.5;\n          }\n\n          .container {\n            padding-left: 1rem;\n            padding-right: 1rem;\n          }\n\n          ul {\n            padding-left: 1.25rem;\n          }\n\n          /* Adjust spacing for mobile */\n          .space-y-8 > div {\n            margin-bottom: 1.5rem;\n          }\n\n          /* Ensure links are easily tappable */\n          a {\n            padding: 0.25rem 0;\n            display: inline-block;\n          }\n\n          /* Adjust disclaimer banner for mobile */\n          .fixed.bottom-0 {\n            padding: 0.75rem 1rem;\n          }\n\n          .fixed.bottom-0 p {\n            font-size: 0.75rem;\n            line-height: 1.4;\n          }\n        }\n\n        /* Smooth scrolling for the entire page */\n        html {\n          scroll-behavior: smooth;\n        }\n\n        /* Custom scrollbar */\n        ::-webkit-scrollbar {\n          width: 8px;\n        }\n\n        ::-webkit-scrollbar-track {\n          background: #111;\n        }\n\n        ::-webkit-scrollbar-thumb {\n          background: #22d3ee;\n          border-radius: 4px;\n        }\n\n        ::-webkit-scrollbar-thumb:hover {\n          background: #67e8f9;\n        }\n      "})]})),xW=[{id:"intro",label:"Why This Whitepaper Matters"},{id:"trust",label:"Trust & Compliance Badges"},{id:"vision",label:"Vision & Mission"},{id:"utility",label:"Token Utility & Legal Framing"},{id:"tokenomics",label:"Tokenomics & Distribution"},{id:"security",label:"Security & Self-Custody"},{id:"roadmap",label:"Roadmap"},{id:"links",label:"Related Policies"},{id:"contact",label:"Contact & Founder"}],kW=()=>{v.useEffect(()=>{if(window.scrollTo({top:0,behavior:"smooth"}),window.location.hash){const e=window.location.hash.replace("#","");setTimeout(()=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})},100)}},[]),v.useRef(null),v.useRef(null),v.useRef(null),v.useRef(null),v.useRef(null),v.useRef(null),v.useRef(null),v.useRef(null),v.useRef(null),v.useRef(null);const t=v.useRef(null);v.useRef(null),v.useRef(null);const[n,r]=v.useState(0),[i,s]=v.useState(0),[o,a]=v.useState(0),[l,c]=v.useState(0),u=v.useRef([null,null,null,null]),d=v.useRef(!1),h=(e,t,n=1e3)=>{let r;const i=s=>{r||(r=s);const o=Math.min((s-r)/n,1);t(Math.floor(o*e)),o<1?u.current[e]=requestAnimationFrame(i):t(e)};return i};return v.useEffect(()=>{const e=t.current;if(!e)return;const n=new window.IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!d.current&&(d.current=!0,requestAnimationFrame(h(65,r)),requestAnimationFrame(h(15,s)),requestAnimationFrame(h(10,a)),requestAnimationFrame(h(10,c)))})},{threshold:.2});return n.observe(e),()=>n.disconnect()},[t]),e.jsxs(e.Fragment,{children:[e.jsxs(QB,{children:[e.jsx("title",{children:"Whitepaper | USDFGAMING – Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{name:"description",content:"Read the USDFGAMING Whitepaper. Discover the vision, tokenomics, and mechanics behind the elite, skill-based crypto gaming platform."}),e.jsx("meta",{name:"keywords",content:"USDFG, USDFG, whitepaper, crypto gaming whitepaper, skill-based gaming, tokenomics, non-custodial, USDFGAMING"}),e.jsx("link",{rel:"canonical",href:"https://usdfg.pro/whitepaper"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:"https://usdfg.pro/whitepaper"}),e.jsx("meta",{property:"og:title",content:"Whitepaper | USDFGAMING – Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{property:"og:description",content:"Read the USDFGAMING Whitepaper. Discover the vision, tokenomics, and mechanics behind the elite, skill-based crypto gaming platform."}),e.jsx("meta",{property:"og:image",content:"https://usdfg.pro/usdfg-og-banner.png"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:site",content:"@USDFGAMING"}),e.jsx("meta",{name:"twitter:title",content:"Whitepaper | USDFGAMING – Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{name:"twitter:description",content:"Read the USDFGAMING Whitepaper. Discover the vision, tokenomics, and mechanics behind the elite, skill-based crypto gaming platform."}),e.jsx("meta",{name:"twitter:image",content:"https://usdfg.pro/usdfg-og-banner.png"}),e.jsx("script",{type:"application/ld+json",children:'\n          {\n            "@context": "https://schema.org",\n            "@graph": [\n              {\n                "@type": "Organization",\n                "name": "USDFGAMING",\n                "url": "https://usdfg.pro",\n                "logo": "https://usdfg.pro/usdfg-og-banner.png",\n                "sameAs": [\n                  "https://twitter.com/USDFGAMING",\n                  "https://t.me/+TPjhAyJiAF9mZTI0",\n                  "https://instagram.com/usdfgaming",\n                  "https://www.tiktok.com/@usdfgames"\n                ]\n              },\n              {\n                "@type": "WebPage",\n                "url": "https://usdfg.pro/whitepaper",\n                "name": "Whitepaper | USDFGAMING – Skill-Based Crypto Gaming Platform",\n                "description": "Read the USDFGAMING Whitepaper. Discover the vision, tokenomics, and mechanics behind the elite, skill-based crypto gaming platform."\n              }\n            ]\n          }\n        '})]}),e.jsx(hy,{}),e.jsxs("div",{className:"relative flex flex-col md:flex-row",children:[e.jsxs("nav",{className:"hidden md:block md:w-64 sticky top-24 h-fit self-start px-2 py-6 mr-8 bg-[#0b0b0c]/90 border border-cyan-400/20 rounded-lg shadow-none mt-12 animate-fade-in",children:[e.jsx("h2",{className:"text-cyan-400 font-bold text-lg mb-4 tracking-wide",children:"On This Page"}),e.jsx("ul",{className:"space-y-2 text-cyan-200 text-sm",style:{maxHeight:"70vh",overflowY:"auto"},children:xW.map(t=>e.jsx("li",{children:e.jsx("a",{href:`#${t.id}`,className:"hover:text-white transition",children:t.label})},t.id))})]}),e.jsx("main",{className:"min-h-screen bg-gradient-to-b from-[#181c2f] via-[#1a142e] to-[#181c2f] flex-1 text-cyan-100",children:e.jsxs("div",{className:"container mx-auto px-4 py-12 sm:py-16 md:py-20",children:[e.jsx("div",{className:"flex justify-center mb-6 mt-8",children:e.jsxs("picture",{children:[e.jsx("source",{srcSet:"/assets/usdfg-logo-transparent.webp",type:"image/webp"}),e.jsx("img",{src:"/assets/usdfg-logo-transparent.png",alt:"USDFG Logo",className:"w-24 h-24 sm:w-28 sm:h-28 md:w-32 md:h-32 rounded-full border-2 border-cyan-400 shadow-[0_0_32px_#22d3ee99] animate-float",style:{background:"rgba(11,11,12,0.7)"}})]})}),e.jsx("div",{className:"max-w-2xl mx-auto mb-8 mt-8 px-6 py-4 rounded-xl bg-gradient-to-br from-white/10 to-[#a78bfa22] border border-purple-700/40 shadow-lg backdrop-blur-md animate-fade-in",children:e.jsxs("p",{className:"text-base md:text-lg text-white/90 text-center",children:[e.jsx("span",{className:"font-bold text-cyan-300",children:"Disclaimer"}),e.jsx("br",{}),"USDFG is a decentralized utility token for gameplay and access within the USDFGAMING platform. It is not a security, equity, or financial investment. There are no promises of profit, yield, or guaranteed value. All use is performance-based, skill-driven, and non-custodial. Participation is optional and self-directed. See our ",e.jsx("a",{href:"/terms",className:"text-blue-400 hover:text-cyan-300 transition-colors underline",children:"Terms of Service"})," and ",e.jsx("a",{href:"/privacy",className:"text-blue-400 hover:text-cyan-300 transition-colors underline",children:"Privacy Policy"})," for full details."]})}),e.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-2 mt-8 text-center animate-fade-in",style:{color:"var(--text-light)",textShadow:"var(--neon-glow)"},children:"USDFG Whitepaper"}),e.jsx("div",{className:"text-xl sm:text-2xl font-extrabold text-cyan-400 drop-shadow-glow animate-fade-in mb-4 text-center mt-1",style:{textShadow:"0 0 8px #22d3ee, 0 0 16px #a78bfa"},children:"The Token of Gaming"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-x-3 gap-y-2 mt-2 mb-6 animate-fade-in",children:[e.jsx("span",{className:"px-3 py-1 rounded-full bg-neutral-800 border border-cyan-500/30 text-xs font-medium",children:"100% Non-Custodial"}),e.jsx("span",{className:"px-3 py-1 rounded-full bg-neutral-800 border border-cyan-500/30 text-xs font-medium",children:"No Gambling"}),e.jsx("span",{className:"px-3 py-1 rounded-full bg-neutral-800 border border-cyan-500/30 text-xs font-medium",children:"Skill-Based Only"}),e.jsx("span",{className:"px-3 py-1 rounded-full bg-neutral-800 border border-cyan-500/30 text-xs font-medium",children:"Self-Custody"}),e.jsx("span",{className:"px-3 py-1 rounded-full bg-neutral-800 border border-cyan-500/30 text-xs font-medium",children:"Global Compliance"})]}),e.jsxs("section",{id:"intro",className:"max-w-2xl mx-auto mb-6 text-center animate-fade-in",children:[e.jsx("p",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Why This Whitepaper Matters"}),e.jsx("p",{className:"text-base text-white/90",children:"USDFGAMING is built for elite gamers and crypto users who value skill, fairness, and full control. This platform was designed to reward performance — not purchases. Everything is decentralized, transparent, and self-custodial. USDFG isn't built for passive gain. It's built for those who compete with purpose."})]}),e.jsx("div",{className:"text-center mb-8 animate-fade-in",children:e.jsx("span",{className:"mt-4 inline-block rounded-md px-3 py-1 text-xs bg-neutral-800 border border-cyan-500/20 text-cyan-300 font-medium",children:"Last Updated: May 2025  |  Version: v2.0"})}),e.jsx("section",{id:"vision",className:"whitepaper-section max-w-4xl mx-auto bg-[#111]/90 border border-[#22d3ee] p-6 sm:p-8 rounded-lg shadow-lg mb-10 animate-fade-in",children:e.jsxs("div",{className:"prose prose-invert max-w-none",children:[e.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 mb-4 flex items-center gap-2",children:[e.jsx(zy,{className:"text-purple-400"})," Vision & Mission"]}),e.jsxs("p",{className:"text-white mb-4 text-lg font-semibold",children:["USDFGAMING exists to prove that ",e.jsx("span",{className:"text-cyan-300 font-bold",children:"skill—not luck—defines success"}),"."]}),e.jsx("p",{className:"text-white mb-2",children:"Our mission is to build the world's most trusted competitive platform: one where every match is earned, every reward is real, and every user stays in control."}),e.jsx("p",{className:"text-cyan-300 font-bold mt-4",children:"No middlemen. No house. Just you, your wallet, and your skill."})]})}),e.jsx("section",{id:"utility",className:"whitepaper-section max-w-4xl mx-auto bg-[#111]/90 border border-[#22d3ee] p-6 sm:p-8 rounded-lg shadow-lg mb-10 animate-fade-in",children:e.jsxs("div",{className:"prose prose-invert max-w-none",children:[e.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 mb-4 flex items-center gap-2",children:[e.jsx(Vy,{className:"text-purple-400"})," Token Utility & Legal Framing"]}),e.jsx("p",{className:"text-white mb-2",children:"USDFG is a utility token designed for skill-based access, challenge entry, and verifiable rewards."}),e.jsx("p",{className:"text-white mb-2",children:"It is not a security, investment, or speculative asset. USDFG offers no staking, no passive yield, and no financial guarantees — all use is non-custodial and performance-based."}),e.jsxs("p",{className:"text-white mb-2",children:["Users retain full control of their wallets and assets at all times. No part of USDFG or this platform is structured for financial gain. ",e.jsx("a",{href:"/terms",className:"text-blue-400 hover:text-cyan-300 transition-colors underline",children:"See our Terms of Service"})," for full legal details."]})]})}),e.jsx("section",{id:"tokenomics",className:"whitepaper-section max-w-4xl mx-auto bg-[#111]/90 border border-[#22d3ee] p-6 sm:p-8 rounded-lg shadow-lg mb-10 animate-fade-in",children:e.jsxs("div",{className:"prose prose-invert max-w-none",children:[e.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 mb-4 flex items-center gap-2",children:[e.jsx(Fy,{className:"text-purple-400"})," Tokenomics & Distribution"]}),e.jsxs("p",{className:"text-white mb-4",children:[e.jsx("b",{children:"Total Supply:"})," 21,000,000 USDFG (Fixed, non-inflationary)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-cyan-800/30",children:[e.jsx("h4",{className:"text-xl font-semibold text-purple-400 mb-2",children:"65% Public Trading"}),e.jsx("p",{className:"text-gray-300",children:"Non-custodial, open market supply. No presale, no early access, no staking. All users have equal opportunity to acquire tokens through public decentralized exchanges."})]}),e.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-cyan-800/30",children:[e.jsx("h4",{className:"text-xl font-semibold text-purple-400 mb-2",children:"15% Core Reserve"}),e.jsx("p",{className:"text-gray-300",children:"This allocation is held by the founder with full discretion. It may be used, held, or distributed at any time — including for personal, strategic, or project-related purposes. Tokens remain non-custodial and fully transparent."})]}),e.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-cyan-800/30",children:[e.jsx("h4",{className:"text-xl font-semibold text-purple-400 mb-2",children:"10% Development & Operations"}),e.jsx("p",{className:"text-gray-300",children:"Supports active platform development, infrastructure, scaling, and operational costs. May also include allocation for external contributors or technical support partners."})]}),e.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-cyan-800/30",children:[e.jsx("h4",{className:"text-xl font-semibold text-purple-400 mb-2",children:"10% Rewards & Challenges"}),e.jsx("p",{className:"text-gray-300",children:"Used to fund skill-based tournaments, no-entry-fee promotional matches, new player onboarding incentives, and limited challenge-based events."})]})]}),e.jsxs("p",{className:"mt-6 text-sm text-white/70",children:["For full legal and compliance details, see our"," ",e.jsx("a",{href:"/privacy",className:"underline text-cyan-400 hover:text-cyan-300",children:"Privacy Policy"})," ","and"," ",e.jsx("a",{href:"/terms",className:"underline text-cyan-400 hover:text-cyan-300",children:"Terms of Service"}),"."]})]})}),e.jsx("section",{id:"security",className:"whitepaper-section max-w-4xl mx-auto bg-[#111]/90 border border-[#22d3ee] p-6 sm:p-8 rounded-lg shadow-lg mb-10 animate-fade-in",children:e.jsxs("div",{className:"prose prose-invert max-w-none",children:[e.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 mb-4 flex items-center gap-2",children:[e.jsx(Fy,{className:"text-purple-400"})," Security & Self-Custody"]}),e.jsx("p",{className:"text-white mb-2",children:"USDFGAMING, the skill-based crypto platform, is 100% non-custodial. We never hold your funds, keys, or personal data. All transactions are on-chain, transparent, and user-controlled. Security audits are published and updated regularly. If you lose access to your wallet, we cannot recover it—self-custody is your responsibility and your right."})]})}),e.jsx("section",{id:"roadmap",className:"whitepaper-section max-w-4xl mx-auto bg-[#111]/90 border border-[#22d3ee] p-6 sm:p-8 rounded-lg shadow-lg mb-10 animate-fade-in",children:e.jsxs("div",{className:"prose prose-invert max-w-none",children:[e.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 mb-6 flex items-center gap-2",children:[e.jsx(Dy,{className:"text-purple-400"})," What's Ahead for USDFG"]}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-300 space-y-2 mb-6",children:[e.jsx("li",{children:"Launching head-to-head challenges with verified payouts and full non-custodial control."}),e.jsx("li",{children:"Expanding game categories to unlock new skill-based arenas."}),e.jsx("li",{children:"Rolling out competitive leaderboards and limited-supply prize pools."}),e.jsx("li",{children:"Staying fully legal, skill-based, and founder-led — no governance tokens, no staking, no hype games."})]}),e.jsx("p",{className:"text-cyan-300 font-bold mt-4",children:"USDFG doesn't grow on hype — it grows with pressure. That's the roadmap."})]})}),e.jsx("section",{id:"links",className:"whitepaper-section max-w-4xl mx-auto bg-[#111]/90 border border-[#22d3ee] p-6 sm:p-8 rounded-lg shadow-lg mb-10 animate-fade-in",children:e.jsxs("div",{className:"prose prose-invert max-w-none text-center",children:[e.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 mb-4 flex items-center gap-2",children:[e.jsx(Uy,{className:"text-purple-400"})," Related Policies"]}),e.jsxs("p",{className:"text-white",children:["For full legal and privacy details, see our ",e.jsx("a",{href:"/privacy",className:"underline text-cyan-400 hover:text-cyan-300",children:"Privacy Policy"})," and ",e.jsx("a",{href:"/terms",className:"underline text-cyan-400 hover:text-cyan-300",children:"Terms of Service"}),".",e.jsx("br",{}),"USDFG is built to stay transparent, secure, and fair — always."]})]})}),e.jsx("section",{id:"contact",className:"whitepaper-section max-w-4xl mx-auto bg-[#111]/90 border border-[#22d3ee] p-6 sm:p-8 rounded-lg shadow-lg mb-10 animate-fade-in text-center",children:e.jsxs("div",{className:"prose prose-invert max-w-none",children:[e.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 mb-4 flex items-center gap-2",children:[e.jsx(qy,{className:"text-purple-400"})," Contact & Founder"]}),e.jsxs("p",{className:"text-white mb-4",children:["For questions, compliance inquiries, or media, contact ",e.jsx("a",{href:"mailto:founder@usdfg.pro",className:"text-cyan-300 underline",children:"founder@usdfg.pro"})," or ",e.jsx("a",{href:"mailto:support@usdfg.pro",className:"text-cyan-300 underline",children:"support@usdfg.pro"})," or DM ",e.jsx("a",{href:"https://twitter.com/USDFGAMING",className:"text-cyan-300 underline",target:"_blank",rel:"noopener noreferrer",children:"@USDFGAMING"})," on Twitter."]}),e.jsxs("div",{className:"mt-8 text-left max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("picture",{children:[e.jsx("source",{srcSet:"/assets/usdfg-logo-transparent.webp",type:"image/webp"}),e.jsx("img",{src:"/assets/usdfg-logo-transparent.png",alt:"USDFG Logo",className:"w-10 h-10 rounded-full border border-cyan-400"})]}),e.jsx("span",{className:"font-bold text-cyan-300",children:"Hussein Ali"})]}),e.jsx("div",{className:"text-xs text-cyan-200 italic",children:"Founder & Lead Developer, USDFGAMING"}),e.jsx("div",{className:"text-xs text-neutral-400 mt-1",children:"Signed digitally for legal compliance and user trust."})]})]})}),e.jsx("section",{className:"max-w-2xl mx-auto mb-12 px-6 py-4 rounded-xl bg-gradient-to-br from-white/10 to-[#a78bfa22] border border-purple-700/40 shadow-lg backdrop-blur-md animate-fade-in text-center",children:e.jsxs("p",{className:"text-base md:text-lg text-white/90 font-bold",children:[e.jsx("span",{className:"text-purple-300",children:"Legal Note:"}),e.jsx("br",{}),"This document is not financial advice and does not offer or solicit any investment.",e.jsx("br",{}),"USDFG is a fixed-supply utility token used only for skill-based access and entertainment. Participation is optional and at your own discretion."]})})]})})]}),e.jsx(py,{isRevealed:!0}),e.jsx("style",{children:"\n        .whitepaper-section { transition: box-shadow 0.3s, transform 0.3s; }\n        .whitepaper-section:hover { box-shadow: 0 0 32px #22d3ee33, 0 0 8px #a78bfa33; transform: scale(1.01); }\n        @media (max-width: 640px) {\n          .whitepaper-section { padding: 1rem; margin: 0.5rem; }\n          h1 { font-size: 2rem; margin-bottom: 1.5rem; }\n          h2 { font-size: 1.5rem; margin-bottom: 1rem; }\n          h3 { font-size: 1.25rem; }\n          p, li { font-size: 0.95rem; line-height: 1.5; }\n        }\n        /* Sidebar reduced glow */\n        .sidebar-glow { box-shadow: none !important; background: #0b0b0c !important; border-color: #22d3ee33 !important; }\n        /* Tag buttons - pill, less bright */\n        .tag-pill { opacity: 0.8; background: #0b0b0c; border: 1px solid #22d3ee33; color: #a5f3fc; font-size: 0.85rem; font-weight: 600; border-radius: 9999px; padding: 0.25rem 0.9rem; box-shadow: none; }\n        /* Soft fade-in for top elements */\n        .animate-fade-in { opacity: 0; animation: fadeInSoft 1.1s cubic-bezier(.4,0,.2,1) forwards; }\n        @keyframes fadeInSoft { from { opacity: 0; transform: translateY(24px); } to { opacity: 1; transform: none; } }\n      "})]})};Date.now().toString();const SW=e=>{console.log("🔍 Starting version monitoring...");const t=async()=>{await(async()=>{try{const e=await fetch(`/index.html?t=${Date.now()}`,{cache:"no-cache",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});if(!e.ok)return!1;const t=await e.text();return Array.from(document.querySelectorAll('script[src*="index-"]')).map(e=>e.src).some(e=>{const n=e.split("/").pop()||"";return!t.includes(n)})}catch(e){return console.error("❌ Version check failed:",e),!1}})()&&(console.log("🆕 New version detected!"),e())};t();const n=setInterval(t,6e4);return()=>clearInterval(n)},EW=({onDismiss:t})=>e.jsx("div",{className:"fixed top-0 left-0 right-0 z-[9999] bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg",children:e.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"🆕"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"New Version Available!"}),e.jsx("p",{className:"text-sm opacity-90",children:"Click Update to get the latest features and fixes."})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{console.log("🔄 User clicked update button"),console.log("🔄 Forcing app reload..."),"caches"in window&&caches.keys().then(e=>{e.forEach(e=>caches.delete(e))}),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(e=>{e.forEach(e=>e.unregister())}),window.location.reload()},className:"px-4 py-2 bg-white text-cyan-600 font-semibold rounded-lg hover:bg-gray-100 transition-colors",children:"Update Now"}),e.jsx("button",{onClick:()=>{console.log("⏭️ User dismissed update banner"),t?.()},className:"px-4 py-2 bg-transparent border border-white text-white rounded-lg hover:bg-white/10 transition-colors",children:"Later"})]})]})});function _W(){return e.jsx(T,{children:e.jsxs(C,{children:[e.jsx(j,{path:"/",element:e.jsx(XB,{})}),e.jsx(j,{path:"/privacy",element:e.jsx(wW,{})}),e.jsx(j,{path:"/terms",element:e.jsx(vW,{})}),e.jsx(j,{path:"/whitepaper",element:e.jsx(kW,{})}),e.jsx(j,{path:"/app",element:e.jsx(WG,{})}),e.jsx(j,{path:"/app/challenge/new",element:e.jsx(HG,{})}),e.jsx(j,{path:"/app/profile/:address",element:e.jsx(bW,{})}),e.jsx(j,{path:"/login",element:e.jsx(XB,{})}),e.jsx(j,{path:"*",element:e.jsx(cy,{})})]})})}function NW(){const[t,n]=v.useState(!1);return v.useEffect(()=>{if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){console.log("🍎 Safari detected - applying compatibility fixes");const e=document.querySelector('meta[name="viewport"]');e&&e.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no")}},[]),v.useEffect(()=>{console.log("🔄 Initializing version monitoring...");return SW(()=>{console.log("🆕 New version available - showing update banner"),n(!0)})},[]),e.jsx(iy,{children:e.jsxs(De,{client:Le,children:[e.jsxs(QB,{children:[e.jsx("title",{children:"USDFGAMING – Skill-Based Crypto Gaming | Game. Earn. Conquer."}),e.jsx("meta",{name:"description",content:"USDFGAMING is the elite, skill-based crypto gaming platform. Compete, verify results, and earn USDFG. No gambling. 100% on-chain."}),e.jsx("link",{rel:"canonical",href:"https://usdfg.pro/"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:site_name",content:"USDFGAMING"}),e.jsx("meta",{property:"og:url",content:"https://usdfg.pro/"}),e.jsx("meta",{property:"og:title",content:"USDFGAMING – Skill-Based Crypto Gaming"}),e.jsx("meta",{property:"og:description",content:"Compete in verified challenges, earn USDFG, and prove your skill."}),e.jsx("meta",{property:"og:image",content:"https://usdfg.pro/assets/usdfg-og-banner.png"}),e.jsx("meta",{property:"og:image:width",content:"1200"}),e.jsx("meta",{property:"og:image:height",content:"630"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:site",content:"@USDFGAMING"}),e.jsx("meta",{name:"twitter:title",content:"USDFGAMING – Skill-Based Crypto Gaming"}),e.jsx("meta",{name:"twitter:description",content:"Compete in verified challenges, earn USDFG, and prove your skill."}),e.jsx("meta",{name:"twitter:image",content:"https://usdfg.pro/assets/usdfg-og-banner.png"}),e.jsx("meta",{name:"theme-color",content:"#0c1222"})]}),e.jsxs("div",{className:"min-h-screen flex flex-col relative overflow-hidden",children:[t&&e.jsx(EW,{onDismiss:()=>n(!1)}),e.jsx(_W,{}),e.jsx(_n,{})]})]})})}window.Buffer=V.Buffer,window.global=window,Y.createRoot(document.getElementById("root")).render(e.jsx(NW,{}));export{os as B,rd as K,rl as P,Zl as S,Al as T,mU as U,IG as a,fU as b,eU as c,Ml as d,Tl as e,gU as f,hU as g,RG as i,OG as u};

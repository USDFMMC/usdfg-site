import{i as e,r as t,P as r,B as n,K as o,g as s,U as i,_ as a,T as c,S as u,a as l,b as d,c as _,d as h,e as R}from"./index-BKKd4BFf.js";import{g as f}from"./vendor-BoDUibaF.js";import"./ui-C_ecRgbg.js";var p,E={exports:{}};!function(){if(p)return E.exports;p=1;const e=/[\p{Lu}]/u,t=/[\p{Ll}]/u,r=/^[\p{Lu}](?![\p{Lu}])/gu,n=/([\p{Alpha}\p{N}_]|$)/u,o=/[_.\- ]+/,s=new RegExp("^"+o.source),i=new RegExp(o.source+n.source,"gu"),a=new RegExp("\\d+"+n.source,"gu"),c=(n,o)=>{if("string"!=typeof n&&!Array.isArray(n))throw new TypeError("Expected the input to be `string | string[]`");if(o={pascalCase:!1,preserveConsecutiveUppercase:!1,...o},0===(n=Array.isArray(n)?n.map(e=>e.trim()).filter(e=>e.length).join("-"):n.trim()).length)return"";const c=!1===o.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(o.locale),u=!1===o.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(o.locale);if(1===n.length)return o.pascalCase?u(n):c(n);return n!==c(n)&&(n=((r,n,o)=>{let s=!1,i=!1,a=!1;for(let c=0;c<r.length;c++){const u=r[c];s&&e.test(u)?(r=r.slice(0,c)+"-"+r.slice(c),s=!1,a=i,i=!0,c++):i&&a&&t.test(u)?(r=r.slice(0,c-1)+"-"+r.slice(c-1),a=i,i=!1,s=!0):(s=n(u)===u&&o(u)!==u,a=i,i=o(u)===u&&n(u)!==u)}return r})(n,c,u)),n=n.replace(s,""),n=o.preserveConsecutiveUppercase?((e,t)=>(r.lastIndex=0,e.replace(r,e=>t(e))))(n,c):c(n),o.pascalCase&&(n=u(n.charAt(0))+n.slice(1)),((e,t)=>(i.lastIndex=0,a.lastIndex=0,e.replace(i,(e,r)=>t(r)).replace(a,e=>t(e))))(n,u)};E.exports=c,E.exports.default=c,E.exports}();var O,y={},N={};function T(){if(O)return N;O=1;class e{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function t(e,t){return t.property?e+"["+t.property+"]":e}N.Layout=e,N.nameWithProperty=t,N.bindConstructorLayout=function(t,r){if("function"!=typeof t)throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(r&&r instanceof e))throw new TypeError("layout must be a Layout");if(r.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=r,r.boundConstructor_=t,r.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(e,t){return r.encode(this,e,t)},writable:!0}),Object.defineProperty(t,"decode",{value:function(e,t){return r.decode(e,t)},writable:!0})};class r extends e{isCount(){throw new Error("ExternalLayout is abstract")}}class n extends r{constructor(e,t){if(void 0===e&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t){void 0===t&&(t=0);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}class o extends r{constructor(t,r,n){if(!(t instanceof e))throw new TypeError("layout must be a Layout");if(void 0===r)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=r}isCount(){return this.layout instanceof s||this.layout instanceof i}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return void 0===r&&(r=0),this.layout.encode(e,t,r+this.offset)}}class s extends e{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class i extends e{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}class a extends e{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeIntLE(e,r,this.span),this.span}}class c extends e{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readIntBE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeIntBE(e,r,this.span),this.span}}const u=Math.pow(2,32);function l(e){const t=Math.floor(e/u);return{hi32:t,lo32:e-t*u}}function d(e,t){return e*u+t}class _ extends e{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const r=e.readUInt32LE(t);return d(e.readUInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);const n=l(e);return t.writeUInt32LE(n.lo32,r),t.writeUInt32LE(n.hi32,r+4),8}}class h extends e{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);return d(e.readUInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,r){void 0===r&&(r=0);const n=l(e);return t.writeUInt32BE(n.hi32,r),t.writeUInt32BE(n.lo32,r+4),8}}class R extends e{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const r=e.readUInt32LE(t);return d(e.readInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);const n=l(e);return t.writeUInt32LE(n.lo32,r),t.writeInt32LE(n.hi32,r+4),8}}class f extends e{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);return d(e.readInt32BE(t),e.readUInt32BE(t+4))}encode(e,t,r){void 0===r&&(r=0);const n=l(e);return t.writeInt32BE(n.hi32,r),t.writeUInt32BE(n.lo32,r+4),8}}class p extends e{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatLE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeFloatLE(e,r),4}}class E extends e{constructor(e){super(4,e)}decode(e,t){return void 0===t&&(t=0),e.readFloatBE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeFloatBE(e,r),4}}class y extends e{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleLE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeDoubleLE(e,r),8}}class T extends e{constructor(e){super(8,e)}decode(e,t){return void 0===t&&(t=0),e.readDoubleBE(t)}encode(e,t,r){return void 0===r&&(r=0),t.writeDoubleBE(e,r),8}}class A extends e{constructor(t,n,o){if(!(t instanceof e))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof r&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(n instanceof r)&&0<t.span&&(s=n*t.span),super(s,o),this.elementLayout=t,this.count=n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let n=0,o=this.count;if(o instanceof r&&(o=o.decode(e,t)),0<this.elementLayout.span)n=o*this.elementLayout.span;else{let r=0;for(;r<o;)n+=this.elementLayout.getSpan(e,t+n),++r}return n}decode(e,t){void 0===t&&(t=0);const n=[];let o=0,s=this.count;for(s instanceof r&&(s=s.decode(e,t));o<s;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),o+=1;return n}encode(e,t,n){void 0===n&&(n=0);const o=this.elementLayout,s=e.reduce((e,r)=>e+o.encode(r,t,n+e),0);return this.count instanceof r&&this.count.encode(e.length,t,n),s}}class g extends e{constructor(t,r,n){if(!Array.isArray(t)||!t.reduce((t,r)=>t&&r instanceof e,!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof r&&void 0===n&&(n=r,r=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=t.reduce((e,t)=>e+t.getSpan(),0)}catch(s){}super(o,r),this.fields=t,this.decodePrefixes=!!n}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;try{r=this.fields.reduce((r,n)=>{const o=n.getSpan(e,t);return t+=o,r+o},0)}catch(n){throw new RangeError("indeterminate span")}return r}decode(e,t){void 0===t&&(t=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){void 0===r&&(r=0);const n=r;let o=0,s=0;for(const i of this.fields){let n=i.span;if(s=0<n?n:0,void 0!==i.property){const o=e[i.property];void 0!==o&&(s=i.encode(o,t,r),0>n&&(n=i.getSpan(t,r)))}o=r,r+=n}return o+s-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class w{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class I extends w{constructor(e,t){if(!(e instanceof r&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class C extends e{constructor(t,n,a){const c=t instanceof s||t instanceof i;if(c)t=new I(new o(t));else if(t instanceof r&&t.isCount())t=new I(t);else if(!(t instanceof w))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===n&&(n=null),!(null===n||n instanceof e))throw new TypeError("defaultLayout must be null or a Layout");if(null!==n){if(0>n.span)throw new Error("defaultLayout must have constant span");void 0===n.property&&(n=n.replicate("content"))}let u=-1;n&&(u=n.span,0<=u&&c&&(u+=t.layout.span)),super(u,a),this.discriminator=t,this.usesPrefixDiscriminator=c,this.defaultLayout=n,this.registry={};let l=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return l(e)},this.configGetSourceVariant=function(e){l=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){let r;void 0===t&&(t=0);const n=this.discriminator,o=n.decode(e,t);let s=this.registry[o];if(void 0===s){let i=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(i=n.layout.span),r=this.makeDestinationObject(),r[n.property]=o,r[s.property]=this.defaultLayout.decode(e,t+i)}else r=s.decode(e,t);return r}encode(e,t,r){void 0===r&&(r=0);const n=this.getSourceVariant(e);if(void 0===n){const n=this.discriminator,o=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=n.layout.span),n.encode(e[n.property],t,r),s+o.encode(e[o.property],t,r+s)}return n.encode(e,t,r)}addVariant(e,t,r){const n=new S(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t){let r=e;return Buffer.isBuffer(e)&&(void 0===t&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class S extends e{constructor(t,r,n,o){if(!(t instanceof C))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===o&&(o=n,n=null),n){if(!(n instanceof e))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof o)throw new TypeError("variant must have a String property")}let s=t.span;0>t.span&&(s=n?n.span:0,0<=s&&t.usesPrefixDiscriminator&&(s+=t.discriminator.layout.span)),super(s,o),this.union=t,this.variant=r,this.layout=n||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let o=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),o+=this.layout.getSpan(t,r+n),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function b(e){return 0>e&&(e+=4294967296),e}class m extends e{constructor(e,t,r){if(!(e instanceof s||e instanceof i))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===r&&(r=t,t=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=b(e),this},this._packedGetValue=function(){return n}}decode(e,t){const r=this.makeDestinationObject();void 0===t&&(t=0);const n=this.word.decode(e,t);this._packedSetValue(n);for(const o of this.fields)void 0!==o.property&&(r[o.property]=o.decode(n));return r}encode(e,t,r){void 0===r&&(r=0);const n=this.word.decode(t,r);this._packedSetValue(n);for(const o of this.fields)if(void 0!==o.property){const t=e[o.property];void 0!==t&&o.encode(t)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new v(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new D(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class v{constructor(e,t,r){if(!(e instanceof m))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const n=8*e.span,o=e.fields.reduce((e,t)=>e+t.bits,0);if(t+o>n)throw new Error("bits too long for span remainder ("+(n-o)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=n-o-t),this.wordMask=b(this.valueMask<<this.start),this.property=r}decode(){return b(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==b(e&this.valueMask))throw new TypeError(t("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=b(e<<this.start);this.container._packedSetValue(b(r&~this.wordMask)|n)}}class D extends v{constructor(e,t){super(e,1,t)}decode(e,t){return!!v.prototype.decode.call(this,e,t)}encode(e){return"boolean"==typeof e&&(e=+e),v.prototype.encode.call(this,e)}}class L extends e{constructor(e,t){if(!(e instanceof r&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof r||(n=e),super(n,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){void 0===t&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,n,o){let s=this.length;if(this.length instanceof r&&(s=e.length),!Buffer.isBuffer(e)||s!==e.length)throw new TypeError(t("Blob.encode",this)+" requires (length "+s+") Buffer as src");if(o+s>n.length)throw new RangeError("encoding overruns Buffer");return n.write(e.toString("hex"),o,s,"hex"),this.length instanceof r&&this.length.encode(s,n,o),s}}class U extends e{constructor(e){super(-1,e)}getSpan(e,t){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");void 0===t&&(t=0);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e,t,r){void 0===t&&(t=0);let n=this.getSpan(e,t);return e.slice(t,t+n-1).toString("utf-8")}encode(e,t,r){void 0===r&&(r=0),"string"!=typeof e&&(e=e.toString());const n=new Buffer(e,"utf8"),o=n.length;if(r+o>t.length)throw new RangeError("encoding overruns Buffer");return n.copy(t,r),t[r+o]=0,o+1}}class x extends e{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return void 0===t&&(t=0),e.length-t}decode(e,t,r){void 0===t&&(t=0);let n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return e.slice(t,t+n).toString("utf-8")}encode(e,t,r){void 0===r&&(r=0),"string"!=typeof e&&(e=e.toString());const n=new Buffer(e,"utf8"),o=n.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>t.length)throw new RangeError("encoding overruns Buffer");return n.copy(t,r),o}}class H extends e{constructor(e,t){super(0,t),this.value=e}decode(e,t,r){return this.value}encode(e,t,r){return 0}}return N.ExternalLayout=r,N.GreedyCount=n,N.OffsetLayout=o,N.UInt=s,N.UIntBE=i,N.Int=a,N.IntBE=c,N.Float=p,N.FloatBE=E,N.Double=y,N.DoubleBE=T,N.Sequence=A,N.Structure=g,N.UnionDiscriminator=w,N.UnionLayoutDiscriminator=I,N.Union=C,N.VariantLayout=S,N.BitStructure=m,N.BitField=v,N.Boolean=D,N.Blob=L,N.CString=U,N.UTF8=x,N.Constant=H,N.greedy=(e,t)=>new n(e,t),N.offset=(e,t,r)=>new o(e,t,r),N.u8=e=>new s(1,e),N.u16=e=>new s(2,e),N.u24=e=>new s(3,e),N.u32=e=>new s(4,e),N.u40=e=>new s(5,e),N.u48=e=>new s(6,e),N.nu64=e=>new _(e),N.u16be=e=>new i(2,e),N.u24be=e=>new i(3,e),N.u32be=e=>new i(4,e),N.u40be=e=>new i(5,e),N.u48be=e=>new i(6,e),N.nu64be=e=>new h(e),N.s8=e=>new a(1,e),N.s16=e=>new a(2,e),N.s24=e=>new a(3,e),N.s32=e=>new a(4,e),N.s40=e=>new a(5,e),N.s48=e=>new a(6,e),N.ns64=e=>new R(e),N.s16be=e=>new c(2,e),N.s24be=e=>new c(3,e),N.s32be=e=>new c(4,e),N.s40be=e=>new c(5,e),N.s48be=e=>new c(6,e),N.ns64be=e=>new f(e),N.f32=e=>new p(e),N.f32be=e=>new E(e),N.f64=e=>new y(e),N.f64be=e=>new T(e),N.struct=(e,t,r)=>new g(e,t,r),N.bits=(e,t,r)=>new m(e,t,r),N.seq=(e,t,r)=>new A(e,t,r),N.union=(e,t,r)=>new C(e,t,r),N.unionLayoutDiscriminator=(e,t)=>new I(e,t),N.blob=(e,t)=>new L(e,t),N.cstr=e=>new U(e),N.utf8=(e,t)=>new x(e,t),N.const=(e,t)=>new H(e,t),N}const A=f(e);var g;var w=(g||(g=1,function(e){var r=y&&y.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.struct=e.f64=e.f32=e.i32=e.u32=e.i16=e.u16=e.i8=e.u8=void 0,e.u64=c,e.i64=function(e){return new a(8,!0,e)},e.u128=function(e){return new a(16,!1,e)},e.i128=function(e){return new a(16,!0,e)},e.u256=function(e){return new a(32,!1,e)},e.i256=function(e){return new a(32,!0,e)},e.publicKey=function(e){return new u((0,n.blob)(32),e=>new o.PublicKey(e),e=>e.toBuffer(),e)},e.option=function(e,t){return new l(e,t)},e.bool=function(e){return new u((0,n.u8)(),d,_,e)},e.vec=function(e,t){const r=(0,n.u32)("length"),o=(0,n.struct)([r,(0,n.seq)(e,(0,n.offset)(r,-r.span),"values")]);return new u(o,({values:e})=>e,e=>({values:e}),t)},e.tagged=function(e,t,r){const o=(0,n.struct)([c("tag"),t.replicate("data")]);return new u(o,function({tag:t,data:r}){if(!t.eq(e))throw new Error("Invalid tag, expected: "+e.toString("hex")+", got: "+t.toString("hex"));return r},t=>({tag:e,data:t}),r)},e.vecU8=h,e.str=function(e){return new u(h(),e=>e.toString("utf-8"),e=>Buffer.from(e,"utf-8"),e)},e.rustEnum=function(e,t,r){const o=(0,n.union)(null!=r?r:(0,n.u8)(),t);return e.forEach((e,t)=>o.addVariant(t,e,e.property)),o},e.array=function(e,t,r){const o=(0,n.struct)([(0,n.seq)(e,t,"values")]);return new u(o,({values:e})=>e,e=>({values:e}),r)},e.map=function(e,t,r){const o=(0,n.u32)("length"),s=(0,n.struct)([o,(0,n.seq)(new R(e,t),(0,n.offset)(o,-o.span),"values")]);return new u(s,({values:e})=>new Map(e),e=>({values:Array.from(e.entries())}),r)};const n=T(),o=A,s=r(t());var i=T();Object.defineProperty(e,"u8",{enumerable:!0,get:function(){return i.u8}}),Object.defineProperty(e,"i8",{enumerable:!0,get:function(){return i.s8}}),Object.defineProperty(e,"u16",{enumerable:!0,get:function(){return i.u16}}),Object.defineProperty(e,"i16",{enumerable:!0,get:function(){return i.s16}}),Object.defineProperty(e,"u32",{enumerable:!0,get:function(){return i.u32}}),Object.defineProperty(e,"i32",{enumerable:!0,get:function(){return i.s32}}),Object.defineProperty(e,"f32",{enumerable:!0,get:function(){return i.f32}}),Object.defineProperty(e,"f64",{enumerable:!0,get:function(){return i.f64}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return i.struct}});class a extends n.Layout{constructor(e,t,r){super(e,r),this.blob=(0,n.blob)(e),this.signed=t}decode(e,t=0){const r=new s.default(this.blob.decode(e,t),10,"le");return this.signed?r.fromTwos(8*this.span).clone():r}encode(e,t,r=0){return this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(Buffer,"le",this.span),t,r)}}function c(e){return new a(8,!1,e)}class u extends n.Layout{constructor(e,t,r,n){super(e.span,n),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class l extends n.Layout{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=(0,n.u8)()}encode(e,t,r=0){return null==e?this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+1)+1)}decode(e,t=0){const r=this.discriminator.decode(e,t);if(0===r)return null;if(1===r)return this.layout.decode(e,t+1);throw new Error("Invalid option "+this.property)}getSpan(e,t=0){const r=this.discriminator.decode(e,t);if(0===r)return 1;if(1===r)return this.layout.getSpan(e,t+1)+1;throw new Error("Invalid option "+this.property)}}function d(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}function _(e){return e?1:0}function h(e){const t=(0,n.u32)("length"),r=(0,n.struct)([t,(0,n.blob)((0,n.offset)(t,-t.span),"data")]);return new u(r,({data:e})=>e,e=>({data:e}),e)}class R extends n.Layout{constructor(e,t,r){super(e.span+t.span,r),this.keyLayout=e,this.valueLayout=t}decode(e,t){return t=t||0,[this.keyLayout.decode(e,t),this.valueLayout.decode(e,t+this.keyLayout.getSpan(e,t))]}encode(e,t,r){r=r||0;const n=this.keyLayout.encode(e[0],t,r);return n+this.valueLayout.encode(e[1],t,r+n)}getSpan(e,t){return this.keyLayout.getSpan(e,t)+this.valueLayout.getSpan(e,t)}}}(y)),y);
/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */function I(e){let t=e.length;for(;--t>=0;)e[t]=0}I(new Array(576));I(new Array(60));I(new Array(512));I(new Array(256));I(new Array(29));I(new Array(30));try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(We){}const C=new Uint8Array(256);for(let je=0;je<256;je++)C[je]=je>=252?6:je>=248?5:je>=240?4:je>=224?3:je>=192?2:1;C[254]=C[254]=1;var S,b={exports:{}};S||(S=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new o(n,s||e,i),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,o=[];if(0===this._eventsCount)return o;for(n in e=this._events)t.call(e,n)&&o.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,s=n.length,i=new Array(s);o<s;o++)i[o]=n[o].fn;return i},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,o,s,i){var a=r?r+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,o),!0;case 5:return l.fn.call(l.context,t,n,o,s),!0;case 6:return l.fn.call(l.context,t,n,o,s,i),!0}for(u=1,c=new Array(d-1);u<d;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var _,h=l.length;for(u=0;u<h;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),d){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,o);break;default:if(!c)for(_=1,c=new Array(d-1);_<d;_++)c[_-1]=arguments[_];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,o){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return i(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||o&&!a.once||n&&a.context!==n||i(this,s);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||o&&!a[c].once||n&&a[c].context!==n)&&u.push(a[c]);u.length?this._events[s]=1===u.length?u[0]:u:i(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&i(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a}(b)),w.struct([w.publicKey("authority"),w.vecU8("data")]);class m extends TypeError{constructor(e,t){let r;const{message:n,...o}=e,{path:s}=e;super(0===s.length?n:"At path: "+s.join(".")+" -- "+n),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var n;return null!=(n=r)?n:r=[e,...t()]}}}function v(e){return"object"==typeof e&&null!=e}function D(e){return"string"==typeof e?JSON.stringify(e):""+e}function L(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:o,branch:s}=t,{type:i}=r,{refinement:a,message:c="Expected a value of type `"+i+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+D(n)+"`"}=e;return{value:n,type:i,refinement:a,key:o[o.length-1],path:o,branch:s,...e,message:c}}function*U(e,t,r,n){var o;v(o=e)&&"function"==typeof o[Symbol.iterator]||(e=[e]);for(const s of e){const e=L(s,t,r,n);e&&(yield e)}}function*x(e,t,r){void 0===r&&(r={});const{path:n=[],branch:o=[e],coerce:s=!1,mask:i=!1}=r,a={path:n,branch:o};if(s&&(e=t.coercer(e,a),i&&"type"!==t.type&&v(t.schema)&&v(e)&&!Array.isArray(e)))for(const u in e)void 0===t.schema[u]&&delete e[u];let c=!0;for(const u of t.validator(e,a))c=!1,yield[u,void 0];for(let[u,l,d]of t.entries(e,a)){const t=x(l,d,{path:void 0===u?n:[...n,u],branch:void 0===u?o:[...o,l],coerce:s,mask:i});for(const r of t)r[0]?(c=!1,yield[r[0],void 0]):s&&(l=r[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):v(e)&&(e[u]=l))}if(c)for(const u of t.refiner(e,a))c=!1,yield[u,void 0];c&&(yield[void 0,e])}class H{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:r,validator:n,refiner:o,coercer:s=e=>e,entries:i=function*(){}}=e;this.type=t,this.schema=r,this.entries=i,this.coercer=s,this.validator=n?(e,t)=>U(n(e,t),t,this,e):()=>[],this.refiner=o?(e,t)=>U(o(e,t),t,this,e):()=>[]}assert(e){return function(e,t){const r=B(e,t);if(r[0])throw r[0]}(e,this)}create(e){return P(e,this)}is(e){return M(e,this)}mask(e){return function(e,t){const r=B(e,t,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}(e,this)}validate(e,t){return void 0===t&&(t={}),B(e,this,t)}}function P(e,t){const r=B(e,t,{coerce:!0});if(r[0])throw r[0];return r[1]}function M(e,t){return!B(e,t)[0]}function B(e,t,r){void 0===r&&(r={});const n=x(e,t,r),o=function(e){const{done:t,value:r}=e.next();return t?void 0:r}(n);if(o[0]){return[new m(o[0],function*(){for(const e of n)e[0]&&(yield e[0])}),void 0]}return[void 0,o[1]]}function k(e,t){return new H({type:e,schema:null,validator:t})}function G(e){return new H({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+D(e)})}function V(e){const t=D(e);return new H({type:"literal",schema:e,validator:r=>r===e||"Expected the literal `"+t+"`, but received: "+D(r)})}function W(e){return new H({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function j(){return k("number",e=>"number"==typeof e&&!isNaN(e)||"Expected a number, but received: "+D(e))}function K(e){return new H({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function F(){return k("string",e=>"string"==typeof e||"Expected a string, but received: "+D(e))}function X(e){const t=Object.keys(e);return new H({type:"type",schema:e,*entries(r){if(v(r))for(const n of t)yield[n,r[n],e[n]]},validator:e=>v(e)||"Expected an object, but received: "+D(e)})}function Y(e){const t=e.map(e=>e.type).join(" | ");return new H({type:"union",schema:null,coercer:(t,r)=>(e.find(e=>{const[r]=e.validate(t,{coerce:!0});return!r})||Q()).coercer(t,r),validator(r,n){const o=[];for(const t of e){const[...e]=x(r,t,n),[s]=e;if(!s[0])return[];for(const[t]of e)t&&o.push(t)}return["Expected the value to satisfy a union of `"+t+"`, but received: "+D(r),...o]}})}function Q(){return k("unknown",()=>!0)}function q(e){return t=Z(e),r=z,n=t=>"error"in t?t:{...t,result:P(t.result,e)},new H({...t,coercer:(e,o)=>M(e,r)?t.coercer(n(e,o),o):t.coercer(e,o)});var t,r,n}const z=Z(Q());function Z(e){return Y([X({jsonrpc:V("2.0"),id:F(),result:e}),X({jsonrpc:V("2.0"),id:F(),error:X({code:Q(),message:F(),data:K(k("any",()=>!0))})})])}var $;$=X({err:W(Y([X({}),F()])),logs:W(G(F())),accounts:K(W(G(W(X({executable:k("boolean",e=>"boolean"==typeof e),owner:F(),lamports:j(),data:G(F()),rentEpoch:K(j())}))))),unitsConsumed:K(j())}),q(X({context:X({slot:j()}),value:$}));var J="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},ee={};Object.defineProperty(ee,"__esModule",{value:!0}),ee.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=ee.ANCHOR_ERROR__REQUIRE_VIOLATED=ee.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=ee.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=ee.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=ee.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=ee.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=ee.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=ee.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=ee.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=ee.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=ee.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=ee.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=ee.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=ee.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=ee.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=ee.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=ee.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=ee.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=ee.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=ee.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=ee.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=ee.ANCHOR_ERROR__CONSTRAINT_SPACE=ee.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=ee.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=ee.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=ee.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=ee.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=ee.ANCHOR_ERROR__CONSTRAINT_ZERO=ee.ANCHOR_ERROR__CONSTRAINT_ADDRESS=ee.ANCHOR_ERROR__CONSTRAINT_CLOSE=ee.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=ee.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=ee.ANCHOR_ERROR__CONSTRAINT_STATE=ee.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=ee.ANCHOR_ERROR__CONSTRAINT_SEEDS=ee.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=ee.ANCHOR_ERROR__CONSTRAINT_OWNER=ee.ANCHOR_ERROR__CONSTRAINT_RAW=ee.ANCHOR_ERROR__CONSTRAINT_SIGNER=ee.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=ee.ANCHOR_ERROR__CONSTRAINT_MUT=ee.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=ee.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=ee.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=ee.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=ee.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=ee.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=ee.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=ee.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,ee.ANCHOR_ERROR__DEPRECATED=ee.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=ee.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=ee.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=ee.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=ee.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=ee.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=ee.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=ee.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=ee.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=ee.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=ee.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=ee.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=ee.ANCHOR_ERROR__INVALID_PROGRAM_ID=ee.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=ee.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=ee.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=ee.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=ee.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=ee.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=ee.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=ee.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=ee.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=ee.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=ee.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=ee.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=ee.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,ee.ANCHOR_ERROR__INSTRUCTION_MISSING=100,ee.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,ee.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,ee.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,ee.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,ee.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,ee.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,ee.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,ee.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,ee.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,ee.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,ee.ANCHOR_ERROR__CONSTRAINT_RAW=2003,ee.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,ee.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,ee.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,ee.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,ee.ANCHOR_ERROR__CONSTRAINT_STATE=2008,ee.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,ee.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,ee.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,ee.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,ee.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,ee.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,ee.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,ee.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,ee.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,ee.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,ee.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,ee.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,ee.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,ee.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,ee.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,ee.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,ee.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,ee.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,ee.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,ee.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,ee.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,ee.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,ee.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,ee.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,ee.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,ee.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,ee.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,ee.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,ee.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,ee.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,ee.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,ee.ANCHOR_ERROR__REQUIRE_VIOLATED=2500,ee.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501,ee.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,ee.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,ee.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,ee.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,ee.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,ee.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,ee.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,ee.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,ee.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,ee.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,ee.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,ee.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,ee.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,ee.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,ee.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,ee.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,ee.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,ee.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,ee.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,ee.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,ee.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,ee.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,ee.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,ee.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,ee.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,ee.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102,ee.ANCHOR_ERROR__DEPRECATED=5e3;class te{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var re=te;class ne extends te{isCount(){throw new Error("ExternalLayout is abstract")}}class oe extends ne{constructor(e,t,r){if(!(e instanceof te))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof se||this.layout instanceof ie}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return void 0===r&&(r=0),this.layout.encode(e,t,r+this.offset)}}class se extends te{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class ie extends te{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}const ae=Math.pow(2,32);function ce(e){const t=Math.floor(e/ae);return{hi32:t,lo32:e-t*ae}}function ue(e,t){return e*ae+t}class le extends te{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const r=e.readUInt32LE(t);return ue(e.readUInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);const n=ce(e);return t.writeUInt32LE(n.lo32,r),t.writeUInt32LE(n.hi32,r+4),8}}class de extends te{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const r=e.readUInt32LE(t);return ue(e.readInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);const n=ce(e);return t.writeUInt32LE(n.lo32,r),t.writeInt32LE(n.hi32,r+4),8}}class _e extends te{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce((e,t)=>e&&t instanceof te,!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===r&&(r=t,t=void 0);for(const s of e)if(0>s.span&&void 0===s.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce((e,t)=>e+t.getSpan(),0)}catch(o){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;try{r=this.fields.reduce((r,n)=>{const o=n.getSpan(e,t);return t+=o,r+o},0)}catch(n){throw new RangeError("indeterminate span")}return r}decode(e,t){void 0===t&&(t=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){void 0===r&&(r=0);const n=r;let o=0,s=0;for(const i of this.fields){let n=i.span;if(s=0<n?n:0,void 0!==i.property){const o=e[i.property];void 0!==o&&(s=i.encode(o,t,r),0>n&&(n=i.getSpan(t,r)))}o=r,r+=n}return o+s-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class he{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Re extends he{constructor(e,t){if(!(e instanceof ne&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class fe extends te{constructor(e,t,r){const n=e instanceof se||e instanceof ie;if(n)e=new Re(new oe(e));else if(e instanceof ne&&e.isCount())e=new Re(e);else if(!(e instanceof he))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof te))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let o=-1;t&&(o=t.span,0<=o&&n&&(o+=e.layout.span)),super(o,r),this.discriminator=e,this.usesPrefixDiscriminator=n,this.defaultLayout=t,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return s(e)},this.configGetSourceVariant=function(e){s=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){let r;void 0===t&&(t=0);const n=this.discriminator,o=n.decode(e,t);let s=this.registry[o];if(void 0===s){let i=0;s=this.defaultLayout,this.usesPrefixDiscriminator&&(i=n.layout.span),r=this.makeDestinationObject(),r[n.property]=o,r[s.property]=this.defaultLayout.decode(e,t+i)}else r=s.decode(e,t);return r}encode(e,t,r){void 0===r&&(r=0);const n=this.getSourceVariant(e);if(void 0===n){const n=this.discriminator,o=this.defaultLayout;let s=0;return this.usesPrefixDiscriminator&&(s=n.layout.span),n.encode(e[n.property],t,r),s+o.encode(e[o.property],t,r+s)}return n.encode(e,t,r)}addVariant(e,t,r){const n=new pe(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t){let r=e;return Buffer.isBuffer(e)&&(void 0===t&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class pe extends te{constructor(e,t,r,n){if(!(e instanceof fe))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof te))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof n)throw new TypeError("variant must have a String property")}let o=e.span;0>e.span&&(o=r?r.span:0,0<=o&&e.usesPrefixDiscriminator&&(o+=e.discriminator.layout.span)),super(o,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let o=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),o+=this.layout.getSpan(t,r+n),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class Ee extends te{constructor(e,t){if(!(e instanceof ne&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ne||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){void 0===t&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof ne&&(n=e.length),!Buffer.isBuffer(e)||n!==e.length)throw new TypeError((o="Blob.encode",((s=this).property?o+"["+s.property+"]":o)+" requires (length "+n+") Buffer as src"));var o,s;if(r+n>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,n,"hex"),this.length instanceof ne&&this.length.encode(n,t,r),n}}var Oe=(e,t,r)=>new oe(e,t,r),ye=e=>new se(4,e),Ne=e=>new de(e),Te=(e,t,r)=>new _e(e,t,r),Ae=(e,t,r)=>new fe(e,t,r),ge=(e,t)=>new Ee(e,t);class we extends re{constructor(e){super(-1,e),this.property=e,this.layout=Te([ye("length"),ye("lengthPadding"),ge(Oe(ye(),-8),"chars")],this.property)}encode(e,t,r=0){if(null==e)return this.layout.span;const n={chars:Buffer.from(e,"utf8")};return this.layout.encode(n,t,r)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return ye().span+ye().span+new n(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function Ie(e){return new we(e)}function Ce(e){return ge(32,e)}const Se=Ae(ye("instruction"));Se.addVariant(0,Te([Ne("lamports"),Ne("space"),Ce("owner")]),"createAccount"),Se.addVariant(1,Te([Ce("owner")]),"assign"),Se.addVariant(2,Te([Ne("lamports")]),"transfer"),Se.addVariant(3,Te([Ce("base"),Ie("seed"),Ne("lamports"),Ne("space"),Ce("owner")]),"createAccountWithSeed"),Se.addVariant(4,Te([Ce("authorized")]),"advanceNonceAccount"),Se.addVariant(5,Te([Ne("lamports")]),"withdrawNonceAccount"),Se.addVariant(6,Te([Ce("authorized")]),"initializeNonceAccount"),Se.addVariant(7,Te([Ce("authorized")]),"authorizeNonceAccount"),Se.addVariant(8,Te([Ne("space")]),"allocate"),Se.addVariant(9,Te([Ce("base"),Ie("seed"),Ne("space"),Ce("owner")]),"allocateWithSeed"),Se.addVariant(10,Te([Ce("base"),Ie("seed"),Ce("owner")]),"assignWithSeed"),Se.addVariant(11,Te([Ne("lamports"),Ie("seed"),Ce("owner")]),"transferWithSeed"),Math.max(...Object.values(Se.registry).map(e=>e.span));class be extends re{constructor(e,t,r,n){super(e.span,n),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}function me(e){return new be(ge(32),e=>new r(e),e=>e.toBuffer(),e)}var ve;Te([ye("version"),ye("state"),me("authorizedPubkey"),me("nonce"),Te([(ve="lamportsPerSignature",new le(ve))],"feeCalculator")]),new r("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),new r("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var De={exports:{}};function Le(e){return new He(ge(8),e=>Me.fromBuffer(e),e=>e.toBuffer(),e)}function Ue(e){return new He(ge(32),e=>new r(e),e=>e.toBuffer(),e)}function xe(e,t){return new Pe(e,t)}!function(e,t){var r,n="undefined"!=typeof self?self:J,o=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();r=o,function(e){var t="URLSearchParams"in r,n="Symbol"in r&&"iterator"in Symbol,o="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in r,i="ArrayBuffer"in r;if(i)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function _(e){this.map={},e instanceof _?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function R(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function f(e){var t=new FileReader,r=R(t);return t.readAsArrayBuffer(e),r}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(e){var r;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i&&o&&(r=e)&&DataView.prototype.isPrototypeOf(r)?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var e,t,r,n=h(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=R(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(N)}),this.json=function(){return this.text().then(JSON.parse)},this}_.prototype.append=function(e,t){e=u(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},_.prototype.delete=function(e){delete this.map[u(e)]},_.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},_.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},_.prototype.set=function(e,t){this.map[u(e)]=l(t)},_.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},_.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),d(e)},_.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),d(e)},_.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),d(e)},n&&(_.prototype[Symbol.iterator]=_.prototype.entries);var O=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function y(e,t){var r,n,o=(t=t||{}).body;if(e instanceof y){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new _(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new _(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),O.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function N(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function T(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new _(t.headers),this.url=t.url||"",this._initBody(e)}y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},E.call(y.prototype),E.call(T.prototype),T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},T.error=function(){var e=new T(null,{status:0,statusText:""});return e.type="error",e};var A=[301,302,303,307,308];T.redirect=function(e,t){if(-1===A.indexOf(t))throw new RangeError("Invalid status code");return new T(null,{status:t,headers:{location:e}})},e.DOMException=r.DOMException;try{new e.DOMException}catch(w){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function g(t,r){return new Promise(function(n,s){var i=new y(t,r);if(i.signal&&i.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new _,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}}),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;n(new T(o,r))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new e.DOMException("Aborted","AbortError"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),i.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),i.signal&&(i.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",c)}),a.send(void 0===i._bodyInit?null:i._bodyInit)})}g.polyfill=!0,r.fetch||(r.fetch=g,r.Headers=_,r.Request=y,r.Response=T),e.Headers=_,e.Request=y,e.Response=T,e.fetch=g,Object.defineProperty(e,"__esModule",{value:!0})}({}),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var s=o;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t}(De,De.exports),w.rustEnum([w.struct([],"uninitialized"),w.struct([w.option(w.publicKey(),"authorityAddress")],"buffer"),w.struct([w.publicKey("programdataAddress")],"program"),w.struct([w.u64("slot"),w.option(w.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,w.u32());class He extends re{constructor(e,t,r,n){super(e.span,n),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class Pe extends re{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=ye()}encode(e,t,r=0){return null==e?this.layout.span+this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+4)+4)}decode(e,t=0){const r=this.discriminator.decode(e,t);if(0===r)return null;if(1===r)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}class Me extends n{toBuffer(){const e=super.toArray().reverse(),t=Buffer.from(e);if(8===t.length)return t;if(t.length>=8)throw new Error("u64 too large");const r=Buffer.alloc(8);return t.copy(r),r}static fromBuffer(e){if(8!==e.length)throw new Error(`Invalid buffer length: ${e.length}`);return new Me([...e].reverse().map(e=>`00${e.toString(16)}`.slice(-2)).join(""),16)}}async function Be(e,t){const[n]=r.findProgramAddressSync([R.ADMIN],_),[o]=r.findProgramAddressSync([R.CHALLENGE,e.toBuffer(),t.toBuffer()],_),[s]=r.findProgramAddressSync([R.ESCROW_WALLET],_),[a]=r.findProgramAddressSync([R.ESCROW_WALLET,o.toBuffer(),i.toBuffer()],_);return{adminStatePDA:n,challengePDA:o,escrowWalletPDA:s,escrowTokenAccountPDA:a}}async function ke(e,t,R){if(console.log(" Creating challenge on smart contract..."),console.log(`Entry fee: ${R} USDFG`),!e||!e.publicKey)throw new Error("Wallet not connected");if(console.log(` Wallet connected: ${e.publicKey.toString()}`),R<.001||R>999999999)throw new Error("Entry fee must be between 0.001 and 999,999,999 USDFG");if(console.log(` Entry fee valid: ${R} USDFG`),!e.signTransaction)throw new Error("Wallet does not support transaction signing");console.log(" Wallet has signTransaction method"),console.log(" Smart contract ready for player-consensus challenges"),console.log(" Creating challenge with USDFG amounts..."),console.log(" Step 1: Preparing transaction (bypassing Anchor)...");const f=new r(e.publicKey.toString());console.log(` Creator: ${f.toString()}`),console.log(" Step 2: Generating challenge seed...");const p=o.generate();console.log(` Challenge seed: ${p.publicKey.toString()}`),console.log(" Step 3: Deriving PDAs...");const E=await Be(f,p.publicKey);console.log(` Challenge PDA: ${E.challengePDA.toString()}`),console.log(" Step 4: Getting token account...");const O=await s(i,f);console.log(` Token account: ${O.toString()}`),console.log(" Entry fee (raw USDFG):",R);const y=Math.floor(R*Math.pow(10,9)),N=new n(y);console.log(" Entry fee in lamports:",y),console.log(" Created BN:",N.toString());const{sha256:T}=await a(async()=>{const{sha256:e}=await import("./sha2-DynuV8lm.js");return{sha256:e}},[]),A=T((new TextEncoder).encode("global:create_challenge")),g=Buffer.from(A.slice(0,8)),w=Buffer.alloc(16);g.copy(w,0),N.toArrayLike(Buffer,"le",8).copy(w,8),console.log(" Instruction data created","Discriminator:",g.toString("hex")),console.log(" Creating instruction with NEW smart contract (oracle-free)..."),console.log(" Escrow Token Account PDA:",E.escrowTokenAccountPDA.toString()),console.log(" Challenge PDA:",E.challengePDA.toString()),console.log(" Escrow Wallet PDA:",E.escrowWalletPDA.toString());const I=new c({programId:_,keys:[{pubkey:E.challengePDA,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!0,isWritable:!0},{pubkey:O,isSigner:!1,isWritable:!0},{pubkey:E.escrowTokenAccountPDA,isSigner:!1,isWritable:!0},{pubkey:E.escrowWalletPDA,isSigner:!1,isWritable:!1},{pubkey:p.publicKey,isSigner:!0,isWritable:!1},{pubkey:u.programId,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1}],data:w});console.log(" Instruction created"),console.log(" Signing transaction...");const C=(new h).add(I),{blockhash:S}=await t.getLatestBlockhash();C.recentBlockhash=S,C.feePayer=f,console.log(" Sending transaction..."),C.partialSign(p);const b=await e.signTransaction(C);let m;try{m=await t.sendRawTransaction(b.serialize(),{skipPreflight:!1,maxRetries:0}),console.log(" Transaction sent:",m)}catch(v){if(v.message?.includes("This transaction has already been processed")||v.message?.includes("already been processed"))return console.log(" Transaction already processed - challenge likely created successfully"),console.log(` Challenge PDA: ${E.challengePDA.toString()}`),E.challengePDA.toString();throw v}console.log(" Confirming transaction...");try{await t.confirmTransaction(m,"confirmed")}catch(D){if(console.log("  Confirmation warning:",D.message),!D.message?.includes("Transaction was not confirmed")&&!D.message?.includes("already been processed")&&!D.message?.includes("This transaction has already been processed"))throw D;console.log(" Transaction likely succeeded despite confirmation error")}return console.log(" Challenge created successfully!"),console.log(` Challenge PDA: ${E.challengePDA.toString()}`),console.log(` Transaction: https://explorer.solana.com/tx/${m}?cluster=devnet`),E.challengePDA.toString()}async function Ge(e,t,n){if(console.log(" Accepting challenge..."),!e||!e.publicKey)throw new Error("Wallet not connected");const o=new r(e.publicKey.toString()),u=new r(n),d=await s(i,o),[f]=r.findProgramAddressSync([R.ESCROW_WALLET],_),[p]=r.findProgramAddressSync([R.ESCROW_WALLET,u.toBuffer(),i.toBuffer()],_),{sha256:E}=await a(async()=>{const{sha256:e}=await import("./sha2-DynuV8lm.js");return{sha256:e}},[]),O=E((new TextEncoder).encode("global:accept_challenge")),y=Buffer.from(O.slice(0,8)),N=Buffer.alloc(8);y.copy(N,0);const T=new c({programId:_,keys:[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1}],data:N}),A=(new h).add(T),{blockhash:g}=await t.getLatestBlockhash();A.recentBlockhash=g,A.feePayer=o;const w=await e.signTransaction(A),I=await t.sendRawTransaction(w.serialize());return await t.confirmTransaction(I),console.log(" Challenge accepted successfully!"),I}async function Ve(e,t,n,o){if(console.log(" Resolving challenge and triggering payout..."),console.log("   Challenge PDA:",n),console.log("   Winner:",o),!e||!e.publicKey)throw new Error(" Wallet not connected");let u;try{u=new r(o)}catch{throw new Error(" Invalid winner address")}const d=new r(e.publicKey.toString()),f=new r(n);console.log(" Caller wallet verified:",d.toString());const p=new r("AcEV5t9TJdZP91ttbgKieWoWUxwUb4PT4MxvggDjjkkq");console.log(" Platform wallet:",p.toString());const[E]=r.findProgramAddressSync([R.ESCROW_WALLET],_),[O]=r.findProgramAddressSync([R.ESCROW_WALLET,f.toBuffer(),i.toBuffer()],_),y=await s(i,u),N=await s(i,p);console.log(" Derived accounts:"),console.log("   Platform Wallet:",p.toString()),console.log("   Escrow Wallet PDA:",E.toString()),console.log("   Escrow Token Account:",O.toString()),console.log("   Winner Token Account:",y.toString()),console.log("   Platform Token Account:",N.toString());const{sha256:T}=await a(async()=>{const{sha256:e}=await import("./sha2-DynuV8lm.js");return{sha256:e}},[]),A=T((new TextEncoder).encode("global:resolve_challenge")),g=Buffer.from(A.slice(0,8)),w=Buffer.alloc(72);g.copy(w,0),u.toBuffer().copy(w,8),d.toBuffer().copy(w,40),console.log(" Instruction data created"),console.log("   Discriminator:",g.toString("hex"));const I=new c({programId:_,keys:[{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:O,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:N,isSigner:!1,isWritable:!0},{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1}],data:w});console.log(" Instruction created with",I.keys.length,"accounts");const C=(new h).add(I),{blockhash:S}=await t.getLatestBlockhash();C.recentBlockhash=S,C.feePayer=d,console.log(" Signing transaction with caller wallet...");const b=await e.signTransaction(C);let m;console.log(" Sending transaction...");try{m=await t.sendRawTransaction(b.serialize(),{skipPreflight:!1,maxRetries:0}),console.log(" Transaction sent:",m)}catch(v){if(v.message?.includes("This transaction has already been processed")||v.message?.includes("already been processed"))return console.log(" Transaction already processed - prize likely claimed successfully"),console.log(" Winner received payout:",o),"already-processed";throw v}console.log(" Confirming transaction...");try{await t.confirmTransaction(m,"confirmed")}catch(D){if(console.log("  Confirmation warning:",D.message),!D.message?.includes("Transaction was not confirmed")&&!D.message?.includes("already been processed")&&!D.message?.includes("This transaction has already been processed"))throw D;console.log(" Transaction likely succeeded despite confirmation error")}return console.log(" Challenge resolved! Winner paid out!"),console.log(" Transaction:",`https://explorer.solana.com/tx/${m}?cluster=devnet`),console.log(" Winner received payout:",o),m}Te([Ue("mint"),Ue("owner"),Le("amount"),xe(Ue(),"delegate"),(()=>{const e=Ae((e=>new se(1,e))("discriminator"),null,"state");return e.addVariant(0,Te([]),"uninitialized"),e.addVariant(1,Te([]),"initialized"),e.addVariant(2,Te([]),"frozen"),e})(),xe(Le(),"isNative"),Le("delegatedAmount"),xe(Ue(),"closeAuthority")]),new r("11111111111111111111111111111111");export{Ge as acceptChallenge,ke as createChallenge,Be as derivePDAs,Ve as resolveChallenge};

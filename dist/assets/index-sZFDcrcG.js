import{j as e,V as t,R as n,A as r,C as s,T as i,D as a,P as o,S as l,a as c,b as u,c as d,d as h,e as f,f as m,I as p,g,h as y,i as b,k as x,l as v,L as w,m as S,n as k,o as N,p as j,q as E,r as _,s as C,t as T,u as A,v as I}from"./ui-CFeYaOeB.js";import{d as P,e as M,r as D,L as R,R as O,g as F,f as L,u as B,h as U,B as z,i as V,j as q}from"./vendor-CpVsKhXT.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var G,$,H,W,K={exports:{}},Q={},Y={exports:{}},X={};function J(){return $||($=1,Y.exports=(G||(G=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,p=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var s=n(c);null!==s;){if(null===s.callback)r(c);else{if(!(s.startTime<=e))break;r(c),s.sortIndex=s.expirationTime,t(l,s)}s=n(c)}}function w(e){if(p=!1,v(e),!m)if(null!==n(l))m=!0,k||(k=!0,S());else{var t=n(c);null!==t&&I(w,t.startTime-e)}}var S,k=!1,N=-1,j=5,E=-1;function _(){return!(!g&&e.unstable_now()-E<j)}function C(){if(g=!1,k){var t=e.unstable_now();E=t;var s=!0;try{e:{m=!1,p&&(p=!1,b(N),N=-1),f=!0;var i=h;try{t:{for(v(t),d=n(l);null!==d&&!(d.expirationTime>t&&_());){var a=d.callback;if("function"==typeof a){d.callback=null,h=d.priorityLevel;var o=a(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){d.callback=o,v(t),s=!0;break t}d===n(l)&&r(l),v(t)}else r(l);d=n(l)}if(null!==d)s=!0;else{var u=n(c);null!==u&&I(w,u.startTime-t),s=!1}}break e}finally{d=null,h=i,f=!1}s=void 0}}finally{s?S():k=!1}}}if("function"==typeof x)S=function(){x(C)};else if("undefined"!=typeof MessageChannel){var T=new MessageChannel,A=T.port2;T.port1.onmessage=C,S=function(){A.postMessage(null)}}else S=function(){y(C,0)};function I(t,n){N=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,s,i){var a=e.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:u++,callback:s,priorityLevel:r,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(r.sortIndex=i,t(c,r),null===n(l)&&r===n(c)&&(p?(b(N),N=-1):p=!0,I(w,i-a))):(r.sortIndex=o,t(l,r),m||f||(m=!0,k||(k=!0,S()))),r},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(X)),X)),Y.exports}function Z(){if(H)return Q;H=1;
/**
   * @license React
   * react-dom-client.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
var e=J(),t=P(),n=M();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function i(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function a(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function o(e){if(i(e)!==e)throw Error(r(188))}function l(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=l(e)))return t;e=e.sibling}return null}var c=Object.assign,u=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),b=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function _(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=E&&e[E]||e["@@iterator"])?e:null}var C=Symbol.for("react.client.reference");function T(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===C?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case f:return"Fragment";case p:return"Profiler";case m:return"StrictMode";case v:return"Suspense";case w:return"SuspenseList";case N:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case h:return"Portal";case b:return(e.displayName||"Context")+".Provider";case y:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:T(e.type)||"Memo";case k:t=e._payload,e=e._init;try{return T(e(t))}catch(n){}}return null}var A=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},O=[],F=-1;function L(e){return{current:e}}function B(e){0>F||(e.current=O[F],O[F]=null,F--)}function U(e,t){F++,O[F]=e.current,e.current=t}var z=L(null),V=L(null),q=L(null),G=L(null);function $(e,t){switch(U(q,t),U(V,e),U(z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(z),U(z,e)}function W(){B(z),B(V),B(q)}function K(e){null!==e.memoizedState&&U(G,e);var t=z.current,n=od(t,e.type);t!==n&&(U(V,e),U(z,n))}function Y(e){V.current===e&&(B(z),B(V)),G.current===e&&(B(G),Yd._currentValue=R)}var X=Object.prototype.hasOwnProperty,Z=e.unstable_scheduleCallback,ee=e.unstable_cancelCallback,te=e.unstable_shouldYield,ne=e.unstable_requestPaint,re=e.unstable_now,se=e.unstable_getCurrentPriorityLevel,ie=e.unstable_ImmediatePriority,ae=e.unstable_UserBlockingPriority,oe=e.unstable_NormalPriority,le=e.unstable_LowPriority,ce=e.unstable_IdlePriority,ue=e.log,de=e.unstable_setDisableYieldValue,he=null,fe=null;function me(e){if("function"==typeof ue&&de(e),fe&&"function"==typeof fe.setStrictMode)try{fe.setStrictMode(he,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ge(e)/ye|0)|0},ge=Math.log,ye=Math.LN2;var be=256,xe=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function we(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~i)?s=ve(r):0!==(a&=o)?s=ve(a):n||0!==(n=o&~e)&&(s=ve(n)):0!==(o=r&~i)?s=ve(o):0!==a?s=ve(a):n||0!==(n=r&~e)&&(s=ve(n)),0===s?0:0!==t&&t!==s&&0===(t&i)&&((i=s&-s)>=(n=t&-t)||32===i&&4194048&n)?t:s}function Se(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ke(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ne(){var e=be;return!(4194048&(be<<=1))&&(be=256),e}function je(){var e=xe;return!(62914560&(xe<<=1))&&(xe=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _e(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ce(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Te(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function Ae(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ie(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Pe(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:dh(e.type)}var Me=Math.random().toString(36).slice(2),De="__reactFiber$"+Me,Re="__reactProps$"+Me,Oe="__reactContainer$"+Me,Fe="__reactEvents$"+Me,Le="__reactListeners$"+Me,Be="__reactHandles$"+Me,Ue="__reactResources$"+Me,ze="__reactMarker$"+Me;function Ve(e){delete e[De],delete e[Re],delete e[Fe],delete e[Le],delete e[Be]}function qe(e){var t=e[De];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[De]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wd(e);null!==e;){if(n=e[De])return n;e=wd(e)}return t}n=(e=n).parentNode}return null}function Ge(e){if(e=e[De]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function $e(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function He(e){var t=e[Ue];return t||(t=e[Ue]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[ze]=!0}var Ke=new Set,Qe={};function Ye(e,t){Xe(e,t),Xe(e+"Capture",t)}function Xe(e,t){for(Qe[e]=t,e=0;e<t.length;e++)Ke.add(t[e])}var Je,Ze,et=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tt={},nt={};function rt(e,t,n){if(s=t,X.call(nt,s)||!X.call(tt,s)&&(et.test(s)?nt[s]=!0:(tt[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function st(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function it(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===Je)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Je=t&&t[1]||"",Ze=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Je+e+Ze}var ot=!1;function lt(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(s){var r=s}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"==typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],o=i[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(s=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(r===l.length||s===c.length)for(r=l.length-1,s=c.length-1;1<=r&&0<=s&&l[r]!==c[s];)s--;for(;1<=r&&0<=s;r--,s--)if(l[r]!==c[s]){if(1!==r||1!==s)do{if(r--,0>--s||l[r]!==c[s]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=s);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function ct(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return lt(e.type,!1);case 11:return lt(e.type.render,!1);case 1:return lt(e.type,!0);case 31:return at("Activity");default:return""}}function ut(e){try{var t="";do{t+=ct(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){e._valueTracker||(e._valueTracker=function(e){var t=ht(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,n,r,s,i,a,o){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,dt(t)):null!=n?vt(e,a,dt(n)):null!=r&&e.removeAttribute("value"),null==s&&null!=i&&(e.defaultChecked=!!i),null!=s&&(e.checked=s&&"function"!=typeof s&&"symbol"!=typeof s),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+dt(o):e.removeAttribute("name")}function xt(e,t,n,r,s,i,a,o){if(null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.type=i),null!=t||null!=n){if(("submit"===i||"reset"===i)&&null==t)return;n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:s)&&"symbol"!=typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wt(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,s){if(null==t){if(null!=s){if(null!=n)throw Error(r(92));if(A(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(s=e.textContent)===n&&""!==s&&null!==s&&(e.value=s)}function Nt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var jt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||jt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function _t(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var s in n)!n.hasOwnProperty(s)||null!=t&&t.hasOwnProperty(s)||(0===s.indexOf("--")?e.setProperty(s,""):"float"===s?e.cssFloat="":e[s]="");for(var i in t)s=t[i],t.hasOwnProperty(i)&&n[i]!==s&&Et(e,i,s)}else for(var a in t)t.hasOwnProperty(a)&&Et(e,a,t[a])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function It(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pt=null;function Mt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Rt=null;function Ot(e){var t=Ge(e);if(t&&(e=t.stateNode)){var n=e[Re]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=s[Re]||null;if(!i)throw Error(r(90));bt(s,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(s=n[t]).form===e.form&&mt(s)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&wt(e,!!n.multiple,t,!1)}}}var Ft=!1;function Lt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Dt||null!==Rt)&&(qc(),Dt&&(t=Dt,e=Rt,Rt=Dt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Bt(e,t){var n=e.stateNode;if(null===n)return null;var s=n[Re]||null;if(null===s)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Ut=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),zt=!1;if(Ut)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Rh){zt=!1}var qt=null,Gt=null,$t=null;function Ht(){if($t)return $t;var e,t,n=Gt,r=n.length,s="value"in qt?qt.value:qt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return $t=s.slice(e,1<t?1-t:void 0)}function Wt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function Qt(){return!1}function Yt(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Kt:Qt,this.isPropagationStopped=Qt,this}return c(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Xt,Jt,Zt,en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tn=Yt(en),nn=c({},en,{view:0,detail:0}),rn=Yt(nn),sn=c({},nn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zt&&(Zt&&"mousemove"===e.type?(Xt=e.screenX-Zt.screenX,Jt=e.screenY-Zt.screenY):Jt=Xt=0,Zt=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Jt}}),an=Yt(sn),on=Yt(c({},sn,{dataTransfer:0})),ln=Yt(c({},nn,{relatedTarget:0})),cn=Yt(c({},en,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Yt(c({},en,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Yt(c({},en,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function gn(){return pn}var yn=Yt(c({},nn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gn,charCode:function(e){return"keypress"===e.type?Wt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Yt(c({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=Yt(c({},nn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gn})),vn=Yt(c({},en,{propertyName:0,elapsedTime:0,pseudoElement:0})),wn=Yt(c({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Sn=Yt(c({},en,{newState:0,oldState:0})),kn=[9,13,27,32],Nn=Ut&&"CompositionEvent"in window,jn=null;Ut&&"documentMode"in document&&(jn=document.documentMode);var En=Ut&&"TextEvent"in window&&!jn,_n=Ut&&(!Nn||jn&&8<jn&&11>=jn),Cn=String.fromCharCode(32),Tn=!1;function An(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function In(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mn[e.type]:"textarea"===t}function Rn(e,t,n,r){Dt?Rt?Rt.push(r):Rt=[r]:Dt=r,0<(t=Hu(t,"onChange")).length&&(n=new tn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Fn=null;function Ln(e){Lu(e,0)}function Bn(e){if(mt($e(e)))return e}function Un(e,t){if("change"===e)return t}var zn=!1;if(Ut){var Vn;if(Ut){var qn="oninput"in document;if(!qn){var Gn=document.createElement("div");Gn.setAttribute("oninput","return;"),qn="function"==typeof Gn.oninput}Vn=qn}else Vn=!1;zn=Vn&&(!document.documentMode||9<document.documentMode)}function $n(){On&&(On.detachEvent("onpropertychange",Hn),Fn=On=null)}function Hn(e){if("value"===e.propertyName&&Bn(Fn)){var t=[];Rn(t,Fn,e,Mt(e)),Lt(Ln,t)}}function Wn(e,t,n){"focusin"===e?($n(),Fn=n,(On=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&$n()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Bn(Fn)}function Qn(e,t){if("click"===e)return Bn(t)}function Yn(e,t){if("input"===e||"change"===e)return Bn(t)}var Xn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Jn(e,t){if(Xn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!X.call(t,s)||!Xn(e[s],t[s]))return!1}return!0}function Zn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function er(e,t){var n,r=Zn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zn(r)}}function tr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function nr(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function rr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=Ut&&"documentMode"in document&&11>=document.documentMode,ir=null,ar=null,or=null,lr=!1;function cr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;lr||null==ir||ir!==pt(r)||("selectionStart"in(r=ir)&&rr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Jn(or,r)||(or=r,0<(r=Hu(ar,"onSelect")).length&&(t=new tn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},hr={},fr={};function mr(e){if(hr[e])return hr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return hr[e]=n[t];return e}Ut&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var pr=mr("animationend"),gr=mr("animationiteration"),yr=mr("animationstart"),br=mr("transitionrun"),xr=mr("transitionstart"),vr=mr("transitioncancel"),wr=mr("transitionend"),Sr=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Sr.set(e,t),Ye(t,[e])}kr.push("scrollEnd");var jr=new WeakMap;function Er(e,t){if("object"==typeof e&&null!==e){var n=jr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ut(t)},jr.set(e,t),t)}return{value:e,source:t,stack:ut(t)}}var _r=[],Cr=0,Tr=0;function Ar(){for(var e=Cr,t=Tr=Cr=0;t<e;){var n=_r[t];_r[t++]=null;var r=_r[t];_r[t++]=null;var s=_r[t];_r[t++]=null;var i=_r[t];if(_r[t++]=null,null!==r&&null!==s){var a=r.pending;null===a?s.next=s:(s.next=a.next,a.next=s),r.pending=s}0!==i&&Dr(n,s,i)}}function Ir(e,t,n,r){_r[Cr++]=e,_r[Cr++]=t,_r[Cr++]=n,_r[Cr++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Ir(e,t,n,r),Rr(e)}function Mr(e,t){return Ir(e,null,null,t),Rr(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var s=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(s=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,s&&null!==t&&(s=31-pe(n),null===(r=(e=i.hiddenUpdates)[s])?e[s]=[t]:r.push(t),t.lane=536870912|n),i):null}function Rr(e){if(50<Dc)throw Dc=0,Rc=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Fr(e,t,n,r)}function Br(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ur(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,s,i,a){var o=0;if(s=e,"function"==typeof e)Br(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,z.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case N:return(e=Lr(31,n,t,i)).elementType=N,e.lanes=a,e;case f:return qr(n.children,i,a,t);case m:o=8,i|=24;break;case p:return(e=Lr(12,n,t,2|i)).elementType=p,e.lanes=a,e;case v:return(e=Lr(13,n,t,i)).elementType=v,e.lanes=a,e;case w:return(e=Lr(19,n,t,i)).elementType=w,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case g:case b:o=10;break e;case y:o=9;break e;case x:o=11;break e;case S:o=14;break e;case k:o=16,s=null;break e}o=29,n=Error(r(130,null===e?"null":typeof e,"")),s=null}return(t=Lr(o,n,t,i)).elementType=e,t.type=s,t.lanes=a,t}function qr(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function Gr(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function $r(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],Wr=0,Kr=null,Qr=0,Yr=[],Xr=0,Jr=null,Zr=1,es="";function ts(e,t){Hr[Wr++]=Qr,Hr[Wr++]=Kr,Kr=e,Qr=t}function ns(e,t,n){Yr[Xr++]=Zr,Yr[Xr++]=es,Yr[Xr++]=Jr,Jr=e;var r=Zr;e=es;var s=32-pe(r)-1;r&=~(1<<s),n+=1;var i=32-pe(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Zr=1<<32-pe(t)+s|n<<s|r,es=i+e}else Zr=1<<i|n<<s|r,es=e}function rs(e){null!==e.return&&(ts(e,1),ns(e,1,0))}function ss(e){for(;e===Kr;)Kr=Hr[--Wr],Hr[Wr]=null,Qr=Hr[--Wr],Hr[Wr]=null;for(;e===Jr;)Jr=Yr[--Xr],Yr[Xr]=null,es=Yr[--Xr],Yr[Xr]=null,Zr=Yr[--Xr],Yr[Xr]=null}var is=null,as=null,os=!1,ls=null,cs=!1,us=Error(r(519));function ds(e){throw ys(Er(Error(r(418,"")),e)),us}function hs(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[De]=e,t[Re]=r,n){case"dialog":Bu("cancel",t),Bu("close",t);break;case"iframe":case"object":case"embed":Bu("load",t);break;case"video":case"audio":for(n=0;n<Ou.length;n++)Bu(Ou[n],t);break;case"source":Bu("error",t);break;case"img":case"image":case"link":Bu("error",t),Bu("load",t);break;case"details":Bu("toggle",t);break;case"input":Bu("invalid",t),xt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ft(t);break;case"select":Bu("invalid",t);break;case"textarea":Bu("invalid",t),kt(t,r.value,r.defaultValue,r.children),ft(t)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Ju(t.textContent,n)?(null!=r.popover&&(Bu("beforetoggle",t),Bu("toggle",t)),null!=r.onScroll&&Bu("scroll",t),null!=r.onScrollEnd&&Bu("scrollend",t),null!=r.onClick&&(t.onclick=Zu),t=!0):t=!1,t||ds(e)}function fs(e){for(is=e.return;is;)switch(is.tag){case 5:case 13:return void(cs=!1);case 27:case 3:return void(cs=!0);default:is=is.return}}function ms(e){if(e!==is)return!1;if(!os)return fs(e),os=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ld(e.type,e.memoizedProps)),t=!t),t&&as&&ds(e),fs(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){as=xd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}as=null}}else 27===n?(n=as,pd(e.type)?(e=vd,vd=null,as=e):as=n):as=is?xd(e.stateNode.nextSibling):null;return!0}function ps(){as=is=null,os=!1}function gs(){var e=ls;return null!==e&&(null===wc?wc=e:wc.push.apply(wc,e),ls=null),e}function ys(e){null===ls?ls=[e]:ls.push(e)}var bs=L(null),xs=null,vs=null;function ws(e,t,n){U(bs,t._currentValue),t._currentValue=n}function Ss(e){e._currentValue=bs.current,B(bs)}function ks(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ns(e,t,n,s){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var o=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ks(a.return,n,e),s||(o=null);break e}a=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(r(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),ks(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function js(e,t,n,s){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(524288&i.flags)a=!0;else if(262144&i.flags)break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(r(387));if(null!==(o=o.memoizedProps)){var l=i.type;Xn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===G.current){if(null===(o=i.alternate))throw Error(r(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Yd):e=[Yd])}i=i.return}null!==e&&Ns(t,e,n,s),t.flags|=262144}function Es(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _s(e){xs=e,vs=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Cs(e){return As(xs,e)}function Ts(e,t){return null===xs&&_s(e),As(e,t)}function As(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vs){if(null===e)throw Error(r(308));vs=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vs=vs.next=t;return n}var Is="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ps=e.unstable_scheduleCallback,Ms=e.unstable_NormalPriority,Ds={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rs(){return{controller:new Is,data:new Map,refCount:0}}function Os(e){e.refCount--,0===e.refCount&&Ps(Ms,function(){e.controller.abort()})}var Fs=null,Ls=0,Bs=0,Us=null;function zs(){if(0===--Ls&&null!==Fs){null!==Us&&(Us.status="fulfilled");var e=Fs;Fs=null,Bs=0,Us=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vs=I.S;I.S=function(e,t){"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Fs){var n=Fs=[];Ls=0,Bs=Iu(),Us={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ls++,t.then(zs,zs)}(0,t),null!==Vs&&Vs(e,t)};var qs=L(null);function Gs(){var e=qs.current;return null!==e?e:ic.pooledCache}function $s(e,t){U(qs,null===t?qs.current:t.pool)}function Hs(){var e=Gs();return null===e?null:{parent:Ds._currentValue,pool:e}}var Ws=Error(r(460)),Ks=Error(r(474)),Qs=Error(r(542)),Ys={then:function(){}};function Xs(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Js(){}function Zs(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Js,Js),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ni(e=t.reason),e;default:if("string"==typeof t.status)t.then(Js,Js);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ni(e=t.reason),e}throw ei=t,Ws}}var ei=null;function ti(){if(null===ei)throw Error(r(459));var e=ei;return ei=null,e}function ni(e){if(e===Ws||e===Qs)throw Error(r(483))}var ri=!1;function si(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ii(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&sc){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=Rr(e),Dr(e,null,n),t}return Ir(e,r,t,n),Rr(e)}function li(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}function ci(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ui=!1;function di(){if(ui){if(null!==Us)throw Us}}function hi(e,t,n,r){ui=!1;var s=e.updateQueue;ri=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,u=l.next;l.next=null,null===a?i=u:a.next=u,a=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(null!==i){var h=s.baseState;for(a=0,d=u=l=null,o=i;;){var f=-536870913&o.lane,m=f!==o.lane;if(m?(oc&f)===f:(r&f)===f){0!==f&&f===Bs&&(ui=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,g=o;f=t;var y=n;switch(g.tag){case 1:if("function"==typeof(p=g.payload)){h=p.call(y,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=g.payload)?p.call(y,h,f):p))break e;h=c({},h,f);break e;case 2:ri=!0}}null!==(f=o.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=s.callbacks)?s.callbacks=[f]:m.push(f))}else m={lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(u=d=m,l=h):d=d.next=m,a|=f;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(m=o).next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}null===d&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,null===i&&(s.shared.lanes=0),pc|=a,e.lanes=a,e.memoizedState=h}}function fi(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function mi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)fi(n[e],t)}var pi=L(null),gi=L(0);function yi(e,t){U(gi,e=fc),U(pi,t),fc=e|t.baseLanes}function bi(){U(gi,fc),U(pi,pi.current)}function xi(){fc=gi.current,B(pi),B(gi)}var vi=0,wi=null,Si=null,ki=null,Ni=!1,ji=!1,Ei=!1,_i=0,Ci=0,Ti=null,Ai=0;function Ii(){throw Error(r(321))}function Pi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function Mi(e,t,n,r,s,i){return vi=i,wi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=null===e||null===e.memoizedState?Wa:Ka,Ei=!1,i=n(r,s),Ei=!1,ji&&(i=Ri(t,n,r,s)),Di(e),i}function Di(e){I.H=Ha;var t=null!==Si&&null!==Si.next;if(vi=0,ki=Si=wi=null,Ni=!1,Ci=0,Ti=null,t)throw Error(r(300));null===e||To||null!==(e=e.dependencies)&&Es(e)&&(To=!0)}function Ri(e,t,n,s){wi=e;var i=0;do{if(ji&&(Ti=null),Ci=0,ji=!1,25<=i)throw Error(r(301));if(i+=1,ki=Si=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}I.H=Qa,a=t(n,s)}while(ji);return a}function Oi(){var e=I.H,t=e.useState()[0];return t="function"==typeof t.then?Vi(t):t,e=e.useState()[0],(null!==Si?Si.memoizedState:null)!==e&&(wi.flags|=1024),t}function Fi(){var e=0!==_i;return _i=0,e}function Li(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Bi(e){if(Ni){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ni=!1}vi=0,ki=Si=wi=null,ji=!1,Ci=_i=0,Ti=null}function Ui(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ki?wi.memoizedState=ki=e:ki=ki.next=e,ki}function zi(){if(null===Si){var e=wi.alternate;e=null!==e?e.memoizedState:null}else e=Si.next;var t=null===ki?wi.memoizedState:ki.next;if(null!==t)ki=t,Si=e;else{if(null===e){if(null===wi.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(Si=e).memoizedState,baseState:Si.baseState,baseQueue:Si.baseQueue,queue:Si.queue,next:null},null===ki?wi.memoizedState=ki=e:ki=ki.next=e}return ki}function Vi(e){var t=Ci;return Ci+=1,null===Ti&&(Ti=[]),e=Zs(Ti,e,t),t=wi,null===(null===ki?t.memoizedState:ki.next)&&(t=t.alternate,I.H=null===t||null===t.memoizedState?Wa:Ka),e}function qi(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return Vi(e);if(e.$$typeof===b)return Cs(e)}throw Error(r(438,String(e)))}function Gi(e){var t=null,n=wi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=wi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},wi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=j;return t.index++,n}function $i(e,t){return"function"==typeof t?t(e):t}function Hi(e){return Wi(zi(),Si,e)}function Wi(e,t,n){var s=e.queue;if(null===s)throw Error(r(311));s.lastRenderedReducer=n;var i=e.baseQueue,a=s.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}t.baseQueue=i=a,s.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(oc&h)===h:(vi&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Bs&&(d=!0);else{if((vi&f)===f){u=u.next,f===Bs&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,wi.lanes|=f,pc|=f}h=u.action,Ei&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=a):c=c.next=f,wi.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!Xn(a,e.memoizedState)&&(To=!0,d&&null!==(n=Us)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,s.lastRenderedState=a}return null===i&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Ki(e){var t=zi(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Xn(a,t.memoizedState)||(To=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function Qi(e,t,n){var s=wi,i=zi(),a=os;if(a){if(void 0===n)throw Error(r(407));n=n()}else n=t();var o=!Xn((Si||i).memoizedState,n);if(o&&(i.memoizedState=n,To=!0),i=i.queue,ba(2048,8,Ji.bind(null,s,i,e),[e]),i.getSnapshot!==t||o||null!==ki&&1&ki.memoizedState.tag){if(s.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Xi.bind(null,s,i,n,t),null),null===ic)throw Error(r(349));a||124&vi||Yi(s,t,n)}return n}function Yi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=wi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},wi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Xi(e,t,n,r){t.value=n,t.getSnapshot=r,Zi(t)&&ea(e)}function Ji(e,t,n){return n(function(){Zi(t)&&ea(e)})}function Zi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function ea(e){var t=Mr(e,2);null!==t&&Lc(t,e,2)}function ta(e){var t=Ui();if("function"==typeof e){var n=e;if(e=n(),Ei){me(!0);try{n()}finally{me(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:e},t}function na(e,t,n,r){return e.baseState=n,Wi(e,Si,"function"==typeof r?r:$i)}function ra(e,t,n,s,i){if(qa(e))throw Error(r(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==I.T?n(!0):a.isTransition=!1,s(a),null===(n=t.pending)?(a.next=t.pending=a,sa(t,a)):(a.next=n.next,t.pending=n.next=a)}}function sa(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var i=I.T,a={};I.T=a;try{var o=n(s,r),l=I.S;null!==l&&l(a,o),ia(e,t,o)}catch(c){oa(e,t,c)}finally{I.T=i}}else try{ia(e,t,i=n(s,r))}catch(u){oa(e,t,u)}}function ia(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){aa(e,t,n)},function(n){return oa(e,t,n)}):aa(e,t,n)}function aa(e,t,n){t.status="fulfilled",t.value=n,la(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,sa(e,n)))}function oa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,la(t),t=t.next}while(t!==r)}e.action=null}function la(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ca(e,t){return t}function ua(e,t){if(os){var n=ic.formState;if(null!==n){e:{var r=wi;if(os){if(as){t:{for(var s=as,i=cs;8!==s.nodeType;){if(!i){s=null;break t}if(null===(s=xd(s.nextSibling))){s=null;break t}}s="F!"===(i=s.data)||"F"===i?s:null}if(s){as=xd(s.nextSibling),r="F!"===s.data;break e}}ds(r)}r=!1}r&&(t=n[0])}}return(n=Ui()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ca,lastRenderedState:t},n.queue=r,n=Ua.bind(null,wi,r),r.dispatch=n,r=ta(!1),i=Va.bind(null,wi,!1,r.queue),s={state:t,dispatch:null,action:e,pending:null},(r=Ui()).queue=s,n=ra.bind(null,wi,s,i,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function da(e){return ha(zi(),Si,e)}function ha(e,t,n){if(t=Wi(e,t,ca)[0],e=Hi($i)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=Vi(t)}catch(a){if(a===Ws)throw Qs;throw a}else r=t;var s=(t=zi()).queue,i=s.dispatch;return n!==t.memoizedState&&(wi.flags|=2048,pa(9,{destroy:void 0,resource:void 0},fa.bind(null,s,n),null)),[r,i,e]}function fa(e,t){e.action=t}function ma(e){var t=zi(),n=Si;if(null!==n)return ha(t,n,e);zi(),t=t.memoizedState;var r=(n=zi()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function pa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=wi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},wi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(){return zi().memoizedState}function ya(e,t,n,r){var s=Ui();r=void 0===r?null:r,wi.flags|=e,s.memoizedState=pa(1|t,{destroy:void 0,resource:void 0},n,r)}function ba(e,t,n,r){var s=zi();r=void 0===r?null:r;var i=s.memoizedState.inst;null!==Si&&null!==r&&Pi(r,Si.memoizedState.deps)?s.memoizedState=pa(t,i,n,r):(wi.flags|=e,s.memoizedState=pa(1|t,i,n,r))}function xa(e,t){ya(8390656,8,e,t)}function va(e,t){ba(2048,8,e,t)}function wa(e,t){return ba(4,2,e,t)}function Sa(e,t){return ba(4,4,e,t)}function ka(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Na(e,t,n){n=null!=n?n.concat([e]):null,ba(4,4,ka.bind(null,t,e),n)}function ja(){}function Ea(e,t){var n=zi();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Pi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _a(e,t){var n=zi();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Pi(t,r[1]))return r[0];if(r=e(),Ei){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r}function Ca(e,t,n){return void 0===n||1073741824&vi?e.memoizedState=t:(e.memoizedState=n,e=Fc(),wi.lanes|=e,pc|=e,n)}function Ta(e,t,n,r){return Xn(n,t)?n:null!==pi.current?(e=Ca(e,n,r),Xn(e,t)||(To=!0),e):42&vi?(e=Fc(),wi.lanes|=e,pc|=e,t):(To=!0,e.memoizedState=n)}function Aa(e,t,n,r,s){var i=D.p;D.p=0!==i&&8>i?i:8;var a,o,l,c=I.T,u={};I.T=u,Va(e,!1,t,n);try{var d=s(),h=I.S;if(null!==h&&h(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then){var f=(a=r,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},d.then(function(){l.status="fulfilled",l.value=a;for(var e=0;e<o.length;e++)(0,o[e])(a)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l);za(e,t,f,Oc())}else za(e,t,r,Oc())}catch(m){za(e,t,{then:function(){},status:"rejected",reason:m},Oc())}finally{D.p=i,I.T=c}}function Ia(){}function Pa(e,t,n,s){if(5!==e.tag)throw Error(r(476));var i=Ma(e).queue;Aa(e,i,t,R,null===n?Ia:function(){return Da(e),n(s)})}function Ma(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:R},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Da(e){za(e,Ma(e).next.queue,{},Oc())}function Ra(){return Cs(Yd)}function Oa(){return zi().memoizedState}function Fa(){return zi().memoizedState}function La(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Oc(),r=oi(t,e=ai(n),n);return null!==r&&(Lc(r,t,n),li(r,t,n)),t={cache:Rs()},void(e.payload=t)}t=t.return}}function Ba(e,t,n){var r=Oc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},qa(e)?Ga(t,n):null!==(n=Pr(e,t,n,r))&&(Lc(n,e,r),$a(n,t,r))}function Ua(e,t,n){za(e,t,n,Oc())}function za(e,t,n,r){var s={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(qa(e))Ga(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Xn(o,a))return Ir(e,t,s,0),null===ic&&Ar(),!1}catch(l){}if(null!==(n=Pr(e,t,s,r)))return Lc(n,e,r),$a(n,t,r),!0}return!1}function Va(e,t,n,s){if(s={lane:2,revertLane:Iu(),action:s,hasEagerState:!1,eagerState:null,next:null},qa(e)){if(t)throw Error(r(479))}else null!==(t=Pr(e,n,s,2))&&Lc(t,e,2)}function qa(e){var t=e.alternate;return e===wi||null!==t&&t===wi}function Ga(e,t){ji=Ni=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $a(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Te(e,n)}}var Ha={readContext:Cs,use:qi,useCallback:Ii,useContext:Ii,useEffect:Ii,useImperativeHandle:Ii,useLayoutEffect:Ii,useInsertionEffect:Ii,useMemo:Ii,useReducer:Ii,useRef:Ii,useState:Ii,useDebugValue:Ii,useDeferredValue:Ii,useTransition:Ii,useSyncExternalStore:Ii,useId:Ii,useHostTransitionStatus:Ii,useFormState:Ii,useActionState:Ii,useOptimistic:Ii,useMemoCache:Ii,useCacheRefresh:Ii},Wa={readContext:Cs,use:qi,useCallback:function(e,t){return Ui().memoizedState=[e,void 0===t?null:t],e},useContext:Cs,useEffect:xa,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,ya(4194308,4,ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ya(4194308,4,e,t)},useInsertionEffect:function(e,t){ya(4,2,e,t)},useMemo:function(e,t){var n=Ui();t=void 0===t?null:t;var r=e();if(Ei){me(!0);try{e()}finally{me(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ui();if(void 0!==n){var s=n(t);if(Ei){me(!0);try{n(t)}finally{me(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=Ba.bind(null,wi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ui().memoizedState=e},useState:function(e){var t=(e=ta(e)).queue,n=Ua.bind(null,wi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ja,useDeferredValue:function(e,t){return Ca(Ui(),e,t)},useTransition:function(){var e=ta(!1);return e=Aa.bind(null,wi,e.queue,!0,!1),Ui().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=wi,i=Ui();if(os){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===ic)throw Error(r(349));124&oc||Yi(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,xa(Ji.bind(null,s,a,e),[e]),s.flags|=2048,pa(9,{destroy:void 0,resource:void 0},Xi.bind(null,s,a,n,t),null),n},useId:function(){var e=Ui(),t=ic.identifierPrefix;if(os){var n=es;t=""+t+"R"+(n=(Zr&~(1<<32-pe(Zr)-1)).toString(32)+n),0<(n=_i++)&&(t+="H"+n.toString(32)),t+=""}else t=""+t+"r"+(n=Ai++).toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Ra,useFormState:ua,useActionState:ua,useOptimistic:function(e){var t=Ui();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Va.bind(null,wi,!0,n),n.dispatch=t,[e,t]},useMemoCache:Gi,useCacheRefresh:function(){return Ui().memoizedState=La.bind(null,wi)}},Ka={readContext:Cs,use:qi,useCallback:Ea,useContext:Cs,useEffect:va,useImperativeHandle:Na,useInsertionEffect:wa,useLayoutEffect:Sa,useMemo:_a,useReducer:Hi,useRef:ga,useState:function(){return Hi($i)},useDebugValue:ja,useDeferredValue:function(e,t){return Ta(zi(),Si.memoizedState,e,t)},useTransition:function(){var e=Hi($i)[0],t=zi().memoizedState;return["boolean"==typeof e?e:Vi(e),t]},useSyncExternalStore:Qi,useId:Oa,useHostTransitionStatus:Ra,useFormState:da,useActionState:da,useOptimistic:function(e,t){return na(zi(),0,e,t)},useMemoCache:Gi,useCacheRefresh:Fa},Qa={readContext:Cs,use:qi,useCallback:Ea,useContext:Cs,useEffect:va,useImperativeHandle:Na,useInsertionEffect:wa,useLayoutEffect:Sa,useMemo:_a,useReducer:Ki,useRef:ga,useState:function(){return Ki($i)},useDebugValue:ja,useDeferredValue:function(e,t){var n=zi();return null===Si?Ca(n,e,t):Ta(n,Si.memoizedState,e,t)},useTransition:function(){var e=Ki($i)[0],t=zi().memoizedState;return["boolean"==typeof e?e:Vi(e),t]},useSyncExternalStore:Qi,useId:Oa,useHostTransitionStatus:Ra,useFormState:ma,useActionState:ma,useOptimistic:function(e,t){var n=zi();return null!==Si?na(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Gi,useCacheRefresh:Fa},Ya=null,Xa=0;function Ja(e){var t=Xa;return Xa+=1,null===Ya&&(Ya=[]),Zs(Ya,e,t)}function Za(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function eo(e,t){if(t.$$typeof===u)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function to(e){return(0,e._init)(e._payload)}function no(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function s(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Ur(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===f?m(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===k&&to(s)===t.type)?(Za(t=i(t,n.props),n),t.return=e,t):(Za(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$r(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function m(e,t,n,r,s){return null===t||7!==t.tag?((t=qr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Gr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case d:return Za(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case h:return(t=$r(t,e.mode,n)).return=e,t;case k:return p(e,t=(0,t._init)(t._payload),n)}if(A(t)||_(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return p(e,Ja(t),n);if(t.$$typeof===b)return p(e,Ts(e,t),n);eo(e,t)}return null}function g(e,t,n,r){var s=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==s?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case d:return n.key===s?c(e,t,n,r):null;case h:return n.key===s?u(e,t,n,r):null;case k:return g(e,t,n=(s=n._init)(n._payload),r)}if(A(n)||_(n))return null!==s?null:m(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,Ja(n),r);if(n.$$typeof===b)return g(e,t,Ts(e,n),r);eo(e,n)}return null}function y(e,t,n,r,s){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"==typeof r&&null!==r){switch(r.$$typeof){case d:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case h:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case k:return y(e,t,n,r=(0,r._init)(r._payload),s)}if(A(r)||_(r))return m(t,e=e.get(n)||null,r,s,null);if("function"==typeof r.then)return y(e,t,n,Ja(r),s);if(r.$$typeof===b)return y(e,t,n,Ts(t,r),s);eo(t,r)}return null}function x(l,c,u,m){if("object"==typeof u&&null!==u&&u.type===f&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case d:e:{for(var v=u.key;null!==c;){if(c.key===v){if((v=u.type)===f){if(7===c.tag){n(l,c.sibling),(m=i(c,u.props.children)).return=l,l=m;break e}}else if(c.elementType===v||"object"==typeof v&&null!==v&&v.$$typeof===k&&to(v)===c.type){n(l,c.sibling),Za(m=i(c,u.props),u),m.return=l,l=m;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===f?((m=qr(u.props.children,l.mode,m,u.key)).return=l,l=m):(Za(m=Vr(u.type,u.key,u.props,null,l.mode,m),u),m.return=l,l=m)}return o(l);case h:e:{for(v=u.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(m=i(c,u.children||[])).return=l,l=m;break e}n(l,c);break}t(l,c),c=c.sibling}(m=$r(u,l.mode,m)).return=l,l=m}return o(l);case k:return x(l,c,u=(v=u._init)(u._payload),m)}if(A(u))return function(r,i,o,l){for(var c=null,u=null,d=i,h=i=0,f=null;null!==d&&h<o.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var m=g(r,d,o[h],l);if(null===m){null===d&&(d=f);break}e&&d&&null===m.alternate&&t(r,d),i=a(m,i,h),null===u?c=m:u.sibling=m,u=m,d=f}if(h===o.length)return n(r,d),os&&ts(r,h),c;if(null===d){for(;h<o.length;h++)null!==(d=p(r,o[h],l))&&(i=a(d,i,h),null===u?c=d:u.sibling=d,u=d);return os&&ts(r,h),c}for(d=s(d);h<o.length;h++)null!==(f=y(d,r,h,o[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),i=a(f,i,h),null===u?c=f:u.sibling=f,u=f);return e&&d.forEach(function(e){return t(r,e)}),os&&ts(r,h),c}(l,c,u,m);if(_(u)){if("function"!=typeof(v=_(u)))throw Error(r(150));return function(i,o,l,c){if(null==l)throw Error(r(151));for(var u=null,d=null,h=o,f=o=0,m=null,b=l.next();null!==h&&!b.done;f++,b=l.next()){h.index>f?(m=h,h=null):m=h.sibling;var x=g(i,h,b.value,c);if(null===x){null===h&&(h=m);break}e&&h&&null===x.alternate&&t(i,h),o=a(x,o,f),null===d?u=x:d.sibling=x,d=x,h=m}if(b.done)return n(i,h),os&&ts(i,f),u;if(null===h){for(;!b.done;f++,b=l.next())null!==(b=p(i,b.value,c))&&(o=a(b,o,f),null===d?u=b:d.sibling=b,d=b);return os&&ts(i,f),u}for(h=s(h);!b.done;f++,b=l.next())null!==(b=y(h,i,f,b.value,c))&&(e&&null!==b.alternate&&h.delete(null===b.key?f:b.key),o=a(b,o,f),null===d?u=b:d.sibling=b,d=b);return e&&h.forEach(function(e){return t(i,e)}),os&&ts(i,f),u}(l,c,u=v.call(u),m)}if("function"==typeof u.then)return x(l,c,Ja(u),m);if(u.$$typeof===b)return x(l,c,Ts(l,u),m);eo(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(m=i(c,u)).return=l,l=m):(n(l,c),(m=Gr(u,l.mode,m)).return=l,l=m),o(l)):n(l,c)}return function(e,t,n,r){try{Xa=0;var s=x(e,t,n,r);return Ya=null,s}catch(a){if(a===Ws||a===Qs)throw a;var i=Lr(29,a,null,e.mode);return i.lanes=r,i.return=e,i}}}var ro=no(!0),so=no(!1),io=L(null),ao=null;function oo(e){var t=e.alternate;U(ho,1&ho.current),U(io,e),null===ao&&(null===t||null!==pi.current||null!==t.memoizedState)&&(ao=e)}function lo(e){if(22===e.tag){if(U(ho,ho.current),U(io,e),null===ao){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ao=e)}}else co()}function co(){U(ho,ho.current),U(io,io.current)}function uo(e){B(io),ao===e&&(ao=null),B(ho)}var ho=L(0);function fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||bd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function mo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oc(),s=ai(r);s.payload=t,null!=n&&(s.callback=n),null!==(t=oi(e,s,r))&&(Lc(t,e,r),li(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oc(),s=ai(r);s.tag=1,s.payload=t,null!=n&&(s.callback=n),null!==(t=oi(e,s,r))&&(Lc(t,e,r),li(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oc(),r=ai(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=oi(e,r,n))&&(Lc(t,e,n),li(t,e,n))}};function go(e,t,n,r,s,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Jn(n,r)||!Jn(s,i))}function yo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function bo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var s in n===t&&(n=c({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}var xo="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){xo(e)}function wo(e){console.error(e)}function So(e){xo(e)}function ko(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function No(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function jo(e,t,n){return(n=ai(n)).tag=3,n.payload={element:null},n.callback=function(){ko(e,t)},n}function Eo(e){return(e=ai(e)).tag=3,e}function _o(e,t,n,r){var s=n.type.getDerivedStateFromError;if("function"==typeof s){var i=r.value;e.payload=function(){return s(i)},e.callback=function(){No(t,n,r)}}var a=n.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){No(t,n,r),"function"!=typeof s&&(null===Ec?Ec=new Set([this]):Ec.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Co=Error(r(461)),To=!1;function Ao(e,t,n,r){t.child=null===e?so(t,null,n,r):ro(t,e.child,n,r)}function Io(e,t,n,r,s){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return _s(t),r=Mi(e,t,n,a,i,s),o=Fi(),null===e||To?(os&&o&&rs(t),t.flags|=1,Ao(e,t,r,s),t.child):(Li(e,t,s),Xo(e,t,s))}function Po(e,t,n,r,s){if(null===e){var i=n.type;return"function"!=typeof i||Br(i)||void 0!==i.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Mo(e,t,i,r,s))}if(i=e.child,!Jo(e,s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Jn)(a,r)&&e.ref===t.ref)return Xo(e,t,s)}return t.flags|=1,(e=Ur(i,r)).ref=t.ref,e.return=t,t.child=e}function Mo(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(Jn(i,r)&&e.ref===t.ref){if(To=!1,t.pendingProps=r=i,!Jo(e,s))return t.lanes=e.lanes,Xo(e,t,s);131072&e.flags&&(To=!0)}}return Fo(e,t,n,r,s)}function Do(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(128&t.flags){if(r=null!==i?i.baseLanes|n:n,null!==e){for(s=t.child=e.child,i=0;null!==s;)i=i|s.lanes|s.childLanes,s=s.sibling;t.childLanes=i&~r}else t.childLanes=0,t.child=null;return Ro(e,t,r,n)}if(!(536870912&n))return t.lanes=t.childLanes=536870912,Ro(e,t,null!==i?i.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$s(0,null!==i?i.cachePool:null),null!==i?yi(t,i):bi(),lo(t)}else null!==i?($s(0,i.cachePool),yi(t,i),co(),t.memoizedState=null):(null!==e&&$s(0,null),bi(),co());return Ao(e,t,s,n),t.child}function Ro(e,t,n,r){var s=Gs();return s=null===s?null:{parent:Ds._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&$s(0,null),bi(),lo(t),null!==e&&js(e,t,r,!0),null}function Oo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Fo(e,t,n,r,s){return _s(t),n=Mi(e,t,n,r,void 0,s),r=Fi(),null===e||To?(os&&r&&rs(t),t.flags|=1,Ao(e,t,n,s),t.child):(Li(e,t,s),Xo(e,t,s))}function Lo(e,t,n,r,s,i){return _s(t),t.updateQueue=null,n=Ri(t,r,n,s),Di(e),r=Fi(),null===e||To?(os&&r&&rs(t),t.flags|=1,Ao(e,t,n,i),t.child):(Li(e,t,i),Xo(e,t,i))}function Bo(e,t,n,r,s){if(_s(t),null===t.stateNode){var i=Or,a=n.contextType;"object"==typeof a&&null!==a&&(i=Cs(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=po,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},si(t),a=n.contextType,i.context="object"==typeof a&&null!==a?Cs(a):Or,i.state=t.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(mo(t,n,a,r),i.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(a=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&po.enqueueReplaceState(i,i.state,null),hi(t,r,i,s),di(),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=bo(n,o);i.props=l;var c=i.context,u=n.contextType;a=Or,"object"==typeof u&&null!==u&&(a=Cs(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(o||c!==a)&&yo(t,i,r,a),ri=!1;var h=t.memoizedState;i.state=h,hi(t,r,i,s),di(),c=t.memoizedState,o||h!==c||ri?("function"==typeof d&&(mo(t,n,d,r),c=t.memoizedState),(l=ri||go(t,n,l,r,h,c,a))?(u||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=a,r=l):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ii(e,t),u=bo(n,a=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Or,"object"==typeof c&&null!==c&&(l=Cs(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(a!==d||h!==l)&&yo(t,i,r,l),ri=!1,h=t.memoizedState,i.state=h,hi(t,r,i,s),di();var f=t.memoizedState;a!==d||h!==f||ri||null!==e&&null!==e.dependencies&&Es(e.dependencies)?("function"==typeof o&&(mo(t,n,o,r),f=t.memoizedState),(u=ri||go(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Es(e.dependencies))?(c||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=u):("function"!=typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Oo(e,t),r=!!(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=ro(t,e.child,null,s),t.child=ro(t,null,n,s)):Ao(e,t,n,s),t.memoizedState=i.state,e=t.child):e=Xo(e,t,s),e}function Uo(e,t,n,r){return ps(),t.flags|=256,Ao(e,t,n,r),t.child}var zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vo(e){return{baseLanes:e,cachePool:Hs()}}function qo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=bc),e}function Go(e,t,n){var s,i=t.pendingProps,a=!1,o=!!(128&t.flags);if((s=o)||(s=(null===e||null!==e.memoizedState)&&!!(2&ho.current)),s&&(a=!0,t.flags&=-129),s=!!(32&t.flags),t.flags&=-33,null===e){if(os){if(a?oo(t):co(),os){var l,c=as;if(l=c){e:{for(l=c,c=cs;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=xd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Jr?{id:Zr,overflow:es}:null,retryLane:536870912,hydrationErrors:null},(l=Lr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,is=t,as=null,l=!0):l=!1}l||ds(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return bd(c)?t.lanes=32:t.lanes=536870912,null;uo(t)}return c=i.children,i=i.fallback,a?(co(),c=Ho({mode:"hidden",children:c},a=t.mode),i=qr(i,a,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(a=t.child).memoizedState=Vo(n),a.childLanes=qo(e,s,n),t.memoizedState=zo,i):(oo(t),$o(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(o)256&t.flags?(oo(t),t.flags&=-257,t=Wo(e,t,n)):null!==t.memoizedState?(co(),t.child=e.child,t.flags|=128,t=null):(co(),a=i.fallback,c=t.mode,i=Ho({mode:"visible",children:i.children},c),(a=qr(a,c,n,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,ro(t,e.child,null,n),(i=t.child).memoizedState=Vo(n),i.childLanes=qo(e,s,n),t.memoizedState=zo,t=a);else if(oo(t),bd(c)){if(s=c.nextSibling&&c.nextSibling.dataset)var u=s.dgst;s=u,(i=Error(r(419))).stack="",i.digest=s,ys({value:i,source:null,stack:null}),t=Wo(e,t,n)}else if(To||js(e,t,n,!1),s=0!==(n&e.childLanes),To||s){if(null!==(s=ic)&&(0!==(i=0!==((i=42&(i=n&-n)?1:Ae(i))&(s.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Mr(e,i),Lc(s,e,i),Co;"$?"===c.data||Qc(),t=Wo(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,as=xd(c.nextSibling),is=t,os=!0,ls=null,cs=!1,null!==e&&(Yr[Xr++]=Zr,Yr[Xr++]=es,Yr[Xr++]=Jr,Zr=e.id,es=e.overflow,Jr=t),(t=$o(t,i.children)).flags|=4096);return t}return a?(co(),a=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=Ur(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?a=Ur(u,a):(a=qr(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(c=e.child.memoizedState)?c=Vo(n):(null!==(l=c.cachePool)?(u=Ds._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Hs(),c={baseLanes:c.baseLanes|n,cachePool:l}),a.memoizedState=c,a.childLanes=qo(e,s,n),t.memoizedState=zo,i):(oo(t),e=(n=e.child).sibling,(n=Ur(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function $o(e,t){return(t=Ho({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ho(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Wo(e,t,n){return ro(t,e.child,null,n),(e=$o(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ko(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ks(e.return,t,n)}function Qo(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Yo(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ao(e,t,r.children,n),2&(r=ho.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ko(e,n,t);else if(19===e.tag)Ko(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(U(ho,r),s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===fo(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Qo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===fo(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Qo(t,!0,n,null,i);break;case"together":Qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(js(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Ur(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ur(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Jo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Es(e))}function Zo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)To=!0;else{if(!(Jo(e,n)||128&t.flags))return To=!1,function(e,t,n){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),ws(0,Ds,e.memoizedState.cache),ps();break;case 27:case 5:K(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:ws(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(oo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Go(e,t,n):(oo(t),null!==(e=Xo(e,t,n))?e.sibling:null);oo(t);break;case 19:var s=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(js(e,t,n,!1),r=0!==(n&t.childLanes)),s){if(r)return Yo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),U(ho,ho.current),r)break;return null;case 22:case 23:return t.lanes=0,Do(e,t,n);case 24:ws(0,Ds,e.memoizedState.cache)}return Xo(e,t,n)}(e,t,n);To=!!(131072&e.flags)}else To=!1,os&&1048576&t.flags&&ns(t,Qr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,i=s._init;if(s=i(s._payload),t.type=s,"function"!=typeof s){if(null!=s){if((i=s.$$typeof)===x){t.tag=11,t=Io(null,t,s,e,n);break e}if(i===S){t.tag=14,t=Po(null,t,s,e,n);break e}}throw t=T(s)||s,Error(r(306,t,""))}Br(s)?(e=bo(s,e),t.tag=1,t=Bo(null,t,s,e,n)):(t.tag=0,t=Fo(null,t,s,e,n))}return t;case 0:return Fo(e,t,t.type,t.pendingProps,n);case 1:return Bo(e,t,s=t.type,i=bo(s,t.pendingProps),n);case 3:e:{if($(t,t.stateNode.containerInfo),null===e)throw Error(r(387));s=t.pendingProps;var a=t.memoizedState;i=a.element,ii(e,t),hi(t,s,null,n);var o=t.memoizedState;if(s=o.cache,ws(0,Ds,s),s!==a.cache&&Ns(t,[Ds],n,!0),di(),s=o.element,a.isDehydrated){if(a={element:s,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Uo(e,t,s,n);break e}if(s!==i){ys(i=Er(Error(r(424)),t)),t=Uo(e,t,s,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(as=xd(e.firstChild),is=t,os=!0,ls=null,cs=!0,n=so(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),s===i){t=Xo(e,t,n);break e}Ao(e,t,s,n)}t=t.child}return t;case 26:return Oo(e,t),null===e?(n=Ad(t.type,null,t.pendingProps,null))?t.memoizedState=n:os||(n=t.type,e=t.pendingProps,(s=id(q.current).createElement(n))[De]=t,s[Re]=e,nd(s,n,e),We(s),t.stateNode=s):t.memoizedState=Ad(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&os&&(s=t.stateNode=Sd(t.type,t.pendingProps,q.current),is=t,cs=!0,i=as,pd(t.type)?(vd=i,as=xd(s.firstChild)):as=i),Ao(e,t,t.pendingProps.children,n),Oo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&os&&((i=s=as)&&(null!==(s=function(e,t,n,r){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===i)return e}if(null===(e=xd(e.nextSibling)))break}return null}(s,t.type,t.pendingProps,cs))?(t.stateNode=s,is=t,as=xd(s.firstChild),cs=!1,i=!0):i=!1),i||ds(t)),K(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,ld(i,a)?s=null:null!==o&&ld(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=Mi(e,t,Oi,null,null,n),Yd._currentValue=i),Oo(e,t),Ao(e,t,s,n),t.child;case 6:return null===e&&os&&((e=n=as)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=xd(e.nextSibling)))return null}return e}(n,t.pendingProps,cs))?(t.stateNode=n,is=t,as=null,e=!0):e=!1),e||ds(t)),null;case 13:return Go(e,t,n);case 4:return $(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=ro(t,null,s,n):Ao(e,t,s,n),t.child;case 11:return Io(e,t,t.type,t.pendingProps,n);case 7:return Ao(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ao(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,ws(0,t.type,s.value),Ao(e,t,s.children,n),t.child;case 9:return i=t.type._context,s=t.pendingProps.children,_s(t),s=s(i=Cs(i)),t.flags|=1,Ao(e,t,s,n),t.child;case 14:return Po(e,t,t.type,t.pendingProps,n);case 15:return Mo(e,t,t.type,t.pendingProps,n);case 19:return Yo(e,t,n);case 31:return s=t.pendingProps,n=t.mode,s={mode:s.mode,children:s.children},null===e?((n=Ho(s,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Ur(e.child,s)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Do(e,t,n);case 24:return _s(t),s=Cs(Ds),null===e?(null===(i=Gs())&&(i=ic,a=Rs(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:s,cache:i},si(t),ws(0,Ds,i)):(0!==(e.lanes&n)&&(ii(e,t),hi(t,null,null,n),di()),i=e.memoizedState,a=t.memoizedState,i.parent!==s?(i={parent:s,cache:s},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),ws(0,Ds,s)):(s=a.cache,ws(0,Ds,s),s!==i.cache&&Ns(t,[Ds],n,!0))),Ao(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function el(e){e.flags|=4}function tl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!qd(t)){if(null!==(t=io.current)&&((4194048&oc)===oc?null!==ao:(62914560&oc)!==oc&&!(536870912&oc)||t!==ao))throw ei=Ys,Ks;e.flags|=8192}}function nl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?je():536870912,e.lanes|=t,xc|=t)}function rl(e,t){if(!os)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function sl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=65011712&s.subtreeFlags,r|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function il(e,t,n){var s=t.pendingProps;switch(ss(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return sl(t),null;case 3:return n=t.stateNode,s=null,null!==e&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Ss(Ds),W(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ms(t)?el(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,gs())),sl(t),null;case 26:return n=t.memoizedState,null===e?(el(t),null!==n?(sl(t),tl(t,n)):(sl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(el(t),sl(t),tl(t,n)):(sl(t),t.flags&=-16777217):(e.memoizedProps!==s&&el(t),sl(t),t.flags&=-16777217),null;case 27:Y(t),n=q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==s&&el(t);else{if(!s){if(null===t.stateNode)throw Error(r(166));return sl(t),null}e=z.current,ms(t)?hs(t):(e=Sd(i,s,n),t.stateNode=e,el(t))}return sl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==s&&el(t);else{if(!s){if(null===t.stateNode)throw Error(r(166));return sl(t),null}if(e=z.current,ms(t))hs(t);else{switch(i=id(q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof s.is?i.createElement("select",{is:s.is}):i.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e="string"==typeof s.is?i.createElement(n,{is:s.is}):i.createElement(n)}}e[De]=t,e[Re]=s;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(nd(e,n,s),n){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&el(t)}}return sl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==s&&el(t);else{if("string"!=typeof s&&null===t.stateNode)throw Error(r(166));if(e=q.current,ms(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,null!==(i=is))switch(i.tag){case 27:case 5:s=i.memoizedProps}e[De]=t,(e=!!(e.nodeValue===n||null!==s&&!0===s.suppressHydrationWarning||Ju(e.nodeValue,n)))||ds(t)}else(e=id(e).createTextNode(s))[De]=t,t.stateNode=e}return sl(t),null;case 13:if(s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=ms(t),null!==s&&null!==s.dehydrated){if(null===e){if(!i)throw Error(r(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(r(317));i[De]=t}else ps(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;sl(t),i=!1}else i=gs(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(uo(t),t):(uo(t),null)}if(uo(t),128&t.flags)return t.lanes=n,t;if(n=null!==s,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(s=t.child).alternate&&null!==s.alternate.memoizedState&&null!==s.alternate.memoizedState.cachePool&&(i=s.alternate.memoizedState.cachePool.pool);var a=null;null!==s.memoizedState&&null!==s.memoizedState.cachePool&&(a=s.memoizedState.cachePool.pool),a!==i&&(s.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),nl(t,t.updateQueue),sl(t),null;case 4:return W(),null===e&&Vu(t.stateNode.containerInfo),sl(t),null;case 10:return Ss(t.type),sl(t),null;case 19:if(B(ho),null===(i=t.memoizedState))return sl(t),null;if(s=!!(128&t.flags),null===(a=i.rendering))if(s)rl(i,!1);else{if(0!==mc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=fo(e))){for(t.flags|=128,rl(i,!1),e=a.updateQueue,t.updateQueue=e,nl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return U(ho,1&ho.current|2),t.child}e=e.sibling}null!==i.tail&&re()>Nc&&(t.flags|=128,s=!0,rl(i,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=fo(a))){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,nl(t,e),rl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!os)return sl(t),null}else 2*re()-i.renderingStartTime>Nc&&536870912!==n&&(t.flags|=128,s=!0,rl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=re(),t.sibling=null,e=ho.current,U(ho,s?1&e|2:1&e),t):(sl(t),null);case 22:case 23:return uo(t),xi(),s=null!==t.memoizedState,null!==e?null!==e.memoizedState!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?!!(536870912&n)&&!(128&t.flags)&&(sl(t),6&t.subtreeFlags&&(t.flags|=8192)):sl(t),null!==(n=t.updateQueue)&&nl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),s=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),null!==e&&B(qs),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ss(Ds),sl(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function al(e,t){switch(ss(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ss(Ds),W(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(uo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(ho),null;case 4:return W(),null;case 10:return Ss(t.type),null;case 22:case 23:return uo(t),xi(),null!==e&&B(qs),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ss(Ds),null;default:return null}}function ol(e,t){switch(ss(t),t.tag){case 3:Ss(Ds),W();break;case 26:case 27:case 5:Y(t);break;case 4:W();break;case 13:uo(t);break;case 19:B(ho);break;case 10:Ss(t.type);break;case 22:case 23:uo(t),xi(),null!==e&&B(qs);break;case 24:Ss(Ds)}}function ll(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==s)}}catch(o){hu(t,t.return,o)}}function cl(e,t,n){try{var r=t.updateQueue,s=null!==r?r.lastEffect:null;if(null!==s){var i=s.next;r=i;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,s=t;var l=n,c=o;try{c()}catch(u){hu(s,l,u)}}}r=r.next}while(r!==i)}}catch(u){hu(t,t.return,u)}}function ul(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{mi(t,n)}catch(r){hu(e,e.return,r)}}}function dl(e,t,n){n.props=bo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){hu(e,t,r)}}function hl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(s){hu(e,t,s)}}function fl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(s){hu(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(i){hu(e,t,i)}else n.current=null}function ml(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){hu(e,e.return,s)}}function pl(e,t,n){try{var s=e.stateNode;!function(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,l=null,c=null,u=null,d=null;for(m in n){var h=n[m];if(n.hasOwnProperty(m)&&null!=h)switch(m){case"checked":case"value":break;case"defaultValue":c=h;default:s.hasOwnProperty(m)||ed(e,t,m,null,s,h)}}for(var f in s){var m=s[f];if(h=n[f],s.hasOwnProperty(f)&&(null!=m||null!=h))switch(f){case"type":a=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(r(137,t));break;default:m!==h&&ed(e,t,f,m,s,h)}}return void bt(e,o,l,c,u,d,a,i);case"select":for(a in m=o=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":m=c;default:s.hasOwnProperty(a)||ed(e,t,a,null,s,c)}for(i in s)if(a=s[i],c=n[i],s.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&ed(e,t,i,a,s,c)}return t=l,n=o,s=m,void(null!=f?wt(e,!!n,f,!1):!!s!=!!n&&(null!=t?wt(e,!!n,t,!0):wt(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!s.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ed(e,t,l,null,s,i)}for(o in s)if(i=s[o],a=n[o],s.hasOwnProperty(o)&&(null!=i||null!=a))switch(o){case"value":f=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(r(91));break;default:i!==a&&ed(e,t,o,i,s,a)}return void St(e,f,m);case"option":for(var p in n)if(f=n[p],n.hasOwnProperty(p)&&null!=f&&!s.hasOwnProperty(p))if("selected"===p)e.selected=!1;else ed(e,t,p,null,s,f);for(c in s)if(f=s[c],m=n[c],s.hasOwnProperty(c)&&f!==m&&(null!=f||null!=m))if("selected"===c)e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f;else ed(e,t,c,f,s,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!s.hasOwnProperty(g)&&ed(e,t,g,null,s,f);for(u in s)if(f=s[u],m=n[u],s.hasOwnProperty(u)&&f!==m&&(null!=f||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:ed(e,t,u,f,s,m)}return;default:if(Ct(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!s.hasOwnProperty(y)&&td(e,t,y,void 0,s,f);for(d in s)f=s[d],m=n[d],!s.hasOwnProperty(d)||f===m||void 0===f&&void 0===m||td(e,t,d,f,s,m);return}}for(var b in n)f=n[b],n.hasOwnProperty(b)&&null!=f&&!s.hasOwnProperty(b)&&ed(e,t,b,null,s,f);for(h in s)f=s[h],m=n[h],!s.hasOwnProperty(h)||f===m||null==f&&null==m||ed(e,t,h,f,s,m)}(s,e.type,n,t),s[Re]=t}catch(i){hu(e,e.return,i)}}function gl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function yl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||gl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function bl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zu));else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(bl(e,t,n),e=e.sibling;null!==e;)bl(e,t,n),e=e.sibling}function xl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(xl(e,t,n),e=e.sibling;null!==e;)xl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);nd(t,r,n),t[De]=e,t[Re]=n}catch(i){hu(e,e.return,i)}}var wl=!1,Sl=!1,kl=!1,Nl="function"==typeof WeakSet?WeakSet:Set,jl=null;function El(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Bl(e,n),4&r&&ll(5,n);break;case 1:if(Bl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){hu(n,n.return,a)}else{var s=bo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){hu(n,n.return,o)}}64&r&&ul(n),512&r&&hl(n,n.return);break;case 3:if(Bl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{mi(e,t)}catch(a){hu(n,n.return,a)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Bl(e,n),null===t&&4&r&&ml(n),512&r&&hl(n,n.return);break;case 12:Bl(e,n);break;case 13:Bl(e,n),4&r&&Pl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=gu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||wl)){t=null!==t&&null!==t.memoizedState||Sl,s=wl;var i=Sl;wl=r,(Sl=t)&&!i?zl(e,n,!!(8772&n.subtreeFlags)):Bl(e,n),wl=s,Sl=i}break;case 30:break;default:Bl(e,n)}}function _l(e){var t=e.alternate;null!==t&&(e.alternate=null,_l(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ve(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Cl=null,Tl=!1;function Al(e,t,n){for(n=n.child;null!==n;)Il(e,t,n),n=n.sibling}function Il(e,t,n){if(fe&&"function"==typeof fe.onCommitFiberUnmount)try{fe.onCommitFiberUnmount(he,n)}catch(i){}switch(n.tag){case 26:Sl||fl(n,t),Al(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Sl||fl(n,t);var r=Cl,s=Tl;pd(n.type)&&(Cl=n.stateNode,Tl=!1),Al(e,t,n),kd(n.stateNode),Cl=r,Tl=s;break;case 5:Sl||fl(n,t);case 6:if(r=Cl,s=Tl,Cl=null,Al(e,t,n),Tl=s,null!==(Cl=r))if(Tl)try{(9===Cl.nodeType?Cl.body:"HTML"===Cl.nodeName?Cl.ownerDocument.body:Cl).removeChild(n.stateNode)}catch(a){hu(n,t,a)}else try{Cl.removeChild(n.stateNode)}catch(a){hu(n,t,a)}break;case 18:null!==Cl&&(Tl?(gd(9===(e=Cl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Th(e)):gd(Cl,n.stateNode));break;case 4:r=Cl,s=Tl,Cl=n.stateNode.containerInfo,Tl=!0,Al(e,t,n),Cl=r,Tl=s;break;case 0:case 11:case 14:case 15:Sl||cl(2,n,t),Sl||cl(4,n,t),Al(e,t,n);break;case 1:Sl||(fl(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&dl(n,t,r)),Al(e,t,n);break;case 21:Al(e,t,n);break;case 22:Sl=(r=Sl)||null!==n.memoizedState,Al(e,t,n),Sl=r;break;default:Al(e,t,n)}}function Pl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Th(e)}catch(n){hu(t,t.return,n)}}function Ml(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Nl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Nl),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){var r=yu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Dl(e,t){var n=t.deletions;if(null!==n)for(var s=0;s<n.length;s++){var i=n[s],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){Cl=l.stateNode,Tl=!1;break e}break;case 5:Cl=l.stateNode,Tl=!1;break e;case 3:case 4:Cl=l.stateNode.containerInfo,Tl=!0;break e}l=l.return}if(null===Cl)throw Error(r(160));Il(a,o,i),Cl=null,Tl=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ol(t,e),t=t.sibling}var Rl=null;function Ol(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dl(t,e),Fl(e),4&s&&(cl(3,e,e.return),ll(3,e),cl(5,e,e.return));break;case 1:Dl(t,e),Fl(e),512&s&&(Sl||null===n||fl(n,n.return)),64&s&&wl&&(null!==(e=e.updateQueue)&&(null!==(s=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?s:n.concat(s))));break;case 26:var i=Rl;if(Dl(t,e),Fl(e),512&s&&(Sl||null===n||fl(n,n.return)),4&s){var a=null!==n?n.memoizedState:null;if(s=e.memoizedState,null===n)if(null===s)if(null===e.stateNode){e:{s=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(s){case"title":(!(a=i.getElementsByTagName("title")[0])||a[ze]||a[De]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(s),i.head.insertBefore(a,i.querySelector("head > title"))),nd(a,s,n),a[De]=e,We(a),s=a;break e;case"link":var o=zd("link","href",i).get(s+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}nd(a=i.createElement(s),s,n),i.head.appendChild(a);break;case"meta":if(o=zd("meta","content",i).get(s+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}nd(a=i.createElement(s),s,n),i.head.appendChild(a);break;default:throw Error(r(468,s))}a[De]=e,We(a),s=a}e.stateNode=s}else Vd(i,e.type,e.stateNode);else e.stateNode=Od(i,s,e.memoizedProps);else a!==s?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===s?Vd(i,e.type,e.stateNode):Od(i,s,e.memoizedProps)):null===s&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Dl(t,e),Fl(e),512&s&&(Sl||null===n||fl(n,n.return)),null!==n&&4&s&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Dl(t,e),Fl(e),512&s&&(Sl||null===n||fl(n,n.return)),32&e.flags){i=e.stateNode;try{Nt(i,"")}catch(m){hu(e,e.return,m)}}4&s&&null!=e.stateNode&&pl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&s&&(kl=!0);break;case 6:if(Dl(t,e),Fl(e),4&s){if(null===e.stateNode)throw Error(r(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(m){hu(e,e.return,m)}}break;case 3:if(Ud=null,i=Rl,Rl=Ed(t.containerInfo),Dl(t,e),Rl=i,Fl(e),4&s&&null!==n&&n.memoizedState.isDehydrated)try{Th(t.containerInfo)}catch(m){hu(e,e.return,m)}kl&&(kl=!1,Ll(e));break;case 4:s=Rl,Rl=Ed(e.stateNode.containerInfo),Dl(t,e),Fl(e),Rl=s;break;case 12:default:Dl(t,e),Fl(e);break;case 13:Dl(t,e),Fl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(kc=re()),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,Ml(e,s)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=wl,d=Sl;if(wl=u||i,Sl=d||c,Dl(t,e),Sl=d,wl=u,Fl(e),8192&s)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||wl||Sl||Ul(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"==typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(m){hu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){hu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&s&&(null!==(s=e.updateQueue)&&(null!==(n=s.retryQueue)&&(s.retryQueue=null,Ml(e,n))));break;case 19:Dl(t,e),Fl(e),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,Ml(e,s)));case 30:case 21:}}function Fl(e){var t=e.flags;if(2&t){try{for(var n,s=e.return;null!==s;){if(gl(s)){n=s;break}s=s.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var i=n.stateNode;xl(e,yl(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(Nt(a,""),n.flags&=-33),xl(e,yl(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;bl(e,yl(e),o);break;default:throw Error(r(161))}}catch(l){hu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Bl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)El(e,t.alternate,t),t=t.sibling}function Ul(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:cl(4,t,t.return),Ul(t);break;case 1:fl(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&dl(t,t.return,n),Ul(t);break;case 27:kd(t.stateNode);case 26:case 5:fl(t,t.return),Ul(t);break;case 22:null===t.memoizedState&&Ul(t);break;default:Ul(t)}e=e.sibling}}function zl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,s=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:zl(s,i,n),ll(4,i);break;case 1:if(zl(s,i,n),"function"==typeof(s=(r=i).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){hu(r,r.return,c)}if(null!==(s=(r=i).updateQueue)){var o=r.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)fi(l[s],o)}catch(c){hu(r,r.return,c)}}n&&64&a&&ul(i),hl(i,i.return);break;case 27:vl(i);case 26:case 5:zl(s,i,n),n&&null===r&&4&a&&ml(i),hl(i,i.return);break;case 12:zl(s,i,n);break;case 13:zl(s,i,n),n&&4&a&&Pl(s,i);break;case 22:null===i.memoizedState&&zl(s,i,n),hl(i,i.return);break;case 30:break;default:zl(s,i,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Os(n))}function ql(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Os(e))}function Gl(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)$l(e,t,n,r),t=t.sibling}function $l(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Gl(e,t,n,r),2048&s&&ll(9,t);break;case 1:case 13:default:Gl(e,t,n,r);break;case 3:Gl(e,t,n,r),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Os(e)));break;case 12:if(2048&s){Gl(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,o=i.onPostCommit;"function"==typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){hu(t,t.return,l)}}else Gl(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,a=t.alternate,null!==t.memoizedState?2&i._visibility?Gl(e,t,n,r):Wl(e,t):2&i._visibility?Gl(e,t,n,r):(i._visibility|=2,Hl(e,t,n,r,!!(10256&t.subtreeFlags))),2048&s&&Vl(a,t);break;case 24:Gl(e,t,n,r),2048&s&&ql(t.alternate,t)}}function Hl(e,t,n,r,s){for(s=s&&!!(10256&t.subtreeFlags),t=t.child;null!==t;){var i=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Hl(i,a,o,l,s),ll(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?Hl(i,a,o,l,s):Wl(i,a):(u._visibility|=2,Hl(i,a,o,l,s)),s&&2048&c&&Vl(a.alternate,a);break;case 24:Hl(i,a,o,l,s),s&&2048&c&&ql(a.alternate,a);break;default:Hl(i,a,o,l,s)}t=t.sibling}}function Wl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:Wl(n,r),2048&s&&Vl(r.alternate,r);break;case 24:Wl(n,r),2048&s&&ql(r.alternate,r);break;default:Wl(n,r)}t=t.sibling}}var Kl=8192;function Ql(e){if(e.subtreeFlags&Kl)for(e=e.child;null!==e;)Yl(e),e=e.sibling}function Yl(e){switch(e.tag){case 26:Ql(e),e.flags&Kl&&null!==e.memoizedState&&function(e,t,n){if(null===Gd)throw Error(r(475));var s=Gd;if(!("stylesheet"!==t.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&t.state.loading)){if(null===t.instance){var i=Id(n.href),a=e.querySelector(Pd(i));if(a)return null!==(e=a._p)&&"object"==typeof e&&"function"==typeof e.then&&(s.count++,s=Hd.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=a,void We(a);a=e.ownerDocument||e,n=Md(n),(i=Nd.get(i))&&Ld(n,i),We(a=a.createElement("link"));var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),nd(a,"link",n),t.instance=a}null===s.stylesheets&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&!(3&t.state.loading)&&(s.count++,t=Hd.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}(Rl,e.memoizedState,e.memoizedProps);break;case 5:default:Ql(e);break;case 3:case 4:var t=Rl;Rl=Ed(e.stateNode.containerInfo),Ql(e),Rl=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Kl,Kl=16777216,Ql(e),Kl=t):Ql(e))}}function Xl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Jl(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];jl=r,tc(r,e)}Xl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Zl(e),e=e.sibling}function Zl(e){switch(e.tag){case 0:case 11:case 15:Jl(e),2048&e.flags&&cl(9,e,e.return);break;case 3:case 12:default:Jl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,ec(e)):Jl(e)}}function ec(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];jl=r,tc(r,e)}Xl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:cl(8,t,t.return),ec(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,ec(t));break;default:ec(t)}e=e.sibling}}function tc(e,t){for(;null!==jl;){var n=jl;switch(n.tag){case 0:case 11:case 15:cl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Os(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,jl=r;else e:for(n=e;null!==jl;){var s=(r=jl).sibling,i=r.return;if(_l(r),r===n){jl=null;break e}if(null!==s){s.return=i,jl=s;break e}jl=i}}}var nc={getCacheForType:function(e){var t=Cs(Ds),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},rc="function"==typeof WeakMap?WeakMap:Map,sc=0,ic=null,ac=null,oc=0,lc=0,cc=null,uc=!1,dc=!1,hc=!1,fc=0,mc=0,pc=0,gc=0,yc=0,bc=0,xc=0,vc=null,wc=null,Sc=!1,kc=0,Nc=1/0,jc=null,Ec=null,_c=0,Cc=null,Tc=null,Ac=0,Ic=0,Pc=null,Mc=null,Dc=0,Rc=null;function Oc(){if(2&sc&&0!==oc)return oc&-oc;if(null!==I.T){return 0!==Bs?Bs:Iu()}return Pe()}function Fc(){0===bc&&(bc=536870912&oc&&!os?536870912:Ne());var e=io.current;return null!==e&&(e.flags|=32),bc}function Lc(e,t,n){(e!==ic||2!==lc&&9!==lc)&&null===e.cancelPendingCommit||($c(e,0),Vc(e,oc,bc,!1)),_e(e,n),2&sc&&e===ic||(e===ic&&(!(2&sc)&&(gc|=n),4===mc&&Vc(e,oc,bc,!1)),Nu(e))}function Bc(e,t,n){if(6&sc)throw Error(r(327));for(var s=!n&&!(124&t)&&0===(t&e.expiredLanes)||Se(e,t),i=s?function(e,t){var n=sc;sc|=2;var s=Wc(),i=Kc();ic!==e||oc!==t?(jc=null,Nc=re()+500,$c(e,t)):dc=Se(e,t);e:for(;;)try{if(0!==lc&&null!==ac){t=ac;var a=cc;t:switch(lc){case 1:lc=0,cc=null,tu(e,t,a,1);break;case 2:case 9:if(Xs(a)){lc=0,cc=null,eu(t);break}t=function(){2!==lc&&9!==lc||ic!==e||(lc=7),Nu(e)},a.then(t,t);break e;case 3:lc=7;break e;case 4:lc=5;break e;case 7:Xs(a)?(lc=0,cc=null,eu(t)):(lc=0,cc=null,tu(e,t,a,7));break;case 5:var o=null;switch(ac.tag){case 26:o=ac.memoizedState;case 5:case 27:var l=ac;if(!o||qd(o)){lc=0,cc=null;var c=l.sibling;if(null!==c)ac=c;else{var u=l.return;null!==u?(ac=u,nu(u)):ac=null}break t}}lc=0,cc=null,tu(e,t,a,5);break;case 6:lc=0,cc=null,tu(e,t,a,6);break;case 8:Gc(),mc=6;break e;default:throw Error(r(462))}}Jc();break}catch(d){Hc(e,d)}return vs=xs=null,I.H=s,I.A=i,sc=n,null!==ac?0:(ic=null,oc=0,Ar(),mc)}(e,t):Yc(e,t,!0),a=s;;){if(0===i){dc&&!s&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!a||zc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=vc;var c=l.current.memoizedState.isDehydrated;if(c&&($c(l,o).flags|=256),2!==(o=Yc(l,o,!1))){if(hc&&!c){l.errorRecoveryDisabledLanes|=a,gc|=a,i=4;break e}a=wc,wc=i,null!==a&&(null===wc?wc=a:wc.push.apply(wc,a))}i=o}if(a=!1,2!==i)continue}}if(1===i){$c(e,0),Vc(e,t,0,!0);break}e:{switch(s=e,a=i){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:Vc(s,t,bc,!uc);break e;case 2:wc=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(i=kc+300-re())){if(Vc(s,t,bc,!uc),0!==we(s,0,!0))break e;s.timeoutHandle=ud(Uc.bind(null,s,n,wc,jc,Sc,t,bc,gc,xc,uc,a,2,-0,0),i)}else Uc(s,n,wc,jc,Sc,t,bc,gc,xc,uc,a,0,-0,0)}break}i=Yc(e,t,!1),a=!1}Nu(e)}function Uc(e,t,n,s,i,a,o,l,c,u,d,h,f,m){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||!(16785408&~h))&&(Gd={stylesheets:null,count:0,unsuspend:$d},Yl(t),null!==(h=function(){if(null===Gd)throw Error(r(475));var e=Gd;return e.stylesheets&&0===e.count&&Kd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Kd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(su.bind(null,e,t,a,n,s,i,o,l,c,d,1,f,m)),void Vc(e,a,o,!u);su(e,t,a,n,s,i,o,l,c)}function zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Xn(i(),s))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,r){t&=~yc,t&=~gc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var i=31-pe(s),a=1<<i;r[i]=-1,s&=~a}0!==n&&Ce(e,n,t)}function qc(){return!!(6&sc)||(ju(0),!1)}function Gc(){if(null!==ac){if(0===lc)var e=ac.return;else vs=xs=null,Bi(e=ac),Ya=null,Xa=0,e=ac;for(;null!==e;)ol(e.alternate,e),e=e.return;ac=null}}function $c(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,dd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Gc(),ic=e,ac=n=Ur(e.current,null),oc=t,lc=0,cc=null,uc=!1,dc=Se(e,t),hc=!1,xc=bc=yc=gc=pc=mc=0,wc=vc=null,Sc=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var s=31-pe(r),i=1<<s;t|=e[s],r&=~i}return fc=t,Ar(),n}function Hc(e,t){wi=null,I.H=Ha,t===Ws||t===Qs?(t=ti(),lc=3):t===Ks?(t=ti(),lc=4):lc=t===Co?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,cc=t,null===ac&&(mc=1,ko(e,Er(t,e.current)))}function Wc(){var e=I.H;return I.H=Ha,null===e?Ha:e}function Kc(){var e=I.A;return I.A=nc,e}function Qc(){mc=4,uc||(4194048&oc)!==oc&&null!==io.current||(dc=!0),!(134217727&pc)&&!(134217727&gc)||null===ic||Vc(ic,oc,bc,!1)}function Yc(e,t,n){var r=sc;sc|=2;var s=Wc(),i=Kc();ic===e&&oc===t||(jc=null,$c(e,t)),t=!1;var a=mc;e:for(;;)try{if(0!==lc&&null!==ac){var o=ac,l=cc;switch(lc){case 8:Gc(),a=6;break e;case 3:case 2:case 9:case 6:null===io.current&&(t=!0);var c=lc;if(lc=0,cc=null,tu(e,o,l,c),n&&dc){a=0;break e}break;default:c=lc,lc=0,cc=null,tu(e,o,l,c)}}Xc(),a=mc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,vs=xs=null,sc=r,I.H=s,I.A=i,null===ac&&(ic=null,oc=0,Ar()),a}function Xc(){for(;null!==ac;)Zc(ac)}function Jc(){for(;null!==ac&&!te();)Zc(ac)}function Zc(e){var t=Zo(e.alternate,e,fc);e.memoizedProps=e.pendingProps,null===t?nu(e):ac=t}function eu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Lo(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Lo(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:Bi(t);default:ol(n,t),t=Zo(n,t=ac=zr(t,fc),fc)}e.memoizedProps=e.pendingProps,null===t?nu(e):ac=t}function tu(e,t,n,s){vs=xs=null,Bi(t),Ya=null,Xa=0;var i=t.return;try{if(function(e,t,n,s,i){if(n.flags|=32768,null!==s&&"object"==typeof s&&"function"==typeof s.then){if(null!==(t=n.alternate)&&js(t,n,i,!0),null!==(n=io.current)){switch(n.tag){case 13:return null===ao?Qc():null===n.alternate&&0===mc&&(mc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,s===Ys?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([s]):t.add(s),fu(e,s,i)),!1;case 22:return n.flags|=65536,s===Ys?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([s]):n.add(s),fu(e,s,i)),!1}throw Error(r(435,n.tag))}return fu(e,s,i),Qc(),!1}if(os)return null!==(t=io.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,s!==us&&ys(Er(e=Error(r(422),{cause:s}),n))):(s!==us&&ys(Er(t=Error(r(423),{cause:s}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,s=Er(s,n),ci(e,i=jo(e.stateNode,s,i)),4!==mc&&(mc=2)),!1;var a=Error(r(520),{cause:s});if(a=Er(a,n),null===vc?vc=[a]:vc.push(a),4!==mc&&(mc=2),null===t)return!0;s=Er(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ci(n,e=jo(n.stateNode,s,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==Ec&&Ec.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,_o(i=Eo(i),e,n,s),ci(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,oc))return mc=1,ko(e,Er(n,e.current)),void(ac=null)}catch(a){if(null!==i)throw ac=i,a;return mc=1,ko(e,Er(n,e.current)),void(ac=null)}32768&t.flags?(os||1===s?e=!0:dc||536870912&oc?e=!1:(uc=e=!0,(2===s||9===s||3===s||6===s)&&(null!==(s=io.current)&&13===s.tag&&(s.flags|=16384))),ru(t,e)):nu(t)}function nu(e){var t=e;do{if(32768&t.flags)return void ru(t,uc);e=t.return;var n=il(t.alternate,t,fc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===mc&&(mc=5)}function ru(e,t){do{var n=al(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);mc=6,ac=null}function su(e,t,n,s,i,a,o,l,c){e.cancelPendingCommit=null;do{cu()}while(0!==_c);if(6&sc)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,s,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-pe(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Ce(e,r,0),0!==i&&0===s&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,n,a|=Tr,o,l,c),e===ic&&(ac=ic=null,oc=0),Tc=t,Cc=e,Ac=n,Ic=a,Pc=i,Mc=s,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,Z(oe,function(){return uu(),null})):(e.callbackNode=null,e.callbackPriority=0),s=!!(13878&t.flags),13878&t.subtreeFlags||s){s=I.T,I.T=null,i=D.p,D.p=2,o=sc,sc|=4;try{!function(e,t){if(e=e.containerInfo,rd=sh,rr(e=nr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(s&&0!==s.rangeCount){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==s&&3!==h.nodeType||(c=o+s),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===s&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(sd={focusedElem:e,selectionRange:n},sh=!1,jl=t;null!==jl;)if(e=(t=jl).child,1024&t.subtreeFlags&&null!==e)e.return=t,jl=e;else for(;null!==jl;){switch(a=(t=jl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,s=n.stateNode;try{var p=bo(n.type,i,(n.elementType,n.type));e=s.getSnapshotBeforeUpdate(p,a),s.__reactInternalSnapshotBeforeUpdate=e}catch(y){hu(n,n.return,y)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))yd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,jl=e;break}jl=t.return}}(e,t)}finally{sc=o,D.p=i,I.T=s}}_c=1,iu(),au(),ou()}}function iu(){if(1===_c){_c=0;var e=Cc,t=Tc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=I.T,I.T=null;var r=D.p;D.p=2;var s=sc;sc|=4;try{Ol(t,e);var i=sd,a=nr(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(a!==o&&o&&o.ownerDocument&&tr(o.ownerDocument.documentElement,o)){if(null!==l&&rr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),m=o.textContent.length,p=Math.min(l.start,m),g=void 0===l.end?p:Math.min(l.end,m);!f.extend&&p>g&&(a=g,g=p,p=a);var y=er(o,p),b=er(o,g);if(y&&b&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==b.node||f.focusOffset!==b.offset)){var x=d.createRange();x.setStart(y.node,y.offset),f.removeAllRanges(),p>g?(f.addRange(x),f.extend(b.node,b.offset)):(x.setEnd(b.node,b.offset),f.addRange(x))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<d.length;o++){var v=d[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}sh=!!rd,sd=rd=null}finally{sc=s,D.p=r,I.T=n}}e.current=t,_c=2}}function au(){if(2===_c){_c=0;var e=Cc,t=Tc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=I.T,I.T=null;var r=D.p;D.p=2;var s=sc;sc|=4;try{El(e,t.alternate,t)}finally{sc=s,D.p=r,I.T=n}}_c=3}}function ou(){if(4===_c||3===_c){_c=0,ne();var e=Cc,t=Tc,n=Ac,r=Mc;10256&t.subtreeFlags||10256&t.flags?_c=5:(_c=0,Tc=Cc=null,lu(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(Ec=null),Ie(n),t=t.stateNode,fe&&"function"==typeof fe.onCommitFiberRoot)try{fe.onCommitFiberRoot(he,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==r){t=I.T,s=D.p,D.p=2,I.T=null;try{for(var i=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];i(o.value,{componentStack:o.stack})}}finally{I.T=t,D.p=s}}3&Ac&&cu(),Nu(e),s=e.pendingLanes,4194090&n&&42&s?e===Rc?Dc++:(Dc=0,Rc=e):Dc=0,ju(0)}}function lu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Os(t)))}function cu(e){return iu(),au(),ou(),uu()}function uu(){if(5!==_c)return!1;var e=Cc,t=Ic;Ic=0;var n=Ie(Ac),s=I.T,i=D.p;try{D.p=32>n?32:n,I.T=null,n=Pc,Pc=null;var a=Cc,o=Ac;if(_c=0,Tc=Cc=null,Ac=0,6&sc)throw Error(r(331));var l=sc;if(sc|=4,Zl(a.current),$l(a,a.current,o,n),sc=l,ju(0,!1),fe&&"function"==typeof fe.onPostCommitFiberRoot)try{fe.onPostCommitFiberRoot(he,a)}catch(c){}return!0}finally{D.p=i,I.T=s,lu(e,t)}}function du(e,t,n){t=Er(n,t),null!==(e=oi(e,t=jo(e.stateNode,t,2),2))&&(_e(e,2),Nu(e))}function hu(e,t,n){if(3===e.tag)du(e,e,n);else for(;null!==t;){if(3===t.tag){du(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ec||!Ec.has(r))){e=Er(n,e),null!==(r=oi(t,n=Eo(2),2))&&(_o(n,r,t,e),_e(r,2),Nu(r));break}}t=t.return}}function fu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new rc;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(hc=!0,s.add(n),e=mu.bind(null,e,t,n),t.then(e,e))}function mu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ic===e&&(oc&n)===n&&(4===mc||3===mc&&(62914560&oc)===oc&&300>re()-kc?!(2&sc)&&$c(e,0):yc|=n,xc===oc&&(xc=0)),Nu(e)}function pu(e,t){0===t&&(t=je()),null!==(e=Mr(e,t))&&(_e(e,t),Nu(e))}function gu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function yu(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==s&&s.delete(t),pu(e,n)}var bu=null,xu=null,vu=!1,wu=!1,Su=!1,ku=0;function Nu(e){e!==xu&&null===e.next&&(null===xu?bu=xu=e:xu=xu.next=e),wu=!0,vu||(vu=!0,fd(function(){6&sc?Z(ie,Eu):_u()}))}function ju(e,t){if(!Su&&wu){Su=!0;do{for(var n=!1,r=bu;null!==r;){if(0!==e){var s=r.pendingLanes;if(0===s)var i=0;else{var a=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-pe(42|e)+1)-1,i=201326741&(i&=s&~(a&~o))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Au(r,i))}else i=oc,!(3&(i=we(r,r===ic?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Se(r,i)||(n=!0,Au(r,i));r=r.next}}while(n);Su=!1}}function Eu(){_u()}function _u(){wu=vu=!1;var e=0;0!==ku&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==cd&&(cd=e,!0);return cd=null,!1}()&&(e=ku),ku=0);for(var t=re(),n=null,r=bu;null!==r;){var s=r.next,i=Cu(r,t);0===i?(r.next=null,null===n?bu=s:n.next=s,null===s&&(xu=n)):(n=r,(0!==e||3&i)&&(wu=!0)),r=s}ju(e)}function Cu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-pe(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=ke(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(n=oc,n=we(e,e===(t=ic)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===lc||9===lc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ee(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Se(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ee(r),Ie(n)){case 2:case 8:n=ae;break;case 32:default:n=oe;break;case 268435456:n=ce}return r=Tu.bind(null,e),n=Z(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ee(r),e.callbackPriority=2,e.callbackNode=null,2}function Tu(e,t){if(0!==_c&&5!==_c)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(cu()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=we(e,e===ic?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Bc(e,r,t),Cu(e,re()),null!=e.callbackNode&&e.callbackNode===n?Tu.bind(null,e):null)}function Au(e,t){if(cu())return null;Bc(e,t,!0)}function Iu(){return 0===ku&&(ku=Ne()),ku}function Pu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:It(""+e)}function Mu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Du=0;Du<kr.length;Du++){var Ru=kr[Du];Nr(Ru.toLowerCase(),"on"+(Ru[0].toUpperCase()+Ru.slice(1)))}Nr(pr,"onAnimationEnd"),Nr(gr,"onAnimationIteration"),Nr(yr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(br,"onTransitionRun"),Nr(xr,"onTransitionStart"),Nr(vr,"onTransitionCancel"),Nr(wr,"onTransitionEnd"),Xe("onMouseEnter",["mouseout","mouseover"]),Xe("onMouseLeave",["mouseout","mouseover"]),Xe("onPointerEnter",["pointerout","pointerover"]),Xe("onPointerLeave",["pointerout","pointerover"]),Ye("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ye("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ye("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ye("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ye("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function Lu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(u){xo(u)}s.currentTarget=null,i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(u){xo(u)}s.currentTarget=null,i=l}}}}function Bu(e,t){var n=t[Fe];void 0===n&&(n=t[Fe]=new Set);var r=e+"__bubble";n.has(r)||(qu(t,e,2,!1),n.add(r))}function Uu(e,t,n){var r=0;t&&(r|=4),qu(n,e,r,t)}var zu="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[zu]){e[zu]=!0,Ke.forEach(function(t){"selectionchange"!==t&&(Fu.has(t)||Uu(t,!1,e),Uu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zu]||(t[zu]=!0,Uu("selectionchange",!1,t))}}function qu(e,t,n,r){switch(dh(t)){case 2:var s=ih;break;case 8:s=ah;break;default:s=oh}n=s.bind(null,t,n,e),s=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Gu(e,t,n,r,s){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var l=r.stateNode.containerInfo;if(l===s)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===s)return;o=o.return}for(;null!==l;){if(null===(o=qe(l)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=a=o;continue e}l=l.parentNode}}r=r.return}Lt(function(){var r=a,s=Mt(n),o=[];e:{var l=Sr.get(e);if(void 0!==l){var c=tn,u=e;switch(e){case"keypress":if(0===Wt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=ln;break;case"focusout":u="blur",c=ln;break;case"beforeblur":case"afterblur":c=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=an;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case pr:case gr:case yr:c=cn;break;case wr:c=vn;break;case"scroll":case"scrollend":c=rn;break;case"wheel":c=wn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=Sn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==l?l+"Capture":null:l;d=[];for(var m,p=r;null!==p;){var g=p;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===f||null!=(g=Bt(p,f))&&d.push($u(p,g,m)),h)break;p=p.return}0<d.length&&(l=new c(l,u,null,n,s),o.push({event:l,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Pt||!(u=n.relatedTarget||n.fromElement)||!qe(u)&&!u[Oe])&&(c||l)&&(l=s.window===s?s:(l=s.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?qe(u):null)&&(h=i(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=an,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==c?l:$e(c),m=null==u?l:$e(u),(l=new d(g,p+"leave",c,n,s)).target=h,l.relatedTarget=m,g=null,qe(s)===r&&((d=new d(f,p+"enter",u,n,s)).target=m,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(f=u,p=0,m=d=c;m;m=Wu(m))p++;for(m=0,g=f;g;g=Wu(g))m++;for(;0<p-m;)d=Wu(d),p--;for(;0<m-p;)f=Wu(f),m--;for(;p--;){if(d===f||null!==f&&d===f.alternate)break e;d=Wu(d),f=Wu(f)}d=null}else d=null;null!==c&&Ku(o,l,c,d,!1),null!==u&&null!==h&&Ku(o,h,u,d,!0)}if("select"===(c=(l=r?$e(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var y=Un;else if(Dn(l))if(zn)y=Yn;else{y=Kn;var b=Wn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&Ct(r.elementType)&&(y=Un):y=Qn;switch(y&&(y=y(e,r))?Rn(o,y,n,s):(b&&b(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&vt(l,"number",l.value)),b=r?$e(r):window,e){case"focusin":(Dn(b)||"true"===b.contentEditable)&&(ir=b,ar=r,or=null);break;case"focusout":or=ar=ir=null;break;case"mousedown":lr=!0;break;case"contextmenu":case"mouseup":case"dragend":lr=!1,cr(o,n,s);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":cr(o,n,s)}var x;if(Nn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Pn?An(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(_n&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Pn&&(x=Ht()):(Gt="value"in(qt=s)?qt.value:qt.textContent,Pn=!0)),0<(b=Hu(r,v)).length&&(v=new dn(v,e,null,n,s),o.push({event:v,listeners:b}),x?v.data=x:null!==(x=In(n))&&(v.data=x))),(x=En?function(e,t){switch(e){case"compositionend":return In(t);case"keypress":return 32!==t.which?null:(Tn=!0,Cn);case"textInput":return(e=t.data)===Cn&&Tn?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!Nn&&An(e,t)?(e=Ht(),$t=Gt=qt=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(v=Hu(r,"onBeforeInput")).length&&(b=new dn("onBeforeInput","beforeinput",null,n,s),o.push({event:b,listeners:v}),b.data=x)),function(e,t,n,r,s){if("submit"===t&&n&&n.stateNode===s){var i=Pu((s[Re]||null).action),a=r.submitter;a&&null!==(t=(t=a[Re]||null)?Pu(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var o=new tn("action","action",null,r,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==ku){var e=a?Mu(s,a):new FormData(s);Pa(n,{pending:!0,data:e,method:s.method,action:i},null,e)}}else"function"==typeof i&&(o.preventDefault(),e=a?Mu(s,a):new FormData(s),Pa(n,{pending:!0,data:e,method:s.method,action:i},i,e))},currentTarget:s}]})}}(o,e,r,n,s)}Lu(o,t)})}function $u(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===i||(null!=(s=Bt(e,n))&&r.unshift($u(e,s,i)),null!=(s=Bt(e,t))&&r.push($u(e,s,i))),3===e.tag)return r;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Ku(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,s?null!=(c=Bt(n,i))&&a.unshift($u(n,c,l)):s||null!=(c=Bt(n,i))&&a.push($u(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qu=/\r\n?/g,Yu=/\u0000|\uFFFD/g;function Xu(e){return("string"==typeof e?e:""+e).replace(Qu,"\n").replace(Yu,"")}function Ju(e,t){return t=Xu(t),Xu(e)===t}function Zu(){}function ed(e,t,n,s,i,a){switch(n){case"children":"string"==typeof s?"body"===t||"textarea"===t&&""===s||Nt(e,s):("number"==typeof s||"bigint"==typeof s)&&"body"!==t&&Nt(e,""+s);break;case"className":st(e,"class",s);break;case"tabIndex":st(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":st(e,n,s);break;case"style":_t(e,s,a);break;case"data":if("object"!==t){st(e,"data",s);break}case"src":case"href":if(""===s&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==s||"function"==typeof s||"symbol"==typeof s||"boolean"==typeof s){e.removeAttribute(n);break}s=It(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if("function"==typeof s){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&ed(e,t,"name",i.name,i,null),ed(e,t,"formEncType",i.formEncType,i,null),ed(e,t,"formMethod",i.formMethod,i,null),ed(e,t,"formTarget",i.formTarget,i,null)):(ed(e,t,"encType",i.encType,i,null),ed(e,t,"method",i.method,i,null),ed(e,t,"target",i.target,i,null))),null==s||"symbol"==typeof s||"boolean"==typeof s){e.removeAttribute(n);break}s=It(""+s),e.setAttribute(n,s);break;case"onClick":null!=s&&(e.onclick=Zu);break;case"onScroll":null!=s&&Bu("scroll",e);break;case"onScrollEnd":null!=s&&Bu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!=typeof s||!("__html"in s))throw Error(r(61));if(null!=(n=s.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&"function"!=typeof s&&"symbol"!=typeof s;break;case"muted":e.muted=s&&"function"!=typeof s&&"symbol"!=typeof s;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==s||"function"==typeof s||"boolean"==typeof s||"symbol"==typeof s){e.removeAttribute("xlink:href");break}n=It(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=s&&"function"!=typeof s&&"symbol"!=typeof s?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&"function"!=typeof s&&"symbol"!=typeof s?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===s?e.setAttribute(n,""):!1!==s&&null!=s&&"function"!=typeof s&&"symbol"!=typeof s?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":null==s||"function"==typeof s||"symbol"==typeof s||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":Bu("beforetoggle",e),Bu("toggle",e),rt(e,"popover",s);break;case"xlinkActuate":it(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":it(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":it(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":it(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":it(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":it(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":it(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":it(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":it(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":rt(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&rt(e,n=Tt.get(n)||n,s)}}function td(e,t,n,s,i,a){switch(n){case"style":_t(e,s,a);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!=typeof s||!("__html"in s))throw Error(r(61));if(null!=(n=s.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof s?Nt(e,s):("number"==typeof s||"bigint"==typeof s)&&Nt(e,""+s);break;case"onScroll":null!=s&&Bu("scroll",e);break;case"onScrollEnd":null!=s&&Bu("scrollend",e);break;case"onClick":null!=s&&(e.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Qe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(a=null!=(a=e[Re]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!=typeof s)?n in e?e[n]=s:!0===s?e.setAttribute(n,""):rt(e,n,s):("function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,i)))}}function nd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bu("error",e),Bu("load",e);var s,i=!1,a=!1;for(s in n)if(n.hasOwnProperty(s)){var o=n[s];if(null!=o)switch(s){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ed(e,t,s,o,n,null)}}return a&&ed(e,t,"srcSet",n.srcSet,n,null),void(i&&ed(e,t,"src",n.src,n,null));case"input":Bu("invalid",e);var l=s=o=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":s=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:ed(e,t,i,d,n,null)}}return xt(e,s,l,c,u,o,a,!1),void ft(e);case"select":for(a in Bu("invalid",e),i=o=s=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":s=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:ed(e,t,a,l,n,null)}return t=s,n=o,e.multiple=!!i,void(null!=t?wt(e,!!i,t,!1):null!=n&&wt(e,!!i,n,!0));case"textarea":for(o in Bu("invalid",e),s=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:ed(e,t,o,l,n,null)}return kt(e,i,a,s),void ft(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i;else ed(e,t,c,i,n,null);return;case"dialog":Bu("beforetoggle",e),Bu("toggle",e),Bu("cancel",e),Bu("close",e);break;case"iframe":case"object":Bu("load",e);break;case"video":case"audio":for(i=0;i<Ou.length;i++)Bu(Ou[i],e);break;case"image":Bu("error",e),Bu("load",e);break;case"details":Bu("toggle",e);break;case"embed":case"source":case"link":Bu("error",e),Bu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ed(e,t,u,i,n,null)}return;default:if(Ct(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&td(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&ed(e,t,l,i,n,null))}var rd=null,sd=null;function id(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ld(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var cd=null;var ud="function"==typeof setTimeout?setTimeout:void 0,dd="function"==typeof clearTimeout?clearTimeout:void 0,hd="function"==typeof Promise?Promise:void 0,fd="function"==typeof queueMicrotask?queueMicrotask:void 0!==hd?function(e){return hd.resolve(null).then(e).catch(md)}:ud;function md(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function gd(e,t){var n=t,r=0,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&kd(a.documentElement),2&n&&kd(a.body),4&n)for(kd(n=a.head),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=o}}if(0===s)return e.removeChild(i),void Th(t);s--}else"$"===n||"$?"===n||"$!"===n?s++:r=n.charCodeAt(0)-48;else r=0;n=i}while(n);Th(t)}function yd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":yd(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function bd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function xd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function wd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function Sd(e,t,n){switch(t=id(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function kd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ve(e)}var Nd=new Map,jd=new Set;function Ed(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var _d=D.d;D.d={f:function(){var e=_d.f(),t=qc();return e||t},r:function(e){var t=Ge(e);null!==t&&5===t.tag&&"form"===t.type?Da(t):_d.r(e)},D:function(e){_d.D(e),Td("dns-prefetch",e,null)},C:function(e,t){_d.C(e,t),Td("preconnect",e,t)},L:function(e,t,n){_d.L(e,t,n);var r=Cd;if(r&&e&&t){var s='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(s+='[imagesizes="'+yt(n.imageSizes)+'"]')):s+='[href="'+yt(e)+'"]';var i=s;switch(t){case"style":i=Id(e);break;case"script":i=Dd(e)}Nd.has(i)||(e=c({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Nd.set(i,e),null!==r.querySelector(s)||"style"===t&&r.querySelector(Pd(i))||"script"===t&&r.querySelector(Rd(i))||(nd(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}},m:function(e,t){_d.m(e,t);var n=Cd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',i=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Dd(e)}if(!Nd.has(i)&&(e=c({rel:"modulepreload",href:e},t),Nd.set(i,e),null===n.querySelector(s))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rd(i)))return}nd(r=n.createElement("link"),"link",e),We(r),n.head.appendChild(r)}}},X:function(e,t){_d.X(e,t);var n=Cd;if(n&&e){var r=He(n).hoistableScripts,s=Dd(e),i=r.get(s);i||((i=n.querySelector(Rd(s)))||(e=c({src:e,async:!0},t),(t=Nd.get(s))&&Bd(e,t),We(i=n.createElement("script")),nd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}},S:function(e,t,n){_d.S(e,t,n);var r=Cd;if(r&&e){var s=He(r).hoistableStyles,i=Id(e);t=t||"default";var a=s.get(i);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Pd(i)))o.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Nd.get(i))&&Ld(e,n);var l=a=r.createElement("link");We(l),nd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Fd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(i,a)}}},M:function(e,t){_d.M(e,t);var n=Cd;if(n&&e){var r=He(n).hoistableScripts,s=Dd(e),i=r.get(s);i||((i=n.querySelector(Rd(s)))||(e=c({src:e,async:!0,type:"module"},t),(t=Nd.get(s))&&Bd(e,t),We(i=n.createElement("script")),nd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}}};var Cd="undefined"==typeof document?null:document;function Td(e,t,n){var r=Cd;if(r&&"string"==typeof t&&t){var s=yt(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"==typeof n&&(s+='[crossorigin="'+n+'"]'),jd.has(s)||(jd.add(s),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(s)&&(nd(t=r.createElement("link"),"link",e),We(t),r.head.appendChild(t)))}}function Ad(e,t,n,s){var i,a,o,l,c=(c=q.current)?Ed(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Id(n.href),(s=(n=He(c).hoistableStyles).get(t))||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Id(n.href);var u=He(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Pd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Nd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nd.set(e,n),u||(i=c,a=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),nd(a,"link",o),We(a),i.head.appendChild(a))))),t&&null===s)throw Error(r(528,""));return d}if(t&&null!==s)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Dd(n),(s=(n=He(c).hoistableScripts).get(t))||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Id(e){return'href="'+yt(e)+'"'}function Pd(e){return'link[rel="stylesheet"]['+e+"]"}function Md(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function Dd(e){return'[src="'+yt(e)+'"]'}function Rd(e){return"script[async]"+e}function Od(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(s)return t.instance=s,We(s),s;var i=c({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return We(s=(e.ownerDocument||e).createElement("style")),nd(s,"style",i),Fd(s,n.precedence,e),t.instance=s;case"stylesheet":i=Id(n.href);var a=e.querySelector(Pd(i));if(a)return t.state.loading|=4,t.instance=a,We(a),a;s=Md(n),(i=Nd.get(i))&&Ld(s,i),We(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),nd(a,"link",s),t.state.loading|=4,Fd(a,n.precedence,e),t.instance=a;case"script":return a=Dd(n.src),(i=e.querySelector(Rd(a)))?(t.instance=i,We(i),i):(s=n,(i=Nd.get(a))&&Bd(s=c({},n),i),We(i=(e=e.ownerDocument||e).createElement("script")),nd(i,"link",s),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(s=t.instance,t.state.loading|=4,Fd(s,n.precedence,e));return t.instance}function Fd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,i=s,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)i=o;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Ld(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Bd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ud=null;function zd(e,t,n){if(null===Ud){var r=new Map,s=Ud=new Map;s.set(n,r)}else(r=(s=Ud).get(n))||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[ze]||i[De]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(i):r.set(a,[i])}}return r}function Vd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function qd(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var Gd=null;function $d(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Kd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,t.forEach(Qd,e),Wd=null,Hd.call(e))}function Qd(e,t){if(!(4&t.state.loading)){var n=Wd.get(e);if(n)var r=n.get(null);else{n=new Map,Wd.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var a=s[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(s=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,s),n.set(a,s),this.count++,r=Hd.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),i?i.parentNode.insertBefore(s,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var Yd={$$typeof:b,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function Xd(e,t,n,r,s,i,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Jd(e,t,n,r,s,i,a,o,l,c,u,d){return e=new Xd(e,t,n,a,o,l,c,d),t=1,!0===i&&(t|=24),i=Lr(3,null,null,t),e.current=i,i.stateNode=e,(t=Rs()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},si(i),e}function Zd(e){return e?e=Or:Or}function eh(e,t,n,r,s,i){s=Zd(s),null===r.context?r.context=s:r.pendingContext=s,(r=ai(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=oi(e,r,t))&&(Lc(n,0,t),li(n,e,t))}function th(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nh(e,t){th(e,t),(e=e.alternate)&&th(e,t)}function rh(e){if(13===e.tag){var t=Mr(e,67108864);null!==t&&Lc(t,0,67108864),nh(e,67108864)}}var sh=!0;function ih(e,t,n,r){var s=I.T;I.T=null;var i=D.p;try{D.p=2,oh(e,t,n,r)}finally{D.p=i,I.T=s}}function ah(e,t,n,r){var s=I.T;I.T=null;var i=D.p;try{D.p=8,oh(e,t,n,r)}finally{D.p=i,I.T=s}}function oh(e,t,n,r){if(sh){var s=lh(r);if(null===s)Gu(e,t,r,ch,n),vh(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return fh=wh(fh,e,t,n,r,s),!0;case"dragenter":return mh=wh(mh,e,t,n,r,s),!0;case"mouseover":return ph=wh(ph,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return gh.set(i,wh(gh.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,yh.set(i,wh(yh.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(vh(e,r),4&t&&-1<xh.indexOf(e)){for(;null!==s;){var i=Ge(s);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=ve(i.pendingLanes);if(0!==a){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-pe(a);o.entanglements[1]|=l,a&=~l}Nu(i),!(6&sc)&&(Nc=re()+500,ju(0))}}break;case 13:null!==(o=Mr(i,2))&&Lc(o,0,2),qc(),nh(i,2)}if(null===(i=lh(r))&&Gu(e,t,r,ch,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else Gu(e,t,r,null,n)}}function lh(e){return uh(e=Mt(e))}var ch=null;function uh(e){if(ch=null,null!==(e=qe(e))){var t=i(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=a(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ch=e,null}function dh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(se()){case ie:return 2;case ae:return 8;case oe:case le:return 32;case ce:return 268435456;default:return 32}default:return 32}}var hh=!1,fh=null,mh=null,ph=null,gh=new Map,yh=new Map,bh=[],xh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":fh=null;break;case"dragenter":case"dragleave":mh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":gh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yh.delete(t.pointerId)}}function wh(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=Ge(t))&&rh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Sh(e){var t=qe(e.target);if(null!==t){var n=i(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=a(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=Oc();e=Ae(e);var t=Mr(n,e);null!==t&&Lc(t,0,e),nh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function kh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=lh(e.nativeEvent);if(null!==n)return null!==(t=Ge(n))&&rh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function Nh(e,t,n){kh(e)&&n.delete(t)}function jh(){hh=!1,null!==fh&&kh(fh)&&(fh=null),null!==mh&&kh(mh)&&(mh=null),null!==ph&&kh(ph)&&(ph=null),gh.forEach(Nh),yh.forEach(Nh)}function Eh(t,n){t.blockedOn===n&&(t.blockedOn=null,hh||(hh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jh)))}var _h=null;function Ch(t){_h!==t&&(_h=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){_h===t&&(_h=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],s=t[e+2];if("function"!=typeof r){if(null===uh(r||n))continue;break}var i=Ge(n);null!==i&&(t.splice(e,3),e-=3,Pa(i,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function Th(e){function t(t){return Eh(t,e)}null!==fh&&Eh(fh,e),null!==mh&&Eh(mh,e),null!==ph&&Eh(ph,e),gh.forEach(t),yh.forEach(t);for(var n=0;n<bh.length;n++){var r=bh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<bh.length&&null===(n=bh[0]).blockedOn;)Sh(n),null===n.blockedOn&&bh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var s=n[r],i=n[r+1],a=s[Re]||null;if("function"==typeof i)a||Ch(n);else if(a){var o=null;if(i&&i.hasAttribute("formAction")){if(s=i,a=i[Re]||null)o=a.formAction;else if(null!==uh(s))continue}else o=a.action;"function"==typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Ch(n)}}}function Ah(e){this._internalRoot=e}function Ih(e){this._internalRoot=e}Ih.prototype.render=Ah.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));eh(t.current,Oc(),e,t,null,null)},Ih.prototype.unmount=Ah.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;eh(e.current,2,null,e,null,null),qc(),t[Oe]=null}},Ih.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bh.length&&0!==t&&t<bh[n].priority;n++);bh.splice(n,0,e),0===n&&Sh(e)}};var Ph=t.version;if("19.1.1"!==Ph)throw Error(r(527,Ph,"19.1.1"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(s=a.return)){n=s;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return o(a),e;if(l===s)return o(a),t;l=l.sibling}throw Error(r(188))}if(n.return!==s.return)n=a,s=l;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,s=l;break}if(u===s){c=!0,s=a,n=l;break}u=u.sibling}if(!c){for(u=l.child;u;){if(u===n){c=!0,n=l,s=a;break}if(u===s){c=!0,s=l,n=a;break}u=u.sibling}if(!c)throw Error(r(189))}}if(n.alternate!==s)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?l(e):null)?null:e.stateNode};var Mh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.1"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{he=Dh.inject(Mh),fe=Dh}catch(Oh){}}return Q.createRoot=function(e,t){if(!s(e))throw Error(r(299));var n=!1,i="",a=vo,o=wo,l=So;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Jd(e,1,!1,null,0,n,i,a,o,l,0,null),e[Oe]=t.current,Vu(e),new Ah(t)},Q.hydrateRoot=function(e,t,n){if(!s(e))throw Error(r(299));var i=!1,a="",o=vo,l=wo,c=So,u=null;return null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Jd(e,1,!0,t,0,i,a,o,l,c,0,u)).context=Zd(null),n=t.current,(a=ai(i=Ae(i=Oc()))).callback=null,oi(n,a,i),n=i,t.current.lanes=n,_e(t,n),Nu(t),e[Oe]=t.current,Vu(e),new Ih(t)},Q.version="19.1.1",Q}var ee=(W||(W=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),K.exports=Z()),K.exports),te=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ne={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},re=new class{#e=ne;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}};var se="undefined"==typeof window||"Deno"in globalThis;function ie(){}function ae(e,t){return"function"==typeof e?e(t):e}function oe(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a)if(r){if(t.queryHash!==ce(a,t.options))return!1}else if(!de(t.queryKey,a))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&((!s||s===t.state.fetchStatus)&&!(i&&!i(t)))}function le(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(ue(t.options.mutationKey)!==ue(i))return!1}else if(!de(t.options.mutationKey,i))return!1}return(!r||t.state.status===r)&&!(s&&!s(t))}function ce(e,t){return(t?.queryKeyHashFn||ue)(e)}function ue(e){return JSON.stringify(e,(e,t)=>pe(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function de(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every(n=>de(e[n],t[n])))}var he=Object.prototype.hasOwnProperty;function fe(e,t){if(e===t)return e;const n=me(e)&&me(t);if(!(n||pe(e)&&pe(t)))return t;const r=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),i=s.length,a=n?new Array(i):{};let o=0;for(let l=0;l<i;l++){const i=n?l:s[l],c=e[i],u=t[i];if(c===u){a[i]=c,(n?l<r:he.call(e,i))&&o++;continue}if(null===c||null===u||"object"!=typeof c||"object"!=typeof u){a[i]=u;continue}const d=fe(c,u);a[i]=d,d===c&&o++}return r===i&&o===r?e:a}function me(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function pe(e){if(!ge(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!ge(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function ge(e){return"[object Object]"===Object.prototype.toString.call(e)}function ye(e,t,n){return"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?fe(e,t):t}function be(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function xe(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ve=Symbol();function we(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==ve?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var Se=new class extends te{#n;#r;#s;constructor(){super(),this.#s=e=>{if(!se&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#r||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(e){this.#s=e,this.#r?.(),this.#r=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#n!==e&&(this.#n=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#n?this.#n:"hidden"!==globalThis.document?.visibilityState}};var ke=function(e){setTimeout(e,0)};var Ne=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},s=ke;const i=r=>{t?e.push(r):s(()=>{n(r)})};return{batch:i=>{let a;t++;try{a=i()}finally{t--,t||(()=>{const t=e;e=[],t.length&&s(()=>{r(()=>{t.forEach(e=>{n(e)})})})})()}return a},batchCalls:e=>(...t)=>{i(()=>{e(...t)})},schedule:i,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{s=e}}}(),je=new class extends te{#i=!0;#r;#s;constructor(){super(),this.#s=e=>{if(!se&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#r||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(e){this.#s=e,this.#r?.(),this.#r=e(this.setOnline.bind(this))}setOnline(e){this.#i!==e&&(this.#i=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#i}};function Ee(e){return Math.min(1e3*2**e,3e4)}function _e(e){return"online"!==(e??"online")||je.isOnline()}var Ce=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Te(e){let t,n=!1,r=0;const s=function(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}(),i=()=>"pending"!==s.status,a=()=>Se.isFocused()&&("always"===e.networkMode||je.isOnline())&&e.canRun(),o=()=>_e(e.networkMode)&&e.canRun(),l=e=>{i()||(t?.(),s.resolve(e))},c=e=>{i()||(t?.(),s.reject(e))},u=()=>new Promise(n=>{t=e=>{(i()||a())&&n(e)},e.onPause?.()}).then(()=>{t=void 0,i()||e.onContinue?.()}),d=()=>{if(i())return;let t;const s=0===r?e.initialPromise:void 0;try{t=s??e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch(t=>{if(i())return;const s=e.retry??(se?0:3),o=e.retryDelay??Ee,l="function"==typeof o?o(r,t):o,h=!0===s||"number"==typeof s&&r<s||"function"==typeof s&&s(r,t);var f;!n&&h?(r++,e.onFail?.(r,t),(f=l,new Promise(e=>{re.setTimeout(e,f)})).then(()=>a()?void 0:u()).then(()=>{n?c(t):d()})):c(t)})};return{promise:s,status:()=>s.status,cancel:t=>{if(!i()){const n=new Ce(t);c(n),e.onCancel?.(n)}},continue:()=>(t?.(),s),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:o,start:()=>(o()?d():u().then(d),s)}}var Ae=class{#a;destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.gcTime)&&e>=0&&e!==1/0&&(this.#a=re.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(se?1/0:3e5))}clearGcTimeout(){this.#a&&(re.clearTimeout(this.#a),this.#a=void 0)}},Ie=class extends Ae{#o;#l;#c;#u;#d;#h;#f;constructor(e){super(),this.#f=!1,this.#h=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#u=e.client,this.#c=this.#u.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#o=Pe(this.options),this.state=e.state??this.#o,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#d?.promise}setOptions(e){if(this.options={...this.#h,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=Pe(this.options);void 0!==e.data&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#o=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#c.remove(this)}setData(e,t){const n=ye(this.state.data,e,this.options);return this.#m({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#m({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#d?.promise;return this.#d?.cancel(e),t?t.then(ie).catch(ie):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#o)}isActive(){return this.observers.some(e=>{return!1!==(t=e.options.enabled,n=this,"function"==typeof t?t(n):t);var t,n})}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ve||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===ae(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e))}onFocus(){const e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#d?.continue()}onOnline(){const e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#d?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#c.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#d&&(this.#f?this.#d.cancel({revert:!0}):this.#d.cancelRetry()),this.scheduleGc()),this.#c.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#m({type:"invalidate"})}async fetch(e,t){if("idle"!==this.state.fetchStatus&&"rejected"!==this.#d?.status())if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#d)return this.#d.continueRetry(),this.#d.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const n=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#f=!0,n.signal)})},s=()=>{const e=we(this.options,t),n=(()=>{const e={client:this.#u,queryKey:this.queryKey,meta:this.meta};return r(e),e})();return this.#f=!1,this.options.persister?this.options.persister(e,n,this):e(n)},i=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#u,state:this.state,fetchFn:s};return r(e),e})();this.options.behavior?.onFetch(i,this),this.#l=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===i.fetchOptions?.meta||this.#m({type:"fetch",meta:i.fetchOptions?.meta}),this.#d=Te({initialPromise:t?.initialPromise,fn:i.fetchFn,onCancel:e=>{e instanceof Ce&&e.revert&&this.setState({...this.#l,fetchStatus:"idle"}),n.abort()},onFail:(e,t)=>{this.#m({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#m({type:"pause"})},onContinue:()=>{this.#m({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0});try{const e=await this.#d.start();if(void 0===e)throw new Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#c.config.onSuccess?.(e,this),this.#c.config.onSettled?.(e,this.state.error,this),e}catch(a){if(a instanceof Ce){if(a.silent)return this.#d.promise;if(a.revert){if(void 0===this.state.data)throw a;return this.state.data}}throw this.#m({type:"error",error:a}),this.#c.config.onError?.(a,this),this.#c.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#m(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...(n=t.data,r=this.options,{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_e(r.networkMode)?"fetching":"paused",...void 0===n&&{error:null,status:"pending"}}),fetchMeta:e.meta??null};case"success":const s={...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#l=e.manual?s:void 0,s;case"error":const i=e.error;return{...t,error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}var n,r})(this.state),Ne.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#c.notify({query:this,type:"updated",action:e})})}};function Pe(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Me(e){return{onFetch:(t,n)=>{const r=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let n=!1;const c=we(t.options,t.fetchOptions),u=async(e,r,s)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const i=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:r,direction:s?"backward":"forward",meta:t.options.meta};var i;return i=e,Object.defineProperty(i,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",()=>{n=!0}),t.signal)}),e})(),a=await c(i),{maxPages:o}=t.options,l=s?xe:be;return{pages:l(e.pages,a,o),pageParams:l(e.pageParams,r,o)}};if(s&&i.length){const e="backward"===s,t={pages:i,pageParams:a},n=(e?Re:De)(r,t);o=await u(t,n,e)}else{const t=e??i.length;do{const e=0===l?a[0]??r.initialPageParam:De(r,o);if(l>0&&null==e)break;o=await u(o,e),l++}while(l<t)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function De(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Re(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Oe=class extends Ae{#u;#p;#g;#d;constructor(e){super(),this.#u=e.client,this.mutationId=e.mutationId,this.#g=e.mutationCache,this.#p=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#p.includes(e)||(this.#p.push(e),this.clearGcTimeout(),this.#g.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#p=this.#p.filter(t=>t!==e),this.scheduleGc(),this.#g.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#p.length||("pending"===this.state.status?this.scheduleGc():this.#g.remove(this))}continue(){return this.#d?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#m({type:"continue"})},n={client:this.#u,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#d=Te({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#m({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#m({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#g.canRun(this)});const r="pending"===this.state.status,s=!this.#d.canStart();try{if(r)t();else{this.#m({type:"pending",variables:e,isPaused:s}),await(this.#g.config.onMutate?.(e,this,n));const t=await(this.options.onMutate?.(e,n));t!==this.state.context&&this.#m({type:"pending",context:t,variables:e,isPaused:s})}const i=await this.#d.start();return await(this.#g.config.onSuccess?.(i,e,this.state.context,this,n)),await(this.options.onSuccess?.(i,e,this.state.context,n)),await(this.#g.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n)),await(this.options.onSettled?.(i,null,e,this.state.context,n)),this.#m({type:"success",data:i}),i}catch(i){try{throw await(this.#g.config.onError?.(i,e,this.state.context,this,n)),await(this.options.onError?.(i,e,this.state.context,n)),await(this.#g.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n)),await(this.options.onSettled?.(void 0,i,e,this.state.context,n)),i}finally{this.#m({type:"error",error:i})}}finally{this.#g.runNext(this)}}#m(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),Ne.batch(()=>{this.#p.forEach(t=>{t.onMutationUpdate(e)}),this.#g.notify({mutation:this,type:"updated",action:e})})}};var Fe=class extends te{constructor(e={}){super(),this.config=e,this.#y=new Set,this.#b=new Map,this.#x=0}#y;#b;#x;build(e,t,n){const r=new Oe({client:e,mutationCache:this,mutationId:++this.#x,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#y.add(e);const t=Le(e);if("string"==typeof t){const n=this.#b.get(t);n?n.push(e):this.#b.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#y.delete(e)){const t=Le(e);if("string"==typeof t){const n=this.#b.get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&this.#b.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Le(e);if("string"==typeof t){const n=this.#b.get(t),r=n?.find(e=>"pending"===e.state.status);return!r||r===e}return!0}runNext(e){const t=Le(e);if("string"==typeof t){const n=this.#b.get(t)?.find(t=>t!==e&&t.state.isPaused);return n?.continue()??Promise.resolve()}return Promise.resolve()}clear(){Ne.batch(()=>{this.#y.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#y.clear(),this.#b.clear()})}getAll(){return Array.from(this.#y)}find(e){const t={exact:!0,...e};return this.getAll().find(e=>le(t,e))}findAll(e={}){return this.getAll().filter(t=>le(e,t))}notify(e){Ne.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return Ne.batch(()=>Promise.all(e.map(e=>e.continue().catch(ie))))}};function Le(e){return e.options.scope?.id}var Be=class extends te{constructor(e={}){super(),this.config=e,this.#v=new Map}#v;build(e,t,n){const r=t.queryKey,s=t.queryHash??ce(r,t);let i=this.get(s);return i||(i=new Ie({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#v.has(e.queryHash)||(this.#v.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#v.get(e.queryHash);t&&(e.destroy(),t===e&&this.#v.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ne.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#v.get(e)}getAll(){return[...this.#v.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>oe(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>oe(e,t)):t}notify(e){Ne.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Ne.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ne.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ue=D.createContext(void 0),ze=({client:t,children:n})=>(D.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(Ue.Provider,{value:t,children:n}));const Ve=new class{#w;#g;#h;#S;#k;#N;#j;#E;constructor(e={}){this.#w=e.queryCache||new Be,this.#g=e.mutationCache||new Fe,this.#h=e.defaultOptions||{},this.#S=new Map,this.#k=new Map,this.#N=0}mount(){this.#N++,1===this.#N&&(this.#j=Se.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#w.onFocus())}),this.#E=je.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#w.onOnline())}))}unmount(){this.#N--,0===this.#N&&(this.#j?.(),this.#j=void 0,this.#E?.(),this.#E=void 0)}isFetching(e){return this.#w.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#g.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#w.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#w.build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(ae(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#w.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=this.#w.get(r.queryHash),i=s?.state.data,a=function(e,t){return"function"==typeof e?e(t):e}(t,i);if(void 0!==a)return this.#w.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Ne.batch(()=>this.#w.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#w.get(t.queryHash)?.state}removeQueries(e){const t=this.#w;Ne.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const n=this.#w;return Ne.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ne.batch(()=>this.#w.findAll(e).map(e=>e.cancel(n)));return Promise.all(r).then(ie).catch(ie)}invalidateQueries(e,t={}){return Ne.batch(()=>(this.#w.findAll(e).forEach(e=>{e.invalidate()}),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ne.batch(()=>this.#w.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(ie)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(r).then(ie)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#w.build(this,t);return n.isStaleByTime(ae(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ie).catch(ie)}fetchInfiniteQuery(e){return e.behavior=Me(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ie).catch(ie)}ensureInfiniteQueryData(e){return e.behavior=Me(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return je.isOnline()?this.#g.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#w}getMutationCache(){return this.#g}getDefaultOptions(){return this.#h}setDefaultOptions(e){this.#h=e}setQueryDefaults(e,t){this.#S.set(ue(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#S.values()],n={};return t.forEach(t=>{de(e,t.queryKey)&&Object.assign(n,t.defaultOptions)}),n}setMutationDefaults(e,t){this.#k.set(ue(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#k.values()],n={};return t.forEach(t=>{de(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#h.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ce(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ve&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#h.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#w.clear(),this.#g.clear()}}({defaultOptions:{queries:{queryFn:(({on401:e})=>async({queryKey:e})=>{const t=await fetch(e[0],{credentials:"include"});return await async function(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}(t),await t.json()})({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});let qe=0;const Ge=new Map,$e=e=>{if(Ge.has(e))return;const t=setTimeout(()=>{Ge.delete(e),Qe({type:"REMOVE_TOAST",toastId:e})},1e6);Ge.set(e,t)},He=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?$e(n):e.toasts.forEach(e=>{$e(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},We=[];let Ke={toasts:[]};function Qe(e){Ke=He(Ke,e),We.forEach(e=>{e(Ke)})}function Ye({...e}){const t=(qe=(qe+1)%Number.MAX_SAFE_INTEGER,qe.toString()),n=()=>Qe({type:"DISMISS_TOAST",toastId:t});return Qe({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||n()}}}),{id:t,dismiss:n,update:e=>Qe({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function Xe(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Xe(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Je(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Xe(e))&&(r&&(r+=" "),r+=t);return r}const Ze=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,et=Je,tt=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return et(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:s,defaultVariants:i}=t,a=Object.keys(s).map(e=>{const t=null==n?void 0:n[e],r=null==i?void 0:i[e];if(null===t)return null;const a=Ze(t)||Ze(r);return s[e][a]}),o=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...s}=t;return Object.entries(s).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...i,...o}[t]):{...i,...o}[t]===n})?[...e,n,r]:e},[]);return et(e,a,l,null==n?void 0:n.class,null==n?void 0:n.className)},nt=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},rt=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),st=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};
/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
var it={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};
/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=D.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:a,...o},l)=>D.createElement("svg",{ref:l,...it,width:t,height:t,stroke:e,strokeWidth:r?24*Number(n)/Number(t):n,className:rt("lucide",s),...!i&&!st(o)&&{"aria-hidden":"true"},...o},[...a.map(([e,t])=>D.createElement(e,t)),...Array.isArray(i)?i:[i]])),ot=(e,t)=>{const n=D.forwardRef(({className:n,...r},s)=>{return D.createElement(at,{ref:s,iconNode:t,className:rt(`lucide-${i=nt(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...r});var i});return n.displayName=nt(e),n},lt=ot("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ct=ot("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ut=ot("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),dt=ot("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ht=ot("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ft=ot("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),mt=ot("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),pt=ot("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),gt=ot("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),yt=ot("gamepad-2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]),bt=ot("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),xt=ot("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),vt=ot("music-2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]),wt=ot("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),St=ot("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),kt=ot("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Nt=ot("trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),jt=ot("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Et=ot("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),_t=ot("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ct=ot("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Tt=e=>{const t=Mt(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),At(n,t)||Pt(e)},getConflictingClassGroupIds:(e,t)=>{const s=n[e]||[];return t&&r[e]?[...s,...r[e]]:s}}},At=(e,t)=>{if(0===e.length)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?At(e.slice(1),r):void 0;if(s)return s;if(0===t.validators.length)return;const i=e.join("-");return t.validators.find(({validator:e})=>e(i))?.classGroupId},It=/^\[(.+)\]$/,Pt=e=>{if(It.test(e)){const t=It.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Mt=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Ft(Object.entries(e.classGroups),n).forEach(([e,n])=>{Dt(n,r,e,t)}),r},Dt=(e,t,n,r)=>{e.forEach(e=>{if("string"==typeof e){return void((""===e?t:Rt(t,e)).classGroupId=n)}if("function"==typeof e)return Ot(e)?void Dt(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(([e,s])=>{Dt(s,Rt(t,e),n,r)})})},Rt=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},Ot=e=>e.isThemeGetter,Ft=(e,t)=>t?e.map(([e,n])=>[e,n.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,n])=>[t+e,n])):e)]):e,Lt=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(s,i)=>{n.set(s,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(s(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):s(e,t)}}},Bt=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,s=t[0],i=t.length,a=e=>{const n=[];let a,o=0,l=0;for(let d=0;d<e.length;d++){let c=e[d];if(0===o){if(c===s&&(r||e.slice(d,d+i)===t)){n.push(e.slice(l,d)),l=d+i;continue}if("/"===c){a=d;continue}}"["===c?o++:"]"===c&&o--}const c=0===n.length?e:e.substring(l),u=c.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?c.substring(1):c,maybePostfixModifierPosition:a&&a>l?a-l:void 0}};return n?e=>n({className:e,parseClassName:a}):a},Ut=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t},zt=/\s+/;
/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function Vt(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=qt(e))&&(r&&(r+=" "),r+=t);return r}const qt=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=qt(e[r]))&&(n&&(n+=" "),n+=t);return n};function Gt(e,...t){let n,r,s,i=function(o){const l=t.reduce((e,t)=>t(e),e());return n=(e=>({cache:Lt(e.cacheSize),parseClassName:Bt(e),...Tt(e)}))(l),r=n.cache.get,s=n.cache.set,i=a,a(o)};function a(e){const t=r(e);if(t)return t;const i=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],a=e.trim().split(zt);let o="";for(let l=a.length-1;l>=0;l-=1){const e=a[l],{modifiers:t,hasImportantModifier:c,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let h=Boolean(d),f=r(h?u.substring(0,d):u);if(!f){if(!h){o=e+(o.length>0?" "+o:o);continue}if(f=r(u),!f){o=e+(o.length>0?" "+o:o);continue}h=!1}const m=Ut(t).join(":"),p=c?m+"!":m,g=p+f;if(i.includes(g))continue;i.push(g);const y=s(f,h);for(let n=0;n<y.length;++n){const e=y[n];i.push(p+e)}o=e+(o.length>0?" "+o:o)}return o})(e,n);return s(e,i),i}return function(){return i(Vt.apply(null,arguments))}}const $t=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Ht=/^\[(?:([a-z-]+):)?(.+)\]$/i,Wt=/^\d+\/\d+$/,Kt=new Set(["px","full","screen"]),Qt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Yt=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Xt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Jt=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Zt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,en=e=>nn(e)||Kt.has(e)||Wt.test(e),tn=e=>gn(e,"length",yn),nn=e=>Boolean(e)&&!Number.isNaN(Number(e)),rn=e=>gn(e,"number",nn),sn=e=>Boolean(e)&&Number.isInteger(Number(e)),an=e=>e.endsWith("%")&&nn(e.slice(0,-1)),on=e=>Ht.test(e),ln=e=>Qt.test(e),cn=new Set(["length","size","percentage"]),un=e=>gn(e,cn,bn),dn=e=>gn(e,"position",bn),hn=new Set(["image","url"]),fn=e=>gn(e,hn,vn),mn=e=>gn(e,"",xn),pn=()=>!0,gn=(e,t,n)=>{const r=Ht.exec(e);return!!r&&(r[1]?"string"==typeof t?r[1]===t:t.has(r[1]):n(r[2]))},yn=e=>Yt.test(e)&&!Xt.test(e),bn=()=>!1,xn=e=>Jt.test(e),vn=e=>Zt.test(e),wn=Gt(()=>{const e=$t("colors"),t=$t("spacing"),n=$t("blur"),r=$t("brightness"),s=$t("borderColor"),i=$t("borderRadius"),a=$t("borderSpacing"),o=$t("borderWidth"),l=$t("contrast"),c=$t("grayscale"),u=$t("hueRotate"),d=$t("invert"),h=$t("gap"),f=$t("gradientColorStops"),m=$t("gradientColorStopPositions"),p=$t("inset"),g=$t("margin"),y=$t("opacity"),b=$t("padding"),x=$t("saturate"),v=$t("scale"),w=$t("sepia"),S=$t("skew"),k=$t("space"),N=$t("translate"),j=()=>["auto",on,t],E=()=>[on,t],_=()=>["",en,tn],C=()=>["auto",nn,on],T=()=>["","0",on],A=()=>[nn,on];return{cacheSize:500,separator:":",theme:{colors:[pn],spacing:[en,tn],blur:["none","",ln,on],brightness:A(),borderColor:[e],borderRadius:["none","","full",ln,on],borderSpacing:E(),borderWidth:_(),contrast:A(),grayscale:T(),hueRotate:A(),invert:T(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[an,tn],inset:j(),margin:j(),opacity:A(),padding:E(),saturate:A(),scale:A(),sepia:T(),skew:A(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",on]}],container:["container"],columns:[{columns:[ln]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",on]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sn,on]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",on]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",sn,on]}],"grid-cols":[{"grid-cols":[pn]}],"col-start-end":[{col:["auto",{span:["full",sn,on]},on]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[pn]}],"row-start-end":[{row:["auto",{span:[sn,on]},on]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",on]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",on]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",on,t]}],"min-w":[{"min-w":[on,t,"min","max","fit"]}],"max-w":[{"max-w":[on,t,"none","full","min","max","fit","prose",{screen:[ln]},ln]}],h:[{h:[on,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[on,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[on,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[on,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ln,tn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rn]}],"font-family":[{font:[pn]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",on]}],"line-clamp":[{"line-clamp":["none",nn,rn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",en,on]}],"list-image":[{"list-image":["none",on]}],"list-style-type":[{list:["none","disc","decimal",on]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",en,tn]}],"underline-offset":[{"underline-offset":["auto",en,on]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",on]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",on]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",dn]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",un]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fn]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[en,on]}],"outline-w":[{outline:[en,tn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:_()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[en,tn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ln,mn]}],"shadow-color":[{shadow:[pn]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ln,on]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",on]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",on]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",on]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[sn,on]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",on]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",on]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",on]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[en,tn,rn]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function Sn(...e){return wn(Je(e))}const kn=o,Nn=D.forwardRef(({className:n,...r},s)=>e.jsx(t,{ref:s,className:Sn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...r}));Nn.displayName=t.displayName;const jn=tt("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-white text-black",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),En=D.forwardRef(({className:t,variant:r,...s},i)=>e.jsx(n,{ref:i,className:Sn(jn({variant:r}),t),...s}));En.displayName=n.displayName;D.forwardRef(({className:t,...n},s)=>e.jsx(r,{ref:s,className:Sn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...n})).displayName=r.displayName;const _n=D.forwardRef(({className:t,...n},r)=>e.jsx(s,{ref:r,className:Sn("absolute right-2 top-2 rounded-md p-1 text-black/50 opacity-0 transition-opacity hover:text-black focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...n,children:e.jsx(_t,{className:"h-4 w-4"})}));_n.displayName=s.displayName;const Cn=D.forwardRef(({className:t,...n},r)=>e.jsx(i,{ref:r,className:Sn("text-sm font-semibold",t),...n}));Cn.displayName=i.displayName;const Tn=D.forwardRef(({className:t,...n},r)=>e.jsx(a,{ref:r,className:Sn("text-sm opacity-90",t),...n}));function An(){const{toasts:t}=function(){const[e,t]=D.useState(Ke);return D.useEffect(()=>(We.push(t),()=>{const e=We.indexOf(t);e>-1&&We.splice(e,1)}),[e]),{...e,toast:Ye,dismiss:e=>Qe({type:"DISMISS_TOAST",toastId:e})}}();return e.jsxs(kn,{children:[t.map(function({id:t,title:n,description:r,action:s,...i}){return e.jsxs(En,{...i,children:[e.jsxs("div",{className:"grid gap-1",children:[n&&e.jsx(Cn,{children:n}),r&&e.jsx(Tn,{children:r})]}),s,e.jsx(_n,{})]},t)}),e.jsx(Nn,{})]})}Tn.displayName=a.displayName;const In=D.forwardRef(({className:t,...n},r)=>e.jsx("div",{ref:r,className:Sn("relative blur-hover rounded-lg border bg-card text-card-foreground shadow-sm",t),...n}));In.displayName="Card";const Pn=D.forwardRef(({className:t,...n},r)=>e.jsx("div",{ref:r,className:Sn("flex flex-col space-y-1.5 p-6",t),...n}));Pn.displayName="CardHeader";const Mn=D.forwardRef(({className:t,...n},r)=>e.jsx("h3",{ref:r,className:Sn("text-2xl font-semibold leading-none tracking-tight",t),...n}));Mn.displayName="CardTitle";D.forwardRef(({className:t,...n},r)=>e.jsx("p",{ref:r,className:Sn("text-sm text-muted-foreground",t),...n})).displayName="CardDescription";const Dn=D.forwardRef(({className:t,...n},r)=>e.jsx("div",{ref:r,className:Sn("p-6 pt-0",t),...n}));Dn.displayName="CardContent";function Rn(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(In,{className:"relative w-full max-w-md mx-4 before:absolute before:inset-0 before:rounded-lg before:bg-black/20 before:blur-md before:opacity-0 hover:before:opacity-100 before:transition-all before:duration-300 before:z-0",children:e.jsxs(Dn,{className:"relative z-10 pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(ht,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}D.forwardRef(({className:t,...n},r)=>e.jsx("div",{ref:r,className:Sn("flex items-center p-6 pt-0",t),...n})).displayName="CardFooter";const On=tt("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-white hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Fn=D.forwardRef(({className:t,variant:n,size:r,asChild:s=!1,...i},a)=>{const o=s?l:"button";return e.jsx(o,{className:Sn(On({variant:n,size:r,className:t})),ref:a,...i})});Fn.displayName="Button";const Ln=()=>{const[t,n]=D.useState(!1),r=()=>{n(!t),document.body.style.overflow=t?"":"hidden"};return e.jsxs(e.Fragment,{children:[e.jsx("a",{href:"#main-content",className:"skip-link absolute left-2 top-2 z-[100] px-6 py-3 rounded-full bg-gradient-to-r from-cyan-400 via-purple-500 to-cyan-400 text-black font-bold text-lg shadow-[0_0_24px_#22d3ee99] focus:opacity-100 focus:translate-y-0 opacity-0 -translate-y-10 transition-all duration-300 outline-none border-2 border-cyan-400",tabIndex:0,children:"Skip to main content"}),e.jsx("header",{className:"sticky top-0 bg-gradient-to-r from-[#181c2f] via-[#1a142e] to-[#181c2f] bg-opacity-95 backdrop-blur-md z-50 border-b border-cyan-400/30 shadow-[0_2px_24px_#00e8fc22]",children:e.jsxs("div",{className:"container mx-auto px-4 py-3 flex flex-wrap items-center justify-between",children:[e.jsxs(R,{to:"/",className:"flex items-center navbar-brand",title:"Built for the ones who don't blink.",children:[e.jsxs("picture",{children:[e.jsx("source",{srcSet:"/assets/usdfg-logo-transparent.webp",type:"image/webp"}),e.jsx("img",{src:"/assets/usdfg-logo-transparent.png",alt:"USDFG Logo",className:"w-10 h-10 object-contain mr-3 mascot-glow",style:{filter:"drop-shadow(0 0 10px rgba(0, 232, 252, 0.5))"},loading:"lazy",decoding:"async"})]}),e.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-500 to-rose-400 bg-clip-text text-transparent font-extrabold drop-shadow-[0_0_20px_rgba(255,255,255,0.4)] text-xl tracking-wide",children:"USDFG"})]}),e.jsx("button",{onClick:r,className:"lg:hidden p-2 rounded-md text-muted-foreground hover:text-primary focus:outline-none","aria-label":"Toggle menu",children:e.jsx(xt,{className:"w-6 h-6"})}),e.jsx("nav",{className:"hidden lg:flex items-center space-x-6",role:"navigation","aria-label":"Main Navigation",children:e.jsx(R,{to:"/app",children:e.jsxs(Fn,{className:"bg-gradient-to-r from-purple-600 to-pink-500 text-white px-5 py-2 rounded-full font-semibold shadow-[0_0_24px_#a78bfa99] hover:brightness-110 flex items-center gap-2 transition-all duration-200",children:[e.jsx("span",{role:"img","aria-label":"controller",children:""})," Enter the Arena"]})})}),t&&e.jsx("div",{className:"fixed inset-0 bg-[#181c2f]/95 z-50 lg:hidden",children:e.jsxs("div",{className:"container mx-auto px-4 pt-20 pb-8",children:[e.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 text-muted-foreground hover:text-primary","aria-label":"Close menu",children:e.jsx(_t,{className:"w-6 h-6"})}),e.jsx("nav",{className:"flex flex-col space-y-4",children:e.jsx(R,{to:"/app",onClick:r,children:e.jsxs(Fn,{className:"w-full bg-gradient-to-r from-purple-600 to-pink-500 text-white px-5 py-2 rounded-full font-semibold shadow-[0_0_24px_#a78bfa99] hover:brightness-110 flex items-center gap-2 transition-all duration-200",children:[e.jsx("span",{role:"img","aria-label":"controller",children:""})," Enter the Arena"]})})})]})})]})})]})},Bn=[{title:"Terms",href:"/terms"},{title:"Privacy",href:"/privacy"}],Un=({isRevealed:t})=>e.jsxs(e.Fragment,{children:[e.jsx("footer",{className:"bg-gradient-to-r from-[#181c2f] via-[#1a142e] to-[#181c2f] border-t border-cyan-400/30 pt-6 pb-10 animate-fade-in text-cyan-100 shadow-[0_-2px_24px_#00e8fc22]",role:"contentinfo","aria-label":"Site Footer",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 items-center gap-6 md:gap-0 w-full",children:[e.jsxs("div",{className:"flex items-center justify-center md:justify-start",children:[e.jsxs("picture",{children:[e.jsx("source",{srcSet:"/assets/usdfg-logo-transparent.webp",type:"image/webp"}),e.jsx("img",{src:"/assets/usdfg-logo-transparent.png",alt:"USDFG Logo",className:"w-10 h-10 sm:w-12 sm:h-12 object-contain mr-3 mascot-glow",style:{filter:"drop-shadow(0 0 10px rgba(0, 232, 252, 0.5))"},loading:"lazy",decoding:"async"})]}),e.jsx("span",{className:"text-sm text-cyan-400 font-medium whitespace-nowrap",children:"USDFGaming  The Last Great Token for Gamers."})]}),e.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4 text-cyan-300",children:[e.jsxs("a",{href:"https://twitter.com/USDFGAMING",target:"_blank",rel:"noopener noreferrer",className:"twitter-hover flex items-center gap-2 cursor-pointer","aria-label":"Follow us on Twitter",children:[e.jsx(jt,{size:18}),e.jsx("span",{children:"Twitter"})]}),e.jsxs("a",{href:"https://t.me/+TPjhAyJiAF9mZTI0",target:"_blank",rel:"noopener noreferrer",className:"telegram-hover flex items-center gap-2 cursor-pointer","aria-label":"Join us on Telegram",children:[e.jsx(St,{size:18}),e.jsx("span",{children:"Telegram"})]}),e.jsxs("a",{href:"https://instagram.com/usdfgaming",target:"_blank",rel:"noopener noreferrer",className:"instagram-hover flex items-center gap-2 cursor-pointer","aria-label":"Follow us on Instagram",children:[e.jsx(bt,{size:18}),e.jsx("span",{children:"Instagram"})]}),e.jsxs("a",{href:"https://www.tiktok.com/@usdfgames",target:"_blank",rel:"noopener noreferrer",className:"tiktok-hover flex items-center gap-2 cursor-pointer","aria-label":"Follow us on TikTok",children:[e.jsx(vt,{size:18}),e.jsx("span",{children:"TikTok"})]})]}),e.jsxs("nav",{className:"flex flex-wrap md:flex-nowrap items-center justify-center md:justify-end gap-3 md:gap-3 overflow-x-auto md:overflow-visible opacity-100 transition-opacity duration-700",children:[Bn.map((t,n)=>e.jsx("div",{className:"whitespace-nowrap",children:e.jsx(R,{to:t.href,className:"text-sm sm:text-base font-medium hover:text-primary transition-colors duration-200 block",children:t.title})},n)),e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"text-cyan-400 hover:text-cyan-300 text-sm transition duration-200 underline whitespace-nowrap",type:"button","aria-label":"Back to Top",children:"Back to Top "})]})]}),e.jsx("div",{className:"text-center text-xs sm:text-sm text-muted-foreground mt-6",children:" 2025 USDFG.PRO  All rights reserved. This platform is proprietary. Built for the relentless. Proven by performance."}),e.jsxs("p",{className:"text-xs text-muted-foreground text-center mt-1",children:["Need help? Contact ",e.jsx("a",{href:"mailto:support@usdfg.pro",className:"underline",children:"support@usdfg.pro"})]})]})}),e.jsxs("div",{style:{position:"fixed",left:0,right:0,bottom:0,background:"#111",color:"#FFD700",fontSize:"0.95rem",fontWeight:500,textAlign:"center",padding:"0.5rem 0.75rem",zIndex:50,borderTop:"2px solid #222",letterSpacing:"0.01em",boxShadow:"0 -2px 8px rgba(0,0,0,0.15)"},children:[e.jsx("span",{style:{marginRight:8,fontWeight:700},role:"img","aria-label":"lock",children:""}),"USDFG is a skill-based competition platform. No gambling. No house. No custodial accounts. Just your wallet, and your skill."]})]});function zn(){const e=D.useRef(null);return D.useEffect(()=>{const t=e.current;if(!t)return;const n=new window.IntersectionObserver(([e])=>{e.isIntersecting&&(t.classList.add("visible"),n.disconnect())},{threshold:.2});return n.observe(t),()=>n.disconnect()},[]),e}const Vn="/assets/usdfg-mascot-trophy-illustration.png",qn=()=>{const t=zn(),n=D.useRef(null);return e.jsxs("section",{className:"hero relative py-20 lg:py-32 overflow-hidden",children:[e.jsx("div",{className:"container mx-auto px-4 relative z-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center",children:[e.jsxs("div",{className:"lg:w-1/2 mb-12 lg:mb-0 text-center lg:text-left",children:[e.jsx("div",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4",style:{color:"var(--secondary-color)",textShadow:"var(--neon-glow)"},children:"USDFG"}),e.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:[e.jsx("span",{className:"text-white",children:"GAME. EARN. "}),e.jsx("span",{className:"conquer-glow",style:{color:"var(--accent-color)"},children:"CONQUER."})]}),e.jsxs("p",{className:"text-lg md:text-xl mb-8 max-w-xl",style:{color:"var(--text-light)"},children:["USDFG wasn't built for everyone.",e.jsx("br",{}),"It was built for the ones who don't blink.",e.jsx("br",{}),"Compete. Earn. Walk away with the token  if you can."]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center lg:justify-start gap-4",children:[e.jsx("a",{href:"#platform",children:e.jsx(Fn,{className:"w-full sm:w-auto px-6 py-5 transition-all btn-animation",style:{background:"var(--primary-color)",color:"var(--text-light)",boxShadow:"var(--primary-glow)"},children:"EXPLORE PLATFORM"})}),e.jsx(R,{to:"/whitepaper",children:e.jsx(Fn,{className:"w-full sm:w-auto px-6 py-5 transition-all btn-animation border-2 border-cyan-400 text-white font-bold bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-500 hover:brightness-125 hover:scale-105",style:{boxShadow:"0 0 16px #00e8fc99, 0 0 4px #fff1",fontWeight:700},children:"WHITEPAPER"})})]})]}),e.jsx("div",{className:"lg:w-1/2 flex justify-center lg:justify-end",children:e.jsx("div",{ref:t,className:"relative w-64 h-64 md:w-80 md:h-80 lg:w-96 lg:h-96",children:e.jsxs("picture",{children:[e.jsx("source",{srcSet:"/assets/usdfg-mascot-trophy-illustration.webp",type:"image/webp"}),e.jsx("img",{ref:n,src:Vn,alt:"USDFG mascot holding trophy - skill-based gaming rewards",loading:"eager",decoding:"async",onError:()=>{if(!n.current)return;const e=n.current.getAttribute("data-tried")||"";e.includes("png")?e.includes("abs")||(n.current.src="https://tangerine-valkyrie-b2552f.netlify.app/assets/usdfg-mascot-trophy-illustration.webp",n.current.setAttribute("data-tried",e+" abs")):(n.current.src=Vn,n.current.setAttribute("data-tried",e+" png"))},className:"w-64 h-64 md:w-80 md:h-80 lg:w-96 lg:h-96 max-w-full object-contain"})]})})})]})}),e.jsx("style",{children:"\n        .conquer-glow { text-shadow: 0 0 8px #ff005c; }\n      "})]})},Gn=()=>e.jsxs("section",{id:"about-usdfg",className:"relative flex justify-center items-center min-h-[70vh] px-2 py-16 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-transparent via-black/50 to-black/80"}),e.jsxs("picture",{children:[e.jsx("source",{srcSet:"/assets/usdfg-mascot-trophy-illustration.webp",type:"image/webp"}),e.jsx("img",{src:"/assets/usdfg-mascot-trophy-illustration.png",alt:"",className:"absolute inset-0 w-full h-full object-contain opacity-10 pointer-events-none select-none z-0 filter blur-[2px]",style:{top:0,left:0},loading:"lazy",decoding:"async"})]}),e.jsx("div",{className:"relative z-10 w-full max-w-4xl mx-auto px-4",children:e.jsxs("div",{className:"relative w-full max-w-4xl mx-auto px-8 py-12 rounded-2xl bg-gradient-to-br from-white/10 to-[#00ffff22] border border-cyan-400/30 shadow-xl backdrop-blur-md flex flex-col items-center group transition-all duration-500 hover:shadow-[0_0_30px_rgba(0,255,255,0.2)]",children:[e.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-radial from-cyan-400/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsxs("div",{className:"relative z-10 w-full flex flex-col items-center text-center space-y-8",children:[e.jsxs("h2",{className:"text-4xl font-bold text-center mb-6",children:["What is ",e.jsx("span",{className:"text-cyan-400",children:"USDFG?"})]}),e.jsxs("div",{className:"max-w-2xl mx-auto text-center",children:[e.jsx("p",{className:"text-lg text-center mb-4 font-bold",children:"USDFG is the access token for a decentralized competition platformbuilt for those who outperform, not those who get lucky."}),e.jsx("p",{className:"text-base text-center mb-4",children:e.jsx("strong",{children:"No gambling. No randomness. Only verified performance."})}),e.jsxs("p",{className:"text-base text-center mb-4",children:["Every challenge is ",e.jsx("span",{className:"text-cyan-400 font-medium",children:"merit-based"}),", and every reward is ",e.jsx("span",{className:"text-cyan-400 font-medium",children:"earned"}),".",e.jsx("br",{}),"USDFG exists to reward skillnot speculation."]}),e.jsxs("p",{className:"text-base text-center mb-4",children:["This isn't a passive asset. It's a ",e.jsx("strong",{children:"competitive layer for digital performance"}),", tied to strategy, execution, and outcome."]}),e.jsxs("p",{className:"text-base text-center mb-4",children:[e.jsx("strong",{children:"Fixed supply."})," No inflation. No hidden mechanics. Just a clean contract and a clear goal: ",e.jsx("span",{className:"text-cyan-400 font-medium",children:"reward performance"}),"."]}),e.jsxs("p",{className:"text-base text-center mt-6 font-bold",children:["USDFG is for players who win on skillnothing else.",e.jsx("br",{}),"If that's you, step forward. The next challenge awaits."]})]})]})]})}),e.jsx("style",{children:"\n        .fade-in {\n          opacity: 0;\n          transform: translateY(24px);\n          animation-name: fadeInUp;\n        }\n        @keyframes fadeInUp {\n          to {\n            opacity: 1;\n            transform: none;\n          }\n        }\n        .drop-shadow-glow {\n          filter: drop-shadow(0 0 8px #00ffff);\n        }\n        .neon-pulse {\n          box-shadow: 0 0 16px #00ffff, 0 0 32px #00ffff44;\n          transition: box-shadow 0.3s, background 0.3s;\n        }\n        .group:hover .neon-pulse {\n          box-shadow: 0 0 32px #00ffff, 0 0 64px #00ffff99;\n          background: #22d3ee;\n        }\n        .bg-gradient-radial {\n          background-image: radial-gradient(circle at center, var(--tw-gradient-stops));\n        }\n      "})]}),$n=()=>e.jsxs("section",{id:"platform",className:"py-20 px-4 text-white text-center relative overflow-hidden",children:[e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-center mb-4 text-white animate-fade-in",style:{textShadow:"var(--primary-glow)"},children:"USDFG  The Bitcoin of Gaming"}),e.jsx("p",{className:"text-center text-lg text-muted-foreground mb-12 animate-fade-in",style:{textShadow:"var(--neon-glow)"},children:"A decentralized arena where skill is the only currency."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-7xl mx-auto",children:[{title:"Fuel Your Wallet with USDFG",icon:"",description:"Buy, earn, or claim USDFG directly into your wallet. Use tokens to access skill-based challenges  not for speculation or staking."},{title:"Create Skill Challenges",icon:"",description:"Choose your game. Set the rules. Launch skill-based challenges directly from your wallet  no middlemen, no chance elements."},{title:"Earn Verified Results",icon:"",description:"USDFG is unlocked through proof of performance  not by chance, not by hype."},{title:"Track Wallet Stats",icon:"",description:"See your performance in real time  verified wins, challenge history, and skill progression, all tied to your wallet, not an account."}].map((t,n)=>e.jsxs("div",{className:"feature-card group bg-[#111]/90 border border-[#22d3ee] rounded-lg shadow-lg backdrop-blur-md p-8 transition-all duration-300 hover:scale-102 hover:shadow-[0_0_24px_#22d3ee66] hover:border-cyan-300/70 relative overflow-hidden animate-fade-in-up",tabIndex:0,style:{boxShadow:"0 0 16px #22d3ee22, 0 0 4px #a78bfa22"},children:[e.jsx("span",{className:"block text-4xl mb-4 drop-shadow-glow animate-bounce-slow",children:t.icon}),e.jsx("h3",{className:"text-xl font-extrabold tracking-wide text-cyan-300 mb-2 drop-shadow-glow",children:t.title}),e.jsx("p",{className:"text-cyan-100 text-base leading-relaxed font-medium",children:t.description})]},t.title))}),e.jsx("style",{children:"\n        .drop-shadow-glow {\n          filter: drop-shadow(0 0 4px #00ffff66);\n        }\n        .neon-glow {\n          box-shadow: 0 0 16px #00ffff44, 0 0 32px #00ffff22;\n          animation: neonPulse 4s ease-in-out infinite alternate;\n        }\n        @keyframes neonPulse {\n          0% { box-shadow: 0 0 16px #00ffff44, 0 0 32px #00ffff22; }\n          100% { box-shadow: 0 0 24px #00ffff66, 0 0 48px #00ffff33; }\n        }\n        .animate-bounce-slow {\n          animation: bounceSlow 4s ease-in-out infinite;\n        }\n        @keyframes bounceSlow {\n          0%, 100% { transform: translateY(0); }\n          50% { transform: translateY(-4px); }\n        }\n        .animate-fade-in-up {\n          opacity: 0;\n          transform: translateY(32px);\n          animation: fadeInUp 1s cubic-bezier(.4,0,.2,1) both;\n        }\n        @keyframes fadeInUp {\n          to {\n            opacity: 1;\n            transform: none;\n          }\n        }\n        .feature-card {\n          outline: 2px solid #00ffff;\n          outline-offset: 0px;\n        }\n      "})]}),Hn=D.forwardRef(({className:t,type:n,...r},s)=>e.jsx("input",{type:n,className:Sn("flex h-10 w-full rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-black placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r}));Hn.displayName="Input";const Wn=D.forwardRef(({className:t,...n},r)=>e.jsx("textarea",{className:Sn("flex min-h-[80px] w-full rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Wn.displayName="Textarea";const Kn=tt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Qn=D.forwardRef(({className:t,...n},r)=>e.jsx(c,{ref:r,className:Sn(Kn(),t),...n}));Qn.displayName=c.displayName;var Yn={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Xn=O.createContext&&O.createContext(Yn),Jn=["attr","size","title"];function Zn(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function er(){return er=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},er.apply(this,arguments)}function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach(function(t){rr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rr(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sr(e){return e&&e.map((e,t)=>O.createElement(e.tag,nr({key:t},e.attr),sr(e.child)))}function ir(e){return t=>O.createElement(ar,er({attr:nr({},e.attr)},t),sr(e.child))}function ar(e){var t=t=>{var n,{attr:r,size:s,title:i}=e,a=Zn(e,Jn),o=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),O.createElement("svg",er({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:nr(nr({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&O.createElement("title",null,i),e.children)};return void 0!==Xn?O.createElement(Xn.Consumer,null,e=>t(e)):t(Yn)}function or(e){return ir({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M256 336h-.02c0-16.18 1.34-8.73-85.05-181.51-17.65-35.29-68.19-35.36-85.87 0C-2.06 328.75.02 320.33.02 336H0c0 44.18 57.31 80 128 80s128-35.82 128-80zM128 176l72 144H56l72-144zm511.98 160c0-16.18 1.34-8.73-85.05-181.51-17.65-35.29-68.19-35.36-85.87 0-87.12 174.26-85.04 165.84-85.04 181.51H384c0 44.18 57.31 80 128 80s128-35.82 128-80h-.02zM440 320l72-144 72 144H440zm88 128H352V153.25c23.51-10.29 41.16-31.48 46.39-57.25H528c8.84 0 16-7.16 16-16V48c0-8.84-7.16-16-16-16H383.64C369.04 12.68 346.09 0 320 0s-49.04 12.68-63.64 32H112c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h129.61c5.23 25.76 22.87 46.96 46.39 57.25V448H112c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h416c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function lr(e){return ir({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function cr(e){return ir({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function ur(e){return ir({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function dr(e){return ir({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504.971 199.362l-22.627-22.627c-9.373-9.373-24.569-9.373-33.941 0l-5.657 5.657L329.608 69.255l5.657-5.657c9.373-9.373 9.373-24.569 0-33.941L312.638 7.029c-9.373-9.373-24.569-9.373-33.941 0L154.246 131.48c-9.373 9.373-9.373 24.569 0 33.941l22.627 22.627c9.373 9.373 24.569 9.373 33.941 0l5.657-5.657 39.598 39.598-81.04 81.04-5.657-5.657c-12.497-12.497-32.758-12.497-45.255 0L9.373 412.118c-12.497 12.497-12.497 32.758 0 45.255l45.255 45.255c12.497 12.497 32.758 12.497 45.255 0l114.745-114.745c12.497-12.497 12.497-32.758 0-45.255l-5.657-5.657 81.04-81.04 39.598 39.598-5.657 5.657c-9.373 9.373-9.373 24.569 0 33.941l22.627 22.627c9.373 9.373 24.569 9.373 33.941 0l124.451-124.451c9.372-9.372 9.372-24.568 0-33.941z"},child:[]}]})(e)}function hr(e){return ir({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function fr(e){return ir({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"},child:[]}]})(e)}function mr(e){return ir({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(e)}function pr(e){return ir({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}const gr=D.createContext({});const yr="undefined"!=typeof window,br=yr?D.useLayoutEffect:D.useEffect,xr=D.createContext(null);function vr(e,t){-1===e.indexOf(t)&&e.push(t)}function wr(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Sr=(e,t,n)=>n>t?t:n<e?e:n;const kr={},Nr=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function jr(e){return"object"==typeof e&&null!==e}const Er=e=>/^0[^.\s]+$/u.test(e);function _r(e){let t;return()=>(void 0===t&&(t=e()),t)}const Cr=e=>e,Tr=(e,t)=>n=>t(e(n)),Ar=(...e)=>e.reduce(Tr),Ir=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};class Pr{constructor(){this.subscriptions=[]}add(e){return vr(this.subscriptions,e),()=>wr(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const r=this.subscriptions[s];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mr=e=>1e3*e,Dr=e=>e/1e3;function Rr(e,t){return t?e*(1e3/t):0}const Or=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Fr(e,t,n,r){if(e===t&&n===r)return Cr;const s=t=>function(e,t,n,r,s){let i,a,o=0;do{a=t+(n-t)/2,i=Or(a,r,s)-e,i>0?n=a:t=a}while(Math.abs(i)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:Or(s(e),t,r)}const Lr=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Br=e=>t=>1-e(1-t),Ur=Fr(.33,1.53,.69,.99),zr=Br(Ur),Vr=Lr(zr),qr=e=>(e*=2)<1?.5*zr(e):.5*(2-Math.pow(2,-10*(e-1))),Gr=e=>1-Math.sin(Math.acos(e)),$r=Br(Gr),Hr=Lr(Gr),Wr=Fr(.42,0,1,1),Kr=Fr(0,0,.58,1),Qr=Fr(.42,0,.58,1),Yr=e=>Array.isArray(e)&&"number"==typeof e[0],Xr={linear:Cr,easeIn:Wr,easeInOut:Qr,easeOut:Kr,circIn:Gr,circInOut:Hr,circOut:$r,backIn:zr,backInOut:Vr,backOut:Ur,anticipate:qr},Jr=e=>{if(Yr(e)){e.length;const[t,n,r,s]=e;return Fr(t,n,r,s)}return"string"==typeof e?Xr[e]:e},Zr=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function es(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Zr.reduce((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(t){i.has(t)&&(l.schedule(t),e()),t(a)}const l={schedule:(e,s=!1,a=!1)=>{const o=a&&r?t:n;return s&&i.add(e),o.has(e)||o.add(e),e},cancel:e=>{n.delete(e),i.delete(e)},process:e=>{a=e,r?s=!0:(r=!0,[t,n]=[n,t],t.forEach(o),t.clear(),r=!1,s&&(s=!1,l.process(e)))}};return l}(i),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:f,postRender:m}=a,p=()=>{const i=kr.useManualTiming?s.timestamp:performance.now();n=!1,kr.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(i-s.timestamp,40),1)),s.timestamp=i,s.isProcessing=!0,o.process(s),l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),m.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(p))};return{schedule:Zr.reduce((t,i)=>{const o=a[i];return t[i]=(t,i=!1,a=!1)=>(n||(n=!0,r=!0,s.isProcessing||e(p)),o.schedule(t,i,a)),t},{}),cancel:e=>{for(let t=0;t<Zr.length;t++)a[Zr[t]].cancel(e)},state:s,steps:a}}const{schedule:ts,cancel:ns,state:rs,steps:ss}=es("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:Cr,!0);let is;function as(){is=void 0}const os={now:()=>(void 0===is&&os.set(rs.isProcessing||kr.useManualTiming?rs.timestamp:performance.now()),is),set:e=>{is=e,queueMicrotask(as)}},ls=e=>t=>"string"==typeof t&&t.startsWith(e),cs=ls("--"),us=ls("var(--"),ds=e=>!!us(e)&&hs.test(e.split("/*")[0].trim()),hs=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,fs={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},ms={...fs,transform:e=>Sr(0,1,e)},ps={...fs,default:1},gs=e=>Math.round(1e5*e)/1e5,ys=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const bs=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xs=(e,t)=>n=>Boolean("string"==typeof n&&bs.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),vs=(e,t,n)=>r=>{if("string"!=typeof r)return r;const[s,i,a,o]=r.match(ys);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},ws={...fs,transform:e=>Math.round((e=>Sr(0,255,e))(e))},Ss={test:xs("rgb","red"),parse:vs("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+ws.transform(e)+", "+ws.transform(t)+", "+ws.transform(n)+", "+gs(ms.transform(r))+")"};const ks={test:xs("#"),parse:function(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}},transform:Ss.transform},Ns=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),js=Ns("deg"),Es=Ns("%"),_s=Ns("px"),Cs=Ns("vh"),Ts=Ns("vw"),As=(()=>({...Es,parse:e=>Es.parse(e)/100,transform:e=>Es.transform(100*e)}))(),Is={test:xs("hsl","hue"),parse:vs("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Es.transform(gs(t))+", "+Es.transform(gs(n))+", "+gs(ms.transform(r))+")"},Ps={test:e=>Ss.test(e)||ks.test(e)||Is.test(e),parse:e=>Ss.test(e)?Ss.parse(e):Is.test(e)?Is.parse(e):ks.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?Ss.transform(e):Is.transform(e),getAnimatableNone:e=>{const t=Ps.parse(e);return t.alpha=0,Ps.transform(t)}},Ms=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Ds="number",Rs="color",Os=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fs(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(Os,e=>(Ps.test(e)?(r.color.push(i),s.push(Rs),n.push(Ps.parse(e))):e.startsWith("var(")?(r.var.push(i),s.push("var"),n.push(e)):(r.number.push(i),s.push(Ds),n.push(parseFloat(e))),++i,"${}")).split("${}");return{values:n,split:a,indexes:r,types:s}}function Ls(e){return Fs(e).values}function Bs(e){const{split:t,types:n}=Fs(e),r=t.length;return e=>{let s="";for(let i=0;i<r;i++)if(s+=t[i],void 0!==e[i]){const t=n[i];s+=t===Ds?gs(e[i]):t===Rs?Ps.transform(e[i]):e[i]}return s}}const Us=e=>"number"==typeof e?0:Ps.test(e)?Ps.getAnimatableNone(e):e;const zs={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(ys)?.length||0)+(e.match(Ms)?.length||0)>0},parse:Ls,createTransformer:Bs,getAnimatableNone:function(e){const t=Ls(e);return Bs(e)(t.map(Us))}};function Vs(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function qs(e,t){return n=>n>0?t:e}const Gs=(e,t,n)=>e+(t-e)*n,$s=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},Hs=[ks,Ss,Is];function Ws(e){const t=(n=e,Hs.find(e=>e.test(n)));var n;if(!Boolean(t))return!1;let r=t.parse(e);return t===Is&&(r=function({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let s=0,i=0,a=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r;s=Vs(o,r,e+1/3),i=Vs(o,r,e),a=Vs(o,r,e-1/3)}else s=i=a=n;return{red:Math.round(255*s),green:Math.round(255*i),blue:Math.round(255*a),alpha:r}}(r)),r}const Ks=(e,t)=>{const n=Ws(e),r=Ws(t);if(!n||!r)return qs(e,t);const s={...n};return e=>(s.red=$s(n.red,r.red,e),s.green=$s(n.green,r.green,e),s.blue=$s(n.blue,r.blue,e),s.alpha=Gs(n.alpha,r.alpha,e),Ss.transform(s))},Qs=new Set(["none","hidden"]);function Ys(e,t){return n=>Gs(e,t,n)}function Xs(e){return"number"==typeof e?Ys:"string"==typeof e?ds(e)?qs:Ps.test(e)?Ks:ei:Array.isArray(e)?Js:"object"==typeof e?Ps.test(e)?Ks:Zs:qs}function Js(e,t){const n=[...e],r=n.length,s=e.map((e,n)=>Xs(e)(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=s[t](e);return n}}function Zs(e,t){const n={...e,...t},r={};for(const s in n)void 0!==e[s]&&void 0!==t[s]&&(r[s]=Xs(e[s])(e[s],t[s]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const ei=(e,t)=>{const n=zs.createTransformer(t),r=Fs(e),s=Fs(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Qs.has(e)&&!s.values.length||Qs.has(t)&&!r.values.length?function(e,t){return Qs.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Ar(Js(function(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][r[i]],o=e.values[a]??0;n[s]=o,r[i]++}return n}(r,s),s.values),n):qs(e,t)};function ti(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return Gs(e,t,n);return Xs(e)(e,t)}const ni=e=>{const t=({timestamp:t})=>e(t);return{start:(e=!0)=>ts.update(t,e),stop:()=>ns(t),now:()=>rs.isProcessing?rs.timestamp:os.now()}},ri=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=Math.round(1e4*e(i/(s-1)))/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},si=2e4;function ii(e){let t=0;let n=e.next(t);for(;!n.done&&t<si;)t+=50,n=e.next(t);return t>=si?1/0:t}function ai(e,t,n){const r=Math.max(t-5,0);return Rr(n-e(r),t-r)}const oi=100,li=10,ci=1,ui=0,di=800,hi=.3,fi=.3,mi={granular:.01,default:2},pi={granular:.005,default:.5},gi=.01,yi=10,bi=.05,xi=1,vi=.001;function wi({duration:e=di,bounce:t=hi,velocity:n=ui,mass:r=ci}){let s,i,a=1-t;a=Sr(bi,xi,a),e=Sr(gi,yi,Dr(e)),a<1?(s=t=>{const r=t*a,s=r*e,i=r-n,o=ki(t,a),l=Math.exp(-s);return vi-i/o*l},i=t=>{const r=t*a*e,i=r*n+n,o=Math.pow(a,2)*Math.pow(t,2)*e,l=Math.exp(-r),c=ki(Math.pow(t,2),a);return(-s(t)+vi>0?-1:1)*((i-o)*l)/c}):(s=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,i=t=>Math.exp(-t*e)*(e*e*(n-t)));const o=function(e,t,n){let r=n;for(let s=1;s<Si;s++)r-=e(r)/t(r);return r}(s,i,5/e);if(e=Mr(e),isNaN(o))return{stiffness:oi,damping:li,duration:e};{const t=Math.pow(o,2)*r;return{stiffness:t,damping:2*a*Math.sqrt(r*t),duration:e}}}const Si=12;function ki(e,t){return e*Math.sqrt(1-t*t)}const Ni=["duration","bounce"],ji=["stiffness","damping","mass"];function Ei(e,t){return t.some(t=>void 0!==e[t])}function _i(e=fi,t=hi){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t={velocity:ui,stiffness:oi,damping:li,mass:ci,isResolvedFromDuration:!1,...e};if(!Ei(e,ji)&&Ei(e,Ni))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),s=r*r,i=2*Sr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:ci,stiffness:s,damping:i}}else{const n=wi(e);t={...t,...n,mass:ci},t.isResolvedFromDuration=!0}return t}({...n,velocity:-Dr(n.velocity||0)}),m=h||0,p=c/(2*Math.sqrt(l*u)),g=a-i,y=Dr(Math.sqrt(l/u)),b=Math.abs(g)<5;let x;if(r||(r=b?mi.granular:mi.default),s||(s=b?pi.granular:pi.default),p<1){const e=ki(y,p);x=t=>{const n=Math.exp(-p*y*t);return a-n*((m+p*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===p)x=e=>a-Math.exp(-y*e)*(g+(m+y*g)*e);else{const e=y*Math.sqrt(p*p-1);x=t=>{const n=Math.exp(-p*y*t),r=Math.min(e*t,300);return a-n*((m+p*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}const v={calculatedDuration:f&&d||null,next:e=>{const t=x(e);if(f)o.done=e>=d;else{let n=0===e?m:0;p<1&&(n=0===e?Mr(m):ai(x,e,t));const i=Math.abs(n)<=r,l=Math.abs(a-t)<=s;o.done=i&&l}return o.value=o.done?a:t,o},toString:()=>{const e=Math.min(ii(v),si),t=ri(t=>v.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return v}function Ci({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},f=e=>void 0===o?l:void 0===l||Math.abs(o-e)<Math.abs(l-e)?o:l;let m=n*t;const p=d+m,g=void 0===a?p:a(p);g!==p&&(m=g-d);const y=e=>-m*Math.exp(-e/r),b=e=>g+y(e),x=e=>{const t=y(e),n=b(e);h.done=Math.abs(t)<=c,h.value=h.done?g:n};let v,w;const S=e=>{var t;(t=h.value,void 0!==o&&t<o||void 0!==l&&t>l)&&(v=e,w=_i({keyframes:[h.value,f(h.value)],velocity:ai(b,e,h.value),damping:s,stiffness:i,restDelta:c,restSpeed:u}))};return S(0),{calculatedDuration:null,next:e=>{let t=!1;return w||void 0!==v||(t=!0,x(e),S(e)),void 0!==v&&e>=v?w.next(e-v):(!t&&x(e),h)}}}function Ti(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(t.length,1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const r=[],s=n||kr.mix||ti,i=e.length-1;for(let a=0;a<i;a++){let n=s(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||Cr:t;n=Ar(e,n)}r.push(n)}return r}(t,r,s),l=o.length,c=n=>{if(a&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const s=Ir(e[r],e[r+1],n);return o[r](s)};return n?t=>c(Sr(e[0],e[i-1],t)):c}function Ai(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Ir(0,t,r);e.push(Gs(n,1,s))}}(t,e.length-1),t}function Ii({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=(e=>Array.isArray(e)&&"number"!=typeof e[0])(r)?r.map(Jr):Jr(r),i={done:!1,value:t[0]},a=function(e,t){return e.map(e=>e*t)}(n&&n.length===t.length?n:Ai(t),e),o=Ti(a,t,{ease:Array.isArray(s)?s:(l=t,c=s,l.map(()=>c||Qr).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(i.value=o(t),i.done=t>=e,i)}}_i.applyToOptions=e=>{const t=function(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(ii(r),si);return{type:"keyframes",ease:e=>r.next(s*e).value/t,duration:Dr(s)}}(e,100,_i);return e.ease=t.ease,e.duration=Mr(t.duration),e.type="keyframes",e};const Pi=e=>null!==e;function Mi(e,{repeat:t,repeatType:n="loop"},r,s=1){const i=e.filter(Pi),a=s<0||t&&"loop"!==n&&t%2==1?0:i.length-1;return a&&void 0!==r?r:i[a]}const Di={decay:Ci,inertia:Ci,tween:Ii,keyframes:Ii,spring:_i};function Ri(e){"string"==typeof e.type&&(e.type=Di[e.type])}class Oi{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Fi=e=>e/100;class Li extends Oi{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==os.now()&&this.tick(os.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;Ri(e);const{type:t=Ii,repeat:n=0,repeatDelay:r=0,repeatType:s,velocity:i=0}=e;let{keyframes:a}=e;const o=t||Ii;o!==Ii&&"number"!=typeof a[0]&&(this.mixKeyframes=Ar(Fi,ti(a[0],a[1])),a=[0,100]);const l=o({...e,keyframes:a});"mirror"===s&&(this.mirroredGenerator=o({...e,keyframes:[...a].reverse(),velocity:-i})),null===l.calculatedDuration&&(l.calculatedDuration=ii(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:r,mixKeyframes:s,mirroredGenerator:i,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:h,type:f,onUpdate:m,finalKeyframe:p}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let b=this.currentTime,x=n;if(u){const e=Math.min(this.currentTime,r)/a;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===d?(n=1-n,h&&(n-=h/a)):"mirror"===d&&(x=i)),b=Sr(0,1,n)*a}const v=y?{done:!1,value:c[0]}:x.next(b);s&&(v.value=s(v.value));let{done:w}=v;y||null===o||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const S=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return S&&f!==Ci&&(v.value=Mi(c,this.options,p,this.speed)),m&&m(v.value),S&&this.finish(),v}then(e,t){return this.finished.then(e,t)}get duration(){return Dr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Dr(e)}get time(){return Dr(this.currentTime)}set time(e){e=Mr(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(os.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Dr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=ni,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();const n=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=n):null!==this.holdTime?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(os.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}const Bi=e=>180*e/Math.PI,Ui=e=>{const t=Bi(Math.atan2(e[1],e[0]));return Vi(t)},zi={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ui,rotateZ:Ui,skewX:e=>Bi(Math.atan(e[1])),skewY:e=>Bi(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Vi=e=>((e%=360)<0&&(e+=360),e),qi=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Gi=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),$i={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qi,scaleY:Gi,scale:e=>(qi(e)+Gi(e))/2,rotateX:e=>Vi(Bi(Math.atan2(e[6],e[5]))),rotateY:e=>Vi(Bi(Math.atan2(-e[2],e[0]))),rotateZ:Ui,rotate:Ui,skewX:e=>Bi(Math.atan(e[4])),skewY:e=>Bi(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Hi(e){return e.includes("scale")?1:0}function Wi(e,t){if(!e||"none"===e)return Hi(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=$i,s=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=zi,s=t}if(!s)return Hi(t);const i=r[t],a=s[1].split(",").map(Ki);return"function"==typeof i?i(a):a[i]}function Ki(e){return parseFloat(e.trim())}const Qi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yi=(()=>new Set(Qi))(),Xi=e=>e===fs||e===_s,Ji=new Set(["x","y","z"]),Zi=Qi.filter(e=>!Ji.has(e));const ea={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Wi(t,"x"),y:(e,{transform:t})=>Wi(t,"y")};ea.translateX=ea.x,ea.translateY=ea.y;const ta=new Set;let na=!1,ra=!1,sa=!1;function ia(){if(ra){const e=Array.from(ta).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return Zi.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(([t,n])=>{e.getValue(t)?.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}ra=!1,na=!1,ta.forEach(e=>e.complete(sa)),ta.clear()}function aa(){ta.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ra=!0)})}class oa{constructor(e,t,n,r,s,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=s,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(ta.add(this),na||(na=!0,ts.read(aa),ts.resolveKeyframes(ia))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const s=r?.get(),i=e[e.length-1];if(void 0!==s)e[0]=s;else if(n&&t){const r=n.readValue(t,i);null!=r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===s&&r.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ta.delete(this)}cancel(){"scheduled"===this.state&&(ta.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const la=_r(()=>void 0!==window.ScrollTimeline),ca={};function ua(e,t){const n=_r(e);return()=>ca[t]??n()}const da=ua(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),ha=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,fa={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ha([0,.65,.55,1]),circOut:ha([.55,0,1,.45]),backIn:ha([.31,.01,.66,-.59]),backOut:ha([.33,1.53,.69,.99])};function ma(e,t){return e?"function"==typeof e?da()?ri(e,t):"ease-out":Yr(e)?ha(e):Array.isArray(e)?e.map(e=>ma(e,t)||fa.easeOut):fa[e]:void 0}function pa(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const d=ma(o,s);Array.isArray(d)&&(u.easing=d);const h={delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:"reverse"===a?"alternate":"normal"};c&&(h.pseudoElement=c);return e.animate(u,h)}function ga(e){return"function"==typeof e&&"applyToOptions"in e}class ya extends Oi{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:s,allowFlatten:i=!1,finalKeyframe:a,onComplete:o}=e;this.isPseudoElement=Boolean(s),this.allowFlatten=i,this.options=e,e.type;const l=function({type:e,...t}){return ga(e)&&da()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=pa(t,n,r,l,s),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const e=Mi(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Dr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Dr(e)}get time(){return Dr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Mr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&la()?(this.animation.timeline=e,Cr):t(this)}}const ba={anticipate:qr,backInOut:Vr,circInOut:Hr};function xa(e){"string"==typeof e.ease&&e.ease in ba&&(e.ease=ba[e.ease])}class va extends ya{constructor(e){xa(e),Ri(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:r,element:s,...i}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);const a=new Li({...i,autoplay:!1}),o=Mr(this.finishedTime??this.time);t.setWithVelocity(a.sample(o-10).value,a.sample(o).value,10),a.stop()}}const wa=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!zs.test(e)&&"0"!==e||e.startsWith("url(")));function Sa(e){e.duration=0,e.type="keyframes"}const ka=new Set(["opacity","clipPath","filter","transform"]),Na=_r(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class ja extends Oi{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i="loop",keyframes:a,name:o,motionValue:l,element:c,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=os.now();const d={autoplay:e,delay:t,type:n,repeat:r,repeatDelay:s,repeatType:i,name:o,motionValue:l,element:c,...u},h=c?.KeyframeResolver||oa;this.keyframeResolver=new h(a,(e,t,n)=>this.onKeyframesResolved(e,t,d,!n),o,l,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:s,type:i,velocity:a,delay:o,isHandoff:l,onUpdate:c}=n;this.resolvedAt=os.now(),function(e,t,n,r){const s=e[0];if(null===s)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],a=wa(s,t),o=wa(i,t);return!(!a||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||ga(n))&&r)}(e,s,i,a)||(!kr.instantAnimations&&o||c?.(Mi(e,n,t)),e[0]=e[e.length-1],Sa(n),n.repeat=0);const u={startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},d=!l&&function(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:i,type:a}=e,o=t?.owner?.current;if(!(o instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return Na()&&n&&ka.has(n)&&("transform"!==n||!c)&&!l&&!r&&"mirror"!==s&&0!==i&&"inertia"!==a}(u)?new va({...u,element:u.motionValue.owner.current}):new Li(u);d.finished.then(()=>this.notifyFinished()).catch(Cr),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),sa=!0,aa(),ia(),sa=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Ea=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _a(e,t,n=1){const[r,s]=function(e){const t=Ea.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return Nr(e)?parseFloat(e):e}return ds(s)?_a(s,t,n+1):s}function Ca(e,t){return e?.[t]??e?.default??e}const Ta=new Set(["width","height","top","left","right","bottom",...Qi]),Aa=e=>t=>t.test(e),Ia=[fs,_s,Es,js,Ts,Cs,{test:e=>"auto"===e,parse:e=>e}],Pa=e=>Ia.find(Aa(e));function Ma(e){return"number"==typeof e?0===e:null===e||("none"===e||"0"===e||Er(e))}const Da=new Set(["brightness","contrast","saturate","opacity"]);function Ra(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(ys)||[];if(!r)return e;const s=n.replace(r,"");let i=Da.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const Oa=/\b([a-z-]*)\(.*?\)/gu,Fa={...zs,getAnimatableNone:e=>{const t=e.match(Oa);return t?t.map(Ra).join(" "):e}},La={...fs,transform:Math.round},Ba={borderWidth:_s,borderTopWidth:_s,borderRightWidth:_s,borderBottomWidth:_s,borderLeftWidth:_s,borderRadius:_s,radius:_s,borderTopLeftRadius:_s,borderTopRightRadius:_s,borderBottomRightRadius:_s,borderBottomLeftRadius:_s,width:_s,maxWidth:_s,height:_s,maxHeight:_s,top:_s,right:_s,bottom:_s,left:_s,padding:_s,paddingTop:_s,paddingRight:_s,paddingBottom:_s,paddingLeft:_s,margin:_s,marginTop:_s,marginRight:_s,marginBottom:_s,marginLeft:_s,backgroundPositionX:_s,backgroundPositionY:_s,...{rotate:js,rotateX:js,rotateY:js,rotateZ:js,scale:ps,scaleX:ps,scaleY:ps,scaleZ:ps,skew:js,skewX:js,skewY:js,distance:_s,translateX:_s,translateY:_s,translateZ:_s,x:_s,y:_s,z:_s,perspective:_s,transformPerspective:_s,opacity:ms,originX:As,originY:As,originZ:_s},zIndex:La,fillOpacity:ms,strokeOpacity:ms,numOctaves:La},Ua={...Ba,color:Ps,backgroundColor:Ps,outlineColor:Ps,fill:Ps,stroke:Ps,borderColor:Ps,borderTopColor:Ps,borderRightColor:Ps,borderBottomColor:Ps,borderLeftColor:Ps,filter:Fa,WebkitFilter:Fa},za=e=>Ua[e];function Va(e,t){let n=za(e);return n!==Fa&&(n=zs),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const qa=new Set(["auto","none","0"]);class Ga extends oa{constructor(e,t,n,r,s){super(e,t,n,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"==typeof n&&(n=n.trim(),ds(n))){const r=_a(n,t.current);void 0!==r&&(e[o]=r),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!Ta.has(n)||2!==e.length)return;const[r,s]=e,i=Pa(r),a=Pa(s);if(i!==a)if(Xi(i)&&Xi(a))for(let o=0;o<e.length;o++){const t=e[o];"string"==typeof t&&(e[o]=parseFloat(t))}else ea[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let r=0;r<e.length;r++)(null===e[r]||Ma(e[r]))&&n.push(r);n.length&&function(e,t,n){let r,s=0;for(;s<e.length&&!r;){const t=e[s];"string"==typeof t&&!qa.has(t)&&Fs(t).values.length&&(r=e[s]),s++}if(r&&n)for(const i of t)e[i]=Va(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ea[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const s=n.length-1,i=n[s];n[s]=ea[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==i&&void 0===this.finalKeyframe&&(this.finalKeyframe=i),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,n])=>{e.getValue(t).set(n)}),this.resolveNoneKeyframes()}}const $a=(e,t)=>t&&"number"==typeof e?t.transform(e):e;class Ha{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=os.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const n of this.dependents)n.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=os.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Pr);const n=this.events[e].add(t);return"change"===e?()=>{n(),ts.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=os.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Rr(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wa(e,t){return new Ha(e,t)}const{schedule:Ka}=es(queueMicrotask,!1),Qa={x:!1,y:!1};function Ya(){return Qa.x||Qa.y}function Xa(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document;const r=n?.[e]??t.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}(e),r=new AbortController;return[n,{passive:!0,...t,signal:r.signal},()=>r.abort()]}function Ja(e){return!("touch"===e.pointerType||Ya())}const Za=(e,t)=>!!t&&(e===t||Za(e,t.parentElement)),eo=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,to=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const no=new WeakSet;function ro(e){return t=>{"Enter"===t.key&&e(t)}}function so(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function io(e){return eo(e)&&!Ya()}function ao(e,t,n={}){const[r,s,i]=Xa(e,n),a=e=>{const r=e.currentTarget;if(!io(e))return;no.add(r);const i=t(r,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),no.has(r)&&no.delete(r),io(e)&&"function"==typeof i&&i(e,{success:t})},o=e=>{a(e,r===window||r===document||n.useGlobalTarget||Za(r,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,s),window.addEventListener("pointercancel",l,s)};return r.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,s),jr(t=e)&&"offsetHeight"in t&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=ro(()=>{if(no.has(n))return;so(n,"down");const e=ro(()=>{so(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>so(n,"cancel"),t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)})(e,s)),function(e){return to.has(e.tagName)||-1!==e.tabIndex}(e)||e.hasAttribute("tabindex")||(e.tabIndex=0))}),i}function oo(e){return jr(e)&&"ownerSVGElement"in e}const lo=e=>Boolean(e&&e.getVelocity),co=[...Ia,Ps,zs],uo=D.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});const ho=D.createContext({strict:!1}),fo={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mo={};for(const xM in fo)mo[xM]={isEnabled:e=>fo[xM].some(t=>!!e[t])};const po=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function go(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||po.has(e)}let yo=e=>!go(e);try{"function"==typeof(bo=require("@emotion/is-prop-valid").default)&&(yo=e=>e.startsWith("on")?!go(e):bo(e))}catch{}var bo;const xo=D.createContext({});function vo(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function wo(e){return"string"==typeof e||Array.isArray(e)}const So=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ko=["initial",...So];function No(e){return vo(e.animate)||ko.some(t=>wo(e[t]))}function jo(e){return Boolean(No(e)||e.variants)}function Eo(e){const{initial:t,animate:n}=function(e,t){if(No(e)){const{initial:t,animate:n}=e;return{initial:!1===t||wo(t)?t:void 0,animate:wo(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,D.useContext(xo));return D.useMemo(()=>({initial:t,animate:n}),[_o(t),_o(n)])}function _o(e){return Array.isArray(e)?e.join(" "):e}const Co={};function To(e,{layout:t,layoutId:n}){return Yi.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!Co[e]||"opacity"===e)}const Ao={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Io=Qi.length;function Po(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let a=!1,o=!1;for(const l in t){const e=t[l];if(Yi.has(l))a=!0;else if(cs(l))s[l]=e;else{const t=$a(e,Ba[l]);l.startsWith("origin")?(o=!0,i[l]=t):r[l]=t}}if(t.transform||(a||n?r.transform=function(e,t,n){let r="",s=!0;for(let i=0;i<Io;i++){const a=Qi[i],o=e[a];if(void 0===o)continue;let l=!0;if(l="number"==typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=$a(o,Ba[a]);l||(s=!1,r+=`${Ao[a]||a}(${e}) `),n&&(t[a]=e)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin=`${e} ${t} ${n}`}}const Mo=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Do(e,t,n){for(const r in t)lo(t[r])||To(r,n)||(e[r]=t[r])}function Ro(e,t){const n={};return Do(n,e.style||{},e),Object.assign(n,function({transformTemplate:e},t){return D.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return Po(n,t,e),Object.assign({},n.vars,n.style)},[t])}(e,t)),n}function Oo(e,t){const n={},r=Ro(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Fo={offset:"stroke-dashoffset",array:"stroke-dasharray"},Lo={offset:"strokeDashoffset",array:"strokeDasharray"};function Bo(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...o},l,c,u){if(Po(e,o,c),l)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:d,style:h}=e;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=u?.transformBox??"fill-box",delete d.transformBox),void 0!==t&&(d.x=t),void 0!==n&&(d.y=n),void 0!==r&&(d.scale=r),void 0!==s&&function(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?Fo:Lo;e[i.offset]=_s.transform(-r);const a=_s.transform(t),o=_s.transform(n);e[i.array]=`${a} ${o}`}(d,s,i,a,!1)}const Uo=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),zo=e=>"string"==typeof e&&"svg"===e.toLowerCase();function Vo(e,t,n,r){const s=D.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return Bo(n,t,zo(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}},[t]);if(e.style){const t={};Do(t,e.style,e),s.style={...t,...s.style}}return s}const qo=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Go(e){return"string"==typeof e&&!e.includes("-")&&!!(qo.indexOf(e)>-1||/[A-Z]/u.test(e))}function $o(e,t,n,{latestValues:r},s,i=!1){const a=(Go(e)?Vo:Oo)(t,r,s,e),o=function(e,t,n){const r={};for(const s in e)"values"===s&&"object"==typeof e.values||(yo(s)||!0===n&&go(s)||!t&&!go(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}(t,"string"==typeof e,i),l=e!==D.Fragment?{...o,...a,ref:n}:{},{children:c}=t,u=D.useMemo(()=>lo(c)?c.get():c,[c]);return D.createElement(e,{...l,children:u})}function Ho(e){const t=[{},{}];return e?.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function Wo(e,t,n,r){if("function"==typeof t){const[s,i]=Ho(r);t=t(void 0!==n?n:e.custom,s,i)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[s,i]=Ho(r);t=t(void 0!==n?n:e.custom,s,i)}return t}function Ko(e){return lo(e)?e.get():e}function Qo(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=Ko(i[h]);let{initial:a,animate:o}=e;const l=No(e),c=jo(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const d=u?o:a;if(d&&"boolean"!=typeof d&&!vo(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const r=Wo(e,t[n]);if(r){const{transitionEnd:e,transition:t,...n}=r;for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(s[r]=e)}for(const r in e)s[r]=e[r]}}}return s}const Yo=e=>(t,n)=>{const r=D.useContext(xo),s=D.useContext(xr),i=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:Qo(n,r,s,e),renderState:t()}}(e,t,r,s);return n?i():function(e){const t=D.useRef(null);return null===t.current&&(t.current=e()),t.current}(i)};function Xo(e,t,n){const{style:r}=e,s={};for(const i in r)(lo(r[i])||t.style&&lo(t.style[i])||To(i,e)||void 0!==n?.getValue(i)?.liveStyle)&&(s[i]=r[i]);return s}const Jo=Yo({scrapeMotionValuesFromProps:Xo,createRenderState:Mo});function Zo(e,t,n){const r=Xo(e,t,n);for(const s in e)if(lo(e[s])||lo(t[s])){r[-1!==Qi.indexOf(s)?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s]=e[s]}return r}const el=Yo({scrapeMotionValuesFromProps:Zo,createRenderState:Uo}),tl=Symbol.for("motionComponentSymbol");function nl(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function rl(e,t,n){return D.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):nl(n)&&(n.current=r))},[t])}const sl=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),il="data-"+sl("framerAppearId"),al=D.createContext({});function ol(e,t,n,r,s){const{visualElement:i}=D.useContext(xo),a=D.useContext(ho),o=D.useContext(xr),l=D.useContext(uo).reducedMotion,c=D.useRef(null);r=r||a.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));const u=c.current,d=D.useContext(al);!u||u.projection||!s||"html"!==u.type&&"svg"!==u.type||function(e,t,n,r){const{layoutId:s,layout:i,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:ll(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:Boolean(a)||o&&nl(o),visualElement:e,animationType:"string"==typeof i?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}(c.current,n,s,d);const h=D.useRef(!1);D.useInsertionEffect(()=>{u&&h.current&&u.update(n,o)});const f=n[il],m=D.useRef(Boolean(f)&&!window.MotionHandoffIsComplete?.(f)&&window.MotionHasOptimisedAnimation?.(f));return br(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),m.current&&u.animationState&&u.animationState.animateChanges())}),D.useEffect(()=>{u&&(!m.current&&u.animationState&&u.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(f)}),m.current=!1),u.enteringChildren=void 0)}),u}function ll(e){if(e)return!1!==e.options.allowProjection?e.projection:ll(e.parent)}function cl(t,{forwardMotionProps:n=!1}={},r,s){r&&function(e){for(const t in e)mo[t]={...mo[t],...e[t]}}(r);const i=Go(t)?el:Jo;function a(r,a){let o;const l={...D.useContext(uo),...r,layoutId:ul(r)},{isStatic:c}=l,u=Eo(r),d=i(r,c);if(!c&&yr){D.useContext(ho).strict;const e=function(e){const{drag:t,layout:n}=mo;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(l);o=e.MeasureLayout,u.visualElement=ol(t,d,l,s,e.ProjectionNode)}return e.jsxs(xo.Provider,{value:u,children:[o&&u.visualElement?e.jsx(o,{visualElement:u.visualElement,...l}):null,$o(t,r,rl(d,u.visualElement,a),d,c,n)]})}a.displayName=`motion.${"string"==typeof t?t:`create(${t.displayName??t.name??""})`}`;const o=D.forwardRef(a);return o[tl]=t,o}function ul({layoutId:e}){const t=D.useContext(gr).id;return t&&void 0!==e?t+"-"+e:e}function dl(e,t){if("undefined"==typeof Proxy)return cl;const n=new Map,r=(n,r)=>cl(n,r,e,t);return new Proxy((e,t)=>r(e,t),{get:(s,i)=>"create"===i?r:(n.has(i)||n.set(i,cl(i,void 0,e,t)),n.get(i))})}function hl({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function fl(e){return void 0===e||1===e}function ml({scale:e,scaleX:t,scaleY:n}){return!fl(e)||!fl(t)||!fl(n)}function pl(e){return ml(e)||gl(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function gl(e){return yl(e.x)||yl(e.y)}function yl(e){return e&&"0%"!==e}function bl(e,t,n){return n+t*(e-n)}function xl(e,t,n,r,s){return void 0!==s&&(e=bl(e,s,r)),bl(e,n,r)+t}function vl(e,t=0,n=1,r,s){e.min=xl(e.min,t,n,r,s),e.max=xl(e.max,t,n,r,s)}function wl(e,{x:t,y:n}){vl(e.x,t.translate,t.scale,t.originPoint),vl(e.y,n.translate,n.scale,n.originPoint)}const Sl=.999999999999,kl=1.0000000000001;function Nl(e,t){e.min=e.min+t,e.max=e.max+t}function jl(e,t,n,r,s=.5){vl(e,t,n,Gs(e.min,e.max,s),r)}function El(e,t){jl(e.x,t.x,t.scaleX,t.scale,t.originX),jl(e.y,t.y,t.scaleY,t.scale,t.originY)}function _l(e,t){return hl(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Cl=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Tl={current:null},Al={current:!1};const Il=new WeakMap;const Pl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ml{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=oa,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=os.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,ts.render(this.render,!1,!0))};const{latestValues:o,renderState:l}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=Boolean(s),this.isControllingVariants=No(t),this.isVariantNode=jo(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(const d in u){const e=u[d];void 0!==o[d]&&lo(e)&&e.set(o[d])}}mount(e){this.current=e,Il.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),Al.current||function(){if(Al.current=!0,yr)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Tl.current=e.matches;e.addEventListener("change",t),t()}else Tl.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||Tl.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ns(this.notifyUpdate),ns(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Yi.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&ts.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in mo){const t=mo[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Pl.length;n++){const t=Pl[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const s=t[r],i=n[r];if(lo(s))e.addValue(r,s);else if(lo(i))e.addValue(r,Wa(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(s):t.hasAnimated||t.set(s)}else{const t=e.getStaticValue(r);e.addValue(r,Wa(void 0!==t?t:s,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Wa(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var r;return null!=n&&("string"==typeof n&&(Nr(n)||Er(n))?n=parseFloat(n):(r=n,!co.find(Aa(r))&&zs.test(t)&&(n=Va(e,t))),this.setBaseTarget(e,lo(n)?n.get():n)),lo(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"==typeof t||"object"==typeof t){const r=Wo(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&void 0!==n)return n;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||lo(r)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new Pr),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Ka.render(this.render)}}class Dl extends Ml{constructor(){super(...arguments),this.KeyframeResolver=Ga}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;lo(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Rl(e,{style:t,vars:n},r,s){const i=e.style;let a;for(a in t)i[a]=t[a];for(a in s?.applyProjectionStyles(i,r),n)i.setProperty(a,n[a])}class Ol extends Dl{constructor(){super(...arguments),this.type="html",this.renderInstance=Rl}readValueFromInstance(e,t){if(Yi.has(t))return this.projection?.isProjecting?Hi(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Wi(n,t)})(e,t);{const r=(n=e,window.getComputedStyle(n)),s=(cs(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof s?s.trim():s}var n}measureInstanceViewportBox(e,{transformPagePoint:t}){return _l(e,t)}build(e,t,n){Po(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Xo(e,t,n)}}const Fl=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class Ll extends Dl{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Cl}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Yi.has(t)){const e=za(t);return e&&e.default||0}return t=Fl.has(t)?t:sl(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Zo(e,t,n)}build(e,t,n){Bo(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){Rl(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(Fl.has(s)?s:sl(s),t.attrs[s])}(e,t,0,r)}mount(e){this.isSVGTag=zo(e.tagName),super.mount(e)}}const Bl=(e,t)=>Go(e)?new Ll(t):new Ol(t,{allowProjection:e!==D.Fragment});function Ul(e,t,n){const r=e.getProps();return Wo(r,t,void 0!==n?n:r.custom,e)}const zl=e=>Array.isArray(e);function Vl(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Wa(n))}function ql(e){return zl(e)?e[e.length-1]||0:e}function Gl(e,t){const n=e.getValue("willChange");if(r=n,Boolean(lo(r)&&r.add))return n.add(t);if(!n&&kr.WillChange){const n=new kr.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function $l(e){return e.props[il]}const Hl=e=>null!==e;const Wl={type:"spring",stiffness:500,damping:25,restSpeed:10},Kl={type:"keyframes",duration:.8},Ql={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Yl=(e,{keyframes:t})=>t.length>2?Kl:Yi.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:Wl:Ql;const Xl=(e,t,n,r={},s,i)=>a=>{const o=Ca(r,e)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c-=Mr(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:s};(function({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length})(o)||Object.assign(u,Yl(e,u)),u.duration&&(u.duration=Mr(u.duration)),u.repeatDelay&&(u.repeatDelay=Mr(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(Sa(u),0===u.delay&&(d=!0)),(kr.instantAnimations||kr.skipAnimations)&&(d=!0,Sa(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,d&&!i&&void 0!==t.get()){const e=function(e,{repeat:t,repeatType:n="loop"}){const r=e.filter(Hl);return r[t&&"loop"!==n&&t%2==1?0:r.length-1]}(u.keyframes,o);if(void 0!==e)return void ts.update(()=>{u.onUpdate(e),u.onComplete()})}return o.isSync?new Li(u):new ja(u)};function Jl({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,r}function Zl(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...o}=t;r&&(i=r);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const u in o){const t=e.getValue(u,e.latestValues[u]??null),r=o[u];if(void 0===r||c&&Jl(c,u))continue;const s={delay:n,...Ca(i||{},u)},a=t.get();if(void 0!==a&&!t.isAnimating&&!Array.isArray(r)&&r===a&&!s.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){const t=$l(e);if(t){const e=window.MotionHandoffAnimation(t,u,ts);null!==e&&(s.startTime=e,d=!0)}}Gl(e,u),t.start(Xl(u,t,r,e.shouldReduceMotion&&Ta.has(u)?{type:!1}:s,e,d));const h=t.animation;h&&l.push(h)}return a&&Promise.all(l).then(()=>{ts.update(()=>{a&&function(e,t){const n=Ul(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const a in i)Vl(e,a,ql(i[a]))}(e,a)})}),l}function ec(e,t,n,r=0,s=1){const i=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),a=e.size,o=(a-1)*r;return"function"==typeof n?n(i,a):1===s?i*r:o-i*r}function tc(e,t,n={}){const r=Ul(e,t,"exit"===n.type?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Zl(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(r=0)=>{const{delayChildren:i=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t,n=0,r=0,s=0,i=1,a){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(tc(l,t,{...a,delay:n+("function"==typeof r?0:r)+ec(e.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,r,i,a,o,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[e,t]="beforeChildren"===o?[i,a]:[a,i];return e().then(()=>t())}return Promise.all([i(),a(n.delay)])}function nc(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const rc=ko.length;function sc(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&sc(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<rc;n++){const r=ko[n],s=e.props[r];(wo(s)||!1===s)&&(t[r]=s)}return t}const ic=[...So].reverse(),ac=So.length;function oc(e){return t=>Promise.all(t.map(({animation:t,options:n})=>function(e,t,n={}){let r;if(e.notify("AnimationStart",t),Array.isArray(t)){const s=t.map(t=>tc(e,t,n));r=Promise.all(s)}else if("string"==typeof t)r=tc(e,t,n);else{const s="function"==typeof t?Ul(e,t,n.custom):t;r=Promise.all(Zl(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}(e,t,n)))}function lc(e){let t=oc(e),n=dc(),r=!0;const s=t=>(n,r)=>{const s=Ul(e,r,"exit"===t?e.presenceContext?.custom:void 0);if(s){const{transition:e,transitionEnd:t,...r}=s;n={...n,...r,...t}}return n};function i(i){const{props:a}=e,o=sc(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<ac;t++){const h=ic[t],f=n[h],m=void 0!==a[h]?a[h]:o[h],p=wo(m),g=h===i?f.isActive:null;!1===g&&(d=t);let y=m===o[h]&&m!==a[h]&&p;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),f.protectedKeys={...u},!f.isActive&&null===g||!m&&!f.prevProp||vo(m)||"boolean"==typeof m)continue;const b=cc(f.prevProp,m);let x=b||h===i&&f.isActive&&!y&&p||t>d&&p,v=!1;const w=Array.isArray(m)?m:[m];let S=w.reduce(s(h),{});!1===g&&(S={});const{prevResolvedValues:k={}}=f,N={...k,...S},j=t=>{x=!0,c.has(t)&&(v=!0,c.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in N){const t=S[e],n=k[e];if(u.hasOwnProperty(e))continue;let r=!1;r=zl(t)&&zl(n)?!nc(t,n):t!==n,r?null!=t?j(e):c.add(e):void 0!==t&&c.has(e)?j(e):f.protectedKeys[e]=!0}f.prevProp=m,f.prevResolvedValues=S,f.isActive&&(u={...u,...S}),r&&e.blockInitialAnimation&&(x=!1);const E=y&&b;x&&(!E||v)&&l.push(...w.map(t=>{const n={type:h};if("string"==typeof t&&r&&!E&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,s=Ul(r,t);if(r.enteringChildren&&s){const{delayChildren:t}=s.transition||{};n.delay=ec(r.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!=typeof a.initial){const n=Ul(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const r=e.getBaseTarget(n),s=e.getValue(n);s&&(s.liveStyle=!0),t[n]=r??null}),l.push({animation:t})}let h=Boolean(l.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(l):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){if(n[t].isActive===r)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,r)),n[t].isActive=r;const s=i(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=dc(),r=!0}}}function cc(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!nc(t,e)}function uc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dc(){return{animate:uc(!0),whileInView:uc(),whileHover:uc(),whileTap:uc(),whileDrag:uc(),whileFocus:uc(),exit:uc()}}class hc{constructor(e){this.isMounted=!1,this.node=e}update(){}}let fc=0;const mc={animation:{Feature:class extends hc{constructor(e){super(e),e.animationState||(e.animationState=lc(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vo(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends hc{constructor(){super(...arguments),this.id=fc++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function pc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function gc(e){return{point:{x:e.pageX,y:e.pageY}}}function yc(e,t,n,r){return pc(e,t,(e=>t=>eo(t)&&e(t,gc(t)))(n),r)}function bc(e){return e.max-e.min}function xc(e,t,n,r=.5){e.origin=r,e.originPoint=Gs(t.min,t.max,e.origin),e.scale=bc(n)/bc(t),e.translate=Gs(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function vc(e,t,n,r){xc(e.x,t.x,n.x,r?r.originX:void 0),xc(e.y,t.y,n.y,r?r.originY:void 0)}function wc(e,t,n){e.min=n.min+t.min,e.max=e.min+bc(t)}function Sc(e,t,n){e.min=t.min-n.min,e.max=e.min+bc(t)}function kc(e,t,n){Sc(e.x,t.x,n.x),Sc(e.y,t.y,n.y)}function Nc(e){return[e("x"),e("y")]}const jc=({current:e})=>e?e.ownerDocument.defaultView:null,Ec=(e,t)=>Math.abs(e-t);class _c{constructor(e,t,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:i=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Ac(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Ec(e.x,t.x),r=Ec(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:s}=rs;this.history.push({...r,timestamp:s});const{onStart:i,onMove:a}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Cc(t,this.transformPagePoint),ts.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=Ac("pointercancel"===e.type?this.lastMoveEventInfo:Cc(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!eo(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=r||window;const a=Cc(gc(e),this.transformPagePoint),{point:o}=a,{timestamp:l}=rs;this.history=[{...o,timestamp:l}];const{onSessionStart:c}=t;c&&c(e,Ac(a,this.history)),this.removeListeners=Ar(yc(this.contextWindow,"pointermove",this.handlePointerMove),yc(this.contextWindow,"pointerup",this.handlePointerUp),yc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ns(this.updatePoint)}}function Cc(e,t){return t?{point:t(e.point)}:e}function Tc(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ac({point:e},t){return{point:e,delta:Tc(e,Pc(t)),offset:Tc(e,Ic(t)),velocity:Mc(t,.1)}}function Ic(e){return e[0]}function Pc(e){return e[e.length-1]}function Mc(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=Pc(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Mr(t)));)n--;if(!r)return{x:0,y:0};const i=Dr(s.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Dc(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function Rc(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Oc=.35;function Fc(e,t,n){return{min:Lc(e,t),max:Lc(e,n)}}function Lc(e,t){return"number"==typeof e?e:e[t]||0}const Bc=new WeakMap;class Uc{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:s}=this.getProps();this.panSession=new _c(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(gc(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:s}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?Qa[i]?null:(Qa[i]=!0,()=>{Qa[i]=!1}):Qa.x||Qa.y?null:(Qa.x=Qa.y=!0,()=>{Qa.x=Qa.y=!1}),!this.openDragLock))return;var i;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nc(e=>{let t=this.getAxisMotionValue(e).get()||0;if(Es.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=bc(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),s&&ts.postRender(()=>s(e,t)),Gl(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:s,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>Nc(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play())},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,distanceThreshold:n,contextWindow:jc(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&ts.postRender(()=>a(n,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!zc(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,{min:t,max:n},r){return void 0!==t&&e<t?e=r?Gs(t,e,r.min):Math.max(e,t):void 0!==n&&e>n&&(e=r?Gs(n,e,r.max):Math.min(e,n)),e}(i,this.constraints[e],this.elastic[e])),s.set(i)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;e&&nl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!n)&&function(e,{top:t,left:n,bottom:r,right:s}){return{x:Dc(e.x,n,s),y:Dc(e.y,t,r)}}(n.layoutBox,e),this.elastic=function(e=Oc){return!1===e?e=0:!0===e&&(e=Oc),{x:Fc(e,"left","right"),y:Fc(e,"top","bottom")}}(t),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Nc(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(n.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!nl(e))return!1;const n=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=function(e,t,n){const r=_l(e,n),{scroll:s}=t;return s&&(Nl(r.x,s.offset.x),Nl(r.y,s.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:Rc(e.x,t.x),y:Rc(e.y,t.y)}}(r.layout.layoutBox,s);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=hl(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=Nc(a=>{if(!zc(a,t,this.currentDirection))return;let l=o&&o[a]||{};i&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d={type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...s,...l};return this.startAxisValueAnimation(a,d)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return Gl(this.visualElement,e),n.start(Xl(e,n,0,t,this.visualElement,!1))}stopAnimation(){Nc(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Nc(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Nc(t=>{const{drag:n}=this.getProps();if(!zc(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];s.set(e[t]-Gs(n,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!nl(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Nc(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=bc(e),s=bc(t);return s>r?n=Ir(t.min,t.max-r,e.min):r>s&&(n=Ir(e.min,e.max-s,t.min)),Sr(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Nc(t=>{if(!zc(t,e,null))return;const n=this.getAxisMotionValue(t),{min:s,max:i}=this.constraints[t];n.set(Gs(s,i,r[t]))})}addListeners(){if(!this.visualElement.current)return;Bc.set(this.visualElement,this);const e=yc(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();nl(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),ts.read(t);const s=pc(window,"resize",()=>this.scalePositionWithinConstraints()),i=n.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(Nc(t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{s(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:i=Oc,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:i,dragMomentum:a}}}function zc(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const Vc=e=>(t,n)=>{e&&ts.postRender(()=>e(t,n))};const qc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Gc(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $c={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!_s.test(e))return e;e=parseFloat(e)}return`${Gc(e,t.target.x)}% ${Gc(e,t.target.y)}%`}},Hc={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=zs.parse(e);if(s.length>5)return r;const i=zs.createTransformer(e),a="number"!=typeof s[0]?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;s[0+a]/=o,s[1+a]/=l;const c=Gs(o,l,.5);return"number"==typeof s[2+a]&&(s[2+a]/=c),"number"==typeof s[3+a]&&(s[3+a]/=c),i(s)}};let Wc=!1;class Kc extends D.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;!function(e){for(const t in e)Co[t]=e[t],cs(t)&&(Co[t].isCSSVariable=!0)}(Yc),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),Wc&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),qc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,{projection:i}=n;return i?(i.isPresent=s,Wc=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==s?i.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?i.promote():i.relegate()||ts.postRender(()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ka.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;Wc=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Qc(t){const[n,r]=function(e=!0){const t=D.useContext(xr);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=D.useId();D.useEffect(()=>{if(e)return s(i)},[e]);const a=D.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,a]:[!0]}(),s=D.useContext(gr);return e.jsx(Kc,{...t,layoutGroup:s,switchLayoutGroup:D.useContext(al),isPresent:n,safeToRemove:r})}const Yc={borderRadius:{...$c,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$c,borderTopRightRadius:$c,borderBottomLeftRadius:$c,borderBottomRightRadius:$c,boxShadow:Hc};const Xc=(e,t)=>e.depth-t.depth;class Jc{constructor(){this.children=[],this.isDirty=!1}add(e){vr(this.children,e),this.isDirty=!0}remove(e){wr(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Xc),this.isDirty=!1,this.children.forEach(e)}}const Zc=["TopLeft","TopRight","BottomLeft","BottomRight"],eu=Zc.length,tu=e=>"string"==typeof e?parseFloat(e):e,nu=e=>"number"==typeof e||_s.test(e);function ru(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const su=au(0,.5,$r),iu=au(.5,.95,Cr);function au(e,t,n){return r=>r<e?0:r>t?1:n(Ir(e,t,r))}function ou(e,t){e.min=t.min,e.max=t.max}function lu(e,t){ou(e.x,t.x),ou(e.y,t.y)}function cu(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function uu(e,t,n,r,s){return e=bl(e-=t,1/n,r),void 0!==s&&(e=bl(e,1/s,r)),e}function du(e,t,[n,r,s],i,a){!function(e,t=0,n=1,r=.5,s,i=e,a=e){Es.test(t)&&(t=parseFloat(t),t=Gs(a.min,a.max,t/100)-a.min);if("number"!=typeof t)return;let o=Gs(i.min,i.max,r);e===i&&(o-=t),e.min=uu(e.min,t,n,o,s),e.max=uu(e.max,t,n,o,s)}(e,t[n],t[r],t[s],t.scale,i,a)}const hu=["x","scaleX","originX"],fu=["y","scaleY","originY"];function mu(e,t,n,r){du(e.x,t,hu,n?n.x:void 0,r?r.x:void 0),du(e.y,t,fu,n?n.y:void 0,r?r.y:void 0)}function pu(e){return 0===e.translate&&1===e.scale}function gu(e){return pu(e.x)&&pu(e.y)}function yu(e,t){return e.min===t.min&&e.max===t.max}function bu(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function xu(e,t){return bu(e.x,t.x)&&bu(e.y,t.y)}function vu(e){return bc(e.x)/bc(e.y)}function wu(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Su{constructor(){this.members=[]}add(e){vr(this.members,e),e.scheduleRender()}remove(e){if(wr(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ku=["","X","Y","Z"];let Nu=0;function ju(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Eu(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=$l(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ts,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Eu(r)}function _u({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(e={},n=t?.()){this.id=Nu++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Au),this.nodes.forEach(Fu),this.nodes.forEach(Lu),this.nodes.forEach(Iu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new Jc)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Pr),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;var n;this.isSVG=oo(t)&&!(oo(n=t)&&"svg"===n.tagName),this.instance=t;const{layoutId:r,layout:s,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(s||r)&&(this.isLayoutDirty=!0),e){let n,r=0;const s=()=>this.root.updateBlockedByResize=!1;ts.read(()=>{r=window.innerWidth}),e(t,()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=os.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(ns(r),e(i-t))};return ts.setup(r,!0),()=>ns(r)}(s,250),qc.hasAnimatedSinceResize&&(qc.hasAnimatedSinceResize=!1,this.nodes.forEach(Ou)))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||s)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:r})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||i.getDefaultTransition()||Gu,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=i.getProps(),l=!this.targetLayout||!xu(this.targetLayout,r),c=!t&&n;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const t={...Ca(s,"layout"),onPlay:a,onComplete:o};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,c)}else t||Ou(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=r})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ns(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Bu),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Eu(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const e=this.path[s];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Mu);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Du);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ru),this.nodes.forEach(Cu),this.nodes.forEach(Tu)):this.nodes.forEach(Du),this.clearAllSnapshots();const e=os.now();rs.delta=Sr(0,1e3/60,e-rs.timestamp),rs.timestamp=e,rs.isProcessing=!0,ss.update.process(rs),ss.preRender.process(rs),ss.render.process(rs),rs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ka.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Pu),this.sharedNodes.forEach(Uu)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ts.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ts.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||bc(this.snapshot.measuredBox.x)||bc(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!gu(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,i=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||pl(this.latestValues)||i)&&(s(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Wu((r=n).x),Wu(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Qu))){const{scroll:e}=this.root;e&&(Nl(t.x,e.offset.x),Nl(t.y,e.offset.y))}return t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};if(lu(t,e),this.scroll?.wasRoot)return t;for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:s,options:i}=r;r!==this.root&&s&&i.layoutScroll&&(s.wasRoot&&lu(t,e),Nl(t.x,s.offset.x),Nl(t.y,s.offset.y))}return t}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};lu(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&El(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),pl(e.latestValues)&&El(n,e.latestValues)}return pl(this.latestValues)&&El(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};lu(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!pl(e.latestValues))continue;ml(e.latestValues)&&e.updateSnapshot();const r=Cl();lu(r,e.measurePageBox()),mu(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return pl(this.latestValues)&&mu(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){const t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);const n=Boolean(this.resumingFrom)||this!==t;if(!(e||n&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:s}=this.options;if(this.layout&&(r||s)){if(this.resolvedRelativeTargetAt=rs.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},kc(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),lu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}var i,a,o;if(this.relativeTarget||this.targetDelta)if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,a=this.relativeTarget,o=this.relativeParent.target,wc(i.x,a.x,o.x),wc(i.y,a.y,o.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):lu(this.target,this.layout.layoutBox),wl(this.target,this.targetDelta)):lu(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},kc(this.relativeTargetOrigin,this.target,e.target),lu(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(this.parent&&!ml(this.parent.latestValues)&&!gl(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const e=this.getLead(),t=Boolean(this.resumingFrom)||this!==e;let n=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(n=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===rs.timestamp&&(n=!1),n)return;const{layout:r,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!s)return;lu(this.layoutCorrected,this.layout.layoutBox);const i=this.treeScale.x,a=this.treeScale.y;!function(e,t,n,r=!1){const s=n.length;if(!s)return;let i,a;t.x=t.y=1;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const{visualElement:s}=i.options;s&&s.props.style&&"contents"===s.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&El(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,wl(e,a)),r&&pl(i.latestValues)&&El(e,i.latestValues))}t.x<kl&&t.x>Sl&&(t.x=1),t.y<kl&&t.y>Sl&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,t),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:o}=e;o?(this.projectionDelta&&this.prevProjectionDelta?(cu(this.prevProjectionDelta.x,this.projectionDelta.x),cu(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),vc(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===i&&this.treeScale.y===a&&wu(this.projectionDelta.x,this.prevProjectionDelta.x)&&wu(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,r=n?n.latestValues:{},s={...this.latestValues},i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(qu));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,f,m,p,g;zu(i.x,e.x,n),zu(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kc(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,m=this.relativeTargetOrigin,p=a,g=n,Vu(f.x,m.x,p.x,g),Vu(f.y,m.y,p.y,g),d&&(l=this.relativeTarget,h=d,yu(l.x,h.x)&&yu(l.y,h.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),lu(d,this.relativeTarget)),o&&(this.animationValues=s,function(e,t,n,r,s,i){s?(e.opacity=Gs(0,n.opacity??1,su(r)),e.opacityExit=Gs(t.opacity??1,0,iu(r))):i&&(e.opacity=Gs(t.opacity??1,n.opacity??1,r));for(let a=0;a<eu;a++){const s=`border${Zc[a]}Radius`;let i=ru(t,s),o=ru(n,s);void 0===i&&void 0===o||(i||(i=0),o||(o=0),0===i||0===o||nu(i)===nu(o)?(e[s]=Math.max(Gs(tu(i),tu(o),r),0),(Es.test(o)||Es.test(i))&&(e[s]+="%")):e[s]=o)}(t.rotate||n.rotate)&&(e.rotate=Gs(t.rotate||0,n.rotate||0,r))}(s,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ns(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ts.update(()=>{qc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Wa(0)),this.currentAnimation=function(e,t,n){const r=lo(e)?e:Wa(e);return r.start(Xl("",r,t,n)),r.animation}(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:s}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Ku(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=bc(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=bc(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}lu(t,n),El(t,s),vc(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Su);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){const{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&ju("z",e,r,this.animationValues);for(let s=0;s<ku.length;s++)ju(`rotate${ku[s]}`,e,r,this.animationValues),ju(`skew${ku[s]}`,e,r,this.animationValues);e.render();for(const s in r)e.setStaticValue(s,r[s]),this.animationValues&&(this.animationValues[s]=r[s]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=Ko(t?.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Ko(t?.pointerEvents)||""),void(this.hasProjected&&!pl(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const s=r.animationValues||r.latestValues;this.applyTransformsToTarget();let i=function(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=n?.z||0;if((s||i||a)&&(r=`translate3d(${s}px, ${i}px, ${a}px) `),1===t.x&&1===t.y||(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:s,rotateY:i,skewX:a,skewY:o}=n;e&&(r=`perspective(${e}px) ${r}`),t&&(r+=`rotate(${t}deg) `),s&&(r+=`rotateX(${s}deg) `),i&&(r+=`rotateY(${i}deg) `),a&&(r+=`skewX(${a}deg) `),o&&(r+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(r+=`scale(${o}, ${l})`),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,s);n&&(i=n(s,i)),e.transform=i;const{x:a,y:o}=this.projectionDelta;e.transformOrigin=`${100*a.origin}% ${100*o.origin}% 0`,r.animationValues?e.opacity=r===this?s.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:e.opacity=r===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const l in Co){if(void 0===s[l])continue;const{correct:t,applyTo:n,isCSSVariable:a}=Co[l],o="none"===i?s[l]:t(s[l],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=o}else a?this.options.visualElement.renderState.vars[l]=o:e[l]=o}this.options.layoutId&&(e.pointerEvents=r===this?Ko(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(Mu),this.root.sharedNodes.clear()}}}function Cu(e){e.updateLayout()}function Tu(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:s}=e.options,i=t.source!==e.layout.source;"size"===s?Nc(e=>{const r=i?t.measuredBox[e]:t.layoutBox[e],s=bc(r);r.min=n[e].min,r.max=r.min+s}):Ku(s,t.layoutBox,n)&&Nc(r=>{const s=i?t.measuredBox[r]:t.layoutBox[r],a=bc(n[r]);s.max=s.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};vc(a,n,t.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?vc(o,e.applyTransform(r,!0),t.measuredBox):vc(o,n,t.layoutBox);const l=!gu(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:s,layout:i}=r;if(s&&i){const a={x:{min:0,max:0},y:{min:0,max:0}};kc(a,t.layoutBox,s.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};kc(o,n,i.layoutBox),xu(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Au(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Iu(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Pu(e){e.clearSnapshot()}function Mu(e){e.clearMeasurements()}function Du(e){e.isLayoutDirty=!1}function Ru(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Ou(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Fu(e){e.resolveTargetDelta()}function Lu(e){e.calcProjection()}function Bu(e){e.resetSkewAndRotation()}function Uu(e){e.removeLeadSnapshot()}function zu(e,t,n){e.translate=Gs(t.translate,0,n),e.scale=Gs(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Vu(e,t,n,r){e.min=Gs(t.min,n.min,r),e.max=Gs(t.max,n.max,r)}function qu(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Gu={duration:.45,ease:[.4,0,.1,1]},$u=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Hu=$u("applewebkit/")&&!$u("chrome/")?Math.round:Cr;function Wu(e){e.min=Hu(e.min),e.max=Hu(e.max)}function Ku(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=vu(t),s=vu(n),i=.2,!(Math.abs(r-s)<=i));var r,s,i}function Qu(e){return e!==e.root&&e.scroll?.wasRoot}const Yu=_u({attachResizeListener:(e,t)=>pc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xu={current:void 0},Ju=_u({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Xu.current){const e=new Yu({});e.mount(window),e.setOptions({layoutScroll:!0}),Xu.current=e}return Xu.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Zu={pan:{Feature:class extends hc{constructor(){super(...arguments),this.removePointerDownListener=Cr}onPointerDown(e){this.session=new _c(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jc(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Vc(e),onStart:Vc(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&ts.postRender(()=>r(e,t))}}}mount(){this.removePointerDownListener=yc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends hc{constructor(e){super(e),this.removeGroupControls=Cr,this.removeListeners=Cr,this.controls=new Uc(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cr}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Ju,MeasureLayout:Qc}};function ed(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const s=r["onHover"+n];s&&ts.postRender(()=>s(t,gc(t)))}function td(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const s=r["onTap"+("End"===n?"":n)];s&&ts.postRender(()=>s(t,gc(t)))}const nd=new WeakMap,rd=new WeakMap,sd=e=>{const t=nd.get(e.target);t&&t(e)},id=e=>{e.forEach(sd)};function ad(e,t,n){const r=function({root:e,...t}){const n=e||document;rd.has(n)||rd.set(n,{});const r=rd.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(id,{root:e,...t})),r[s]}(t);return nd.set(e,n),r.observe(e),()=>{nd.delete(e),r.unobserve(e)}}const od={some:0,all:1};const ld={inView:{Feature:class extends hc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof r?r:od[r]};return ad(this.node.current,i,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,s&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends hc{mount(){const{current:e}=this.node;e&&(this.unmount=ao(e,(e,t)=>(td(this.node,t,"Start"),(e,{success:t})=>td(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends hc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ar(pc(this.node.current,"focus",()=>this.onFocus()),pc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends hc{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[r,s,i]=Xa(e,n),a=e=>{if(!Ja(e))return;const{target:n}=e,r=t(n,e);if("function"!=typeof r||!n)return;const i=e=>{Ja(e)&&(r(e),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,s)};return r.forEach(e=>{e.addEventListener("pointerenter",a,s)}),i}(e,(e,t)=>(ed(this.node,t,"Start"),e=>ed(this.node,e,"End"))))}unmount(){}}}},cd=dl({...mc,...ld,...Zu,...{layout:{ProjectionNode:Ju,MeasureLayout:Qc}}},Bl),ud=()=>{const t=D.useMemo(()=>({Sports:["EA UFC 6","FC 26","Madden 26","NBA 2K26","Custom"].sort(),Racing:["F1 2023","Mario Kart","Gran Turismo 7","Custom"].sort(),Fighting:["Mortal Kombat 1","Street Fighter 6","Tekken 8","Custom"].sort(),Shooting:["COD MW3","Fortnite","Valorant","Custom"].sort()}),[]),n={Sports:[{label:"Full Match"},{label:"Quick Match (No halftime)"},{label:"2v2 Challenge"},{label:"Custom Challenge",tooltip:"Manual review required. Use only when standard modes don't apply."}],Racing:[{label:"Best Lap Time"},{label:"1v1 Race to Finish"},{label:"Custom Challenge",tooltip:"Manual review required. Use only when standard modes don't apply."}],Fighting:[{label:"Best of 3"},{label:"Mirror Match"},{label:"2v2 Team Fight"},{label:"Custom Challenge",tooltip:"Manual review required. Use only when standard modes don't apply."}],Shooting:[{label:"Run the Fade"},{label:"10 and Done"},{label:"Snipers Only"},{label:"Custom Challenge",tooltip:"Manual review required. Use only when standard modes don't apply."}]},[r,s]=D.useState(""),[i,a]=D.useState(""),[o,l]=D.useState(""),[c,u]=D.useState(""),[d,h]=D.useState(""),[f,m]=D.useState(""),[p,g]=D.useState(!1),[y,b]=D.useState(!1);D.useEffect(()=>{g(!!r),r||(a(""),m(""))},[r]),D.useEffect(()=>{if(i){const e=setTimeout(()=>b(!0),150);return()=>clearTimeout(e)}b(!1),m("")},[i]);const x=D.useRef(null);D.useEffect(()=>{if(!x.current)return;const e=x.current,t=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&e.classList.add("fade-in-up")})},{threshold:.2});return t.observe(e),()=>t.disconnect()},[]);return e.jsxs("section",{className:"py-20 bg-card",children:[e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold mb-4 shimmer text-center",style:{fontWeight:800,fontSize:"2.25rem",letterSpacing:"0.04em",background:"linear-gradient(90deg, #f5d06f 0%, #a78bfa 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 32px #f5d06f88, 0 2px 8px #000"},children:"Create a Challenge. Prove it."}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Real challenges. Real outcomes. Every result is based on skill  not chance."})]}),e.jsx("section",{className:"flex justify-center py-12",children:e.jsx("div",{ref:x,className:"relative opacity-0 translate-y-3 transition-all duration-700",id:"challenge-leaderboard-visual",children:e.jsx("img",{src:"/assets/usdfg-leaderboard-competition-mascot.webp",onError:e=>{const t=e.currentTarget;t.dataset.fallback||(t.src="/assets/usdfg-leaderboard-competition-mascot.png",t.dataset.fallback="1")},loading:"lazy",alt:"USDFG mascot in front of glowing leaderboard - skill gaming competition",className:"w-full max-w-2xl rounded-lg relative z-10 select-none"})})}),e.jsx(In,{className:"relative bg-gradient-to-br from-[#0a0f1aee] to-[#0a1f2aee] border-2 border-cyan-400/40 max-w-4xl mx-auto shadow-2xl backdrop-blur-md transition-all duration-300 hover:scale-[1.01] hover:shadow-[0_0_32px_#00f0ff99]",children:e.jsxs(Dn,{className:"relative z-10 p-8 md:p-10",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs(cd.h3,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-2xl md:text-3xl font-extrabold mb-2 flex items-center justify-center text-white drop-shadow-glow tracking-wide",children:[e.jsx("span",{className:"mr-3 text-cyan-300",children:e.jsx(or,{className:"inline-block w-8 h-8 md:w-10 md:h-10"})}),"Challenge Rules & Result Verification"]}),e.jsx(cd.p,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},className:"text-base text-cyan-300 mb-4 text-center font-medium",children:"This system protects fairness by locking funds and verifying skill-based outcomes."}),e.jsxs(cd.ul,{initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:{hidden:{},visible:{transition:{staggerChildren:.12}}},className:"space-y-4",children:[e.jsxs(cd.li,{variants:{hidden:{opacity:0,y:16},visible:{opacity:1,y:0}},className:"flex items-start text-lg",children:[e.jsx(cr,{className:"text-green-400 mt-1 mr-3"}),e.jsxs("span",{children:[e.jsx("span",{className:"font-bold text-white",children:"If both players confirm the result"}),", rewards are released automatically "," ",e.jsx("span",{className:"text-cyan-300 font-semibold",children:"no uploads needed"}),"."]})]}),e.jsxs(cd.li,{variants:{hidden:{opacity:0,y:16},visible:{opacity:1,y:0}},className:"flex items-start text-lg",children:[e.jsx(hr,{className:"text-cyan-400 mt-1 mr-3"}),e.jsxs("span",{children:[e.jsx("span",{className:"font-bold text-white",children:"Funds stay locked"})," until both players confirm or a dispute is reviewed."]})]}),e.jsxs(cd.li,{variants:{hidden:{opacity:0,y:16},visible:{opacity:1,y:0}},className:"flex items-start text-lg",children:[e.jsx(ur,{className:"text-yellow-400 mt-1 mr-3"}),e.jsxs("span",{children:[e.jsx("span",{className:"font-bold text-white",children:"If there's a dispute"}),", players must provide"," ",e.jsx("span",{className:"text-cyan-300 font-semibold",children:"video or screenshot proof"})," for review."]})]}),e.jsxs(cd.li,{variants:{hidden:{opacity:0,y:16},visible:{opacity:1,y:0}},className:"flex items-start text-lg",children:[e.jsx(dr,{className:"text-purple-400 mt-1 mr-3"}),e.jsxs("span",{children:[e.jsx("span",{className:"font-bold text-white",children:"Admins review disputes and make the final call."})," Verified winners receive the reward."]})]}),e.jsxs(cd.li,{variants:{hidden:{opacity:0,y:16},visible:{opacity:1,y:0}},className:"flex items-start text-lg",children:[e.jsx(mr,{className:"text-pink-400 mt-1 mr-3"}),e.jsxs("span",{children:[e.jsx("span",{className:"font-bold text-white",children:"Attempts to falsify results"})," may lead to"," ",e.jsx("span",{className:"text-yellow-300 font-bold",children:"deactivation"}),".",e.jsx("br",{}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"USDFG does not disclose penalty thresholds."})]})]})]})]}),e.jsx(cd.div,{initial:{opacity:0,y:8},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"mb-8",children:e.jsxs("div",{className:"bg-gradient-to-br from-cyan-900/40 to-purple-900/30 border border-cyan-400/40 rounded-xl p-4 text-base text-center shadow-lg backdrop-blur-md flex items-center justify-center gap-3",children:[e.jsx(ur,{className:"text-yellow-300 w-5 h-5"}),e.jsx("span",{className:"font-semibold text-cyan-100",children:"Make sure your challenge description clearly defines all win conditions and game settings."})]})}),e.jsx(cd.div,{initial:{opacity:0,y:8},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.3},className:"flex justify-center mt-4",children:e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-cyan-700 to-purple-700 border-2 border-cyan-400/40 shadow-md text-cyan-100 text-sm font-bold",children:[e.jsx(mr,{className:"text-cyan-300 w-5 h-5 mr-1"}),"Fair Play Guaranteed"]})}),e.jsxs("div",{className:"space-y-4 mt-12",children:[e.jsx("div",{className:"text-center mb-6",children:e.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white tracking-wide underline decoration-cyan-500 underline-offset-4",children:"Ready to walk away with the token?"})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Qn,{htmlFor:"category",className:"text-sm font-medium text-muted-foreground mb-1",children:"Category"}),e.jsxs("select",{id:"category",className:"w-full px-4 py-3 bg-white text-black rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-400",value:r,onChange:e=>{const t=e.target.value;s(t),a(""),m(""),u("")},children:[e.jsx("option",{value:"",children:"Select a category"}),Object.keys(t).map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx(Qn,{htmlFor:"game",className:"text-sm font-medium text-muted-foreground mb-1",children:"Game"}),e.jsxs("div",{className:"transition-all duration-300 ease-out "+(p?"opacity-100 translate-y-0":"opacity-0 translate-y-2"),children:[e.jsxs("select",{id:"game",className:"w-full px-4 py-3 bg-white text-black rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-400",value:i,onChange:e=>{a(e.target.value),u(""),m("")},disabled:!r,children:[e.jsx("option",{value:"",children:r?"Select a game":"Choose a category first"}),!!r&&t[r].map(t=>e.jsx("option",{value:t,children:t},t))]}),"Custom"===i&&e.jsx("input",{type:"text",className:"w-full mt-2 px-4 py-3 bg-white text-black rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-400",placeholder:"Enter custom game",value:c,onChange:e=>u(e.target.value)})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(Qn,{htmlFor:"challenge-mode",className:"text-sm font-medium text-muted-foreground mb-1",children:"Challenge Mode"}),e.jsxs("div",{className:"relative transition-all duration-300 ease-out "+(y?"opacity-100 translate-y-0":"opacity-0 translate-y-2"),children:[e.jsxs("select",{id:"challenge-mode",className:"w-full px-4 py-3 bg-white text-black rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-400",value:f,onChange:e=>m(e.target.value),disabled:!i,children:[e.jsx("option",{value:"",children:r?"Select a mode":"Choose a category first"}),r&&n[r]?.map(t=>e.jsx("option",{value:t.label,children:t.label},t.label))]}),r&&n[r]?.find(e=>e.label===f&&e.tooltip)&&e.jsx("div",{className:"absolute left-0 mt-2 w-full bg-gray-900 text-xs text-yellow-300 rounded shadow-lg p-2 z-10 border border-yellow-500",children:n[r].find(e=>e.label===f)?.tooltip})]})]}),e.jsxs("div",{children:[e.jsx(Qn,{htmlFor:"system",className:"text-sm font-medium text-muted-foreground mb-1",children:"System"}),e.jsxs("select",{id:"system",className:"w-full px-4 py-3 bg-white text-black rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-400",value:o,onChange:e=>l(e.target.value),disabled:!i,children:[e.jsx("option",{value:"",children:i?"Select a system":"Choose a game first"}),e.jsx("option",{value:"PS5",children:"PS5"}),e.jsx("option",{value:"Xbox",children:"Xbox"}),e.jsx("option",{value:"PC",children:"PC"}),e.jsx("option",{value:"Switch",children:"Switch"}),e.jsx("option",{value:"Wii",children:"Wii"}),e.jsx("option",{value:"Other",children:"Other"})]}),"Other"===o&&e.jsx("input",{type:"text",className:"w-full mt-2 px-4 py-3 bg-white text-black rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-400",placeholder:"Enter system",value:d,onChange:e=>h(e.target.value)})]}),e.jsxs("div",{children:[e.jsx(Qn,{htmlFor:"entry-amount",className:"text-sm font-medium text-muted-foreground mb-1",children:"Entry Amount (USDFG)"}),e.jsx(Hn,{id:"entry-amount",type:"number",placeholder:"Enter amount (e.g., 10.00)",className:"w-full",min:"0.01",step:"0.01"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(Qn,{htmlFor:"challenge-rules",className:"text-sm font-medium text-muted-foreground mb-1",children:"Challenge Rules & Details"}),e.jsx(Wn,{id:"challenge-rules",rows:4,placeholder:"Add your gamer tag so your opponent can find you.\nIf you selected Custom Challenge, make sure your rules are clear, fair, and not outrageous.\n\nUnclear or unfair custom rules may be rejected.",className:"w-full px-4 py-3 bg-background border border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-cyan-400"})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("a",{className:"inline-block px-6 py-2 bg-gradient-to-r from-purple-600 to-pink-500 text-white rounded-full font-semibold shadow-[0_0_6px_#a78bfa33] flex items-center gap-2 transition-all duration-200 text-base",title:"Launch real challenges from the full platform",style:{pointerEvents:"none",opacity:.6,cursor:"not-allowed"},children:["Open in App ",e.jsx("span",{className:"ml-2 animate-bounce-x","aria-hidden":"true",children:""})]})})]})]})})]}),e.jsx("style",{children:"\n        .shimmer {\n          position: relative;\n          display: inline-block;\n          background: linear-gradient(90deg, #f5d06f 0%, #a78bfa 100%);\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          text-shadow: 0 0 32px #f5d06f88, 0 2px 8px #000;\n          letter-spacing: 0.04em;\n          font-weight: 800;\n          font-size: 2.25rem;\n          overflow: hidden;\n        }\n        .shimmer::after {\n          content: '';\n          position: absolute; inset: 0;\n          background: linear-gradient(120deg, transparent 40%, #fffbe6 50%, transparent 60%);\n          opacity: 0.25; mix-blend-mode: lighten;\n          animation: shimmer 4s linear infinite;\n          pointer-events: none;\n        }\n        @keyframes shimmer { 0% { transform: translateX(-100%);} 100% { transform: translateX(100%);} }\n\n        .glow-behind {\n          position: absolute;\n          inset: -20px;\n          border-radius: 24px;\n          background: radial-gradient(60% 60% at 50% 50%, #00e8fc33, transparent 70%);\n          filter: blur(24px);\n          z-index: 0;\n        }\n        .pulse-glow { animation: pulseGlow 3s ease-in-out infinite alternate; }\n        @keyframes pulseGlow {\n          0% { opacity: 0.35; filter: blur(18px); }\n          100% { opacity: 0.75; filter: blur(28px); }\n        }\n\n        .shadow-glow { box-shadow: 0 0 24px #00e8fc44, 0 0 4px #fff1; }\n\n        .fade-in-up { opacity: 1 !important; transform: translateY(0) !important; }\n\n        .animate-bounce-x { display:inline-block; animation: bounce-x 1.2s infinite alternate; }\n        @keyframes bounce-x { 0% { transform: translateX(0);} 100% { transform: translateX(8px);} }\n      "})]})},dd=()=>{const[t,n]=D.useState(0),[r,s]=D.useState(0),[i,a]=D.useState(0),[o,l]=D.useState(0),c=D.useRef([null,null,null,null]),u=D.useRef(!1),d=D.useRef(null),h=(e,t,n=1e3,r)=>{let s;const i=a=>{s||(s=a);const o=Math.min((a-s)/n,1);t(Math.floor(o*e)),o<1?"number"==typeof r&&(c.current[r]=requestAnimationFrame(i)):t(e)};return i};D.useEffect(()=>{const e=d.current;if(!e)return;const t=new window.IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!u.current&&(u.current=!0,requestAnimationFrame(h(65,n,1e3,0)),requestAnimationFrame(h(15,s,1e3,1)),requestAnimationFrame(h(10,a,1e3,2)),requestAnimationFrame(h(10,l,1e3,3)))})},{threshold:.2});return t.observe(e),()=>t.disconnect()},[]);const f=(e,t,n)=>()=>{c.current[n]&&cancelAnimationFrame(c.current[n]),requestAnimationFrame(h(e,t,1e3,n))},m=()=>{};return e.jsxs("section",{id:"tokenomics",className:"py-20 text-center",ref:d,children:[e.jsxs("div",{className:"max-w-2xl mx-auto mb-8 px-6 py-4 rounded-xl bg-gradient-to-br from-white/10 to-[#a78bfa22] border border-purple-700/40 shadow-lg backdrop-blur-md animate-fade-in",style:{textAlign:"center"},children:[e.jsx("p",{className:"text-lg md:text-xl font-bold text-purple-300 mb-2 drop-shadow-glow",children:"Why Tokenomics Matters"}),e.jsx("p",{className:"text-base md:text-lg text-white/90 font-medium",children:"Transparent tokenomics ensures every USDFG token is allocated for platform access and utility, with no hidden distributions. Our structure is designed for platform integrity and fair accessso you always know exactly how tokens are used within the ecosystem."})]}),e.jsx("h2",{className:"text-3xl md:text-5xl font-bold mb-4 text-white",style:{textShadow:"var(--primary-glow)"},children:"TOKENOMICS"}),e.jsx("p",{className:"text-lg text-muted-foreground mb-12 max-w-xl mx-auto",children:"USDFG Token allocation structure for platform access and utility."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 max-w-5xl mx-auto mb-8",children:[e.jsxs("div",{className:"rounded-xl border border-purple-500/40 bg-gradient-to-br from-[#a78bfa11] to-[#a78bfa22] p-6 text-center shadow-lg animate-float-soft",onMouseEnter:f(65,n,0),onMouseLeave:m,children:[e.jsxs("p",{className:"text-4xl md:text-5xl font-extrabold text-purple-300 mb-2 animate-pulse-soft",children:[t,"%"]}),e.jsx("p",{className:"text-lg font-bold text-white/90",children:"Public Trading"})]}),e.jsxs("div",{className:"rounded-xl border border-purple-500/40 bg-gradient-to-br from-[#a78bfa11] to-[#a78bfa22] p-6 text-center shadow-lg animate-float-soft",onMouseEnter:f(15,s,1),onMouseLeave:m,children:[e.jsxs("p",{className:"text-4xl md:text-5xl font-extrabold text-purple-300 mb-2 animate-pulse-soft",children:[r,"%"]}),e.jsx("p",{className:"text-lg font-bold text-white/90",children:"Core Reserve"})]}),e.jsxs("div",{className:"rounded-xl border border-purple-500/40 bg-gradient-to-br from-[#a78bfa11] to-[#a78bfa22] p-6 text-center shadow-lg animate-float-soft",onMouseEnter:f(10,a,2),onMouseLeave:m,children:[e.jsxs("p",{className:"text-4xl md:text-5xl font-extrabold text-purple-300 mb-2 animate-pulse-soft",children:[i,"%"]}),e.jsx("p",{className:"text-lg font-bold text-white/90",children:"Development & Operations"})]}),e.jsxs("div",{className:"rounded-xl border border-purple-500/40 bg-gradient-to-br from-[#a78bfa11] to-[#a78bfa22] p-6 text-center shadow-lg animate-float-soft",onMouseEnter:f(10,l,3),onMouseLeave:m,children:[e.jsxs("p",{className:"text-4xl md:text-5xl font-extrabold text-purple-300 mb-2 animate-pulse-soft",children:[o,"%"]}),e.jsx("p",{className:"text-lg font-bold text-white/90",children:"Player Rewards & Challenges"})]})]}),e.jsxs("div",{className:"text-center mt-6",children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"USDFG has a fixed supply of 21,000,000 tokens. No inflation. No dilution. No burning. Just hard supply  like it should be."}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"The percentages shown reflect platform utility allocation only. These are not financial indicators or investment guidance."}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"USDFG is used strictly for access, skill-based gameplay, and challenge participation within the platform."}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"No income, interest, or financial benefit is promised or implied. USDFG is not a security."})]}),e.jsx("style",{children:"\n        @keyframes floatSoft {\n          0% { transform: translateY(0); }\n          50% { transform: translateY(-6px); }\n          100% { transform: translateY(0); }\n        }\n        .animate-float-soft {\n          animation: floatSoft 3.2s ease-in-out infinite;\n        }\n        @keyframes pulseSoft {\n          0% { text-shadow: 0 0 8px #a78bfa44; }\n          50% { text-shadow: 0 0 16px #a78bfa99; }\n          100% { text-shadow: 0 0 8px #a78bfa44; }\n        }\n        .animate-pulse-soft {\n          animation: pulseSoft 2.2s ease-in-out infinite;\n        }\n      "})]})},hd=D.forwardRef(({className:t,...n},r)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:r,className:Sn("w-full caption-bottom text-sm",t),...n})}));hd.displayName="Table";const fd=D.forwardRef(({className:t,...n},r)=>e.jsx("thead",{ref:r,className:Sn("[&_tr]:border-b",t),...n}));fd.displayName="TableHeader";const md=D.forwardRef(({className:t,...n},r)=>e.jsx("tbody",{ref:r,className:Sn("[&_tr:last-child]:border-0",t),...n}));md.displayName="TableBody";D.forwardRef(({className:t,...n},r)=>e.jsx("tfoot",{ref:r,className:Sn("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...n})).displayName="TableFooter";const pd=D.forwardRef(({className:t,...n},r)=>e.jsx("tr",{ref:r,className:Sn("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...n}));pd.displayName="TableRow";const gd=D.forwardRef(({className:t,...n},r)=>e.jsx("th",{ref:r,className:Sn("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...n}));gd.displayName="TableHead";const yd=D.forwardRef(({className:t,...n},r)=>e.jsx("td",{ref:r,className:Sn("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...n}));yd.displayName="TableCell";D.forwardRef(({className:t,...n},r)=>e.jsx("caption",{ref:r,className:Sn("mt-4 text-sm text-muted-foreground",t),...n})).displayName="TableCaption";const bd=d,xd=h,vd=f,wd=D.forwardRef(({className:t,sideOffset:n=4,...r},s)=>e.jsx(u,{ref:s,sideOffset:n,className:Sn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));wd.displayName=u.displayName;const Sd={Bronze:"Bronze: New competitor, keep climbing!",Silver:"Silver: Solid competitor, rising star!",Gold:"Gold: Elite performer, top 10%!",Platinum:"Platinum: Legendary, the best of the best!",Ghostly:"Ghostly: Transcendent, the rarest and most mysterious tier!"};const kd=()=>{const[t,n]=D.useState("most-wins"),[r,s]=D.useState(null);return e.jsx("section",{className:"py-20 bg-card",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("h2",{className:"text-3xl md:text-4xl font-extrabold mb-2 drop-shadow-glow",children:["USDFG ",e.jsx("span",{className:"text-primary",children:"LEADERBOARD"})]}),e.jsx("div",{className:"mx-auto mb-4 h-1 w-40 rounded-full bg-gradient-to-r from-cyan-400 via-purple-500 to-cyan-400 animate-pulse shadow-[0_0_32px_#22d3ee99] shimmer-underline"}),e.jsxs("p",{className:"text-cyan-200 max-w-2xl mx-auto text-lg font-semibold mb-2",children:["No usernames. No profiles. Just your wallet, your skill, your record.",e.jsx(bd,{children:e.jsxs(xd,{children:[e.jsx(vd,{asChild:!0,children:e.jsx("span",{className:"ml-2 cursor-pointer text-cyan-400",children:""})}),e.jsx(wd,{className:"bg-black/80 text-cyan-100 border-cyan-400/40",children:"Your wallet is your identity. No personal data, no registration, no tracking."})]})})]}),e.jsx("p",{className:"text-cyan-400 max-w-2xl mx-auto text-base font-medium",children:"Only skill matters. No bots. No aliases. Every win is on-chain."})]}),e.jsxs("div",{className:"max-w-5xl mx-auto relative",children:[e.jsx("div",{className:"pointer-events-none absolute inset-0 z-10 rounded-2xl overflow-hidden",children:e.jsx("div",{className:"absolute top-0 left-0 w-full h-1/3 bg-gradient-to-b from-white/30 to-transparent opacity-30 animate-glass-reflection"})}),e.jsx("div",{className:"flex flex-wrap justify-center mb-6 border-b border-cyan-800/60",children:[{id:"most-wins",label:"Most Wins"},{id:"win-streak",label:"Win Streak"},{id:"total-gains",label:"Total Skill Rewards"},{id:"highest-rank",label:"Highest Rank"}].map(r=>e.jsx(Fn,{variant:t===r.id?"default":"ghost",className:"rounded-none rounded-t-md font-bold tracking-wide px-6 py-2 text-lg "+(t===r.id?"bg-gradient-to-r from-cyan-400 to-purple-500 text-black shadow-[0_0_16px_#22d3ee99]":"text-cyan-300 hover:text-white"),onClick:()=>n(r.id),children:r.label},r.id))}),e.jsx("div",{className:"overflow-x-auto rounded-2xl bg-gradient-to-br from-white/10 to-[#00ffff22] border-2 border-cyan-400/40 shadow-2xl backdrop-blur-md p-2 relative neon-outline",children:e.jsxs(hd,{children:[e.jsx(fd,{children:e.jsxs(pd,{children:[e.jsx(gd,{className:"w-12 text-center",children:"Rank"}),e.jsx(gd,{className:"text-left",children:"Wallet"}),e.jsx(gd,{className:"text-center",children:"Wins"}),e.jsx(gd,{className:"text-center",children:"Losses"}),e.jsx(gd,{className:"text-center",children:"Win Rate"}),e.jsx(gd,{className:"text-center",children:"Streak"}),e.jsx(gd,{className:"w-36 text-center",style:{overflow:"visible",position:"relative"},children:e.jsx("div",{className:"flex items-center justify-center gap-1 relative",children:"Skill Rewards (USDFG)"})}),e.jsx(gd,{className:"w-24 text-center",children:"Tier"})]})}),e.jsx(md,{children:[{rank:1,wallet:"0xA1B2C3D4E5F6G7H8I9J0K1L2M3N4O5P6Q7R8S9F8E",wins:156,losses:12,winRate:"92.9%",winStreak:24,gains:1250,rankTitle:"Ghostly"},{rank:2,wallet:"0xB2C3D4E5F6G7H8I9J0K1L2M3N4O5P6Q7R8S9F8E1A",wins:142,losses:18,winRate:"88.8%",winStreak:18,gains:3.2456,rankTitle:"Platinum"},{rank:3,wallet:"0xC3D4E5F6G7H8I9J0K1L2M3N4O5P6Q7R8S9F8E1AB2",wins:128,losses:22,winRate:"85.3%",winStreak:15,gains:34e-6,rankTitle:"Gold"},{rank:4,wallet:"0xD4E5F6G7H8I9J0K1L2M3N4O5P6Q7R8S9F8E1AB2C3",wins:98,losses:32,winRate:"75.4%",winStreak:12,gains:12.5,rankTitle:"Silver"},{rank:5,wallet:"0xE5F6G7H8I9J0K1L2M3N4O5P6Q7R8S9F8E1AB2C3D4",wins:85,losses:45,winRate:"65.4%",winStreak:8,gains:.015678,rankTitle:"Bronze"}].map((t,n)=>{const i=`${t.wallet.slice(0,6)}...${t.wallet.slice(-4)}`;return t.rankTitle,Sd[t.rankTitle]||t.rankTitle,e.jsxs(pd,{className:"relative group transition-transform duration-200 "+(n<3?"z-10 animate-glow-row":""),style:n<3?{boxShadow:"0 0 32px 8px var(--tier-glow-"+t.rankTitle.toLowerCase()+")"}:{},children:[e.jsx(yd,{className:"text-center font-bold text-lg",children:t.rank}),e.jsxs(yd,{className:"font-mono text-sm flex items-center gap-2",children:[e.jsx("span",{children:i}),e.jsx(bd,{children:e.jsxs(xd,{children:[e.jsx(vd,{asChild:!0,children:e.jsx(mt,{className:"w-4 h-4 cursor-pointer hover:text-cyan-400",onClick:()=>{navigator.clipboard.writeText(t.wallet),s(n),setTimeout(()=>s(null),1200)}})}),e.jsx(wd,{className:"bg-black/80 text-cyan-100 border-cyan-400/40",children:r===n?"Copied!":"Copy wallet address"})]})})]}),e.jsx(yd,{className:"text-center",children:t.wins}),e.jsx(yd,{className:"text-center",children:t.losses}),e.jsx(yd,{className:"text-center",children:t.winRate}),e.jsx(yd,{className:"text-center",children:t.winStreak}),e.jsx(yd,{className:"text-center font-bold text-cyan-300",children:(a=t.gains,a>=1?a.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}):a>=.01?a.toLocaleString(void 0,{minimumFractionDigits:4,maximumFractionDigits:4}):a.toLocaleString(void 0,{minimumFractionDigits:6,maximumFractionDigits:6}))}),e.jsx(yd,{className:"text-center",children:e.jsx(bd,{children:e.jsxs(xd,{children:[e.jsx(vd,{asChild:!0,children:e.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full font-semibold text-white shadow-md border-2 ${"Gold"===t.rankTitle?"bg-gradient-to-r from-yellow-400 to-yellow-600 border-yellow-400":"Silver"===t.rankTitle?"bg-gradient-to-r from-gray-300 to-gray-500 border-gray-300":"Bronze"===t.rankTitle?"bg-gradient-to-r from-amber-700 to-yellow-500 border-amber-700":"bg-gradient-to-r from-cyan-400 to-blue-600 border-cyan-400"} animate-fade-in-up`,children:["Gold"===t.rankTitle&&e.jsx(pt,{className:"w-5 h-5 text-yellow-300 drop-shadow-glow animate-bounce"}),"Silver"===t.rankTitle&&e.jsx(pt,{className:"w-5 h-5 text-gray-200 drop-shadow-glow animate-bounce"}),"Bronze"===t.rankTitle&&e.jsx(pt,{className:"w-5 h-5 text-amber-400 drop-shadow-glow animate-bounce"}),"Platinum"===t.rankTitle&&e.jsx(pt,{className:"w-5 h-5 text-cyan-200 drop-shadow-glow animate-bounce"}),"Ghostly"===t.rankTitle&&e.jsx(pt,{className:"w-5 h-5 text-purple-400 drop-shadow-glow animate-bounce",style:{filter:"drop-shadow(0 0 8px #a78bfa) drop-shadow(0 0 16px #fff)"}}),e.jsx("span",{className:"ml-1",children:t.rankTitle})]})}),e.jsx(wd,{children:e.jsxs("span",{children:[t.rankTitle," Tier: ","Gold"===t.rankTitle?"Top 1% - Legendary performance":"Silver"===t.rankTitle?"Top 10% - Elite competitor":"Bronze"===t.rankTitle?"Top 25% - Proven winner":"Platinum - Consistent excellence"]})})]})})})]},t.wallet);var a})})]})}),e.jsx("div",{className:"flex justify-center mt-6",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("span",{className:"w-8 h-8 flex items-center justify-center bg-primary text-background rounded-md",children:"1"}),e.jsx("span",{className:"w-8 h-8 flex items-center justify-center text-muted-foreground hover:text-white transition-colors rounded-md cursor-pointer",children:"2"}),e.jsx("span",{className:"w-8 h-8 flex items-center justify-center text-muted-foreground hover:text-white transition-colors rounded-md cursor-pointer",children:"3"}),e.jsx("span",{className:"w-8 h-8 flex items-center justify-center text-muted-foreground hover:text-white transition-colors rounded-md cursor-pointer",children:"Next "})]})})]})]})})},Nd=()=>{const t={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}};return e.jsx("section",{className:"py-20 px-4 text-white relative overflow-hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx(cd.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-3xl md:text-4xl font-extrabold tracking-wide mb-2 text-center drop-shadow-glow",children:"Supported Games"}),e.jsx(cd.div,{initial:{width:0},animate:{width:"200px"},transition:{duration:.8,delay:.3},className:"mx-auto mb-12 h-1 rounded-full bg-gradient-to-r from-cyan-400 via-purple-500 to-cyan-400 animate-pulse shadow-[0_0_32px_#22d3ee99]"}),e.jsxs(cd.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.5},className:"relative max-w-2xl mx-auto mb-12 px-6 py-6 rounded-2xl bg-gradient-to-br from-white/10 to-[#00ffff22] border border-cyan-400/40 shadow-xl backdrop-blur-md text-center",children:[e.jsx("p",{className:"text-xl md:text-2xl font-extrabold text-white mb-2 drop-shadow-glow",children:"The Arena Is Open. Any Game. No Excuses."}),e.jsxs("p",{className:"text-md md:text-lg text-cyan-100 leading-relaxed font-medium",children:["Dominate in the games you know. Rise through the ones they don't expect.",e.jsx("br",{}),"USDFG supports verified competitive play across all major genres  sports, fighting, racing, and more.",e.jsx("br",{}),"If it can be played with skill, it can be challenged.",e.jsx("br",{}),e.jsx("span",{className:"text-cyan-300 font-semibold",children:"Custom rules. Public results. Smart contract enforcement."}),e.jsx("br",{}),e.jsx("span",{className:"text-white font-bold",children:"No odds. No bets. Just performance."})]})]}),e.jsx(cd.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-100px"},className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-stretch h-full",children:[{image:"/assets/usdfg-sports-game-competition.png",title:" Sports Game Challenge",challenges:"Compete across major sports genres. Outplay the competition. Only the best walk away.",alt:"USDFG sports game competition - dominate head-to-head matches"},{image:"/assets/usdfg-fighting-game-tournament.png",title:" Fighting Game Challenge",challenges:"Every move counts. No gimmicks, no RNG  just pure skill.",alt:"USDFG fighting game tournament - master combos and counters"},{image:"/assets/usdfg-racing-game-challenge.png",title:" Racing Game Challenge",challenges:"Time is your enemy. Every millisecond earned, not given.",alt:"USDFG racing game challenge - test your precision and speed"},{image:"/assets/usdfg-shooting-game-battle.png",title:" Shooter Game Challenge",challenges:"Clutch moments. Custom chaos. Only your aim decides the outcome.",alt:"USDFG shooting game battle - prove your aim and reflexes"}].map((n,r)=>e.jsxs(cd.div,{variants:t,className:"group relative h-full flex flex-col",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-500/20 to-purple-500/20 rounded-xl blur-xl group-hover:blur-2xl transition-all duration-500 animate-pulse"}),e.jsxs("div",{className:"relative bg-[#0d0d0d]/80 backdrop-blur-sm border border-cyan-500/30 rounded-xl p-6 shadow-[0_0_16px_rgba(72,216,255,0.2)] hover:shadow-[0_0_32px_rgba(72,216,255,0.4)] transition-all duration-500 hover:scale-[1.02] hover:border-cyan-500/50 h-full flex flex-col",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:n.image.replace(".png",".webp"),alt:n.alt,className:"w-full h-48 object-cover rounded-lg mb-4 shadow-lg",loading:"lazy",decoding:"async"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent rounded-lg"})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("h3",{className:"text-xl font-bold mb-2 flex items-center gap-2 group-hover:text-cyan-400 transition-colors duration-300",children:[e.jsx("span",{className:"animate-bounce",children:n.title.split(" ")[0]}),e.jsx("span",{children:n.title.split(" ").slice(1).join(" ")})]}),e.jsx("p",{className:"text-gray-300 whitespace-pre-line leading-relaxed",children:n.challenges})]})]})]},r))})]})})},jd=()=>{zn();const t=D.useRef(null),[n,r]=D.useState(!1);return D.useEffect(()=>{const e=t.current;if(!e)return;const n=new window.IntersectionObserver(([e])=>{e.isIntersecting&&(r(!0),n.disconnect())},{threshold:.2});return n.observe(e),()=>n.disconnect()},[]),e.jsx("section",{className:"py-20 bg-gradient-to-r from-card to-background",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs("section",{className:"flex flex-col items-center py-14 px-4",children:[e.jsx("div",{className:"flex justify-center mb-8 relative w-full",style:{alignItems:"center",minHeight:"340px"},children:e.jsx("div",{className:"relative rounded-xl overflow-hidden flex items-center justify-center",style:{minHeight:"300px"},children:e.jsx("img",{src:"/assets/usdfg-enter-the-challenge-arcade.webp",alt:"USDFG Mascot Entering the Challenge Arena",className:"w-full max-w-3xl rounded-xl",style:{display:"block",margin:"0 auto"},loading:"lazy",decoding:"async"})})}),e.jsx("p",{className:"text-center text-sm text-neutral-400 mt-2 italic",children:"Step in. Only the skilled walk out."})]}),e.jsxs("p",{className:"text-center text-lg text-white font-semibold mt-12",children:["Ready to ",e.jsx("span",{className:"text-purple-400",children:"Game"}),", ",e.jsx("span",{className:"text-blue-400",children:"Earn"}),", and ",e.jsx("span",{className:"text-purple-400",children:"Conquer"}),"?"]}),e.jsx(R,{to:"/app",className:"flex justify-center",children:e.jsx("button",{className:"mt-4 px-6 py-2 text-sm font-semibold bg-gradient-to-r from-cyan-400 to-purple-500 text-black rounded-full shadow-lg transition-all duration-200 hover:scale-105 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-cyan-400/60",children:"Enter the Arena "})}),e.jsx("div",{className:"flex justify-center mt-8",children:e.jsxs("div",{className:"relative max-w-2xl w-full",children:[e.jsx("div",{className:"absolute inset-0 rounded-xl blur-2xl bg-gradient-to-r from-cyan-400/10 via-purple-500/10 to-cyan-400/10 z-0",style:{filter:"blur(24px)"}}),e.jsxs("blockquote",{className:"relative z-10 text-center text-neutral-300 italic font-medium px-4 py-6",children:['"I built USDFG to reward the ones who never begged for a seat. No mercy. No reruns. If you\'re waiting for permission, you already lost."',e.jsx("br",{}),e.jsx("span",{className:"block mt-2 text-xs text-neutral-500",children:" Hussein A."})]})]})})]})})})};var Ed,_d,Cd,Td,Ad,Id={exports:{}};function Pd(){if(_d)return Ed;_d=1;return Ed="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function Md(){if(Td)return Cd;Td=1;var e=Pd();function t(){}function n(){}return n.resetWarningCache=t,Cd=function(){function r(t,n,r,s,i,a){if(a!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function s(){return r}r.isRequired=r;var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i}}function Dd(){return Ad||(Ad=1,Id.exports=Md()()),Id.exports}const Rd=F(Dd());var Od,Fd;const Ld=F(function(){if(Fd)return Od;Fd=1;var e,t=P(),n=(e=t)&&"object"==typeof e&&"default"in e?e.default:e;function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=!("undefined"==typeof window||!window.document||!window.document.createElement);return Od=function(e,i,a){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof i)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==a&&"function"!=typeof a)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(o){if("function"!=typeof o)throw new Error("Expected WrappedComponent to be a React component.");var l,c=[];function u(){l=e(c.map(function(e){return e.props})),d.canUseDOM?i(l):a&&(l=a(l))}var d=function(e){var t,r;function s(){return e.apply(this,arguments)||this}r=e,(t=s).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,s.peek=function(){return l},s.rewind=function(){if(s.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=l;return l=void 0,c=[],e};var i=s.prototype;return i.UNSAFE_componentWillMount=function(){c.push(this),u()},i.componentDidUpdate=function(){u()},i.componentWillUnmount=function(){var e=c.indexOf(this);c.splice(e,1),u()},i.render=function(){return n.createElement(o,this.props)},s}(t.PureComponent);return r(d,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(o)+")"),r(d,"canUseDOM",s),d}}}());var Bd,Ud;var zd=function(){if(Ud)return Bd;Ud=1;var e="undefined"!=typeof Element,t="function"==typeof Map,n="function"==typeof Set,r="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function s(i,a){if(i===a)return!0;if(i&&a&&"object"==typeof i&&"object"==typeof a){if(i.constructor!==a.constructor)return!1;var o,l,c,u;if(Array.isArray(i)){if((o=i.length)!=a.length)return!1;for(l=o;0!==l--;)if(!s(i[l],a[l]))return!1;return!0}if(t&&i instanceof Map&&a instanceof Map){if(i.size!==a.size)return!1;for(u=i.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=i.entries();!(l=u.next()).done;)if(!s(l.value[1],a.get(l.value[0])))return!1;return!0}if(n&&i instanceof Set&&a instanceof Set){if(i.size!==a.size)return!1;for(u=i.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(i)&&ArrayBuffer.isView(a)){if((o=i.length)!=a.length)return!1;for(l=o;0!==l--;)if(i[l]!==a[l])return!1;return!0}if(i.constructor===RegExp)return i.source===a.source&&i.flags===a.flags;if(i.valueOf!==Object.prototype.valueOf&&"function"==typeof i.valueOf&&"function"==typeof a.valueOf)return i.valueOf()===a.valueOf();if(i.toString!==Object.prototype.toString&&"function"==typeof i.toString&&"function"==typeof a.toString)return i.toString()===a.toString();if((o=(c=Object.keys(i)).length)!==Object.keys(a).length)return!1;for(l=o;0!==l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(e&&i instanceof Element)return!1;for(l=o;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!i.$$typeof)&&!s(i[c[l]],a[c[l]]))return!1;return!0}return i!=i&&a!=a}return Bd=function(e,t){try{return s(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}}();const Vd=F(zd);
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var qd,Gd;var $d=function(){if(Gd)return qd;Gd=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;return qd=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(s){return!1}}()?Object.assign:function(r,s){for(var i,a,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(r),l=1;l<arguments.length;l++){for(var c in i=Object(arguments[l]))t.call(i,c)&&(o[c]=i[c]);if(e){a=e(i);for(var u=0;u<a.length;u++)n.call(i,a[u])&&(o[a[u]]=i[a[u]])}}return o},qd}();const Hd=F($d);var Wd="bodyAttributes",Kd="htmlAttributes",Qd="titleAttributes",Yd={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Yd).map(function(e){return Yd[e]});var Xd,Jd,Zd,eh,th="charset",nh="cssText",rh="href",sh="http-equiv",ih="innerHTML",ah="itemprop",oh="name",lh="property",ch="rel",uh="src",dh="target",hh={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},fh="defaultTitle",mh="defer",ph="encodeSpecialCharacters",gh="onChangeClientState",yh="titleTemplate",bh=Object.keys(hh).reduce(function(e,t){return e[hh[t]]=t,e},{}),xh=[Yd.NOSCRIPT,Yd.SCRIPT,Yd.STYLE],vh="data-react-helmet",wh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),kh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nh=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},jh=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Eh=function(e){var t=Ih(e,Yd.TITLE),n=Ih(e,yh);if(n&&t)return n.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var r=Ih(e,fh);return t||r||void 0},_h=function(e){return Ih(e,gh)||function(){}},Ch=function(e,t){return t.filter(function(t){return void 0!==t[e]}).map(function(t){return t[e]}).reduce(function(e,t){return kh({},e,t)},{})},Th=function(e,t){return t.filter(function(e){return void 0!==e[Yd.BASE]}).map(function(e){return e[Yd.BASE]}).reverse().reduce(function(t,n){if(!t.length)for(var r=Object.keys(n),s=0;s<r.length;s++){var i=r[s].toLowerCase();if(-1!==e.indexOf(i)&&n[i])return t.concat(n)}return t},[])},Ah=function(e,t,n){var r={};return n.filter(function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&Oh("Helmet: "+e+' should be of type "Array". Instead found type "'+wh(t[e])+'"'),!1)}).map(function(t){return t[e]}).reverse().reduce(function(e,n){var s={};n.filter(function(e){for(var n=void 0,i=Object.keys(e),a=0;a<i.length;a++){var o=i[a],l=o.toLowerCase();-1===t.indexOf(l)||n===ch&&"canonical"===e[n].toLowerCase()||l===ch&&"stylesheet"===e[l].toLowerCase()||(n=l),-1===t.indexOf(o)||o!==ih&&o!==nh&&o!==ah||(n=o)}if(!n||!e[n])return!1;var c=e[n].toLowerCase();return r[n]||(r[n]={}),s[n]||(s[n]={}),!r[n][c]&&(s[n][c]=!0,!0)}).reverse().forEach(function(t){return e.push(t)});for(var i=Object.keys(s),a=0;a<i.length;a++){var o=i[a],l=Hd({},r[o],s[o]);r[o]=l}return e},[]).reverse()},Ih=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},Ph=(Xd=Date.now(),function(e){var t=Date.now();t-Xd>16?(Xd=t,e(t)):setTimeout(function(){Ph(e)},0)}),Mh=function(e){return clearTimeout(e)},Dh="undefined"!=typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Ph:globalThis.requestAnimationFrame||Ph,Rh="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||Mh:globalThis.cancelAnimationFrame||Mh,Oh=function(e){return console&&"function"==typeof console.warn&&console.warn(e)},Fh=null,Lh=function(e,t){var n=e.baseTag,r=e.bodyAttributes,s=e.htmlAttributes,i=e.linkTags,a=e.metaTags,o=e.noscriptTags,l=e.onChangeClientState,c=e.scriptTags,u=e.styleTags,d=e.title,h=e.titleAttributes;zh(Yd.BODY,r),zh(Yd.HTML,s),Uh(d,h);var f={baseTag:Vh(Yd.BASE,n),linkTags:Vh(Yd.LINK,i),metaTags:Vh(Yd.META,a),noscriptTags:Vh(Yd.NOSCRIPT,o),scriptTags:Vh(Yd.SCRIPT,c),styleTags:Vh(Yd.STYLE,u)},m={},p={};Object.keys(f).forEach(function(e){var t=f[e],n=t.newTags,r=t.oldTags;n.length&&(m[e]=n),r.length&&(p[e]=f[e].oldTags)}),t&&t(),l(e,m,p)},Bh=function(e){return Array.isArray(e)?e.join(""):e},Uh=function(e,t){void 0!==e&&document.title!==e&&(document.title=Bh(e)),zh(Yd.TITLE,t)},zh=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute(vh),s=r?r.split(","):[],i=[].concat(s),a=Object.keys(t),o=0;o<a.length;o++){var l=a[o],c=t[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),-1===s.indexOf(l)&&s.push(l);var u=i.indexOf(l);-1!==u&&i.splice(u,1)}for(var d=i.length-1;d>=0;d--)n.removeAttribute(i[d]);s.length===i.length?n.removeAttribute(vh):n.getAttribute(vh)!==a.join(",")&&n.setAttribute(vh,a.join(","))}},Vh=function(e,t){var n=document.head||document.querySelector(Yd.HEAD),r=n.querySelectorAll(e+"["+vh+"]"),s=Array.prototype.slice.call(r),i=[],a=void 0;return t&&t.length&&t.forEach(function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===ih)n.innerHTML=t.innerHTML;else if(r===nh)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var o=void 0===t[r]?"":t[r];n.setAttribute(r,o)}n.setAttribute(vh,"true"),s.some(function(e,t){return a=t,n.isEqualNode(e)})?s.splice(a,1):i.push(n)}),s.forEach(function(e){return e.parentNode.removeChild(e)}),i.forEach(function(e){return n.appendChild(e)}),{oldTags:s,newTags:i}},qh=function(e){return Object.keys(e).reduce(function(t,n){var r=void 0!==e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r},"")},Gh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(function(t,n){return t[hh[n]||n]=e[n],t},t)},$h=function(e,t,n){switch(e){case Yd.TITLE:return{toComponent:function(){return e=t.title,n=t.titleAttributes,(r={key:e})[vh]=!0,s=Gh(n,r),[O.createElement(Yd.TITLE,s,e)];var e,n,r,s},toString:function(){return function(e,t,n,r){var s=qh(n),i=Bh(t);return s?"<"+e+" "+vh+'="true" '+s+">"+jh(i,r)+"</"+e+">":"<"+e+" "+vh+'="true">'+jh(i,r)+"</"+e+">"}(e,t.title,t.titleAttributes,n)}};case Wd:case Kd:return{toComponent:function(){return Gh(t)},toString:function(){return qh(t)}};default:return{toComponent:function(){return function(e,t){return t.map(function(t,n){var r,s=((r={key:n})[vh]=!0,r);return Object.keys(t).forEach(function(e){var n=hh[e]||e;if(n===ih||n===nh){var r=t.innerHTML||t.cssText;s.dangerouslySetInnerHTML={__html:r}}else s[n]=t[e]}),O.createElement(e,s)})}(e,t)},toString:function(){return function(e,t,n){return t.reduce(function(t,r){var s=Object.keys(r).filter(function(e){return!(e===ih||e===nh)}).reduce(function(e,t){var s=void 0===r[t]?t:t+'="'+jh(r[t],n)+'"';return e?e+" "+s:s},""),i=r.innerHTML||r.cssText||"",a=-1===xh.indexOf(e);return t+"<"+e+" "+vh+'="true" '+s+(a?"/>":">"+i+"</"+e+">")},"")}(e,t,n)}}}},Hh=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,s=e.htmlAttributes,i=e.linkTags,a=e.metaTags,o=e.noscriptTags,l=e.scriptTags,c=e.styleTags,u=e.title,d=void 0===u?"":u,h=e.titleAttributes;return{base:$h(Yd.BASE,t,r),bodyAttributes:$h(Wd,n,r),htmlAttributes:$h(Kd,s,r),link:$h(Yd.LINK,i,r),meta:$h(Yd.META,a,r),noscript:$h(Yd.NOSCRIPT,o,r),script:$h(Yd.SCRIPT,l,r),style:$h(Yd.STYLE,c,r),title:$h(Yd.TITLE,{title:d,titleAttributes:h},r)}},Wh=Ld(function(e){return{baseTag:Th([rh,dh],e),bodyAttributes:Ch(Wd,e),defer:Ih(e,mh),encode:Ih(e,ph),htmlAttributes:Ch(Kd,e),linkTags:Ah(Yd.LINK,[ch,rh],e),metaTags:Ah(Yd.META,[oh,th,sh,lh,ah],e),noscriptTags:Ah(Yd.NOSCRIPT,[ih],e),onChangeClientState:_h(e),scriptTags:Ah(Yd.SCRIPT,[uh,ih],e),styleTags:Ah(Yd.STYLE,[nh],e),title:Eh(e),titleAttributes:Ch(Qd,e)}},function(e){Fh&&Rh(Fh),e.defer?Fh=Dh(function(){Lh(e,function(){Fh=null})}):(Lh(e),Fh=null)},Hh)(function(){return null}),Kh=(Jd=Wh,eh=Zd=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return!Vd(this.props,e)},t.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case Yd.SCRIPT:case Yd.NOSCRIPT:return{innerHTML:t};case Yd.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},t.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,s=e.newChildProps,i=e.nestedChildren;return kh({},r,((t={})[n.type]=[].concat(r[n.type]||[],[kh({},s,this.mapNestedChildrenToProps(n,i))]),t))},t.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,s=e.newProps,i=e.newChildProps,a=e.nestedChildren;switch(r.type){case Yd.TITLE:return kh({},s,((t={})[r.type]=a,t.titleAttributes=kh({},i),t));case Yd.BODY:return kh({},s,{bodyAttributes:kh({},i)});case Yd.HTML:return kh({},s,{htmlAttributes:kh({},i)})}return kh({},s,((n={})[r.type]=kh({},i),n))},t.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=kh({},t);return Object.keys(e).forEach(function(t){var r;n=kh({},n,((r={})[t]=e[t],r))}),n},t.prototype.warnOnInvalidChildren=function(e,t){return!0},t.prototype.mapChildrenToProps=function(e,t){var n=this,r={};return O.Children.forEach(e,function(e){if(e&&e.props){var s=e.props,i=s.children,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(function(t,n){return t[bh[n]||n]=e[n],t},t)}(Nh(s,["children"]));switch(n.warnOnInvalidChildren(e,i),e.type){case Yd.LINK:case Yd.META:case Yd.NOSCRIPT:case Yd.SCRIPT:case Yd.STYLE:r=n.flattenArrayTypeChildren({child:e,arrayTypeChildren:r,newChildProps:a,nestedChildren:i});break;default:t=n.mapObjectTypeChildren({child:e,newProps:t,newChildProps:a,nestedChildren:i})}}}),t=this.mapArrayTypeChildrenToProps(r,t)},t.prototype.render=function(){var e=this.props,t=e.children,n=Nh(e,["children"]),r=kh({},n);return t&&(r=this.mapChildrenToProps(t,r)),O.createElement(Jd,r)},Sh(t,null,[{key:"canUseDOM",set:function(e){Jd.canUseDOM=e}}]),t}(O.Component),Zd.propTypes={base:Rd.object,bodyAttributes:Rd.object,children:Rd.oneOfType([Rd.arrayOf(Rd.node),Rd.node]),defaultTitle:Rd.string,defer:Rd.bool,encodeSpecialCharacters:Rd.bool,htmlAttributes:Rd.object,link:Rd.arrayOf(Rd.object),meta:Rd.arrayOf(Rd.object),noscript:Rd.arrayOf(Rd.object),onChangeClientState:Rd.func,script:Rd.arrayOf(Rd.object),style:Rd.arrayOf(Rd.object),title:Rd.string,titleAttributes:Rd.object,titleTemplate:Rd.string},Zd.defaultProps={defer:!0,encodeSpecialCharacters:!0},Zd.peek=Jd.peek,Zd.rewind=function(){var e=Jd.rewind();return e||(e=Hh({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),e},eh);Kh.renderStatic=Kh.rewind;const Qh=()=>{const t="https://usdfg.pro/assets/usdfg-og-banner.webp",n="https://usdfg.pro/";return e.jsxs(e.Fragment,{children:[e.jsxs(Kh,{children:[e.jsx("title",{children:"USDFGAMING  Skill-Based Crypto Gaming Platform | Game. Earn. Conquer."}),e.jsx("meta",{name:"description",content:"USDFGAMING is the elite, skill-based crypto gaming platform. Compete in verified challenges, earn USDFG, and prove your skill. No gambling. No chance. 100% on-chain rewards."}),e.jsx("meta",{name:"keywords",content:"USDFG, USDFG, skill-based crypto gaming, earn from skill not luck, leaderboard, non-custodial, fair play, Game. Earn. Conquer., USDFGAMING, gaming token"}),e.jsx("link",{rel:"canonical",href:n}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:site_name",content:"USDFGAMING"}),e.jsx("meta",{property:"og:url",content:n}),e.jsx("meta",{property:"og:title",content:"USDFGAMING  Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{property:"og:description",content:"Compete in verified challenges, earn USDFG, and prove your skill. No gambling, 100% on-chain."}),e.jsx("meta",{property:"og:image",content:t}),e.jsx("meta",{property:"og:image:type",content:"image/webp"}),e.jsx("meta",{property:"og:image:width",content:"1200"}),e.jsx("meta",{property:"og:image:height",content:"630"}),e.jsx("meta",{property:"og:image:alt",content:"USDFG mascot entering neon arcade: ENTER THE CHALLENGE"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:site",content:"@USDFGAMING"}),e.jsx("meta",{name:"twitter:url",content:n}),e.jsx("meta",{name:"twitter:title",content:"USDFGAMING  Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{name:"twitter:description",content:"Compete in verified challenges, earn USDFG, and prove your skill. No gambling, 100% on-chain."}),e.jsx("meta",{name:"twitter:image",content:t}),e.jsx("script",{type:"application/ld+json",children:`\n          {\n            "@context": "https://schema.org",\n            "@graph": [\n              {\n                "@type": "Organization",\n                "name": "USDFGAMING",\n                "url": "${n}",\n                "logo": "${t}",\n                "sameAs": [\n                  "https://twitter.com/USDFGAMING",\n                  "https://t.me/+TPjhAyJiAF9mZTI0",\n                  "https://instagram.com/usdfgaming",\n                  "https://www.tiktok.com/@usdfgames"\n                ]\n              },\n              {\n                "@type": "WebSite",\n                "url": "${n}",\n                "potentialAction": {\n                  "@type": "SearchAction",\n                  "target": "${n}search?q={search_term_string}",\n                  "query-input": "required name=search_term_string"\n                }\n              }\n            ]\n          }\n        `})]}),e.jsx(Ln,{}),e.jsxs("main",{id:"main-content",role:"main","aria-label":"Homepage Main Content",className:"min-h-screen bg-background flex-1",children:[e.jsx("section",{"aria-label":"Hero Section",children:e.jsx(qn,{})}),e.jsx("section",{"aria-label":"About Section",children:e.jsx(Gn,{})}),e.jsx("section",{"aria-label":"Platform Features Section",children:e.jsx($n,{})}),e.jsx("section",{"aria-label":"Challenge System Section",children:e.jsx(ud,{})}),e.jsx("section",{"aria-label":"Leaderboard Preview Section",children:e.jsx(kd,{})}),e.jsx("section",{"aria-label":"Tokenomics Section",children:e.jsx(dd,{})}),e.jsx("section",{"aria-label":"Game Categories Section",children:e.jsx(Nd,{})}),e.jsx("section",{"aria-label":"CTA Section",children:e.jsx(jd,{})})]}),e.jsx(Un,{isRevealed:!0})]})},Yh={},Xh=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),s=n?.nonce||n?.getAttribute("nonce");r=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in Yh)return;Yh[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":"modulepreload",t||(r.as="script"),r.crossOrigin="",r.href=e,s&&r.setAttribute("nonce",s),document.head.appendChild(r),t?new Promise((t,n)=>{r.addEventListener("load",t),r.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})};var Jh,Zh={},ef={};var tf,nf,rf={};
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function sf(){return nf||(nf=1,function(e){const t=function(){if(Jh)return ef;Jh=1,ef.byteLength=function(e){var t=i(e),n=t[0],r=t[1];return 3*(n+r)/4-r},ef.toByteArray=function(e){var r,s,a=i(e),o=a[0],l=a[1],c=new n(function(e,t,n){return 3*(t+n)/4-n}(0,o,l)),u=0,d=l>0?o-4:o;for(s=0;s<d;s+=4)r=t[e.charCodeAt(s)]<<18|t[e.charCodeAt(s+1)]<<12|t[e.charCodeAt(s+2)]<<6|t[e.charCodeAt(s+3)],c[u++]=r>>16&255,c[u++]=r>>8&255,c[u++]=255&r;return 2===l&&(r=t[e.charCodeAt(s)]<<2|t[e.charCodeAt(s+1)]>>4,c[u++]=255&r),1===l&&(r=t[e.charCodeAt(s)]<<10|t[e.charCodeAt(s+1)]<<4|t[e.charCodeAt(s+2)]>>2,c[u++]=r>>8&255,c[u++]=255&r),c},ef.fromByteArray=function(t){for(var n,r=t.length,s=r%3,i=[],a=16383,l=0,c=r-s;l<c;l+=a)i.push(o(t,l,l+a>c?c:l+a));return 1===s?(n=t[r-1],i.push(e[n>>2]+e[n<<4&63]+"==")):2===s&&(n=(t[r-2]<<8)+t[r-1],i.push(e[n>>10]+e[n>>4&63]+e[n<<2&63]+"=")),i.join("")};for(var e=[],t=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)e[s]=r[s],t[r.charCodeAt(s)]=s;function i(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function a(t){return e[t>>18&63]+e[t>>12&63]+e[t>>6&63]+e[63&t]}function o(e,t,n){for(var r,s=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),s.push(a(r));return s.join("")}return t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63,ef}(),n=(tf||(tf=1,rf.read=function(e,t,n,r,s){var i,a,o=8*s-r-1,l=(1<<o)-1,c=l>>1,u=-7,d=n?s-1:0,h=n?-1:1,f=e[t+d];for(d+=h,i=f&(1<<-u)-1,f>>=-u,u+=o;u>0;i=256*i+e[t+d],d+=h,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),i-=c}return(f?-1:1)*a*Math.pow(2,i-r)},rf.write=function(e,t,n,r,s,i){var a,o,l,c=8*i-s-1,u=(1<<c)-1,d=u>>1,h=23===s?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,m=r?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(o=0,a=u):a+d>=1?(o=(t*l-1)*Math.pow(2,s),a+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,s),a=0));s>=8;e[n+f]=255&o,f+=m,o/=256,s-=8);for(a=a<<s|o,c+=s;c>0;e[n+f]=255&a,f+=m,a/=256,c-=8);e[n+f-m]|=128*p}),rf),r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=function(e){+e!=e&&(e=0);return a.alloc(+e)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function i(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return o(e,t,n)}function o(e,t,n){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|f(e,t);let r=i(n);const s=r.write(e,t);s!==n&&(r=r.slice(0,s));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(W(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return u(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(W(e,ArrayBuffer)||e&&W(e.buffer,ArrayBuffer))return d(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(W(e,SharedArrayBuffer)||e&&W(e.buffer,SharedArrayBuffer)))return d(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return a.from(r,t,n);const s=function(e){if(a.isBuffer(e)){const t=0|h(e.length),n=i(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!=typeof e.length||K(e.length)?i(0):u(e);if("Buffer"===e.type&&Array.isArray(e.data))return u(e.data)}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),i(e<0?0:0|h(e))}function u(e){const t=e.length<0?0:0|h(e.length),n=i(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,a.prototype),r}function h(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function f(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||W(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let s=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(s)return r?-1:G(e).length;t=(""+t).toLowerCase(),s=!0}}function m(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return N(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return _(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function p(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function g(e,t,n,r,s){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),K(n=+n)&&(n=s?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(s)return-1;n=e.length-1}else if(n<0){if(!s)return-1;n=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,s);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?s?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,s);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,s){let i,a=1,o=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,o/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(s){let r=-1;for(i=n;i<o;i++)if(c(e,i)===c(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===l)return r*a}else-1!==r&&(i-=i-r),r=-1}else for(n+l>o&&(n=o-l),i=n;i>=0;i--){let n=!0;for(let r=0;r<l;r++)if(c(e,i+r)!==c(t,r)){n=!1;break}if(n)return i}return-1}function b(e,t,n,r){n=Number(n)||0;const s=e.length-n;r?(r=Number(r))>s&&(r=s):r=s;const i=t.length;let a;for(r>i/2&&(r=i/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(K(r))return a;e[n+a]=r}return a}function x(e,t,n,r){return H(G(t,e.length-n),e,n,r)}function v(e,t,n,r){return H(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return H($(t),e,n,r)}function S(e,t,n,r){return H(function(e,t){let n,r,s;const i=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,s=n%256,i.push(s),i.push(r);return i}(t,e.length-n),e,n,r)}function k(e,n,r){return 0===n&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,r))}function N(e,t,n){n=Math.min(e.length,n);const r=[];let s=t;for(;s<n;){const t=e[s];let i=null,a=t>239?4:t>223?3:t>191?2:1;if(s+a<=n){let n,r,o,l;switch(a){case 1:t<128&&(i=t);break;case 2:n=e[s+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(i=l));break;case 3:n=e[s+1],r=e[s+2],128==(192&n)&&128==(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(i=l));break;case 4:n=e[s+1],r=e[s+2],o=e[s+3],128==(192&n)&&128==(192&r)&&128==(192&o)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&o,l>65535&&l<1114112&&(i=l))}}null===i?(i=65533,a=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),s+=a}return function(e){const t=e.length;if(t<=j)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=j));return n}(r)}e.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),a.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,n){return o(e,t,n)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?i(e):void 0!==t?"string"==typeof n?i(e).fill(t,n):i(e).fill(t):i(e)}(e,t,n)},a.allocUnsafe=function(e){return c(e)},a.allocUnsafeSlow=function(e){return c(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(W(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),W(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let s=0,i=Math.min(n,r);s<i;++s)if(e[s]!==t[s]){n=e[s],r=t[s];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=a.allocUnsafe(t);let s=0;for(n=0;n<e.length;++n){let t=e[n];if(W(t,Uint8Array))s+t.length>r.length?(a.isBuffer(t)||(t=a.from(t)),t.copy(r,s)):Uint8Array.prototype.set.call(r,t,s);else{if(!a.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,s)}s+=t.length}return r},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)p(this,t,t+1);return this},a.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},a.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},a.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?N(this,0,e):m.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(e,t,n,r,s){if(W(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===s&&(s=this.length),t<0||n>e.length||r<0||s>this.length)throw new RangeError("out of range index");if(r>=s&&t>=n)return 0;if(r>=s)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(s>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0);const l=Math.min(i,o),c=this.slice(r,s),u=e.slice(t,n);for(let a=0;a<l;++a)if(c[a]!==u[a]){i=c[a],o=u[a];break}return i<o?-1:o<i?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const s=this.length-t;if((void 0===n||n>s)&&(n=s),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return v(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const j=4096;function E(e,t,n){let r="";n=Math.min(e.length,n);for(let s=t;s<n;++s)r+=String.fromCharCode(127&e[s]);return r}function _(e,t,n){let r="";n=Math.min(e.length,n);for(let s=t;s<n;++s)r+=String.fromCharCode(e[s]);return r}function C(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let s="";for(let i=t;i<n;++i)s+=Q[e[i]];return s}function T(e,t,n){const r=e.slice(t,n);let s="";for(let i=0;i<r.length-1;i+=2)s+=String.fromCharCode(r[i]+256*r[i+1]);return s}function A(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,n,r,s,i){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r,s){U(t,r,s,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function M(e,t,n,r,s){U(t,r,s,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function D(e,t,n,r,s,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(e,t,r,s,i){return t=+t,r>>>=0,i||D(e,0,r,4),n.write(e,t,r,s,23,4),r+4}function O(e,t,r,s,i){return t=+t,r>>>=0,i||D(e,0,r,8),n.write(e,t,r,s,52,8),r+8}a.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);let r=this[e],s=1,i=0;for(;++i<t&&(s*=256);)r+=this[e+i]*s;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);let r=this[e+--t],s=1;for(;t>0&&(s*=256);)r+=this[e+--t]*s;return r},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readBigUInt64LE=Y(function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,s=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(s)<<BigInt(32))}),a.prototype.readBigUInt64BE=Y(function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],s=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(s)}),a.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);let r=this[e],s=1,i=0;for(;++i<t&&(s*=256);)r+=this[e+i]*s;return s*=128,r>=s&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);let r=t,s=1,i=this[e+--r];for(;r>0&&(s*=256);)i+=this[e+--r]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*t)),i},a.prototype.readInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||A(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){e>>>=0,t||A(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readBigInt64LE=Y(function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),a.prototype.readBigInt64BE=Y(function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)}),a.prototype.readFloatLE=function(e,t){return e>>>=0,t||A(e,4,this.length),n.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||A(e,4,this.length),n.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||A(e,8,this.length),n.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||A(e,8,this.length),n.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){I(this,e,t,n,Math.pow(2,8*n)-1,0)}let s=1,i=0;for(this[t]=255&e;++i<n&&(s*=256);)this[t+i]=e/s&255;return t+n},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){I(this,e,t,n,Math.pow(2,8*n)-1,0)}let s=n-1,i=1;for(this[t+s]=255&e;--s>=0&&(i*=256);)this[t+s]=e/i&255;return t+n},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigUInt64LE=Y(function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Y(function(e,t=0){return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);I(this,e,t,n,r-1,-r)}let s=0,i=1,a=0;for(this[t]=255&e;++s<n&&(i*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/i|0)-a&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);I(this,e,t,n,r-1,-r)}let s=n-1,i=1,a=0;for(this[t+s]=255&e;--s>=0&&(i*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/i|0)-a&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeBigInt64LE=Y(function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Y(function(e,t=0){return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeFloatLE=function(e,t,n){return R(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return R(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return O(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return O(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const s=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),s},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let s;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{const i=a.isBuffer(e)?e:a.from(e,r),o=i.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-t;++s)this[s+t]=i[s%o]}return this};const F={};function L(e,t,n){F[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function B(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function U(e,t,n,r,s,i){if(e>n||e<t){const n="bigint"==typeof t?"n":"";let r;throw r=0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(i+1)}${n}`:`>= -(2${n} ** ${8*(i+1)-1}${n}) and < 2 ** ${8*(i+1)-1}${n}`,new F.ERR_OUT_OF_RANGE("value",r,e)}!function(e,t,n){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||V(t,e.length-(n+1))}(r,s,i)}function z(e,t){if("number"!=typeof e)throw new F.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,n){if(Math.floor(e)!==e)throw z(e,n),new F.ERR_OUT_OF_RANGE("offset","an integer",e);if(t<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${t}`,e)}L("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),L("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),L("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,s=n;return Number.isInteger(n)&&Math.abs(n)>2**32?s=B(String(n)):"bigint"==typeof n&&(s=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(s=B(s)),s+="n"),r+=` It must be ${t}. Received ${s}`,r},RangeError);const q=/[^+/0-9A-Za-z-_]/g;function G(e,t){let n;t=t||1/0;const r=e.length;let s=null;const i=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!s){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}s=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),s=n;continue}n=65536+(s-55296<<10|n-56320)}else s&&(t-=3)>-1&&i.push(239,191,189);if(s=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function $(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){let s;for(s=0;s<r&&!(s+n>=t.length||s>=e.length);++s)t[s+n]=e[s];return s}function W(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!=e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let s=0;s<16;++s)t[r+s]=e[n]+e[s]}return t}();function Y(e){return"undefined"==typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}}(Zh)),Zh}var af=sf();const of="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function lf(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function cf(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function uf(e,...t){if(!lf(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function df(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.createHasher");cf(e.outputLen),cf(e.blockLen)}function hf(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ff(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function mf(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function pf(e,t){return e<<32-t|e>>>t}const gf=(()=>"function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex)(),yf=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bf(e){if(uf(e),gf)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=yf[e[n]];return t}const xf=48,vf=57,wf=65,Sf=70,kf=97,Nf=102;function jf(e){return e>=xf&&e<=vf?e-xf:e>=wf&&e<=Sf?e-(wf-10):e>=kf&&e<=Nf?e-(kf-10):void 0}function Ef(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);if(gf)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const t=jf(e.charCodeAt(i)),n=jf(e.charCodeAt(i+1));if(void 0===t||void 0===n){const t=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+i)}r[s]=16*t+n}return r}function _f(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}(e)),uf(e),e}function Cf(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];uf(n),t+=n.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const t=e[r];n.set(t,s),s+=t.length}return n}class Tf{}function Af(e){const t=t=>e().update(_f(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function If(e=32){if(of&&"function"==typeof of.getRandomValues)return of.getRandomValues(new Uint8Array(e));if(of&&"function"==typeof of.randomBytes)return Uint8Array.from(of.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function Pf(e,t,n){return e&t^~e&n}function Mf(e,t,n){return e&t^e&n^t&n}class Df extends Tf{constructor(e,t,n,r){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.buffer=new Uint8Array(e),this.view=mf(this.buffer)}update(e){hf(this),uf(e=_f(e));const{view:t,buffer:n,blockLen:r}=this,s=e.length;for(let i=0;i<s;){const a=Math.min(r-this.pos,s-i);if(a===r){const t=mf(e);for(;r<=s-i;i+=r)this.process(t,i);continue}n.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){hf(this),function(e,t){uf(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:s}=this;let{pos:i}=this;t[i++]=128,ff(this.buffer.subarray(i)),this.padOffset>r-i&&(this.process(n,0),i=0);for(let u=i;u<r;u++)t[u]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),a=Number(n>>s&i),o=Number(n&i),l=r?4:0,c=r?0:4;e.setUint32(t+l,a,r),e.setUint32(t+c,o,r)}(n,r-8,BigInt(8*this.length),s),this.process(n,0);const a=mf(e),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=o/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)a.setUint32(4*u,c[u],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:s,destroyed:i,pos:a}=this;return e.destroyed=i,e.finished=s,e.length=r,e.pos=a,r%t&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const Rf=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Of=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Ff=BigInt(2**32-1),Lf=BigInt(32);function Bf(e,t=!1){return t?{h:Number(e&Ff),l:Number(e>>Lf&Ff)}:{h:0|Number(e>>Lf&Ff),l:0|Number(e&Ff)}}const Uf=(e,t,n)=>e>>>n,zf=(e,t,n)=>e<<32-n|t>>>n,Vf=(e,t,n)=>e>>>n|t<<32-n,qf=(e,t,n)=>e<<32-n|t>>>n,Gf=(e,t,n)=>e<<64-n|t>>>n-32,$f=(e,t,n)=>e>>>n-32|t<<64-n;function Hf(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:0|s}}const Wf=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Kf=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,Qf=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),Yf=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,Xf=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Jf=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,Zf=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),em=new Uint32Array(64);class tm extends Df{constructor(e=32){super(64,e,8,!1),this.A=0|Rf[0],this.B=0|Rf[1],this.C=0|Rf[2],this.D=0|Rf[3],this.E=0|Rf[4],this.F=0|Rf[5],this.G=0|Rf[6],this.H=0|Rf[7]}get(){const{A:e,B:t,C:n,D:r,E:s,F:i,G:a,H:o}=this;return[e,t,n,r,s,i,a,o]}set(e,t,n,r,s,i,a,o){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|s,this.F=0|i,this.G=0|a,this.H=0|o}process(e,t){for(let u=0;u<16;u++,t+=4)em[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const e=em[u-15],t=em[u-2],n=pf(e,7)^pf(e,18)^e>>>3,r=pf(t,17)^pf(t,19)^t>>>10;em[u]=r+em[u-7]+n+em[u-16]|0}let{A:n,B:r,C:s,D:i,E:a,F:o,G:l,H:c}=this;for(let u=0;u<64;u++){const e=c+(pf(a,6)^pf(a,11)^pf(a,25))+Pf(a,o,l)+Zf[u]+em[u]|0,t=(pf(n,2)^pf(n,13)^pf(n,22))+Mf(n,r,s)|0;c=l,l=o,o=a,a=i+e|0,i=s,s=r,r=n,n=e+t|0}n=n+this.A|0,r=r+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,o=o+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(n,r,s,i,a,o,l,c)}roundClean(){ff(em)}destroy(){this.set(0,0,0,0,0,0,0,0),ff(this.buffer)}}const nm=(()=>function(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:n,l:a}=Bf(e[i],t);[r[i],s[i]]=[n,a]}return[r,s]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))))(),rm=(()=>nm[0])(),sm=(()=>nm[1])(),im=new Uint32Array(80),am=new Uint32Array(80);class om extends Df{constructor(e=64){super(128,e,16,!1),this.Ah=0|Of[0],this.Al=0|Of[1],this.Bh=0|Of[2],this.Bl=0|Of[3],this.Ch=0|Of[4],this.Cl=0|Of[5],this.Dh=0|Of[6],this.Dl=0|Of[7],this.Eh=0|Of[8],this.El=0|Of[9],this.Fh=0|Of[10],this.Fl=0|Of[11],this.Gh=0|Of[12],this.Gl=0|Of[13],this.Hh=0|Of[14],this.Hl=0|Of[15]}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:s,Cl:i,Dh:a,Dl:o,Eh:l,El:c,Fh:u,Fl:d,Gh:h,Gl:f,Hh:m,Hl:p}=this;return[e,t,n,r,s,i,a,o,l,c,u,d,h,f,m,p]}set(e,t,n,r,s,i,a,o,l,c,u,d,h,f,m,p){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|s,this.Cl=0|i,this.Dh=0|a,this.Dl=0|o,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|m,this.Hl=0|p}process(e,t){for(let b=0;b<16;b++,t+=4)im[b]=e.getUint32(t),am[b]=e.getUint32(t+=4);for(let b=16;b<80;b++){const e=0|im[b-15],t=0|am[b-15],n=Vf(e,t,1)^Vf(e,t,8)^Uf(e,0,7),r=qf(e,t,1)^qf(e,t,8)^zf(e,t,7),s=0|im[b-2],i=0|am[b-2],a=Vf(s,i,19)^Gf(s,i,61)^Uf(s,0,6),o=qf(s,i,19)^$f(s,i,61)^zf(s,i,6),l=Qf(r,o,am[b-7],am[b-16]),c=Yf(l,n,a,im[b-7],im[b-16]);im[b]=0|c,am[b]=0|l}let{Ah:n,Al:r,Bh:s,Bl:i,Ch:a,Cl:o,Dh:l,Dl:c,Eh:u,El:d,Fh:h,Fl:f,Gh:m,Gl:p,Hh:g,Hl:y}=this;for(let b=0;b<80;b++){const e=Vf(u,d,14)^Vf(u,d,18)^Gf(u,d,41),t=qf(u,d,14)^qf(u,d,18)^$f(u,d,41),x=u&h^~u&m,v=Xf(y,t,d&f^~d&p,sm[b],am[b]),w=Jf(v,g,e,x,rm[b],im[b]),S=0|v,k=Vf(n,r,28)^Gf(n,r,34)^Gf(n,r,39),N=qf(n,r,28)^$f(n,r,34)^$f(n,r,39),j=n&s^n&a^s&a,E=r&i^r&o^i&o;g=0|m,y=0|p,m=0|h,p=0|f,h=0|u,f=0|d,({h:u,l:d}=Hf(0|l,0|c,0|w,0|S)),l=0|a,c=0|o,a=0|s,o=0|i,s=0|n,i=0|r;const _=Wf(S,N,E);n=Kf(_,w,k,j),r=0|_}({h:n,l:r}=Hf(0|this.Ah,0|this.Al,0|n,0|r)),({h:s,l:i}=Hf(0|this.Bh,0|this.Bl,0|s,0|i)),({h:a,l:o}=Hf(0|this.Ch,0|this.Cl,0|a,0|o)),({h:l,l:c}=Hf(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:d}=Hf(0|this.Eh,0|this.El,0|u,0|d)),({h:h,l:f}=Hf(0|this.Fh,0|this.Fl,0|h,0|f)),({h:m,l:p}=Hf(0|this.Gh,0|this.Gl,0|m,0|p)),({h:g,l:y}=Hf(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(n,r,s,i,a,o,l,c,u,d,h,f,m,p,g,y)}roundClean(){ff(im,am)}destroy(){ff(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const lm=Af(()=>new tm),cm=Af(()=>new om),um=BigInt(0),dm=BigInt(1);function hm(e,t=""){if("boolean"!=typeof e){throw new Error((t&&`"${t}"`)+"expected boolean, got type="+typeof e)}return e}function fm(e,t,n=""){const r=lf(e),s=e?.length,i=void 0!==t;if(!r||i&&s!==t){throw new Error((n&&`"${n}" `)+"expected Uint8Array"+(i?` of length ${t}`:"")+", got "+(r?`length=${s}`:"type="+typeof e))}return e}function mm(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function pm(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?um:BigInt("0x"+e)}function gm(e){return pm(bf(e))}function ym(e){return uf(e),pm(bf(Uint8Array.from(e).reverse()))}function bm(e,t){return Ef(e.toString(16).padStart(2*t,"0"))}function xm(e,t){return bm(e,t).reverse()}function vm(e,t,n){let r;if("string"==typeof t)try{r=Ef(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else{if(!lf(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const s=r.length;if("number"==typeof n&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function wm(e){return Uint8Array.from(e)}const Sm=e=>"bigint"==typeof e&&um<=e;function km(e,t,n,r){if(!function(e,t,n){return Sm(e)&&Sm(t)&&Sm(n)&&t<=e&&e<n}(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Nm(e){let t;for(t=0;e>um;e>>=dm,t+=1);return t}const jm=e=>(dm<<BigInt(e))-dm;function Em(e,t,n={}){if(!e||"object"!=typeof e)throw new Error("expected valid options object");function r(t,n,r){const s=e[t];if(r&&void 0===s)return;const i=typeof s;if(i!==n||null===s)throw new Error(`param "${t}" is invalid: expected ${n}, got ${i}`)}Object.entries(t).forEach(([e,t])=>r(e,t,!1)),Object.entries(n).forEach(([e,t])=>r(e,t,!0))}function _m(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(void 0!==s)return s;const i=e(n,...r);return t.set(n,i),i}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cm=BigInt(0),Tm=BigInt(1),Am=BigInt(2),Im=BigInt(3),Pm=BigInt(4),Mm=BigInt(5),Dm=BigInt(7),Rm=BigInt(8),Om=BigInt(9),Fm=BigInt(16);function Lm(e,t){const n=e%t;return n>=Cm?n:t+n}function Bm(e,t,n){let r=e;for(;t-- >Cm;)r*=r,r%=n;return r}function Um(e,t){if(e===Cm)throw new Error("invert: expected non-zero number");if(t<=Cm)throw new Error("invert: expected positive modulus, got "+t);let n=Lm(e,t),r=t,s=Cm,i=Tm;for(;n!==Cm;){const e=r%n,t=s-i*(r/n);r=n,n=e,s=i,i=t}if(r!==Tm)throw new Error("invert: does not exist");return Lm(s,t)}function zm(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function Vm(e,t){const n=(e.ORDER+Tm)/Pm,r=e.pow(t,n);return zm(e,r,t),r}function qm(e,t){const n=(e.ORDER-Mm)/Rm,r=e.mul(t,Am),s=e.pow(r,n),i=e.mul(t,s),a=e.mul(e.mul(i,Am),s),o=e.mul(i,e.sub(a,e.ONE));return zm(e,o,t),o}function Gm(e){if(e<Im)throw new Error("sqrt is not defined for small field");let t=e-Tm,n=0;for(;t%Am===Cm;)t/=Am,n++;let r=Am;const s=Ym(e);for(;1===Km(s,r);)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(1===n)return Vm;let i=s.pow(r,t);const a=(t+Tm)/Am;return function(e,r){if(e.is0(r))return r;if(1!==Km(e,r))throw new Error("Cannot find square root");let s=n,o=e.mul(e.ONE,i),l=e.pow(r,t),c=e.pow(r,a);for(;!e.eql(l,e.ONE);){if(e.is0(l))return e.ZERO;let t=1,n=e.sqr(l);for(;!e.eql(n,e.ONE);)if(t++,n=e.sqr(n),t===s)throw new Error("Cannot find square root");const r=Tm<<BigInt(s-t-1),i=e.pow(o,r);s=t,o=e.sqr(i),l=e.mul(l,o),c=e.mul(c,i)}return c}}function $m(e){return e%Pm===Im?Vm:e%Rm===Mm?qm:e%Fm===Om?function(e){const t=Ym(e),n=Gm(e),r=n(t,t.neg(t.ONE)),s=n(t,r),i=n(t,t.neg(r)),a=(e+Dm)/Fm;return(e,t)=>{let n=e.pow(t,a),o=e.mul(n,r);const l=e.mul(n,s),c=e.mul(n,i),u=e.eql(e.sqr(o),t),d=e.eql(e.sqr(l),t);n=e.cmov(n,o,u),o=e.cmov(c,l,d);const h=e.eql(e.sqr(o),t),f=e.cmov(n,o,h);return zm(e,f,t),f}}(e):Gm(e)}const Hm=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Wm(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((t,n,s)=>e.is0(n)?t:(r[s]=t,e.mul(t,n)),e.ONE),i=e.inv(s);return t.reduceRight((t,n,s)=>e.is0(n)?t:(r[s]=e.mul(t,r[s]),e.mul(t,n)),i),r}function Km(e,t){const n=(e.ORDER-Tm)/Am,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),a=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!a)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function Qm(e,t){void 0!==t&&cf(t);const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Ym(e,t,n=!1,r={}){if(e<=Cm)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,i,a,o=!1;if("object"==typeof t&&null!=t){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const e=t;e.BITS&&(s=e.BITS),e.sqrt&&(i=e.sqrt),"boolean"==typeof e.isLE&&(n=e.isLE),"boolean"==typeof e.modFromBytes&&(o=e.modFromBytes),a=e.allowedLengths}else"number"==typeof t&&(s=t),r.sqrt&&(i=r.sqrt);const{nBitLength:l,nByteLength:c}=Qm(e,s);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u;const d=Object.freeze({ORDER:e,isLE:n,BITS:l,BYTES:c,MASK:jm(l),ZERO:Cm,ONE:Tm,allowedLengths:a,create:t=>Lm(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return Cm<=t&&t<e},is0:e=>e===Cm,isValidNot0:e=>!d.is0(e)&&d.isValid(e),isOdd:e=>(e&Tm)===Tm,neg:t=>Lm(-t,e),eql:(e,t)=>e===t,sqr:t=>Lm(t*t,e),add:(t,n)=>Lm(t+n,e),sub:(t,n)=>Lm(t-n,e),mul:(t,n)=>Lm(t*n,e),pow:(e,t)=>function(e,t,n){if(n<Cm)throw new Error("invalid exponent, negatives unsupported");if(n===Cm)return e.ONE;if(n===Tm)return t;let r=e.ONE,s=t;for(;n>Cm;)n&Tm&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Tm;return r}(d,e,t),div:(t,n)=>Lm(t*Um(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Um(t,e),sqrt:i||(t=>(u||(u=$m(e)),u(d,t))),toBytes:e=>n?xm(e,c):bm(e,c),fromBytes:(t,r=!0)=>{if(a){if(!a.includes(t.length)||t.length>c)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+t.length);const e=new Uint8Array(c);e.set(t,n?0:e.length-t.length),t=e}if(t.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+t.length);let s=n?ym(t):gm(t);if(o&&(s=Lm(s,e)),!r&&!d.isValid(s))throw new Error("invalid field element: outside of range 0..ORDER");return s},invertBatch:e=>Wm(d,e),cmov:(e,t,n)=>n?t:e});return Object.freeze(d)}function Xm(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Jm(e){const t=Xm(e);return t+Math.ceil(t/2)}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Zm=BigInt(0),ep=BigInt(1);function tp(e,t){const n=t.negate();return e?n:t}function np(e,t){const n=Wm(e.Fp,t.map(e=>e.Z));return t.map((t,r)=>e.fromAffine(t.toAffine(n[r])))}function rp(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function sp(e,t){rp(e,t);const n=2**e;return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1),mask:jm(e),maxNumber:n,shiftBy:BigInt(e)}}function ip(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:a}=n;let o=Number(e&s),l=e>>a;o>r&&(o-=i,l+=ep);const c=t*r;return{nextN:l,offset:c+Math.abs(o)-1,isZero:0===o,isNeg:o<0,isNegF:t%2!=0,offsetF:c}}const ap=new WeakMap,op=new WeakMap;function lp(e){return op.get(e)||1}function cp(e){if(e!==Zm)throw new Error("invalid wNAF")}class up{constructor(e,t){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=t}_unsafeLadder(e,t,n=this.ZERO){let r=e;for(;t>Zm;)t&ep&&(n=n.add(r)),r=r.double(),t>>=ep;return n}precomputeWindow(e,t){const{windows:n,windowSize:r}=sp(t,this.bits),s=[];let i=e,a=i;for(let o=0;o<n;o++){a=i,s.push(a);for(let e=1;e<r;e++)a=a.add(i),s.push(a);i=a.double()}return s}wNAF(e,t,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let r=this.ZERO,s=this.BASE;const i=sp(e,this.bits);for(let a=0;a<i.windows;a++){const{nextN:e,offset:o,isZero:l,isNeg:c,isNegF:u,offsetF:d}=ip(n,a,i);n=e,l?s=s.add(tp(u,t[d])):r=r.add(tp(c,t[o]))}return cp(n),{p:r,f:s}}wNAFUnsafe(e,t,n,r=this.ZERO){const s=sp(e,this.bits);for(let i=0;i<s.windows&&n!==Zm;i++){const{nextN:e,offset:a,isZero:o,isNeg:l}=ip(n,i,s);if(n=e,!o){const e=t[a];r=r.add(l?e.negate():e)}}return cp(n),r}getPrecomputes(e,t,n){let r=ap.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&("function"==typeof n&&(r=n(r)),ap.set(t,r))),r}cached(e,t,n){const r=lp(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)}unsafe(e,t,n,r){const s=lp(e);return 1===s?this._unsafeLadder(e,t,r):this.wNAFUnsafe(s,this.getPrecomputes(s,e,n),t,r)}createCache(e,t){rp(t,this.bits),op.set(e,t),ap.delete(e)}hasCache(e){return 1!==lp(e)}}function dp(e,t,n,r){!function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)})}(n,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)})}(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,o=Nm(BigInt(s));let l=1;o>12?l=o-3:o>4?l=o-2:o>0&&(l=2);const c=jm(l),u=new Array(Number(c)+1).fill(a);let d=a;for(let h=Math.floor((t.BITS-1)/l)*l;h>=0;h-=l){u.fill(a);for(let t=0;t<i;t++){const e=r[t],s=Number(e>>BigInt(h)&c);u[s]=u[s].add(n[t])}let e=a;for(let t=u.length-1,n=a;t>0;t--)n=n.add(u[t]),e=e.add(n);if(d=d.add(e),0!==h)for(let t=0;t<l;t++)d=d.double()}return d}function hp(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return function(e){Em(e,Hm.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"}))}(t),t}return Ym(e,{isLE:n})}function fp(e,t,n={},r){if(void 0===r&&(r="edwards"===e),!t||"object"!=typeof t)throw new Error(`expected valid ${e} CURVE object`);for(const o of["p","n","h"]){const e=t[o];if(!("bigint"==typeof e&&e>Zm))throw new Error(`CURVE.${o} must be positive bigint`)}const s=hp(t.p,n.Fp,r),i=hp(t.n,n.Fn,r),a=["Gx","Gy","a","weierstrass"===e?"b":"d"];for(const o of a)if(!s.isValid(t[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{CURVE:t=Object.freeze(Object.assign({},t)),Fp:s,Fn:i}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mp=BigInt(0),pp=BigInt(1),gp=BigInt(2),yp=BigInt(8);function bp(e,t,n={}){if("function"!=typeof t)throw new Error('"hash" function param is required');Em(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:s,Fp:i,Fn:a}=e,o=n.randomBytes||If,l=n.adjustScalarBytes||(e=>e),c=n.domain||((e,t,n)=>{if(hm(n,"phflag"),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function u(e){return a.create(ym(e))}function d(e){const{head:n,prefix:r,scalar:i}=function(e){const n=g.secretKey;e=vm("private key",e,n);const r=vm("hashed private key",t(e),2*n),s=l(r.slice(0,n));return{head:s,prefix:r.slice(n,2*n),scalar:u(s)}}(e),a=s.multiply(i),o=a.toBytes();return{head:n,prefix:r,scalar:i,point:a,pointBytes:o}}function h(e){return d(e).pointBytes}function f(e=Uint8Array.of(),...n){const s=Cf(...n);return u(t(c(s,vm("context",e),!!r)))}const m={zip215:!0};const p=i.BYTES,g={secretKey:p,publicKey:p,signature:2*p,seed:p};function y(e=o(g.seed)){return fm(e,g.seed,"seed")}const b={getExtendedPublicKey:d,randomSecretKey:y,isValidSecretKey:function(e){return lf(e)&&e.length===a.BYTES},isValidPublicKey:function(t,n){try{return!!e.fromBytes(t,n)}catch(r){return!1}},toMontgomery(t){const{y:n}=e.fromBytes(t),r=g.publicKey,s=32===r;if(!s&&57!==r)throw new Error("only defined for 25519 and 448");const a=s?i.div(pp+n,pp-n):i.div(n-pp,n+pp);return i.toBytes(a)},toMontgomerySecret(e){const n=g.secretKey;fm(e,n);const r=t(e.subarray(0,n));return l(r).subarray(0,n)},randomPrivateKey:y,precompute:(t=8,n=e.BASE)=>n.precompute(t,!1)};return Object.freeze({keygen:function(e){const t=b.randomSecretKey(e);return{secretKey:t,publicKey:h(t)}},getPublicKey:h,sign:function(e,t,n={}){e=vm("message",e),r&&(e=r(e));const{prefix:i,scalar:o,pointBytes:l}=d(t),c=f(n.context,i,e),u=s.multiply(c).toBytes(),h=f(n.context,u,l,e),m=a.create(c+h*o);if(!a.isValid(m))throw new Error("sign failed: invalid s");return fm(Cf(u,a.toBytes(m)),g.signature,"result")},verify:function(t,n,i,a=m){const{context:o,zip215:l}=a,c=g.signature;t=vm("signature",t,c),n=vm("message",n),i=vm("publicKey",i,g.publicKey),void 0!==l&&hm(l,"zip215"),r&&(n=r(n));const u=c/2,d=t.subarray(0,u),h=ym(t.subarray(u,c));let p,y,b;try{p=e.fromBytes(i,l),y=e.fromBytes(d,l),b=s.multiplyUnsafe(h)}catch(v){return!1}if(!l&&p.isSmallOrder())return!1;const x=f(o,y.toBytes(),p.toBytes(),n);return y.add(p.multiplyUnsafe(x)).subtract(b).clearCofactor().is0()},utils:b,Point:e,lengths:g})}function xp(e){const{CURVE:t,curveOpts:n,hash:r,eddsaOpts:s}=function(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n={Fp:e.Fp,Fn:Ym(t.n,e.nBitLength,!0),uvRatio:e.uvRatio},r={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:n,hash:e.hash,eddsaOpts:r}}(e),i=function(e,t={}){const n=fp("edwards",e,t,t.FpFnLE),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:a}=i;Em(t,{},{uvRatio:"function"});const o=gp<<BigInt(8*s.BYTES)-pp,l=e=>r.create(e),c=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(r.div(e,t))}}catch(n){return{isValid:!1,value:mp}}});if(!function(e,t,n,r){const s=e.sqr(n),i=e.sqr(r),a=e.add(e.mul(t.a,s),i),o=e.add(e.ONE,e.mul(t.d,e.mul(s,i)));return e.eql(a,o)}(r,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function u(e,t,n=!1){return km("coordinate "+e,t,n?pp:mp,o),t}function d(e){if(!(e instanceof m))throw new Error("ExtendedPoint expected")}const h=_m((e,t)=>{const{X:n,Y:s,Z:i}=e,a=e.is0();null==t&&(t=a?yp:r.inv(i));const o=l(n*t),c=l(s*t),u=r.mul(i,t);if(a)return{x:mp,y:pp};if(u!==pp)throw new Error("invZ was invalid");return{x:o,y:c}}),f=_m(e=>{const{a:t,d:n}=i;if(e.is0())throw new Error("bad point: ZERO");const{X:r,Y:s,Z:a,T:o}=e,c=l(r*r),u=l(s*s),d=l(a*a),h=l(d*d),f=l(c*t);if(l(d*l(f+u))!==l(h+l(n*l(c*u))))throw new Error("bad point: equation left != right (1)");if(l(r*s)!==l(a*o))throw new Error("bad point: equation left != right (2)");return!0});class m{constructor(e,t,n,r){this.X=u("x",e),this.Y=u("y",t),this.Z=u("z",n,!0),this.T=u("t",r),Object.freeze(this)}static CURVE(){return i}static fromAffine(e){if(e instanceof m)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return u("x",t),u("y",n),new m(t,n,pp,l(t*n))}static fromBytes(e,t=!1){const n=r.BYTES,{a:s,d:a}=i;e=wm(fm(e,n,"point")),hm(t,"zip215");const u=wm(e),d=e[n-1];u[n-1]=-129&d;const h=ym(u),f=t?o:r.ORDER;km("point.y",h,mp,f);const p=l(h*h),g=l(p-pp),y=l(a*p-s);let{isValid:b,value:x}=c(g,y);if(!b)throw new Error("bad point: invalid y coordinate");const v=(x&pp)===pp,w=!!(128&d);if(!t&&x===mp&&w)throw new Error("bad point: x=0 and x_0=1");return w!==v&&(x=l(-x)),m.fromAffine({x:x,y:h})}static fromHex(e,t=!1){return m.fromBytes(vm("point",e),t)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return p.createCache(this,e),t||this.multiply(gp),this}assertValidity(){f(this)}equals(e){d(e);const{X:t,Y:n,Z:r}=this,{X:s,Y:i,Z:a}=e,o=l(t*a),c=l(s*r),u=l(n*a),h=l(i*r);return o===c&&u===h}is0(){return this.equals(m.ZERO)}negate(){return new m(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:e}=i,{X:t,Y:n,Z:r}=this,s=l(t*t),a=l(n*n),o=l(gp*l(r*r)),c=l(e*s),u=t+n,d=l(l(u*u)-s-a),h=c+a,f=h-o,p=c-a,g=l(d*f),y=l(h*p),b=l(d*p),x=l(f*h);return new m(g,y,x,b)}add(e){d(e);const{a:t,d:n}=i,{X:r,Y:s,Z:a,T:o}=this,{X:c,Y:u,Z:h,T:f}=e,p=l(r*c),g=l(s*u),y=l(o*n*f),b=l(a*h),x=l((r+s)*(c+u)-p-g),v=b-y,w=b+y,S=l(g-t*p),k=l(x*v),N=l(w*S),j=l(x*S),E=l(v*w);return new m(k,N,E,j)}subtract(e){return this.add(e.negate())}multiply(e){if(!s.isValidNot0(e))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:t,f:n}=p.cached(this,e,e=>np(m,e));return np(m,[t,n])[0]}multiplyUnsafe(e,t=m.ZERO){if(!s.isValid(e))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return e===mp?m.ZERO:this.is0()||e===pp?this:p.unsafe(this,e,e=>np(m,e),t)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}isTorsionFree(){return p.unsafe(this,i.n).is0()}toAffine(e){return h(this,e)}clearCofactor(){return a===pp?this:this.multiplyUnsafe(a)}toBytes(){const{x:e,y:t}=this.toAffine(),n=r.toBytes(t);return n[n.length-1]|=e&pp?128:0,n}toHex(){return bf(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(e){return np(m,e)}static msm(e,t){return dp(m,s,e,t)}_setWindowSize(e){this.precompute(e)}toRawBytes(){return this.toBytes()}}m.BASE=new m(i.Gx,i.Gy,pp,l(i.Gx*i.Gy)),m.ZERO=new m(mp,pp,pp,mp),m.Fp=r,m.Fn=s;const p=new up(m,s.BITS);return m.BASE.precompute(8),m}(t,n);return function(e,t){const n=t.Point;return Object.assign({},t,{ExtendedPoint:n,CURVE:e,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}(e,bp(i,r,s))}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vp=BigInt(1),wp=BigInt(2);BigInt(3);const Sp=BigInt(5),kp=BigInt(8),Np=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),jp=(()=>({p:Np,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:kp,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")}))();function Ep(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const _p=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function Cp(e,t){const n=Np,r=Lm(t*t*t,n),s=function(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=Np,a=e*e%i*e%i,o=Bm(a,wp,i)*a%i,l=Bm(o,vp,i)*e%i,c=Bm(l,Sp,i)*l%i,u=Bm(c,t,i)*c%i,d=Bm(u,n,i)*u%i,h=Bm(d,r,i)*d%i,f=Bm(h,s,i)*h%i,m=Bm(f,s,i)*h%i,p=Bm(m,t,i)*c%i;return{pow_p_5_8:Bm(p,wp,i)*e%i,b2:a}}(e*Lm(r*r*t,n)).pow_p_5_8;let i=Lm(e*r*s,n);const a=Lm(t*i*i,n),o=i,l=Lm(i*_p,n),c=a===e,u=a===Lm(-e,n),d=a===Lm(-e*_p,n);return c&&(i=o),(u||d)&&(i=l),(Lm(i,n)&Tm)===Tm&&(i=Lm(-i,n)),{isValid:c||u,value:i}}const Tp=(()=>Ym(jp.p,{isLE:!0}))(),Ap=(()=>({...jp,Fp:Tp,hash:cm,adjustScalarBytes:Ep,uvRatio:Cp}))(),Ip=(()=>xp(Ap))();var Pp={exports:{}};const Mp=L(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var Dp,Rp=Pp.exports;function Op(){return Dp||(Dp=1,function(e,t){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function s(e,t,n){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var i;"object"==typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{i="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:Mp.Buffer}catch(E){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function o(e,t,n){var r=a(e,n);return n-1>=t&&(r|=a(e,n-1)<<4),r}function l(e,t,r,s){for(var i=0,a=0,o=Math.min(e.length,r),l=t;l<o;l++){var c=e.charCodeAt(l)-48;i*=s,a=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&a<s,"Invalid character"),i+=a}return i}function c(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(s.isBN=function(e){return e instanceof s||null!==e&&"object"==typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var s=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(s++,this.negative=1),s<e.length&&(16===t?this._parseHex(e,s,r):(this._parseBase(e,t,s),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var i,a,o=0;if("be"===r)for(s=e.length-1,i=0;s>=0;s-=3)a=e[s]|e[s-1]<<8|e[s-2]<<16,this.words[i]|=a<<o&67108863,this.words[i+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,i++);else if("le"===r)for(s=0,i=0;s<e.length;s+=3)a=e[s]|e[s+1]<<8|e[s+2]<<16,this.words[i]|=a<<o&67108863,this.words[i+1]=a>>>26-o&67108863,(o+=24)>=26&&(o-=26,i++);return this._strip()},s.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var s,i=0,a=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)s=o(e,t,r)<<i,this.words[a]|=67108863&s,i>=18?(i-=18,a+=1,this.words[a]|=s>>>26):i+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)s=o(e,t,r)<<i,this.words[a]|=67108863&s,i>=18?(i-=18,a+=1,this.words[a]|=s>>>26):i+=8;this._strip()},s.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,s=1;s<=67108863;s*=t)r++;r--,s=s/t|0;for(var i=e.length-n,a=i%r,o=Math.min(i,i-a)+n,c=0,u=n;u<o;u+=r)c=l(e,u,u+r,t),this.imuln(s),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var d=1;for(c=l(e,u,e.length,t),u=0;u<a;u++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype._move=function(e){c(e,this)},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch(E){s.prototype.inspect=u}else s.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function m(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var s=0|e.words[0],i=0|t.words[0],a=s*i,o=67108863&a,l=a/67108864|0;n.words[0]=o;for(var c=1;c<r;c++){for(var u=l>>>26,d=67108863&l,h=Math.min(c,t.length-1),f=Math.max(0,c-e.length+1);f<=h;f++){var m=c-f|0;u+=(a=(s=0|e.words[m])*(i=0|t.words[f])+d)/67108864|0,d=67108863&a}n.words[c]=0|d,l=0|u}return 0!==l?n.words[c]=0|l:n.length--,n._strip()}s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var s=0,i=0,a=0;a<this.length;a++){var o=this.words[a],l=(16777215&(o<<s|i)).toString(16);i=o>>>24-s&16777215,(s+=2)>=26&&(s-=26,a--),r=0!==i||a!==this.length-1?d[6-l.length]+l+r:l+r}for(0!==i&&(r=i.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],u=f[e];r="";var m=this.clone();for(m.negative=0;!m.isZero();){var p=m.modrn(u).toString(e);r=(m=m.idivn(u)).isZero()?p+r:d[c-p.length]+p+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16,2)},i&&(s.prototype.toBuffer=function(e,t){return this.toArrayLike(i,e,t)}),s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},s.prototype.toArrayLike=function(e,t,r){this._strip();var s=this.byteLength(),i=r||Math.max(1,s);n(s<=i,"byte array longer than desired length"),n(i>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,i);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,s),a},s.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,s=0,i=0;s<this.length;s++){var a=this.words[s]<<i|r;e[n++]=255&a,n<e.length&&(e[n++]=a>>8&255),n<e.length&&(e[n++]=a>>16&255),6===i?(n<e.length&&(e[n++]=a>>24&255),r=0,i=0):(r=a>>>24,i+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},s.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,s=0,i=0;s<this.length;s++){var a=this.words[s]<<i|r;e[n--]=255&a,n>=0&&(e[n--]=a>>8&255),n>=0&&(e[n--]=a>>16&255),6===i?(n>=0&&(e[n--]=a>>24&255),r=0,i=0):(r=a>>>24,i+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 8191&t||(n+=13,t>>>=13),127&t||(n+=7,t>>>=7),15&t||(n+=4,t>>>=4),3&t||(n+=2,t>>>=2),1&t||n++,n},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},s.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},s.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},s.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var s=0;s<t;s++)this.words[s]=67108863&~this.words[s];return r>0&&(this.words[s]=~this.words[s]&67108863>>26-r),this._strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,s=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<s:this.words[r]&~(1<<s),this._strip()},s.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var s=0,i=0;i<r.length;i++)t=(0|n.words[i])+(0|r.words[i])+s,this.words[i]=67108863&t,s=t>>>26;for(;0!==s&&i<n.length;i++)t=(0|n.words[i])+s,this.words[i]=67108863&t,s=t>>>26;if(this.length=n.length,0!==s)this.words[this.length]=s,this.length++;else if(n!==this)for(;i<n.length;i++)this.words[i]=n.words[i];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,s=this.cmp(e);if(0===s)return this.negative=0,this.length=1,this.words[0]=0,this;s>0?(n=this,r=e):(n=e,r=this);for(var i=0,a=0;a<r.length;a++)i=(t=(0|n.words[a])-(0|r.words[a])+i)>>26,this.words[a]=67108863&t;for(;0!==i&&a<n.length;a++)i=(t=(0|n.words[a])+i)>>26,this.words[a]=67108863&t;if(0===i&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,n){var r,s,i,a=e.words,o=t.words,l=n.words,c=0,u=0|a[0],d=8191&u,h=u>>>13,f=0|a[1],m=8191&f,p=f>>>13,g=0|a[2],y=8191&g,b=g>>>13,x=0|a[3],v=8191&x,w=x>>>13,S=0|a[4],k=8191&S,N=S>>>13,j=0|a[5],E=8191&j,_=j>>>13,C=0|a[6],T=8191&C,A=C>>>13,I=0|a[7],P=8191&I,M=I>>>13,D=0|a[8],R=8191&D,O=D>>>13,F=0|a[9],L=8191&F,B=F>>>13,U=0|o[0],z=8191&U,V=U>>>13,q=0|o[1],G=8191&q,$=q>>>13,H=0|o[2],W=8191&H,K=H>>>13,Q=0|o[3],Y=8191&Q,X=Q>>>13,J=0|o[4],Z=8191&J,ee=J>>>13,te=0|o[5],ne=8191&te,re=te>>>13,se=0|o[6],ie=8191&se,ae=se>>>13,oe=0|o[7],le=8191&oe,ce=oe>>>13,ue=0|o[8],de=8191&ue,he=ue>>>13,fe=0|o[9],me=8191&fe,pe=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(c+(r=Math.imul(d,z))|0)+((8191&(s=(s=Math.imul(d,V))+Math.imul(h,z)|0))<<13)|0;c=((i=Math.imul(h,V))+(s>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(m,z),s=(s=Math.imul(m,V))+Math.imul(p,z)|0,i=Math.imul(p,V);var ye=(c+(r=r+Math.imul(d,G)|0)|0)+((8191&(s=(s=s+Math.imul(d,$)|0)+Math.imul(h,G)|0))<<13)|0;c=((i=i+Math.imul(h,$)|0)+(s>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,z),s=(s=Math.imul(y,V))+Math.imul(b,z)|0,i=Math.imul(b,V),r=r+Math.imul(m,G)|0,s=(s=s+Math.imul(m,$)|0)+Math.imul(p,G)|0,i=i+Math.imul(p,$)|0;var be=(c+(r=r+Math.imul(d,W)|0)|0)+((8191&(s=(s=s+Math.imul(d,K)|0)+Math.imul(h,W)|0))<<13)|0;c=((i=i+Math.imul(h,K)|0)+(s>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(v,z),s=(s=Math.imul(v,V))+Math.imul(w,z)|0,i=Math.imul(w,V),r=r+Math.imul(y,G)|0,s=(s=s+Math.imul(y,$)|0)+Math.imul(b,G)|0,i=i+Math.imul(b,$)|0,r=r+Math.imul(m,W)|0,s=(s=s+Math.imul(m,K)|0)+Math.imul(p,W)|0,i=i+Math.imul(p,K)|0;var xe=(c+(r=r+Math.imul(d,Y)|0)|0)+((8191&(s=(s=s+Math.imul(d,X)|0)+Math.imul(h,Y)|0))<<13)|0;c=((i=i+Math.imul(h,X)|0)+(s>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(k,z),s=(s=Math.imul(k,V))+Math.imul(N,z)|0,i=Math.imul(N,V),r=r+Math.imul(v,G)|0,s=(s=s+Math.imul(v,$)|0)+Math.imul(w,G)|0,i=i+Math.imul(w,$)|0,r=r+Math.imul(y,W)|0,s=(s=s+Math.imul(y,K)|0)+Math.imul(b,W)|0,i=i+Math.imul(b,K)|0,r=r+Math.imul(m,Y)|0,s=(s=s+Math.imul(m,X)|0)+Math.imul(p,Y)|0,i=i+Math.imul(p,X)|0;var ve=(c+(r=r+Math.imul(d,Z)|0)|0)+((8191&(s=(s=s+Math.imul(d,ee)|0)+Math.imul(h,Z)|0))<<13)|0;c=((i=i+Math.imul(h,ee)|0)+(s>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(E,z),s=(s=Math.imul(E,V))+Math.imul(_,z)|0,i=Math.imul(_,V),r=r+Math.imul(k,G)|0,s=(s=s+Math.imul(k,$)|0)+Math.imul(N,G)|0,i=i+Math.imul(N,$)|0,r=r+Math.imul(v,W)|0,s=(s=s+Math.imul(v,K)|0)+Math.imul(w,W)|0,i=i+Math.imul(w,K)|0,r=r+Math.imul(y,Y)|0,s=(s=s+Math.imul(y,X)|0)+Math.imul(b,Y)|0,i=i+Math.imul(b,X)|0,r=r+Math.imul(m,Z)|0,s=(s=s+Math.imul(m,ee)|0)+Math.imul(p,Z)|0,i=i+Math.imul(p,ee)|0;var we=(c+(r=r+Math.imul(d,ne)|0)|0)+((8191&(s=(s=s+Math.imul(d,re)|0)+Math.imul(h,ne)|0))<<13)|0;c=((i=i+Math.imul(h,re)|0)+(s>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(T,z),s=(s=Math.imul(T,V))+Math.imul(A,z)|0,i=Math.imul(A,V),r=r+Math.imul(E,G)|0,s=(s=s+Math.imul(E,$)|0)+Math.imul(_,G)|0,i=i+Math.imul(_,$)|0,r=r+Math.imul(k,W)|0,s=(s=s+Math.imul(k,K)|0)+Math.imul(N,W)|0,i=i+Math.imul(N,K)|0,r=r+Math.imul(v,Y)|0,s=(s=s+Math.imul(v,X)|0)+Math.imul(w,Y)|0,i=i+Math.imul(w,X)|0,r=r+Math.imul(y,Z)|0,s=(s=s+Math.imul(y,ee)|0)+Math.imul(b,Z)|0,i=i+Math.imul(b,ee)|0,r=r+Math.imul(m,ne)|0,s=(s=s+Math.imul(m,re)|0)+Math.imul(p,ne)|0,i=i+Math.imul(p,re)|0;var Se=(c+(r=r+Math.imul(d,ie)|0)|0)+((8191&(s=(s=s+Math.imul(d,ae)|0)+Math.imul(h,ie)|0))<<13)|0;c=((i=i+Math.imul(h,ae)|0)+(s>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(P,z),s=(s=Math.imul(P,V))+Math.imul(M,z)|0,i=Math.imul(M,V),r=r+Math.imul(T,G)|0,s=(s=s+Math.imul(T,$)|0)+Math.imul(A,G)|0,i=i+Math.imul(A,$)|0,r=r+Math.imul(E,W)|0,s=(s=s+Math.imul(E,K)|0)+Math.imul(_,W)|0,i=i+Math.imul(_,K)|0,r=r+Math.imul(k,Y)|0,s=(s=s+Math.imul(k,X)|0)+Math.imul(N,Y)|0,i=i+Math.imul(N,X)|0,r=r+Math.imul(v,Z)|0,s=(s=s+Math.imul(v,ee)|0)+Math.imul(w,Z)|0,i=i+Math.imul(w,ee)|0,r=r+Math.imul(y,ne)|0,s=(s=s+Math.imul(y,re)|0)+Math.imul(b,ne)|0,i=i+Math.imul(b,re)|0,r=r+Math.imul(m,ie)|0,s=(s=s+Math.imul(m,ae)|0)+Math.imul(p,ie)|0,i=i+Math.imul(p,ae)|0;var ke=(c+(r=r+Math.imul(d,le)|0)|0)+((8191&(s=(s=s+Math.imul(d,ce)|0)+Math.imul(h,le)|0))<<13)|0;c=((i=i+Math.imul(h,ce)|0)+(s>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(R,z),s=(s=Math.imul(R,V))+Math.imul(O,z)|0,i=Math.imul(O,V),r=r+Math.imul(P,G)|0,s=(s=s+Math.imul(P,$)|0)+Math.imul(M,G)|0,i=i+Math.imul(M,$)|0,r=r+Math.imul(T,W)|0,s=(s=s+Math.imul(T,K)|0)+Math.imul(A,W)|0,i=i+Math.imul(A,K)|0,r=r+Math.imul(E,Y)|0,s=(s=s+Math.imul(E,X)|0)+Math.imul(_,Y)|0,i=i+Math.imul(_,X)|0,r=r+Math.imul(k,Z)|0,s=(s=s+Math.imul(k,ee)|0)+Math.imul(N,Z)|0,i=i+Math.imul(N,ee)|0,r=r+Math.imul(v,ne)|0,s=(s=s+Math.imul(v,re)|0)+Math.imul(w,ne)|0,i=i+Math.imul(w,re)|0,r=r+Math.imul(y,ie)|0,s=(s=s+Math.imul(y,ae)|0)+Math.imul(b,ie)|0,i=i+Math.imul(b,ae)|0,r=r+Math.imul(m,le)|0,s=(s=s+Math.imul(m,ce)|0)+Math.imul(p,le)|0,i=i+Math.imul(p,ce)|0;var Ne=(c+(r=r+Math.imul(d,de)|0)|0)+((8191&(s=(s=s+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;c=((i=i+Math.imul(h,he)|0)+(s>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(L,z),s=(s=Math.imul(L,V))+Math.imul(B,z)|0,i=Math.imul(B,V),r=r+Math.imul(R,G)|0,s=(s=s+Math.imul(R,$)|0)+Math.imul(O,G)|0,i=i+Math.imul(O,$)|0,r=r+Math.imul(P,W)|0,s=(s=s+Math.imul(P,K)|0)+Math.imul(M,W)|0,i=i+Math.imul(M,K)|0,r=r+Math.imul(T,Y)|0,s=(s=s+Math.imul(T,X)|0)+Math.imul(A,Y)|0,i=i+Math.imul(A,X)|0,r=r+Math.imul(E,Z)|0,s=(s=s+Math.imul(E,ee)|0)+Math.imul(_,Z)|0,i=i+Math.imul(_,ee)|0,r=r+Math.imul(k,ne)|0,s=(s=s+Math.imul(k,re)|0)+Math.imul(N,ne)|0,i=i+Math.imul(N,re)|0,r=r+Math.imul(v,ie)|0,s=(s=s+Math.imul(v,ae)|0)+Math.imul(w,ie)|0,i=i+Math.imul(w,ae)|0,r=r+Math.imul(y,le)|0,s=(s=s+Math.imul(y,ce)|0)+Math.imul(b,le)|0,i=i+Math.imul(b,ce)|0,r=r+Math.imul(m,de)|0,s=(s=s+Math.imul(m,he)|0)+Math.imul(p,de)|0,i=i+Math.imul(p,he)|0;var je=(c+(r=r+Math.imul(d,me)|0)|0)+((8191&(s=(s=s+Math.imul(d,pe)|0)+Math.imul(h,me)|0))<<13)|0;c=((i=i+Math.imul(h,pe)|0)+(s>>>13)|0)+(je>>>26)|0,je&=67108863,r=Math.imul(L,G),s=(s=Math.imul(L,$))+Math.imul(B,G)|0,i=Math.imul(B,$),r=r+Math.imul(R,W)|0,s=(s=s+Math.imul(R,K)|0)+Math.imul(O,W)|0,i=i+Math.imul(O,K)|0,r=r+Math.imul(P,Y)|0,s=(s=s+Math.imul(P,X)|0)+Math.imul(M,Y)|0,i=i+Math.imul(M,X)|0,r=r+Math.imul(T,Z)|0,s=(s=s+Math.imul(T,ee)|0)+Math.imul(A,Z)|0,i=i+Math.imul(A,ee)|0,r=r+Math.imul(E,ne)|0,s=(s=s+Math.imul(E,re)|0)+Math.imul(_,ne)|0,i=i+Math.imul(_,re)|0,r=r+Math.imul(k,ie)|0,s=(s=s+Math.imul(k,ae)|0)+Math.imul(N,ie)|0,i=i+Math.imul(N,ae)|0,r=r+Math.imul(v,le)|0,s=(s=s+Math.imul(v,ce)|0)+Math.imul(w,le)|0,i=i+Math.imul(w,ce)|0,r=r+Math.imul(y,de)|0,s=(s=s+Math.imul(y,he)|0)+Math.imul(b,de)|0,i=i+Math.imul(b,he)|0;var Ee=(c+(r=r+Math.imul(m,me)|0)|0)+((8191&(s=(s=s+Math.imul(m,pe)|0)+Math.imul(p,me)|0))<<13)|0;c=((i=i+Math.imul(p,pe)|0)+(s>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(L,W),s=(s=Math.imul(L,K))+Math.imul(B,W)|0,i=Math.imul(B,K),r=r+Math.imul(R,Y)|0,s=(s=s+Math.imul(R,X)|0)+Math.imul(O,Y)|0,i=i+Math.imul(O,X)|0,r=r+Math.imul(P,Z)|0,s=(s=s+Math.imul(P,ee)|0)+Math.imul(M,Z)|0,i=i+Math.imul(M,ee)|0,r=r+Math.imul(T,ne)|0,s=(s=s+Math.imul(T,re)|0)+Math.imul(A,ne)|0,i=i+Math.imul(A,re)|0,r=r+Math.imul(E,ie)|0,s=(s=s+Math.imul(E,ae)|0)+Math.imul(_,ie)|0,i=i+Math.imul(_,ae)|0,r=r+Math.imul(k,le)|0,s=(s=s+Math.imul(k,ce)|0)+Math.imul(N,le)|0,i=i+Math.imul(N,ce)|0,r=r+Math.imul(v,de)|0,s=(s=s+Math.imul(v,he)|0)+Math.imul(w,de)|0,i=i+Math.imul(w,he)|0;var _e=(c+(r=r+Math.imul(y,me)|0)|0)+((8191&(s=(s=s+Math.imul(y,pe)|0)+Math.imul(b,me)|0))<<13)|0;c=((i=i+Math.imul(b,pe)|0)+(s>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(L,Y),s=(s=Math.imul(L,X))+Math.imul(B,Y)|0,i=Math.imul(B,X),r=r+Math.imul(R,Z)|0,s=(s=s+Math.imul(R,ee)|0)+Math.imul(O,Z)|0,i=i+Math.imul(O,ee)|0,r=r+Math.imul(P,ne)|0,s=(s=s+Math.imul(P,re)|0)+Math.imul(M,ne)|0,i=i+Math.imul(M,re)|0,r=r+Math.imul(T,ie)|0,s=(s=s+Math.imul(T,ae)|0)+Math.imul(A,ie)|0,i=i+Math.imul(A,ae)|0,r=r+Math.imul(E,le)|0,s=(s=s+Math.imul(E,ce)|0)+Math.imul(_,le)|0,i=i+Math.imul(_,ce)|0,r=r+Math.imul(k,de)|0,s=(s=s+Math.imul(k,he)|0)+Math.imul(N,de)|0,i=i+Math.imul(N,he)|0;var Ce=(c+(r=r+Math.imul(v,me)|0)|0)+((8191&(s=(s=s+Math.imul(v,pe)|0)+Math.imul(w,me)|0))<<13)|0;c=((i=i+Math.imul(w,pe)|0)+(s>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(L,Z),s=(s=Math.imul(L,ee))+Math.imul(B,Z)|0,i=Math.imul(B,ee),r=r+Math.imul(R,ne)|0,s=(s=s+Math.imul(R,re)|0)+Math.imul(O,ne)|0,i=i+Math.imul(O,re)|0,r=r+Math.imul(P,ie)|0,s=(s=s+Math.imul(P,ae)|0)+Math.imul(M,ie)|0,i=i+Math.imul(M,ae)|0,r=r+Math.imul(T,le)|0,s=(s=s+Math.imul(T,ce)|0)+Math.imul(A,le)|0,i=i+Math.imul(A,ce)|0,r=r+Math.imul(E,de)|0,s=(s=s+Math.imul(E,he)|0)+Math.imul(_,de)|0,i=i+Math.imul(_,he)|0;var Te=(c+(r=r+Math.imul(k,me)|0)|0)+((8191&(s=(s=s+Math.imul(k,pe)|0)+Math.imul(N,me)|0))<<13)|0;c=((i=i+Math.imul(N,pe)|0)+(s>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(L,ne),s=(s=Math.imul(L,re))+Math.imul(B,ne)|0,i=Math.imul(B,re),r=r+Math.imul(R,ie)|0,s=(s=s+Math.imul(R,ae)|0)+Math.imul(O,ie)|0,i=i+Math.imul(O,ae)|0,r=r+Math.imul(P,le)|0,s=(s=s+Math.imul(P,ce)|0)+Math.imul(M,le)|0,i=i+Math.imul(M,ce)|0,r=r+Math.imul(T,de)|0,s=(s=s+Math.imul(T,he)|0)+Math.imul(A,de)|0,i=i+Math.imul(A,he)|0;var Ae=(c+(r=r+Math.imul(E,me)|0)|0)+((8191&(s=(s=s+Math.imul(E,pe)|0)+Math.imul(_,me)|0))<<13)|0;c=((i=i+Math.imul(_,pe)|0)+(s>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(L,ie),s=(s=Math.imul(L,ae))+Math.imul(B,ie)|0,i=Math.imul(B,ae),r=r+Math.imul(R,le)|0,s=(s=s+Math.imul(R,ce)|0)+Math.imul(O,le)|0,i=i+Math.imul(O,ce)|0,r=r+Math.imul(P,de)|0,s=(s=s+Math.imul(P,he)|0)+Math.imul(M,de)|0,i=i+Math.imul(M,he)|0;var Ie=(c+(r=r+Math.imul(T,me)|0)|0)+((8191&(s=(s=s+Math.imul(T,pe)|0)+Math.imul(A,me)|0))<<13)|0;c=((i=i+Math.imul(A,pe)|0)+(s>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(L,le),s=(s=Math.imul(L,ce))+Math.imul(B,le)|0,i=Math.imul(B,ce),r=r+Math.imul(R,de)|0,s=(s=s+Math.imul(R,he)|0)+Math.imul(O,de)|0,i=i+Math.imul(O,he)|0;var Pe=(c+(r=r+Math.imul(P,me)|0)|0)+((8191&(s=(s=s+Math.imul(P,pe)|0)+Math.imul(M,me)|0))<<13)|0;c=((i=i+Math.imul(M,pe)|0)+(s>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(L,de),s=(s=Math.imul(L,he))+Math.imul(B,de)|0,i=Math.imul(B,he);var Me=(c+(r=r+Math.imul(R,me)|0)|0)+((8191&(s=(s=s+Math.imul(R,pe)|0)+Math.imul(O,me)|0))<<13)|0;c=((i=i+Math.imul(O,pe)|0)+(s>>>13)|0)+(Me>>>26)|0,Me&=67108863;var De=(c+(r=Math.imul(L,me))|0)+((8191&(s=(s=Math.imul(L,pe))+Math.imul(B,me)|0))<<13)|0;return c=((i=Math.imul(B,pe))+(s>>>13)|0)+(De>>>26)|0,De&=67108863,l[0]=ge,l[1]=ye,l[2]=be,l[3]=xe,l[4]=ve,l[5]=we,l[6]=Se,l[7]=ke,l[8]=Ne,l[9]=je,l[10]=Ee,l[11]=_e,l[12]=Ce,l[13]=Te,l[14]=Ae,l[15]=Ie,l[16]=Pe,l[17]=Me,l[18]=De,0!==c&&(l[19]=c,n.length++),n};function g(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,s=0,i=0;i<n.length-1;i++){var a=s;s=0;for(var o=67108863&r,l=Math.min(i,t.length-1),c=Math.max(0,i-e.length+1);c<=l;c++){var u=i-c,d=(0|e.words[u])*(0|t.words[c]),h=67108863&d;o=67108863&(h=h+o|0),s+=(a=(a=a+(d/67108864|0)|0)+(h>>>26)|0)>>>26,a&=67108863}n.words[i]=o,r=a,a=s}return 0!==r?n.words[i]=r:n.length--,n._strip()}function y(e,t,n){return g(e,t,n)}Math.imul||(p=m),s.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):n<63?m(this,e,t):n<1024?g(this,e,t):y(this,e,t)},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),y(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"==typeof e),n(e<67108864);for(var r=0,s=0;s<this.length;s++){var i=(0|this.words[s])*e,a=(67108863&i)+(67108863&r);r>>=26,r+=i/67108864|0,r+=a>>>26,this.words[s]=67108863&a}return 0!==r&&(this.words[s]=r,this.length++),this.length=0===e?1:this.length,t?this.ineg():this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,s=n%26;t[n]=e.words[r]>>>s&1}return t}(e);if(0===t.length)return new s(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},s.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,s=(e-r)/26,i=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(t=0;t<this.length;t++){var o=this.words[t]&i,l=(0|this.words[t])-o<<r;this.words[t]=l|a,a=o>>>26-r}a&&(this.words[t]=a,this.length++)}if(0!==s){for(t=this.length-1;t>=0;t--)this.words[t+s]=this.words[t];for(t=0;t<s;t++)this.words[t]=0;this.length+=s}return this._strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var s;n("number"==typeof e&&e>=0),s=t?(t-t%26)/26:0;var i=e%26,a=Math.min((e-i)/26,this.length),o=67108863^67108863>>>i<<i,l=r;if(s-=a,s=Math.max(0,s),l){for(var c=0;c<a;c++)l.words[c]=this.words[c];l.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var u=0;for(c=this.length-1;c>=0&&(0!==u||c>=s);c--){var d=0|this.words[c];this.words[c]=u<<26-i|d>>>i,u=d&o}return l&&0!==u&&(l.words[l.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,s=1<<t;return!(this.length<=r||!(this.words[r]&s))},s.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var s=67108863^67108863>>>t<<t;this.words[this.length-1]&=s}return this._strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var s,i,a=e.length+r;this._expand(a);var o=0;for(s=0;s<e.length;s++){i=(0|this.words[s+r])+o;var l=(0|e.words[s])*t;o=((i-=67108863&l)>>26)-(l/67108864|0),this.words[s+r]=67108863&i}for(;s<this.length-r;s++)o=(i=(0|this.words[s+r])+o)>>26,this.words[s+r]=67108863&i;if(0===o)return this._strip();for(n(-1===o),o=0,s=0;s<this.length;s++)o=(i=-(0|this.words[s])+o)>>26,this.words[s]=67108863&i;return this.negative=1,this._strip()},s.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!=(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var o,l=r.length-i.length;if("mod"!==t){(o=new s(null)).length=l+1,o.words=new Array(o.length);for(var c=0;c<o.length;c++)o.words[c]=0}var u=r.clone()._ishlnsubmul(i,1,l);0===u.negative&&(r=u,o&&(o.words[l]=1));for(var d=l-1;d>=0;d--){var h=67108864*(0|r.words[i.length+d])+(0|r.words[i.length+d-1]);for(h=Math.min(h/a|0,67108863),r._ishlnsubmul(i,h,d);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);o&&(o.words[d]=h)}return o&&o._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:o||null,mod:r}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(i=o.div.neg()),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(i=o.div.neg()),{div:i,mod:o.mod}):0!==(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(a=o.mod.neg(),r&&0!==a.negative&&a.isub(e)),{div:o.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,a,o},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),s=e.andln(1),i=n.cmp(r);return i<0||1===s&&0===i?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,s=0,i=this.length-1;i>=0;i--)s=(r*s+(0|this.words[i]))%e;return t?-s:s},s.prototype.modn=function(e){return this.modrn(e)},s.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,s=this.length-1;s>=0;s--){var i=(0|this.words[s])+67108864*r;this.words[s]=i/e|0,r=i%e}return this._strip(),t?this.ineg():this},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),a=new s(0),o=new s(0),l=new s(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var u=r.clone(),d=t.clone();!t.isZero();){for(var h=0,f=1;0===(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(u),a.isub(d)),i.iushrn(1),a.iushrn(1);for(var m=0,p=1;0===(r.words[0]&p)&&m<26;++m,p<<=1);if(m>0)for(r.iushrn(m);m-- >0;)(o.isOdd()||l.isOdd())&&(o.iadd(u),l.isub(d)),o.iushrn(1),l.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(o),a.isub(l)):(r.isub(t),o.isub(i),l.isub(a))}return{a:o,b:l,gcd:r.iushln(c)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new s(1),o=new s(0),l=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,u=1;0===(t.words[0]&u)&&c<26;++c,u<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);for(var d=0,h=1;0===(r.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(r.iushrn(d);d-- >0;)o.isOdd()&&o.iadd(l),o.iushrn(1);t.cmp(r)>=0?(t.isub(r),a.isub(o)):(r.isub(t),o.isub(a))}return(i=0===t.cmpn(1)?a:o).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var s=t.cmp(n);if(s<0){var i=t;t=n,n=i}else if(0===s||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,s=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=s,this;for(var i=s,a=r;0!==i&&a<this.length;a++){var o=0|this.words[a];i=(o+=i)>>>26,o&=67108863,this.words[a]=o}return 0!==i&&(this.words[a]=i,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var s=0|this.words[0];t=s===e?0:s<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],s=0|e.words[n];if(r!==s){r<s?t=-1:r>s&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new N(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function x(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){x.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){x.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){x.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){x.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function N(e){if("string"==typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function j(e){N.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},x.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},x.prototype.split=function(e,t){e.iushrn(this.n,0,t)},x.prototype.imulK=function(e){return e.imul(this.k)},r(v,x),v.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),s=0;s<r;s++)t.words[s]=e.words[s];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=i&n,s=10;s<e.length;s++){var a=0|e.words[s];e.words[s-10]=(a&n)<<4|i>>>22,i=a}i>>>=22,e.words[s-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},v.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(w,x),r(S,x),r(k,x),k.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,s=67108863&r;r>>>=26,e.words[n]=s,t=r}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(b[e])return b[e];var t;if("k256"===e)t=new v;else if("p224"===e)t=new w;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new k}return b[e]=t,t},N.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},N.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},N.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(c(e,e.umod(this.m)._forceRed(this)),e)},N.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},N.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},N.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},N.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},N.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},N.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},N.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},N.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},N.prototype.isqr=function(e){return this.imul(e,e.clone())},N.prototype.sqr=function(e){return this.mul(e,e)},N.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var o=new s(1).toRed(this),l=o.redNeg(),c=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);0!==this.pow(u,c).cmp(l);)u.redIAdd(l);for(var d=this.pow(u,i),h=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),m=a;0!==f.cmp(o);){for(var p=f,g=0;0!==p.cmp(o);g++)p=p.redSqr();n(g<m);var y=this.pow(d,new s(1).iushln(m-g-1));h=h.redMul(y),d=y.redSqr(),f=f.redMul(d),m=g}return h},N.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},N.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new s(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,o=0,l=t.bitLength()%26;for(0===l&&(l=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],u=l-1;u>=0;u--){var d=c>>u&1;i!==n[0]&&(i=this.sqr(i)),0!==d||0!==a?(a<<=1,a|=d,(4===++o||0===r&&0===u)&&(i=this.mul(i,n[a]),o=0,a=0)):o=0}l=26}return i},N.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},N.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new j(e)},r(j,N),j.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},j.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},j.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=n.isub(r).iushrn(this.shift),i=s;return s.cmp(this.m)>=0?i=s.isub(this.m):s.cmpn(0)<0&&(i=s.iadd(this.m)),i._forceRed(this)},j.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},j.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(Pp,Rp)),Pp.exports}const Fp=F(Op());var Lp,Bp,Up,zp,Vp,qp={exports:{}};
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */function Gp(){if(Up)return Bp;Up=1;var e=(Lp||(Lp=1,function(e,t){var n=sf(),r=n.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=i),i.prototype=Object.create(r.prototype),s(r,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var s=r(e);return void 0!==t?"string"==typeof n?s.fill(t,n):s.fill(t):s.fill(0),s},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}}(qp,qp.exports)),qp.exports).Buffer;return Bp=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var s=0;s<t.length;s++){var i=t.charAt(s),a=i.charCodeAt(0);if(255!==n[a])throw new TypeError(i+" is ambiguous");n[a]=s}var o=t.length,l=t.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function d(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return e.alloc(0);for(var r=0,s=0,i=0;t[r]===l;)s++,r++;for(var a=(t.length-r)*c+1>>>0,u=new Uint8Array(a);r<t.length;){var d=t.charCodeAt(r);if(d>255)return;var h=n[d];if(255===h)return;for(var f=0,m=a-1;(0!==h||f<i)&&-1!==m;m--,f++)h+=o*u[m]>>>0,u[m]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");i=f,r++}for(var p=a-i;p!==a&&0===u[p];)p++;var g=e.allocUnsafe(s+(a-p));g.fill(0,0,s);for(var y=s;p!==a;)g[y++]=u[p++];return g}return{encode:function(n){if((Array.isArray(n)||n instanceof Uint8Array)&&(n=e.from(n)),!e.isBuffer(n))throw new TypeError("Expected Buffer");if(0===n.length)return"";for(var r=0,s=0,i=0,a=n.length;i!==a&&0===n[i];)i++,r++;for(var c=(a-i)*u+1>>>0,d=new Uint8Array(c);i!==a;){for(var h=n[i],f=0,m=c-1;(0!==h||f<s)&&-1!==m;m--,f++)h+=256*d[m]>>>0,d[m]=h%o>>>0,h=h/o>>>0;if(0!==h)throw new Error("Non-zero carry");s=f,i++}for(var p=c-s;p!==c&&0===d[p];)p++;for(var g=l.repeat(r);p<c;++p)g+=t.charAt(d[p]);return g},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+o+" character")}}},Bp}function $p(){if(Vp)return zp;Vp=1;var e=Gp();return zp=e("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}const Hp=F($p()),Wp=lm;var Kp={};function Qp(e,t,n){return t<=e&&e<=n}function Yp(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function Xp(e){this.tokens=[].slice.call(e)}Xp.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var Jp=-1;function Zp(e,t){if(e)throw TypeError("Decoder error");return t||65533}var eg="utf-8";function tg(e,t){if(!(this instanceof tg))return new tg(e,t);if((e=void 0!==e?String(e).toLowerCase():eg)!==eg)throw new Error("Encoding not supported. Only utf-8 is supported");t=Yp(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function ng(e,t){if(!(this instanceof ng))return new ng(e,t);if((e=void 0!==e?String(e).toLowerCase():eg)!==eg)throw new Error("Encoding not supported. Only utf-8 is supported");t=Yp(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function rg(e){var t=e.fatal,n=0,r=0,s=0,i=128,a=191;this.handler=function(e,o){if(-1===o&&0!==s)return s=0,Zp(t);if(-1===o)return Jp;if(0===s){if(Qp(o,0,127))return o;if(Qp(o,194,223))s=1,n=o-192;else if(Qp(o,224,239))224===o&&(i=160),237===o&&(a=159),s=2,n=o-224;else{if(!Qp(o,240,244))return Zp(t);240===o&&(i=144),244===o&&(a=143),s=3,n=o-240}return n<<=6*s,null}if(!Qp(o,i,a))return n=s=r=0,i=128,a=191,e.prepend(o),Zp(t);if(i=128,a=191,n+=o-128<<6*(s-(r+=1)),r!==s)return null;var l=n;return n=s=r=0,l}}function sg(e){e.fatal,this.handler=function(e,t){if(-1===t)return Jp;if(Qp(t,0,127))return t;var n,r;Qp(t,128,2047)?(n=1,r=192):Qp(t,2048,65535)?(n=2,r=224):Qp(t,65536,1114111)&&(n=3,r=240);for(var s=[(t>>6*n)+r];n>0;){var i=t>>6*(n-1);s.push(128|63&i),n-=1}return s}}tg.prototype={decode:function(e,t){var n;n="object"==typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"==typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=Yp(t),this._streaming||(this._decoder=new rg({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var r,s=new Xp(n),i=[];!s.endOfStream()&&(r=this._decoder.handler(s,s.read()))!==Jp;)null!==r&&(Array.isArray(r)?i.push.apply(i,r):i.push(r));if(!this._streaming){do{if((r=this._decoder.handler(s,s.read()))===Jp)break;null!==r&&(Array.isArray(r)?i.push.apply(i,r):i.push(r))}while(!s.endOfStream());this._decoder=null}return i.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===i[0]?(this._BOMseen=!0,i.shift()):this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return t}(i)}},ng.prototype={encode:function(e,t){e=e?String(e):"",t=Yp(t),this._streaming||(this._encoder=new sg(this._options)),this._streaming=Boolean(t.stream);for(var n,r=[],s=new Xp(function(e){for(var t=String(e),n=t.length,r=0,s=[];r<n;){var i=t.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)s.push(65533);else{var a=e.charCodeAt(r+1);if(56320<=a&&a<=57343){var o=1023&i,l=1023&a;s.push(65536+(o<<10)+l),r+=1}else s.push(65533)}r+=1}return s}(e));!s.endOfStream()&&(n=this._encoder.handler(s,s.read()))!==Jp;)Array.isArray(n)?r.push.apply(r,n):r.push(n);if(!this._streaming){for(;(n=this._encoder.handler(s,s.read()))!==Jp;)Array.isArray(n)?r.push.apply(r,n):r.push(n);this._encoder=null}return new Uint8Array(r)}};const ig=L(Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:tg,TextEncoder:ng},Symbol.toStringTag,{value:"Module"})));var ag;var og,lg=function(){if(ag)return Kp;ag=1;var e=Kp&&Kp.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),t=Kp&&Kp.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=Kp&&Kp.__decorate||function(e,t,n,r){var s,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(i<3?s(a):i>3?s(t,n,a):s(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},r=Kp&&Kp.__importStar||function(n){if(n&&n.__esModule)return n;var r={};if(null!=n)for(var s in n)"default"!==s&&Object.hasOwnProperty.call(n,s)&&e(r,n,s);return t(r,n),r},s=Kp&&Kp.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.deserializeUnchecked=Kp.deserialize=Kp.serialize=Kp.BinaryReader=Kp.BinaryWriter=Kp.BorshError=Kp.baseDecode=Kp.baseEncode=void 0;const i=s(Op()),a=s($p()),o=r(ig),l=new("function"!=typeof TextDecoder?o.TextDecoder:TextDecoder)("utf-8",{fatal:!0});Kp.baseEncode=function(e){return"string"==typeof e&&(e=Buffer.from(e,"utf8")),a.default.encode(Buffer.from(e))},Kp.baseDecode=function(e){return Buffer.from(a.default.decode(e))};const c=1024;class u extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Kp.BorshError=u;class d{constructor(){this.buf=Buffer.alloc(c),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(c)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new i.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(c)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}}function h(e,t,n){const r=n.value;n.value=function(...e){try{return r.apply(this,e)}catch(t){if(t instanceof RangeError){const e=t.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new u("Reached the end of buffer when deserializing")}throw t}}}Kp.BinaryWriter=d;class f{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new i.default(e,"le")}readU128(){const e=this.readBuffer(16);return new i.default(e,"le")}readU256(){const e=this.readBuffer(32);return new i.default(e,"le")}readU512(){const e=this.readBuffer(64);return new i.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new u(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return l.decode(t)}catch(n){throw new u(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),n=Array();for(let r=0;r<t;++r)n.push(e());return n}}function m(e){return e.charAt(0).toUpperCase()+e.slice(1)}function p(e,t,n,r,s){try{if("string"==typeof r)s[`write${m(r)}`](n);else if(r instanceof Array)if("number"==typeof r[0]){if(n.length!==r[0])throw new u(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);s.writeFixedArray(n)}else if(2===r.length&&"number"==typeof r[1]){if(n.length!==r[1])throw new u(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let t=0;t<r[1];t++)p(e,null,n[t],r[0],s)}else s.writeArray(n,n=>{p(e,t,n,r[0],s)});else if(void 0!==r.kind)switch(r.kind){case"option":null==n?s.writeU8(0):(s.writeU8(1),p(e,t,n,r.type,s));break;case"map":s.writeU32(n.size),n.forEach((n,i)=>{p(e,t,i,r.key,s),p(e,t,n,r.value,s)});break;default:throw new u(`FieldType ${r} unrecognized`)}else g(e,n,s)}catch(i){throw i instanceof u&&i.addToFieldPath(t),i}}function g(e,t,n){if("function"==typeof t.borshSerialize)return void t.borshSerialize(n);const r=e.get(t.constructor);if(!r)throw new u(`Class ${t.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map(([r,s])=>{p(e,r,t[r],s,n)});else{if("enum"!==r.kind)throw new u(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`);{const s=t[r.field];for(let i=0;i<r.values.length;++i){const[a,o]=r.values[i];if(a===s){n.writeU8(i),p(e,a,t[a],o,n);break}}}}}function y(e,t,n,r){try{if("string"==typeof n)return r[`read${m(n)}`]();if(n instanceof Array){if("number"==typeof n[0])return r.readFixedArray(n[0]);if("number"==typeof n[1]){const t=[];for(let s=0;s<n[1];s++)t.push(y(e,null,n[0],r));return t}return r.readArray(()=>y(e,t,n[0],r))}if("option"===n.kind){return r.readU8()?y(e,t,n.type,r):void 0}if("map"===n.kind){let s=new Map;const i=r.readU32();for(let a=0;a<i;a++){const i=y(e,t,n.key,r),a=y(e,t,n.value,r);s.set(i,a)}return s}return b(e,n,r)}catch(s){throw s instanceof u&&s.addToFieldPath(t),s}}function b(e,t,n){if("function"==typeof t.borshDeserialize)return t.borshDeserialize(n);const r=e.get(t);if(!r)throw new u(`Class ${t.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[s,i]of e.get(t).fields)r[s]=y(e,s,i,n);return new t(r)}if("enum"===r.kind){const s=n.readU8();if(s>=r.values.length)throw new u(`Enum index: ${s} is out of range`);const[i,a]=r.values[s],o=y(e,i,a,n);return new t({[i]:o})}throw new u(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}return n([h],f.prototype,"readU8",null),n([h],f.prototype,"readU16",null),n([h],f.prototype,"readU32",null),n([h],f.prototype,"readU64",null),n([h],f.prototype,"readU128",null),n([h],f.prototype,"readU256",null),n([h],f.prototype,"readU512",null),n([h],f.prototype,"readString",null),n([h],f.prototype,"readFixedArray",null),n([h],f.prototype,"readArray",null),Kp.BinaryReader=f,Kp.serialize=function(e,t,n=d){const r=new n;return g(e,t,r),r.toArray()},Kp.deserialize=function(e,t,n,r=f){const s=new r(n),i=b(e,t,s);if(s.offset<n.length)throw new u(`Unexpected ${n.length-s.offset} bytes after deserialized data`);return i},Kp.deserializeUnchecked=function(e,t,n,r=f){return b(e,t,new r(n))},Kp}(),cg={};var ug=function(){if(og)return cg;og=1,Object.defineProperty(cg,"__esModule",{value:!0}),cg.s16=cg.s8=cg.nu64be=cg.u48be=cg.u40be=cg.u32be=cg.u24be=cg.u16be=cg.nu64=cg.u48=cg.u40=cg.u32=cg.u24=cg.u16=cg.u8=cg.offset=cg.greedy=cg.Constant=cg.UTF8=cg.CString=cg.Blob=cg.Boolean=cg.BitField=cg.BitStructure=cg.VariantLayout=cg.Union=cg.UnionLayoutDiscriminator=cg.UnionDiscriminator=cg.Structure=cg.Sequence=cg.DoubleBE=cg.Double=cg.FloatBE=cg.Float=cg.NearInt64BE=cg.NearInt64=cg.NearUInt64BE=cg.NearUInt64=cg.IntBE=cg.Int=cg.UIntBE=cg.UInt=cg.OffsetLayout=cg.GreedyCount=cg.ExternalLayout=cg.bindConstructorLayout=cg.nameWithProperty=cg.Layout=cg.uint8ArrayToBuffer=cg.checkUint8Array=void 0,cg.constant=cg.utf8=cg.cstr=cg.blob=cg.unionLayoutDiscriminator=cg.union=cg.seq=cg.bits=cg.struct=cg.f64be=cg.f64=cg.f32be=cg.f32=cg.ns64be=cg.s48be=cg.s40be=cg.s32be=cg.s24be=cg.s16be=cg.ns64=cg.s48=cg.s40=cg.s32=cg.s24=void 0;const e=sf();function t(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function n(n){return t(n),e.Buffer.from(n.buffer,n.byteOffset,n.length)}cg.checkUint8Array=t,cg.uint8ArrayToBuffer=n;let r=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};function s(e,t){return t.property?e+"["+t.property+"]":e}cg.Layout=r,cg.nameWithProperty=s,cg.bindConstructorLayout=function(e,t){if("function"!=typeof e)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(e,"decode",{value:(e,n)=>t.decode(e,n),writable:!0})};class i extends r{isCount(){throw new Error("ExternalLayout is abstract")}}cg.ExternalLayout=i;class a extends i{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,n=0){t(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,t,n){return 0}}cg.GreedyCount=a;class o extends i{constructor(e,t=0,n){if(!(e instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof l||this.layout instanceof c}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,n=0){return this.layout.encode(e,t,n+this.offset)}}cg.OffsetLayout=o;class l extends r{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return n(e).readUIntLE(t,this.span)}encode(e,t,r=0){return n(t).writeUIntLE(e,r,this.span),this.span}}cg.UInt=l;class c extends r{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return n(e).readUIntBE(t,this.span)}encode(e,t,r=0){return n(t).writeUIntBE(e,r,this.span),this.span}}cg.UIntBE=c;class u extends r{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return n(e).readIntLE(t,this.span)}encode(e,t,r=0){return n(t).writeIntLE(e,r,this.span),this.span}}cg.Int=u;class d extends r{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return n(e).readIntBE(t,this.span)}encode(e,t,r=0){return n(t).writeIntBE(e,r,this.span),this.span}}cg.IntBE=d;const h=Math.pow(2,32);function f(e){const t=Math.floor(e/h);return{hi32:t,lo32:e-t*h}}function m(e,t){return e*h+t}class p extends r{constructor(e){super(8,e)}decode(e,t=0){const r=n(e),s=r.readUInt32LE(t);return m(r.readUInt32LE(t+4),s)}encode(e,t,r=0){const s=f(e),i=n(t);return i.writeUInt32LE(s.lo32,r),i.writeUInt32LE(s.hi32,r+4),8}}cg.NearUInt64=p;class g extends r{constructor(e){super(8,e)}decode(e,t=0){const r=n(e);return m(r.readUInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){const s=f(e),i=n(t);return i.writeUInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}cg.NearUInt64BE=g;class y extends r{constructor(e){super(8,e)}decode(e,t=0){const r=n(e),s=r.readUInt32LE(t);return m(r.readInt32LE(t+4),s)}encode(e,t,r=0){const s=f(e),i=n(t);return i.writeUInt32LE(s.lo32,r),i.writeInt32LE(s.hi32,r+4),8}}cg.NearInt64=y;class b extends r{constructor(e){super(8,e)}decode(e,t=0){const r=n(e);return m(r.readInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){const s=f(e),i=n(t);return i.writeInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}cg.NearInt64BE=b;class x extends r{constructor(e){super(4,e)}decode(e,t=0){return n(e).readFloatLE(t)}encode(e,t,r=0){return n(t).writeFloatLE(e,r),4}}cg.Float=x;class v extends r{constructor(e){super(4,e)}decode(e,t=0){return n(e).readFloatBE(t)}encode(e,t,r=0){return n(t).writeFloatBE(e,r),4}}cg.FloatBE=v;class w extends r{constructor(e){super(8,e)}decode(e,t=0){return n(e).readDoubleLE(t)}encode(e,t,r=0){return n(t).writeDoubleLE(e,r),8}}cg.Double=w;class S extends r{constructor(e){super(8,e)}decode(e,t=0){return n(e).readDoubleBE(t)}encode(e,t,r=0){return n(t).writeDoubleBE(e,r),8}}cg.DoubleBE=S;class k extends r{constructor(e,t,n){if(!(e instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof i&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(t instanceof i)&&0<e.span&&(s=t*e.span),super(s,n),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof i&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let s=0;for(;s<r;)n+=this.elementLayout.getSpan(e,t+n),++s}return n}decode(e,t=0){const n=[];let r=0,s=this.count;for(s instanceof i&&(s=s.decode(e,t));r<s;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t,n=0){const r=this.elementLayout,s=e.reduce((e,s)=>e+r.encode(s,t,n+e),0);return this.count instanceof i&&this.count.encode(e.length,t,n),s}}cg.Sequence=k;class N extends r{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce((e,t)=>e&&t instanceof r,!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===n&&(n=t,t=void 0);for(const r of e)if(0>r.span&&void 0===r.property)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((e,t)=>e+t.getSpan(),0)}catch(i){}super(s,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((n,r)=>{const s=r.getSpan(e,t);return t+=s,n+s},0)}catch(r){throw new RangeError("indeterminate span")}return n}decode(e,n=0){t(e);const r=this.makeDestinationObject();for(const t of this.fields)if(void 0!==t.property&&(r[t.property]=t.decode(e,n)),n+=t.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,t,n=0){const r=n;let s=0,i=0;for(const a of this.fields){let r=a.span;if(i=0<r?r:0,void 0!==a.property){const s=e[a.property];void 0!==s&&(i=a.encode(s,t,n),0>r&&(r=a.getSpan(t,n)))}s=n,n+=r}return s+i-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}cg.Structure=N;class j{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}}cg.UnionDiscriminator=j;class E extends j{constructor(e,t){if(!(e instanceof i&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}cg.UnionLayoutDiscriminator=E;class _ extends r{constructor(e,t,n){let s;if(e instanceof l||e instanceof c)s=new E(new o(e));else if(e instanceof i&&e.isCount())s=new E(e);else{if(!(e instanceof j))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");s=e}if(void 0===t&&(t=null),!(null===t||t instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let a=-1;t&&(a=t.span,0<=a&&(e instanceof l||e instanceof c)&&(a+=s.layout.span)),super(a,n),this.discriminator=s,this.usesPrefixDiscriminator=e instanceof l||e instanceof c,this.defaultLayout=t,this.registry={};let u=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return u(e)},this.configGetSourceVariant=function(e){u=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,t=0){let n;const r=this.discriminator,s=r.decode(e,t),i=this.registry[s];if(void 0===i){const i=this.defaultLayout;let a=0;this.usesPrefixDiscriminator&&(a=r.layout.span),n=this.makeDestinationObject(),n[r.property]=s,n[i.property]=i.decode(e,t+a)}else n=i.decode(e,t);return n}encode(e,t,n=0){const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,s=this.defaultLayout;let i=0;return this.usesPrefixDiscriminator&&(i=r.layout.span),r.encode(e[r.property],t,n),i+s.encode(e[s.property],t,n+i)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new C(this,e,t,n);return this.registry[e]=r,r}getVariant(e,t=0){let n;return n=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[n]}}cg.Union=_;class C extends r{constructor(e,t,n,s){if(!(e instanceof _))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===s&&(s=n,n=null),n){if(!(n instanceof r))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof s)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=t,this.layout=n||null}getSpan(e,t=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let r=0;return this.layout&&(r=this.layout.getSpan(e,t+n)),n+r}decode(e,t=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t,n=0){let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let s=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),s+=this.layout.getSpan(t,n+r),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function T(e){return 0>e&&(e+=4294967296),e}cg.VariantLayout=C;class A extends r{constructor(e,t,n){if(!(e instanceof l||e instanceof c))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof t&&void 0===n&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let r=0;this._packedSetValue=function(e){return r=T(e),this},this._packedGetValue=function(){return r}}decode(e,t=0){const n=this.makeDestinationObject(),r=this.word.decode(e,t);this._packedSetValue(r);for(const s of this.fields)void 0!==s.property&&(n[s.property]=s.decode(e));return n}encode(e,t,n=0){const r=this.word.decode(t,n);this._packedSetValue(r);for(const s of this.fields)if(void 0!==s.property){const t=e[s.property];void 0!==t&&s.encode(t)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new I(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new P(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}cg.BitStructure=A;class I{constructor(e,t,n){if(!(e instanceof A))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const r=8*e.span,s=e.fields.reduce((e,t)=>e+t.bits,0);if(t+s>r)throw new Error("bits too long for span remainder ("+(r-s)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=r-s-t),this.wordMask=T(this.valueMask<<this.start),this.property=n}decode(e,t){return T(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!=typeof e||!Number.isInteger(e)||e!==T(e&this.valueMask))throw new TypeError(s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=T(e<<this.start);this.container._packedSetValue(T(t&~this.wordMask)|n)}}cg.BitField=I;class P extends I{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"==typeof e&&(e=+e),super.encode(e)}}cg.Boolean=P;class M extends r{constructor(e,t){if(!(e instanceof i&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof i||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),n(e).slice(t,t+r)}encode(e,t,r){let a=this.length;if(this.length instanceof i&&(a=e.length),!(e instanceof Uint8Array&&a===e.length))throw new TypeError(s("Blob.encode",this)+" requires (length "+a+") Uint8Array as src");if(r+a>t.length)throw new RangeError("encoding overruns Uint8Array");const o=n(e);return n(t).write(o.toString("hex"),r,a,"hex"),this.length instanceof i&&this.length.encode(a,t,r),a}}cg.Blob=M;class D extends r{constructor(e){super(-1,e)}getSpan(e,n=0){t(e);let r=n;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-n}decode(e,t=0){const r=this.getSpan(e,t);return n(e).slice(t,t+r-1).toString("utf-8")}encode(t,r,s=0){"string"!=typeof t&&(t=String(t));const i=e.Buffer.from(t,"utf8"),a=i.length;if(s+a>r.length)throw new RangeError("encoding overruns Buffer");const o=n(r);return i.copy(o,s),o[s+a]=0,a+1}}cg.CString=D;class R extends r{constructor(e,t){if("string"==typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,n=0){return t(e),e.length-n}decode(e,t=0){const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return n(e).slice(t,t+r).toString("utf-8")}encode(t,r,s=0){"string"!=typeof t&&(t=String(t));const i=e.Buffer.from(t,"utf8"),a=i.length;if(0<=this.maxSpan&&this.maxSpan<a)throw new RangeError("text length exceeds maxSpan");if(s+a>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(n(r),s),a}}cg.UTF8=R;class O extends r{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}}return cg.Constant=O,cg.greedy=(e,t)=>new a(e,t),cg.offset=(e,t,n)=>new o(e,t,n),cg.u8=e=>new l(1,e),cg.u16=e=>new l(2,e),cg.u24=e=>new l(3,e),cg.u32=e=>new l(4,e),cg.u40=e=>new l(5,e),cg.u48=e=>new l(6,e),cg.nu64=e=>new p(e),cg.u16be=e=>new c(2,e),cg.u24be=e=>new c(3,e),cg.u32be=e=>new c(4,e),cg.u40be=e=>new c(5,e),cg.u48be=e=>new c(6,e),cg.nu64be=e=>new g(e),cg.s8=e=>new u(1,e),cg.s16=e=>new u(2,e),cg.s24=e=>new u(3,e),cg.s32=e=>new u(4,e),cg.s40=e=>new u(5,e),cg.s48=e=>new u(6,e),cg.ns64=e=>new y(e),cg.s16be=e=>new d(2,e),cg.s24be=e=>new d(3,e),cg.s32be=e=>new d(4,e),cg.s40be=e=>new d(5,e),cg.s48be=e=>new d(6,e),cg.ns64be=e=>new b(e),cg.f32=e=>new x(e),cg.f32be=e=>new v(e),cg.f64=e=>new w(e),cg.f64be=e=>new S(e),cg.struct=(e,t,n)=>new N(e,t,n),cg.bits=(e,t,n)=>new A(e,t,n),cg.seq=(e,t,n)=>new k(e,t,n),cg.union=(e,t,n)=>new _(e,t,n),cg.unionLayoutDiscriminator=(e,t)=>new E(e,t),cg.blob=(e,t)=>new M(e,t),cg.cstr=e=>new D(e),cg.utf8=(e,t)=>new R(e,t),cg.constant=(e,t)=>new O(e,t),cg}();function dg(e){if(Array.isArray(e)){return"%5B"+e.map(dg).join("%2C%20")+"%5D"}return"bigint"==typeof e?`${e}n`:encodeURIComponent(String(null!=e&&null===Object.getPrototypeOf(e)?{...e}:e))}function hg([e,t]){return`${e}=${dg(t)}`}function fg(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${function(e){const t=Object.entries(e).map(hg).join("&");return btoa(t)}(t)}'`),`${n}\``}}var mg=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;if(t){const{cause:e,...s}=t;e&&(r={cause:e}),Object.keys(s).length>0&&(n=s)}super(fg(e,n),r),this.context={__code:e,...n},this.name="SolanaError"}};function pg(e){return"fixedSize"in e&&"number"==typeof e.fixedSize}function gg(e){return 1!==e?.endian}function yg(e){return t={fixedSize:e.size,write(t,n,r){e.range&&function(e,t,n,r){if(r<t||r>n)throw new mg(8078011,{codecDescription:e,max:n,min:t,value:r})}(e.name,e.range[0],e.range[1],t);const s=new ArrayBuffer(e.size);return e.set(new DataView(s),t,gg(e.config)),n.set(new Uint8Array(s),r),r+e.size}},Object.freeze({...t,encode:e=>{const n=new Uint8Array(function(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}(e,t));return t.write(e,n,0),n}});var t}function bg(e){return t={fixedSize:e.size,read(t,n=0){!function(e,t,n=0){if(t.length-n<=0)throw new mg(8078e3,{codecDescription:e})}(e.name,t,n),function(e,t,n,r=0){const s=n.length-r;if(s<t)throw new mg(8078001,{bytesLength:s,codecDescription:e,expected:t})}(e.name,e.size,t,n);const r=new DataView(function(e,t,n){const r=e.byteOffset+(t??0),s=n??e.byteLength;return e.buffer.slice(r,r+s)}(t,n,e.size));return[e.get(r,gg(e.config)),n+e.size]}},Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]});var t}var xg=(e={})=>function(e,t){if(pg(e)!==pg(t))throw new mg(8078004);if(pg(e)&&pg(t)&&e.fixedSize!==t.fixedSize)throw new mg(8078005,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!pg(e)&&!pg(t)&&e.maxSize!==t.maxSize)throw new mg(8078006,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}(((e={})=>yg({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,n)=>e.setBigUint64(0,BigInt(t),n),size:8}))(e),((e={})=>bg({config:e,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}))(e));class vg extends TypeError{constructor(e,t){let n;const{message:r,explanation:s,...i}=e,{path:a}=e,o=0===a.length?r:`At path: ${a.join(".")} -- ${r}`;super(s??o),null!=s&&(this.cause=o),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function wg(e){return"object"==typeof e&&null!=e}function Sg(e){return wg(e)&&!Array.isArray(e)}function kg(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function Ng(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:s,branch:i}=t,{type:a}=n,{refinement:o,message:l=`Expected a value of type \`${a}\`${o?` with refinement \`${o}\``:""}, but received: \`${kg(r)}\``}=e;return{value:r,type:a,refinement:o,key:s[s.length-1],path:s,branch:i,...e,message:l}}function*jg(e,t,n,r){var s;wg(s=e)&&"function"==typeof s[Symbol.iterator]||(e=[e]);for(const i of e){const e=Ng(i,t,n,r);e&&(yield e)}}function*Eg(e,t,n={}){const{path:r=[],branch:s=[e],coerce:i=!1,mask:a=!1}=n,o={path:r,branch:s,mask:a};i&&(e=t.coercer(e,o));let l="valid";for(const c of t.validator(e,o))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,u,d]of t.entries(e,o)){const t=Eg(u,d,{path:void 0===c?r:[...r,c],branch:void 0===c?s:[...s,u],coerce:i,mask:a,message:n.message});for(const n of t)n[0]?(l=null!=n[0].refinement?"not_refined":"not_valid",yield[n[0],void 0]):i&&(u=n[1],void 0===c?e=u:e instanceof Map?e.set(c,u):e instanceof Set?e.add(u):wg(e)&&(void 0!==u||c in e)&&(e[c]=u))}if("not_valid"!==l)for(const c of t.refiner(e,o))c.explanation=n.message,l="not_refined",yield[c,void 0];"valid"===l&&(yield[void 0,e])}let _g=class{constructor(e){const{type:t,schema:n,validator:r,refiner:s,coercer:i=e=>e,entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=i,this.validator=r?(e,t)=>jg(r(e,t),t,this,e):()=>[],this.refiner=s?(e,t)=>jg(s(e,t),t,this,e):()=>[]}assert(e,t){return function(e,t,n){const r=Ag(e,t,{message:n});if(r[0])throw r[0]}(e,this,t)}create(e,t){return Cg(e,this,t)}is(e){return Tg(e,this)}mask(e,t){return function(e,t,n){const r=Ag(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e,t={}){return Ag(e,this,t)}};function Cg(e,t,n){const r=Ag(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Tg(e,t){return!Ag(e,t)[0]}function Ag(e,t,n={}){const r=Eg(e,t,n),s=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(r);if(s[0]){return[new vg(s[0],function*(){for(const e of r)e[0]&&(yield e[0])}),void 0]}return[void 0,s[1]]}function Ig(e,t){return new _g({type:e,schema:null,validator:t})}function Pg(e){return new _g({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${kg(e)}`})}function Mg(){return Ig("boolean",e=>"boolean"==typeof e)}function Dg(e){return Ig("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${kg(t)}`)}function Rg(e){const t=kg(e),n=typeof e;return new _g({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${kg(n)}`})}function Og(e){return new _g({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function Fg(){return Ig("number",e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${kg(e)}`)}function Lg(e){return new _g({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function Bg(e,t){return new _g({type:"record",schema:null,*entries(n){if(wg(n))for(const r in n){const s=n[r];yield[r,r,e],yield[r,s,t]}},validator:e=>Sg(e)||`Expected an object, but received: ${kg(e)}`,coercer:e=>Sg(e)?{...e}:e})}function Ug(){return Ig("string",e=>"string"==typeof e||`Expected a string, but received: ${kg(e)}`)}function zg(e){const t=Ig("never",()=>!1);return new _g({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],e[s]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${kg(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function Vg(e){const t=Object.keys(e);return new _g({type:"type",schema:e,*entries(n){if(wg(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>Sg(e)||`Expected an object, but received: ${kg(e)}`,coercer:e=>Sg(e)?{...e}:e})}function qg(e){const t=e.map(e=>e.type).join(" | ");return new _g({type:"union",schema:null,coercer(t,n){for(const r of e){const[e,s]=r.validate(t,{coerce:!0,mask:n.mask});if(!e)return s}return t},validator(n,r){const s=[];for(const t of e){const[...e]=Eg(n,t,r),[i]=e;if(!i[0])return[];for(const[t]of e)t&&s.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${kg(n)}`,...s]}})}function Gg(){return Ig("unknown",()=>!0)}function $g(e,t,n){return new _g({...e,coercer:(r,s)=>Tg(r,t)?e.coercer(n(r,s),s):e.coercer(r,s)})}var Hg,Wg=new Uint8Array(16);function Kg(){if(!Hg&&!(Hg="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hg(Wg)}const Qg=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Yg(e){return"string"==typeof e&&Qg.test(e)}for(var Xg,Jg,Zg=[],ey=0;ey<256;++ey)Zg.push((ey+256).toString(16).substr(1));function ty(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Zg[e[t+0]]+Zg[e[t+1]]+Zg[e[t+2]]+Zg[e[t+3]]+"-"+Zg[e[t+4]]+Zg[e[t+5]]+"-"+Zg[e[t+6]]+Zg[e[t+7]]+"-"+Zg[e[t+8]]+Zg[e[t+9]]+"-"+Zg[e[t+10]]+Zg[e[t+11]]+Zg[e[t+12]]+Zg[e[t+13]]+Zg[e[t+14]]+Zg[e[t+15]]).toLowerCase();if(!Yg(n))throw TypeError("Stringified UUID is invalid");return n}var ny=0,ry=0;function sy(e){if(!Yg(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}function iy(e,t,n){function r(e,r,s,i){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=sy(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(r),a.set(e,r.length),(a=n(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,s){i=i||0;for(var o=0;o<16;++o)s[i+o]=a[o];return s}return ty(a)}try{r.name=e}catch(s){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}function ay(e){return 14+(e+64>>>9<<4)+1}function oy(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function ly(e,t,n,r,s,i){return oy((a=oy(oy(t,e),oy(r,i)))<<(o=s)|a>>>32-o,n);var a,o}function cy(e,t,n,r,s,i,a){return ly(t&n|~t&r,e,t,s,i,a)}function uy(e,t,n,r,s,i,a){return ly(t&r|n&~r,e,t,s,i,a)}function dy(e,t,n,r,s,i,a){return ly(t^n^r,e,t,s,i,a)}function hy(e,t,n,r,s,i,a){return ly(n^(t|~r),e,t,s,i,a)}var fy=iy("v3",48,function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",s=0;s<n;s+=8){var i=e[s>>5]>>>s%32&255,a=parseInt(r.charAt(i>>>4&15)+r.charAt(15&i),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[ay(t)-1]=t;for(var n=1732584193,r=-271733879,s=-1732584194,i=271733878,a=0;a<e.length;a+=16){var o=n,l=r,c=s,u=i;n=cy(n,r,s,i,e[a],7,-680876936),i=cy(i,n,r,s,e[a+1],12,-389564586),s=cy(s,i,n,r,e[a+2],17,606105819),r=cy(r,s,i,n,e[a+3],22,-1044525330),n=cy(n,r,s,i,e[a+4],7,-176418897),i=cy(i,n,r,s,e[a+5],12,1200080426),s=cy(s,i,n,r,e[a+6],17,-1473231341),r=cy(r,s,i,n,e[a+7],22,-45705983),n=cy(n,r,s,i,e[a+8],7,1770035416),i=cy(i,n,r,s,e[a+9],12,-1958414417),s=cy(s,i,n,r,e[a+10],17,-42063),r=cy(r,s,i,n,e[a+11],22,-1990404162),n=cy(n,r,s,i,e[a+12],7,1804603682),i=cy(i,n,r,s,e[a+13],12,-40341101),s=cy(s,i,n,r,e[a+14],17,-1502002290),n=uy(n,r=cy(r,s,i,n,e[a+15],22,1236535329),s,i,e[a+1],5,-165796510),i=uy(i,n,r,s,e[a+6],9,-1069501632),s=uy(s,i,n,r,e[a+11],14,643717713),r=uy(r,s,i,n,e[a],20,-373897302),n=uy(n,r,s,i,e[a+5],5,-701558691),i=uy(i,n,r,s,e[a+10],9,38016083),s=uy(s,i,n,r,e[a+15],14,-660478335),r=uy(r,s,i,n,e[a+4],20,-405537848),n=uy(n,r,s,i,e[a+9],5,568446438),i=uy(i,n,r,s,e[a+14],9,-1019803690),s=uy(s,i,n,r,e[a+3],14,-187363961),r=uy(r,s,i,n,e[a+8],20,1163531501),n=uy(n,r,s,i,e[a+13],5,-1444681467),i=uy(i,n,r,s,e[a+2],9,-51403784),s=uy(s,i,n,r,e[a+7],14,1735328473),n=dy(n,r=uy(r,s,i,n,e[a+12],20,-1926607734),s,i,e[a+5],4,-378558),i=dy(i,n,r,s,e[a+8],11,-2022574463),s=dy(s,i,n,r,e[a+11],16,1839030562),r=dy(r,s,i,n,e[a+14],23,-35309556),n=dy(n,r,s,i,e[a+1],4,-1530992060),i=dy(i,n,r,s,e[a+4],11,1272893353),s=dy(s,i,n,r,e[a+7],16,-155497632),r=dy(r,s,i,n,e[a+10],23,-1094730640),n=dy(n,r,s,i,e[a+13],4,681279174),i=dy(i,n,r,s,e[a],11,-358537222),s=dy(s,i,n,r,e[a+3],16,-722521979),r=dy(r,s,i,n,e[a+6],23,76029189),n=dy(n,r,s,i,e[a+9],4,-640364487),i=dy(i,n,r,s,e[a+12],11,-421815835),s=dy(s,i,n,r,e[a+15],16,530742520),n=hy(n,r=dy(r,s,i,n,e[a+2],23,-995338651),s,i,e[a],6,-198630844),i=hy(i,n,r,s,e[a+7],10,1126891415),s=hy(s,i,n,r,e[a+14],15,-1416354905),r=hy(r,s,i,n,e[a+5],21,-57434055),n=hy(n,r,s,i,e[a+12],6,1700485571),i=hy(i,n,r,s,e[a+3],10,-1894986606),s=hy(s,i,n,r,e[a+10],15,-1051523),r=hy(r,s,i,n,e[a+1],21,-2054922799),n=hy(n,r,s,i,e[a+8],6,1873313359),i=hy(i,n,r,s,e[a+15],10,-30611744),s=hy(s,i,n,r,e[a+6],15,-1560198380),r=hy(r,s,i,n,e[a+13],21,1309151649),n=hy(n,r,s,i,e[a+4],6,-145523070),i=hy(i,n,r,s,e[a+11],10,-1120210379),s=hy(s,i,n,r,e[a+2],15,718787259),r=hy(r,s,i,n,e[a+9],21,-343485551),n=oy(n,o),r=oy(r,l),s=oy(s,c),i=oy(i,u)}return[n,r,s,i]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(ay(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))});function my(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function py(e,t){return e<<t|e>>>32-t}var gy=iy("v5",80,function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var s=0;s<r.length;++s)e.push(r.charCodeAt(s))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,a=Math.ceil(i/16),o=new Array(a),l=0;l<a;++l){for(var c=new Uint32Array(16),u=0;u<16;++u)c[u]=e[64*l+4*u]<<24|e[64*l+4*u+1]<<16|e[64*l+4*u+2]<<8|e[64*l+4*u+3];o[l]=c}o[a-1][14]=8*(e.length-1)/Math.pow(2,32),o[a-1][14]=Math.floor(o[a-1][14]),o[a-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<a;++d){for(var h=new Uint32Array(80),f=0;f<16;++f)h[f]=o[d][f];for(var m=16;m<80;++m)h[m]=py(h[m-3]^h[m-8]^h[m-14]^h[m-16],1);for(var p=n[0],g=n[1],y=n[2],b=n[3],x=n[4],v=0;v<80;++v){var w=Math.floor(v/20),S=py(p,5)+my(w,g,y,b)+x+t[w]+h[v]>>>0;x=b,b=y,y=py(g,30)>>>0,g=p,p=S}n[0]=n[0]+p>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+y>>>0,n[3]=n[3]+b>>>0,n[4]=n[4]+x>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]});const yy=Object.freeze(Object.defineProperty({__proto__:null,NIL:"00000000-0000-0000-0000-000000000000",parse:sy,stringify:ty,v1:function(e,t,n){var r=t&&n||0,s=t||new Array(16),i=(e=e||{}).node||Xg,a=void 0!==e.clockseq?e.clockseq:Jg;if(null==i||null==a){var o=e.random||(e.rng||Kg)();null==i&&(i=Xg=[1|o[0],o[1],o[2],o[3],o[4],o[5]]),null==a&&(a=Jg=16383&(o[6]<<8|o[7]))}var l=void 0!==e.msecs?e.msecs:Date.now(),c=void 0!==e.nsecs?e.nsecs:ry+1,u=l-ny+(c-ry)/1e4;if(u<0&&void 0===e.clockseq&&(a=a+1&16383),(u<0||l>ny)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ny=l,ry=c,Jg=a;var d=(1e4*(268435455&(l+=122192928e5))+c)%4294967296;s[r++]=d>>>24&255,s[r++]=d>>>16&255,s[r++]=d>>>8&255,s[r++]=255&d;var h=l/4294967296*1e4&268435455;s[r++]=h>>>8&255,s[r++]=255&h,s[r++]=h>>>24&15|16,s[r++]=h>>>16&255,s[r++]=a>>>8|128,s[r++]=255&a;for(var f=0;f<6;++f)s[r+f]=i[f];return t||ty(s)},v3:fy,v4:function(e,t,n){var r=(e=e||{}).random||(e.rng||Kg)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=r[s];return t}return ty(r)},v5:gy,validate:Yg,version:function(e){if(!Yg(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},Symbol.toStringTag,{value:"Module"})),by=L(yy);var xy,vy,wy,Sy;var ky=function(){if(Sy)return wy;Sy=1;const e=by.v4,t=function(){if(vy)return xy;vy=1;const e=by.v4;return xy=function(t,n,r,s){if("string"!=typeof t)throw new TypeError(t+" must be a string");const i="number"==typeof(s=s||{}).version?s.version:2;if(1!==i&&2!==i)throw new TypeError(i+" must be 1 or 2");const a={method:t};if(2===i&&(a.jsonrpc="2.0"),n){if("object"!=typeof n&&!Array.isArray(n))throw new TypeError(n+" must be an object, array or omitted");a.params=n}if(void 0===r){const t="function"==typeof s.generator?s.generator:function(){return e()};a.id=t(a,s)}else 2===i&&null===r?s.notificationIdNull&&(a.id=null):a.id=r;return a}}(),n=function(t,r){if(!(this instanceof n))return new n(t,r);r||(r={}),this.options={reviver:void 0!==r.reviver?r.reviver:null,replacer:void 0!==r.replacer?r.replacer:null,generator:void 0!==r.generator?r.generator:function(){return e()},version:void 0!==r.version?r.version:2,notificationIdNull:"boolean"==typeof r.notificationIdNull&&r.notificationIdNull},this.callServer=t};return wy=n,n.prototype.request=function(e,n,r,s){const i=this;let a=null;const o=Array.isArray(e)&&"function"==typeof n;if(1===this.options.version&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&e&&"object"==typeof e&&"function"==typeof n)s=n,a=e;else{"function"==typeof r&&(s=r,r=void 0);const i="function"==typeof s;try{a=t(e,n,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(c){if(i)return s(c);throw c}if(!i)return a}let l;try{l=JSON.stringify(a,this.options.replacer)}catch(c){return s(c)}return this.callServer(l,function(e,t){i._parseResponse(e,t,s)}),a},n.prototype._parseResponse=function(e,t,n){if(e)return void n(e);if(!t)return n();let r;try{r=JSON.parse(t,this.options.reviver)}catch(s){return n(s)}if(3===n.length){if(Array.isArray(r)){const e=function(e){return void 0!==e.error},t=function(t){return!e(t)};return n(null,r.filter(e),r.filter(t))}return n(null,r.error,r.result)}n(null,r)},wy}();const Ny=F(ky);var jy,Ey={exports:{}};var _y=(jy||(jy=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new s(r,i||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),o.prototype.eventNames=function(){var e,r,s=[];if(0===this._eventsCount)return s;for(r in e=this._events)t.call(e,r)&&s.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(e)):s},o.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var s=0,i=r.length,a=new Array(i);s<i;s++)a[s]=r[s].fn;return a},o.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,s,i,a){var o=n?n+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,s),!0;case 5:return u.fn.call(u.context,t,r,s,i),!0;case 6:return u.fn.call(u.context,t,r,s,i,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,s);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},o.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},o.prototype.removeListener=function(e,t,r,s){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||s&&!o.once||r&&o.context!==r||a(this,i);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||s&&!o[l].once||r&&o[l].context!==r)&&c.push(o[l]);c.length?this._events[i]=1===c.length?c[0]:c:a(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o}(Ey)),Ey.exports);const Cy=F(_y);var Ty=class extends Cy{socket;constructor(e,t,n){super(),this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,n){const r=n||t;try{this.socket.send(e),r()}catch(s){r(s)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,n){this.socket.addEventListener(e,t,n)}};var Ay=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},Iy=class extends Cy{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,t="ws://localhost:8080",{autoconnect:n=!0,reconnect:r=!0,reconnect_interval:s=1e3,max_reconnects:i=5,...a}={},o,l){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=n,this.ready=!1,this.reconnect=r,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=i,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=o||(()=>"number"==typeof this.rpc_id?++this.rpc_id:Number(this.rpc_id)+1),this.dataPack=l||new Ay,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,n,r){return r||"object"!=typeof n||(r=n,n=null),new Promise((s,i)=>{if(!this.ready)return i(new Error("socket not ready"));const a=this.generate_request_id(e,t),o={jsonrpc:"2.0",method:e,params:t||void 0,id:a};this.socket.send(this.dataPack.encode(o),r,e=>{if(e)return i(e);this.queue[a]={promise:[s,i]},n&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],i(new Error("reply timeout"))},n))})})}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((n,r)=>{if(!this.ready)return r(new Error("socket not ready"));const s={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(s),e=>{if(e)return r(e);n()})})}async subscribe(e){"string"==typeof e&&(e=[e]);const t=await this.call("rpc.on",e);if("string"==typeof e&&"ok"!==t[e])throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"==typeof e&&(e=[e]);const t=await this.call("rpc.off",e);if("string"==typeof e&&"ok"!==t[e])throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket&&this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return void 0!==this.reconnect_timer_id}willReconnect(){return this.reconnect&&(0===this.max_reconnects||this.current_reconnects<this.max_reconnects)}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:e})=>{e instanceof ArrayBuffer&&(e=af.Buffer.from(e).toString());try{e=this.dataPack.decode(e)}catch(t){return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);const t=[e.notification];if(e.params.constructor===Object)t.push(e.params);else for(let n=0;n<e.params.length;n++)t.push(e.params[n]);return Promise.resolve().then(()=>{this.emit.apply(this,t)})}if(!this.queue[e.id])return e.method?Promise.resolve().then(()=>{this.emit(e.method,e?.params)}):void 0;"error"in e=="result"in e&&this.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]}),this.socket.addEventListener("error",e=>this.emit("error",e)),this.socket.addEventListener("close",({code:n,reason:r})=>{this.ready&&setTimeout(()=>this.emit("close",n,r),0),this.ready=!1,this.socket=void 0,1e3!==n&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)?this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",n,r),1))})}};class Py extends Tf{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,df(e);const n=_f(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,s=new Uint8Array(r);s.set(n.length>r?e.create().update(n).digest():n);for(let i=0;i<s.length;i++)s[i]^=54;this.iHash.update(s),this.oHash=e.create();for(let i=0;i<s.length;i++)s[i]^=106;this.oHash.update(s),ff(s)}update(e){return hf(this),this.iHash.update(e),this}digestInto(e){hf(this),uf(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:s,blockLen:i,outputLen:a}=this;return e.finished=r,e.destroyed=s,e.blockLen=i,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const My=(e,t,n)=>new Py(e,t).update(n).digest();My.create=(e,t)=>new Py(e,t);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Dy=(e,t)=>(e+(e>=0?t:-t)/zy)/t;function Ry(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function Oy(e,t){const n={};for(let r of Object.keys(t))n[r]=void 0===e[r]?t[r]:e[r];return hm(n.lowS,"lowS"),hm(n.prehash,"prehash"),void 0!==n.format&&Ry(n.format),n}class Fy extends Error{constructor(e=""){super(e)}}const Ly={Err:Fy,_tlv:{encode:(e,t)=>{const{Err:n}=Ly;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=mm(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?mm(s.length/2|128):"";return mm(e)+i+s+t},decode(e,t){const{Err:n}=Ly;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++];let i=0;if(!!(128&s)){const e=127&s;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const a=t.subarray(r,r+e);if(a.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===a[0])throw new n("tlv.decode(long): zero leftmost byte");for(const t of a)i=i<<8|t;if(r+=e,i<128)throw new n("tlv.decode(long): not minimal encoding")}else i=s;const a=t.subarray(r,r+i);if(a.length!==i)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=Ly;if(e<By)throw new t("integer: negative integers are not allowed");let n=mm(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ly;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return gm(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ly,s=vm("signature",e),{v:i,l:a}=r.decode(48,s);if(a.length)throw new t("invalid signature: left bytes after parsing");const{v:o,l:l}=r.decode(2,i),{v:c,l:u}=r.decode(2,l);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(o),s:n.decode(c)}},hexFromSig(e){const{_tlv:t,_int:n}=Ly,r=t.encode(2,n.encode(e.r))+t.encode(2,n.encode(e.s));return t.encode(48,r)}},By=BigInt(0),Uy=BigInt(1),zy=BigInt(2),Vy=BigInt(3),qy=BigInt(4);function Gy(e,t){const{BYTES:n}=e;let r;if("bigint"==typeof t)r=t;else{let i=vm("private key",t);try{r=e.fromBytes(i)}catch(s){throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function $y(e,t={}){const n=fp("weierstrass",e,t),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:a,n:o}=i;Em(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=t;if(l&&(!r.is0(i.a)||"bigint"!=typeof l.beta||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const c=Wy(r,s);function u(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}const d=t.toBytes||function(e,t,n){const{x:s,y:i}=t.toAffine(),a=r.toBytes(s);if(hm(n,"isCompressed"),n){u();return Cf(Hy(!r.isOdd(i)),a)}return Cf(Uint8Array.of(4),a,r.toBytes(i))},h=t.fromBytes||function(e){fm(e,void 0,"Point");const{publicKey:t,publicKeyUncompressed:n}=c,s=e.length,i=e[0],a=e.subarray(1);if(s!==t||2!==i&&3!==i){if(s===n&&4===i){const e=r.BYTES,t=r.fromBytes(a.subarray(0,e)),n=r.fromBytes(a.subarray(e,2*e));if(!m(t,n))throw new Error("bad point: is not on curve");return{x:t,y:n}}throw new Error(`bad point: got length ${s}, expected compressed=${t} or uncompressed=${n}`)}{const e=r.fromBytes(a);if(!r.isValid(e))throw new Error("bad point: is not on curve, wrong x");const t=f(e);let n;try{n=r.sqrt(t)}catch(o){const e=o instanceof Error?": "+o.message:"";throw new Error("bad point: is not on curve, sqrt error"+e)}u();return!(1&~i)!==r.isOdd(n)&&(n=r.neg(n)),{x:e,y:n}}};function f(e){const t=r.sqr(e),n=r.mul(t,e);return r.add(r.add(n,r.mul(e,i.a)),i.b)}function m(e,t){const n=r.sqr(t),s=f(e);return r.eql(n,s)}if(!m(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const p=r.mul(r.pow(i.a,Vy),qy),g=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add(p,g)))throw new Error("bad curve params: a or b");function y(e,t,n=!1){if(!r.isValid(t)||n&&r.is0(t))throw new Error(`bad point coordinate ${e}`);return t}function b(e){if(!(e instanceof k))throw new Error("ProjectivePoint expected")}function x(e){if(!l||!l.basises)throw new Error("no endo");return function(e,t,n){const[[r,s],[i,a]]=t,o=Dy(a*e,n),l=Dy(-s*e,n);let c=e-o*r-l*i,u=-o*s-l*a;const d=c<By,h=u<By;d&&(c=-c),h&&(u=-u);const f=jm(Math.ceil(Nm(n)/2))+Uy;if(c<By||c>=f||u<By||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:d,k1:c,k2neg:h,k2:u}}(e,l.basises,s.ORDER)}const v=_m((e,t)=>{const{X:n,Y:s,Z:i}=e;if(r.eql(i,r.ONE))return{x:n,y:s};const a=e.is0();null==t&&(t=a?r.ONE:r.inv(i));const o=r.mul(n,t),l=r.mul(s,t),c=r.mul(i,t);if(a)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:o,y:l}}),w=_m(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.Y))return;throw new Error("bad point: ZERO")}const{x:n,y:s}=e.toAffine();if(!r.isValid(n)||!r.isValid(s))throw new Error("bad point: x or y not field elements");if(!m(n,s))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function S(e,t,n,s,i){return n=new k(r.mul(n.X,e),n.Y,n.Z),t=tp(s,t),n=tp(i,n),t.add(n)}class k{constructor(e,t,n){this.X=y("x",e),this.Y=y("y",t,!0),this.Z=y("z",n),Object.freeze(this)}static CURVE(){return i}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof k)throw new Error("projective point not allowed");return r.is0(t)&&r.is0(n)?k.ZERO:new k(t,n,r.ONE)}static fromBytes(e){const t=k.fromAffine(h(fm(e,void 0,"point")));return t.assertValidity(),t}static fromHex(e){return k.fromBytes(vm("pointHex",e))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(e=8,t=!0){return j.createCache(this,e),t||this.multiply(Vy),this}assertValidity(){w(this)}hasEvenY(){const{y:e}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(e)}equals(e){b(e);const{X:t,Y:n,Z:s}=this,{X:i,Y:a,Z:o}=e,l=r.eql(r.mul(t,o),r.mul(i,s)),c=r.eql(r.mul(n,o),r.mul(a,s));return l&&c}negate(){return new k(this.X,r.neg(this.Y),this.Z)}double(){const{a:e,b:t}=i,n=r.mul(t,Vy),{X:s,Y:a,Z:o}=this;let l=r.ZERO,c=r.ZERO,u=r.ZERO,d=r.mul(s,s),h=r.mul(a,a),f=r.mul(o,o),m=r.mul(s,a);return m=r.add(m,m),u=r.mul(s,o),u=r.add(u,u),l=r.mul(e,u),c=r.mul(n,f),c=r.add(l,c),l=r.sub(h,c),c=r.add(h,c),c=r.mul(l,c),l=r.mul(m,l),u=r.mul(n,u),f=r.mul(e,f),m=r.sub(d,f),m=r.mul(e,m),m=r.add(m,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,f),d=r.mul(d,m),c=r.add(c,d),f=r.mul(a,o),f=r.add(f,f),d=r.mul(f,m),l=r.sub(l,d),u=r.mul(f,h),u=r.add(u,u),u=r.add(u,u),new k(l,c,u)}add(e){b(e);const{X:t,Y:n,Z:s}=this,{X:a,Y:o,Z:l}=e;let c=r.ZERO,u=r.ZERO,d=r.ZERO;const h=i.a,f=r.mul(i.b,Vy);let m=r.mul(t,a),p=r.mul(n,o),g=r.mul(s,l),y=r.add(t,n),x=r.add(a,o);y=r.mul(y,x),x=r.add(m,p),y=r.sub(y,x),x=r.add(t,s);let v=r.add(a,l);return x=r.mul(x,v),v=r.add(m,g),x=r.sub(x,v),v=r.add(n,s),c=r.add(o,l),v=r.mul(v,c),c=r.add(p,g),v=r.sub(v,c),d=r.mul(h,x),c=r.mul(f,g),d=r.add(c,d),c=r.sub(p,d),d=r.add(p,d),u=r.mul(c,d),p=r.add(m,m),p=r.add(p,m),g=r.mul(h,g),x=r.mul(f,x),p=r.add(p,g),g=r.sub(m,g),g=r.mul(h,g),x=r.add(x,g),m=r.mul(p,x),u=r.add(u,m),m=r.mul(v,x),c=r.mul(y,c),c=r.sub(c,m),m=r.mul(y,p),d=r.mul(v,d),d=r.add(d,m),new k(c,u,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(k.ZERO)}multiply(e){const{endo:n}=t;if(!s.isValidNot0(e))throw new Error("invalid scalar: out of range");let r,i;const a=e=>j.cached(this,e,e=>np(k,e));if(n){const{k1neg:t,k1:s,k2neg:o,k2:l}=x(e),{p:c,f:u}=a(s),{p:d,f:h}=a(l);i=u.add(h),r=S(n.beta,c,d,t,o)}else{const{p:t,f:n}=a(e);r=t,i=n}return np(k,[r,i])[0]}multiplyUnsafe(e){const{endo:n}=t,r=this;if(!s.isValid(e))throw new Error("invalid scalar: out of range");if(e===By||r.is0())return k.ZERO;if(e===Uy)return r;if(j.hasCache(this))return this.multiply(e);if(n){const{k1neg:t,k1:s,k2neg:i,k2:a}=x(e),{p1:o,p2:l}=function(e,t,n,r){let s=t,i=e.ZERO,a=e.ZERO;for(;n>Zm||r>Zm;)n&ep&&(i=i.add(s)),r&ep&&(a=a.add(s)),s=s.double(),n>>=ep,r>>=ep;return{p1:i,p2:a}}(k,r,s,a);return S(n.beta,o,l,t,i)}return j.unsafe(r,e)}multiplyAndAddUnsafe(e,t,n){const r=this.multiplyUnsafe(t).add(e.multiplyUnsafe(n));return r.is0()?void 0:r}toAffine(e){return v(this,e)}isTorsionFree(){const{isTorsionFree:e}=t;return a===Uy||(e?e(k,this):j.unsafe(this,o).is0())}clearCofactor(){const{clearCofactor:e}=t;return a===Uy?this:e?e(k,this):this.multiplyUnsafe(a)}isSmallOrder(){return this.multiplyUnsafe(a).is0()}toBytes(e=!0){return hm(e,"isCompressed"),this.assertValidity(),d(k,this,e)}toHex(e=!0){return bf(this.toBytes(e))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(e=!0){return this.toBytes(e)}_setWindowSize(e){this.precompute(e)}static normalizeZ(e){return np(k,e)}static msm(e,t){return dp(k,s,e,t)}static fromPrivateKey(e){return k.BASE.multiply(Gy(s,e))}}k.BASE=new k(i.Gx,i.Gy,r.ONE),k.ZERO=new k(r.ZERO,r.ONE,r.ZERO),k.Fp=r,k.Fn=s;const N=s.BITS,j=new up(k,t.endo?Math.ceil(N/2):N);return k.BASE.precompute(8),k}function Hy(e){return Uint8Array.of(e?2:3)}function Wy(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function Ky(e,t={}){const{Fn:n}=e,r=t.randomBytes||If,s=Object.assign(Wy(e.Fp,n),{seed:Jm(n.ORDER)});function i(e){try{return!!Gy(n,e)}catch(t){return!1}}function a(e=r(s.seed)){return function(e,t,n=!1){const r=e.length,s=Xm(t),i=Jm(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const a=Lm(n?ym(e):gm(e),t-Tm)+Tm;return n?xm(a,s):bm(a,s)}(fm(e,s.seed,"seed"),n.ORDER)}function o(t,r=!0){return e.BASE.multiply(Gy(n,t)).toBytes(r)}function l(t){if("bigint"==typeof t)return!1;if(t instanceof e)return!0;const{secretKey:r,publicKey:i,publicKeyUncompressed:a}=s;if(n.allowedLengths||r===i)return;const o=vm("key",t).length;return o===i||o===a}const c={isValidSecretKey:i,isValidPublicKey:function(t,n){const{publicKey:r,publicKeyUncompressed:i}=s;try{const s=t.length;return(!0!==n||s===r)&&((!1!==n||s===i)&&!!e.fromBytes(t))}catch(a){return!1}},randomSecretKey:a,isValidPrivateKey:i,randomPrivateKey:a,normPrivateKeyToScalar:e=>Gy(n,e),precompute:(t=8,n=e.BASE)=>n.precompute(t,!1)};return Object.freeze({getPublicKey:o,getSharedSecret:function(t,r,s=!0){if(!0===l(t))throw new Error("first arg must be private key");if(!1===l(r))throw new Error("second arg must be public key");const i=Gy(n,t);return e.fromHex(r).multiply(i).toBytes(s)},keygen:function(e){const t=a(e);return{secretKey:t,publicKey:o(t)}},Point:e,utils:c,lengths:s})}function Qy(e,t,n={}){df(t),Em(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||If,s=n.hmac||((e,...n)=>My(t,e,Cf(...n))),{Fp:i,Fn:a}=e,{ORDER:o,BITS:l}=a,{keygen:c,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f}=Ky(e,n),m={prehash:!1,lowS:"boolean"==typeof n.lowS&&n.lowS,format:void 0,extraEntropy:!1},p="compact";function g(e){return e>o>>Uy}function y(e,t){if(!a.isValidNot0(t))throw new Error(`invalid signature ${e}: out of range 1..Point.Fn.ORDER`);return t}class b{constructor(e,t,n){this.r=y("r",e),this.s=y("s",t),null!=n&&(this.recovery=n),Object.freeze(this)}static fromBytes(e,t=p){let n;if(function(e,t){Ry(t);const n=f.signature;fm(e,"compact"===t?n:"recovered"===t?n+1:void 0,`${t} signature`)}(e,t),"der"===t){const{r:t,s:n}=Ly.toSig(fm(e));return new b(t,n)}"recovered"===t&&(n=e[0],t="compact",e=e.subarray(1));const r=a.BYTES,s=e.subarray(0,r),i=e.subarray(r,2*r);return new b(a.fromBytes(s),a.fromBytes(i),n)}static fromHex(e,t){return this.fromBytes(Ef(e),t)}addRecoveryBit(e){return new b(this.r,this.s,e)}recoverPublicKey(t){const n=i.ORDER,{r:r,s:s,recovery:l}=this;if(null==l||![0,1,2,3].includes(l))throw new Error("recovery id invalid");if(o*zy<n&&l>1)throw new Error("recovery id is ambiguous for h>1 curve");const c=2===l||3===l?r+o:r;if(!i.isValid(c))throw new Error("recovery id 2 or 3 invalid");const u=i.toBytes(c),d=e.fromBytes(Cf(Hy(!(1&l)),u)),h=a.inv(c),f=v(vm("msgHash",t)),m=a.create(-f*h),p=a.create(s*h),g=e.BASE.multiplyUnsafe(m).add(d.multiplyUnsafe(p));if(g.is0())throw new Error("point at infinify");return g.assertValidity(),g}hasHighS(){return g(this.s)}toBytes(e=p){if(Ry(e),"der"===e)return Ef(Ly.hexFromSig(this));const t=a.toBytes(this.r),n=a.toBytes(this.s);if("recovered"===e){if(null==this.recovery)throw new Error("recovery bit must be present");return Cf(Uint8Array.of(this.recovery),t,n)}return Cf(t,n)}toHex(e){return bf(this.toBytes(e))}assertValidity(){}static fromCompact(e){return b.fromBytes(vm("sig",e),"compact")}static fromDER(e){return b.fromBytes(vm("sig",e),"der")}normalizeS(){return this.hasHighS()?new b(this.r,a.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return bf(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return bf(this.toBytes("compact"))}}const x=n.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=gm(e),n=8*e.length-l;return n>0?t>>BigInt(n):t},v=n.bits2int_modN||function(e){return a.create(x(e))},w=jm(l);function S(e){return km("num < 2^"+l,e,By,w),a.toBytes(e)}function k(e,n){return fm(e,void 0,"message"),n?fm(t(e),void 0,"prehashed message"):e}return Object.freeze({keygen:c,getPublicKey:u,getSharedSecret:d,utils:h,lengths:f,Point:e,sign:function(n,i,o={}){n=vm("message",n);const{seed:l,k2sig:c}=function(t,n,s){if(["recovered","canonical"].some(e=>e in s))throw new Error("sign() legacy options not supported");const{lowS:i,prehash:o,extraEntropy:l}=Oy(s,m);t=k(t,o);const c=v(t),u=Gy(a,n),d=[S(u),S(c)];if(null!=l&&!1!==l){const e=!0===l?r(f.secretKey):l;d.push(vm("extraEntropy",e))}const h=Cf(...d),p=c;return{seed:h,k2sig:function(t){const n=x(t);if(!a.isValidNot0(n))return;const r=a.inv(n),s=e.BASE.multiply(n).toAffine(),o=a.create(s.x);if(o===By)return;const l=a.create(r*a.create(p+o*u));if(l===By)return;let c=(s.x===o?0:2)|Number(s.y&Uy),d=l;return i&&g(l)&&(d=a.neg(l),c^=1),new b(o,d,c)}}}(n,i,o),u=function(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");const r=e=>new Uint8Array(e),s=e=>Uint8Array.of(e);let i=r(e),a=r(e),o=0;const l=()=>{i.fill(1),a.fill(0),o=0},c=(...e)=>n(a,i,...e),u=(e=r(0))=>{a=c(s(0),e),i=c(),0!==e.length&&(a=c(s(1),e),i=c())},d=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){i=c();const t=i.slice();n.push(t),e+=i.length}return Cf(...n)};return(e,t)=>{let n;for(l(),u(e);!(n=t(d()));)u();return l(),n}}(t.outputLen,a.BYTES,s);return u(l,c)},verify:function(t,n,r,s={}){const{lowS:i,prehash:o,format:l}=Oy(s,m);if(r=vm("publicKey",r),n=k(vm("message",n),o),"strict"in s)throw new Error("options.strict was renamed to lowS");const c=void 0===l?function(e){let t;const n="string"==typeof e||lf(e),r=!n&&null!==e&&"object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s;if(!n&&!r)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(r)t=new b(e.r,e.s);else if(n){try{t=b.fromBytes(vm("sig",e),"der")}catch(s){if(!(s instanceof Ly.Err))throw s}if(!t)try{t=b.fromBytes(vm("sig",e),"compact")}catch(i){return!1}}return t||!1}(t):b.fromBytes(vm("sig",t),l);if(!1===c)return!1;try{const t=e.fromBytes(r);if(i&&c.hasHighS())return!1;const{r:s,s:o}=c,l=v(n),u=a.inv(o),d=a.create(l*u),h=a.create(s*u),f=e.BASE.multiplyUnsafe(d).add(t.multiplyUnsafe(h));if(f.is0())return!1;return a.create(f.x)===s}catch(u){return!1}},recoverPublicKey:function(e,t,n={}){const{prehash:r}=Oy(n,m);return t=k(t,r),b.fromBytes(e,"recovered").recoverPublicKey(t).toBytes()},Signature:b,hash:t})}function Yy(e){const{CURVE:t,curveOpts:n}=function(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(e=>Math.ceil(e/2)))):void 0;return{CURVE:t,curveOpts:{Fp:n,Fn:Ym(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes}}}(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function Xy(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:s}=Yy(e);return function(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,Qm(n.Fn.ORDER,n.Fn.BITS))})}(e,Qy($y(t,n),r,s))}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Jy={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},Zy={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},eb=BigInt(2);const tb=Ym(Jy.p,{sqrt:function(e){const t=Jy.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),a=BigInt(23),o=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,d=Bm(u,n,t)*u%t,h=Bm(d,n,t)*u%t,f=Bm(h,eb,t)*c%t,m=Bm(f,s,t)*f%t,p=Bm(m,i,t)*m%t,g=Bm(p,o,t)*p%t,y=Bm(g,l,t)*g%t,b=Bm(y,o,t)*p%t,x=Bm(b,n,t)*u%t,v=Bm(x,a,t)*m%t,w=Bm(v,r,t)*c%t,S=Bm(w,eb,t);if(!tb.eql(tb.sqr(S),e))throw new Error("Cannot find square root");return S}}),nb=function(e,t){const n=t=>Xy({...e,hash:t});return{...n(t),create:n}}({...Jy,Fp:tb,lowS:!0,endo:Zy},lm);Ip.utils.randomPrivateKey;const rb=()=>{const e=Ip.utils.randomPrivateKey(),t=sb(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),{publicKey:t,secretKey:n}},sb=Ip.getPublicKey;function ib(e){try{return Ip.ExtendedPoint.fromHex(e),!0}catch{return!1}}const ab=Ip.verify,ob=e=>af.Buffer.isBuffer(e)?e:e instanceof Uint8Array?af.Buffer.from(e.buffer,e.byteOffset,e.byteLength):af.Buffer.from(e);class lb{constructor(e){Object.assign(this,e)}encode(){return af.Buffer.from(lg.serialize(cb,this))}static decode(e){return lg.deserialize(cb,this,e)}static decodeUnchecked(e){return lg.deserializeUnchecked(cb,this,e)}}const cb=new Map;var ub;const db=32;let hb=1;class fb extends lb{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"==typeof e){const t=Hp.decode(e);if(t.length!=db)throw new Error("Invalid public key input");this._bn=new Fp(t)}else this._bn=new Fp(e);if(this._bn.byteLength()>db)throw new Error("Invalid public key input")}}static unique(){const e=new fb(hb);return hb+=1,new fb(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Hp.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(af.Buffer);if(e.length===db)return e;const t=af.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const r=af.Buffer.concat([e.toBuffer(),af.Buffer.from(t),n.toBuffer()]),s=Wp(r);return new fb(s)}static createProgramAddressSync(e,t){let n=af.Buffer.alloc(0);e.forEach(function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=af.Buffer.concat([n,ob(e)])}),n=af.Buffer.concat([n,t.toBuffer(),af.Buffer.from("ProgramDerivedAddress")]);const r=Wp(n);if(ib(r))throw new Error("Invalid seeds, address must fall off the curve");return new fb(r)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n,r=255;for(;0!=r;){try{const s=e.concat(af.Buffer.from([r]));n=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return ib(new fb(e).toBytes())}}ub=fb,fb.default=new ub("11111111111111111111111111111111"),cb.set(fb,{kind:"struct",fields:[["_bn","u256"]]}),new fb("BPFLoader1111111111111111111111111111111111");const mb=1232;class pb extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(pb.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class gb extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(gb.prototype,"name",{value:"TransactionExpiredTimeoutError"});class yb extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(yb.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class bb{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach((e,n)=>{t.set(e.toBase58(),n)});const n=e=>{const n=t.get(e.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return e.map(e=>({programIdIndex:n(e.programId),accountKeyIndexes:e.keys.map(e=>n(e.pubkey)),data:e.data}))}}const xb=(e="publicKey")=>ug.blob(32,e),vb=(e="string")=>{const t=ug.struct([ug.u32("length"),ug.u32("lengthPadding"),ug.blob(ug.offset(ug.u32(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),s=t;return s.decode=(e,t)=>n(e,t).chars.toString(),s.encode=(e,t,n)=>{const s={chars:af.Buffer.from(e,"utf8")};return r(s,t,n)},s.alloc=e=>ug.u32().span+ug.u32().span+af.Buffer.from(e,"utf8").length,s};function wb(e,t){const n=e=>{if(e.span>=0)return e.span;if("function"==typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const r=t[e.property];if(Array.isArray(r))return r.length*n(e.elementLayout)}else if("fields"in e)return wb({layout:e},t[e.property]);return 0};let r=0;return e.layout.fields.forEach(e=>{r+=n(e)}),r}function Sb(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(127&r)<<7*n,n+=1,!(128&r))break}return t}function kb(e,t){let n=t;for(;;){let t=127&n;if(n>>=7,0==n){e.push(t);break}t|=128,e.push(t)}}function Nb(e,t){if(!e)throw new Error(t||"Assertion failed")}class jb{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const n=new Map,r=e=>{const t=e.toBase58();let r=n.get(t);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(t,r)),r},s=r(t);s.isSigner=!0,s.isWritable=!0;for(const i of e){r(i.programId).isInvoked=!0;for(const e of i.keys){const t=r(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}}return new jb(t,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Nb(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,e])=>e.isSigner&&e.isWritable),n=e.filter(([,e])=>e.isSigner&&!e.isWritable),r=e.filter(([,e])=>!e.isSigner&&e.isWritable),s=e.filter(([,e])=>!e.isSigner&&!e.isWritable),i={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{Nb(t.length>0,"Expected at least one writable signer key");const[e]=t[0];Nb(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[i,[...t.map(([e])=>new fb(e)),...n.map(([e])=>new fb(e)),...r.map(([e])=>new fb(e)),...s.map(([e])=>new fb(e))]]}extractTableLookup(e){const[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&e.isWritable),[r,s]=this.drainKeysFoundInLookupTable(e.state.addresses,e=>!e.isSigner&&!e.isInvoked&&!e.isWritable);if(0!==t.length||0!==r.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:r},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,t){const n=new Array,r=new Array;for(const[s,i]of this.keyMetaMap.entries())if(t(i)){const t=new fb(s),i=e.findIndex(e=>e.equals(t));i>=0&&(Nb(i<256,"Max lookup table index exceeded"),n.push(i),r.push(t),this.keyMetaMap.delete(s))}return[n,r]}}const Eb="Reached end of buffer unexpectedly";function _b(e){if(0===e.length)throw new Error(Eb);return e.shift()}function Cb(e,...t){const[n]=t;if(2===t.length?n+(t[1]??0)>e.length:n>=e.length)throw new Error(Eb);return e.splice(...t)}class Tb{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(e=>new fb(e)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Hp.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new bb(this.staticAccountKeys)}static compile(e){const t=jb.compile(e.instructions,e.payerKey),[n,r]=t.getMessageComponents(),s=new bb(r).compileInstructions(e.instructions).map(e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:Hp.encode(e.data)}));return new Tb({header:n,accountKeys:r,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){return e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];kb(t,e);const n=this.instructions.map(e=>{const{accounts:t,programIdIndex:n}=e,r=Array.from(Hp.decode(e.data));let s=[];kb(s,t.length);let i=[];return kb(i,r.length),{programIdIndex:n,keyIndicesCount:af.Buffer.from(s),keyIndices:t,dataLength:af.Buffer.from(i),data:r}});let r=[];kb(r,n.length);let s=af.Buffer.alloc(mb);af.Buffer.from(r).copy(s);let i=r.length;n.forEach(e=>{const t=ug.struct([ug.u8("programIdIndex"),ug.blob(e.keyIndicesCount.length,"keyIndicesCount"),ug.seq(ug.u8("keyIndex"),e.keyIndices.length,"keyIndices"),ug.blob(e.dataLength.length,"dataLength"),ug.seq(ug.u8("userdatum"),e.data.length,"data")]).encode(e,s,i);i+=t}),s=s.slice(0,i);const a=ug.struct([ug.blob(1,"numRequiredSignatures"),ug.blob(1,"numReadonlySignedAccounts"),ug.blob(1,"numReadonlyUnsignedAccounts"),ug.blob(t.length,"keyCount"),ug.seq(xb("key"),e,"keys"),xb("recentBlockhash")]),o={numRequiredSignatures:af.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:af.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:af.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:af.Buffer.from(t),keys:this.accountKeys.map(e=>ob(e.toBytes())),recentBlockhash:Hp.decode(this.recentBlockhash)};let l=af.Buffer.alloc(2048);const c=a.encode(o,l);return s.copy(l,c),l.slice(0,c+s.length)}static from(e){let t=[...e];const n=_b(t);if(n!==(127&n))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const r=_b(t),s=_b(t),i=Sb(t);let a=[];for(let d=0;d<i;d++){const e=Cb(t,0,db);a.push(new fb(af.Buffer.from(e)))}const o=Cb(t,0,db),l=Sb(t);let c=[];for(let d=0;d<l;d++){const e=_b(t),n=Cb(t,0,Sb(t)),r=Cb(t,0,Sb(t)),s=Hp.encode(af.Buffer.from(r));c.push({programIdIndex:e,accounts:n,data:s})}const u={header:{numRequiredSignatures:n,numReadonlySignedAccounts:r,numReadonlyUnsignedAccounts:s},recentBlockhash:Hp.encode(af.Buffer.from(o)),accountKeys:a,instructions:c};return new Tb(u)}}class Ab{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new bb(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){return e-n<this.addressTableLookups.reduce((e,t)=>e+t.writableIndexes.length,0)}if(e>=this.header.numRequiredSignatures){return e-t<n-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const r=e.find(e=>e.key.equals(n.accountKey));if(!r)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const e of n.writableIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.writable.push(r.state.addresses[e])}for(const e of n.readonlyIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.readonly.push(r.state.addresses[e])}}return t}static compile(e){const t=jb.compile(e.instructions,e.payerKey),n=new Array,r={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const l of s){const e=t.extractTableLookup(l);if(void 0!==e){const[t,{writable:s,readonly:i}]=e;n.push(t),r.writable.push(...s),r.readonly.push(...i)}}const[i,a]=t.getMessageComponents(),o=new bb(a,r).compileInstructions(e.instructions);return new Ab({header:i,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:o,addressTableLookups:n})}serialize(){const e=Array();kb(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();kb(n,this.compiledInstructions.length);const r=this.serializeAddressTableLookups(),s=Array();kb(s,this.addressTableLookups.length);const i=ug.struct([ug.u8("prefix"),ug.struct([ug.u8("numRequiredSignatures"),ug.u8("numReadonlySignedAccounts"),ug.u8("numReadonlyUnsignedAccounts")],"header"),ug.blob(e.length,"staticAccountKeysLength"),ug.seq(xb(),this.staticAccountKeys.length,"staticAccountKeys"),xb("recentBlockhash"),ug.blob(n.length,"instructionsLength"),ug.blob(t.length,"serializedInstructions"),ug.blob(s.length,"addressTableLookupsLength"),ug.blob(r.length,"serializedAddressTableLookups")]),a=new Uint8Array(mb),o=i.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(e=>e.toBytes()),recentBlockhash:Hp.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:r},a);return a.slice(0,o)}serializeInstructions(){let e=0;const t=new Uint8Array(mb);for(const n of this.compiledInstructions){const r=Array();kb(r,n.accountKeyIndexes.length);const s=Array();kb(s,n.data.length);e+=ug.struct([ug.u8("programIdIndex"),ug.blob(r.length,"encodedAccountKeyIndexesLength"),ug.seq(ug.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),ug.blob(s.length,"encodedDataLength"),ug.blob(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(r),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(mb);for(const n of this.addressTableLookups){const r=Array();kb(r,n.writableIndexes.length);const s=Array();kb(s,n.readonlyIndexes.length);e+=ug.struct([xb("accountKey"),ug.blob(r.length,"encodedWritableIndexesLength"),ug.seq(ug.u8(),n.writableIndexes.length,"writableIndexes"),ug.blob(s.length,"encodedReadonlyIndexesLength"),ug.seq(ug.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(r),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const n=_b(t),r=127&n;Nb(n!==r,"Expected versioned message but received legacy message");Nb(0===r,`Expected versioned message with version 0 but found version ${r}`);const s={numRequiredSignatures:_b(t),numReadonlySignedAccounts:_b(t),numReadonlyUnsignedAccounts:_b(t)},i=[],a=Sb(t);for(let h=0;h<a;h++)i.push(new fb(Cb(t,0,db)));const o=Hp.encode(Cb(t,0,db)),l=Sb(t),c=[];for(let h=0;h<l;h++){const e=_b(t),n=Cb(t,0,Sb(t)),r=Sb(t),s=new Uint8Array(Cb(t,0,r));c.push({programIdIndex:e,accountKeyIndexes:n,data:s})}const u=Sb(t),d=[];for(let h=0;h<u;h++){const e=new fb(Cb(t,0,db)),n=Cb(t,0,Sb(t)),r=Cb(t,0,Sb(t));d.push({accountKey:e,writableIndexes:n,readonlyIndexes:r})}return new Ab({header:s,staticAccountKeys:i,recentBlockhash:o,compiledInstructions:c,addressTableLookups:d})}}let Ib=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const Pb=af.Buffer.alloc(64).fill(0);class Mb{constructor(e){this.keys=void 0,this.programId=void 0,this.data=af.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:n})=>({pubkey:e.toJSON(),isSigner:t,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class Db{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{const{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Mb(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let m=0;m<t.length;m++)if(void 0===t[m].programId)throw new Error(`Transaction instruction index ${m} has undefined program id`);const r=[],s=[];t.forEach(e=>{e.keys.forEach(e=>{s.push({...e})});const t=e.programId.toString();r.includes(t)||r.push(t)}),r.forEach(e=>{s.push({pubkey:new fb(e),isSigner:!1,isWritable:!1})});const i=[];s.forEach(e=>{const t=e.pubkey.toString(),n=i.findIndex(e=>e.pubkey.toString()===t);n>-1?(i[n].isWritable=i[n].isWritable||e.isWritable,i[n].isSigner=i[n].isSigner||e.isSigner):i.push(e)}),i.sort(function(e,t){if(e.isSigner!==t.isSigner)return e.isSigner?-1:1;if(e.isWritable!==t.isWritable)return e.isWritable?-1:1;return e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})});const a=i.findIndex(e=>e.pubkey.equals(n));if(a>-1){const[e]=i.splice(a,1);e.isSigner=!0,e.isWritable=!0,i.unshift(e)}else i.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const m of this.signatures){const e=i.findIndex(e=>e.pubkey.equals(m.publicKey));if(!(e>-1))throw new Error(`unknown signer: ${m.publicKey.toString()}`);i[e].isSigner||(i[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let o=0,l=0,c=0;const u=[],d=[];i.forEach(({pubkey:e,isSigner:t,isWritable:n})=>{t?(u.push(e.toString()),o+=1,n||(l+=1)):(d.push(e.toString()),n||(c+=1))});const h=u.concat(d),f=t.map(e=>{const{data:t,programId:n}=e;return{programIdIndex:h.indexOf(n.toString()),accounts:e.keys.map(e=>h.indexOf(e.pubkey.toString())),data:Hp.encode(t)}});return f.forEach(e=>{Nb(e.programIdIndex>=0),e.accounts.forEach(e=>Nb(e>=0))}),new Tb({header:{numRequiredSignatures:o,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:c},accountKeys:h,recentBlockhash:e,instructions:f})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every((e,n)=>t[n].equals(e.publicKey)))return e}return this.signatures=t.map(e=>({signature:null,publicKey:e})),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const t=new Set;this.signatures=e.filter(e=>{const n=e.toString();return!t.has(n)&&(t.add(n),!0)}).map(e=>({signature:null,publicKey:e}))}sign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,n=[];for(const s of e){const e=s.publicKey.toString();t.has(e)||(t.add(e),n.push(s))}this.signatures=n.map(e=>({signature:null,publicKey:e.publicKey}));const r=this._compile();this._partialSign(r,...n)}partialSign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,n=[];for(const s of e){const e=s.publicKey.toString();t.has(e)||(t.add(e),n.push(s))}const r=this._compile();this._partialSign(r,...n)}_partialSign(e,...t){const n=e.serialize();t.forEach(e=>{const t=((e,t)=>Ip.sign(e,t.slice(0,32)))(n,e.secretKey);this._addSignature(e.publicKey,ob(t))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Nb(64===t.length);const n=this.signatures.findIndex(t=>e.equals(t.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=af.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const n={};for(const{signature:r,publicKey:s}of this.signatures)null===r?t&&(n.missing||=[]).push(s):ab(r,e,s.toBytes())||(n.invalid||=[]).push(s);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=this.serializeMessage();if(n){const e=this._getMessageSignednessErrors(r,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`\nInvalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map(e=>e.toBase58()).join("`, `")}\`].`),e.missing&&(t+=`\nMissing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map(e=>e.toBase58()).join("`, `")}\`].`),new Error(t)}}return this._serialize(r)}_serialize(e){const{signatures:t}=this,n=[];kb(n,t.length);const r=n.length+64*t.length+e.length,s=af.Buffer.alloc(r);return Nb(t.length<256),af.Buffer.from(n).copy(s,0),t.forEach(({signature:e},t)=>{null!==e&&(Nb(64===e.length,"signature has invalid length"),af.Buffer.from(e).copy(s,n.length+64*t))}),e.copy(s,n.length+64*t.length),Nb(s.length<=mb,`Transaction too large: ${s.length} > 1232`),s}get keys(){return Nb(1===this.instructions.length),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Nb(1===this.instructions.length),this.instructions[0].programId}get data(){return Nb(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const n=Sb(t);let r=[];for(let s=0;s<n;s++){const e=Cb(t,0,64);r.push(Hp.encode(af.Buffer.from(e)))}return Db.populate(Tb.from(t),r)}static populate(e,t=[]){const n=new Db;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach((t,r)=>{const s={signature:t==Hp.encode(Pb)?null:Hp.decode(t),publicKey:e.accountKeys[r]};n.signatures.push(s)}),e.instructions.forEach(t=>{const r=t.accounts.map(t=>{const r=e.accountKeys[t];return{pubkey:r,isSigner:n.signatures.some(e=>e.publicKey.toString()===r.toString())||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}});n.instructions.push(new Mb({keys:r,programId:e.accountKeys[t.programIdIndex],data:Hp.decode(t.data)}))}),n._message=e,n._json=n.toJSON(),n}}new fb("SysvarC1ock11111111111111111111111111111111"),new fb("SysvarEpochSchedu1e111111111111111111111111"),new fb("Sysvar1nstructions1111111111111111111111111");const Rb=new fb("SysvarRecentB1ockHashes11111111111111111111"),Ob=new fb("SysvarRent111111111111111111111111111111111");new fb("SysvarRewards111111111111111111111111111111"),new fb("SysvarS1otHashes111111111111111111111111111"),new fb("SysvarS1otHistory11111111111111111111111111"),new fb("SysvarStakeHistory1111111111111111111111111");class Fb extends Error{constructor({action:e,signature:t,transactionMessage:n,logs:r}){const s=r?`Logs: \n${JSON.stringify(r.slice(-10),null,2)}. `:"",i="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. \n${n}. `+s+i;break;case"simulate":a=`Simulation failed. \nMessage: ${n}. \n`+s+i;break;default:a=`Unknown action '${(e=>e)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=n,this.transactionLogs=r||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(null==e||"object"!=typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,n)=>{e.getTransaction(this.signature).then(e=>{if(e&&e.meta&&e.meta.logMessages){const n=e.meta.logMessages;this.transactionLogs=n,t(n)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}class Lb extends Error{constructor({code:e,message:t,data:n},r){super(null!=r?`${r}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}function Bb(e){return new Promise(t=>setTimeout(t,e))}function Ub(e,t){const n=e.layout.span>=0?e.layout.span:wb(e,t),r=af.Buffer.alloc(n),s=Object.assign({instruction:e.index},t);return e.layout.encode(s,r),r}const zb=ug.nu64("lamportsPerSignature"),Vb=ug.struct([ug.u32("version"),ug.u32("state"),xb("authorizedPubkey"),xb("nonce"),ug.struct([zb],"feeCalculator")]),qb=Vb.span;class Gb{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=Vb.decode(ob(e),0);return new Gb({authorizedPubkey:new fb(t.authorizedPubkey),nonce:new fb(t.nonce).toString(),feeCalculator:t.feeCalculator})}}function $b(e){const t=ug.blob(8,e),n=t.decode.bind(t),r=t.encode.bind(t),s=t,i=xg();return s.decode=(e,t)=>{const r=n(e,t);return i.decode(r)},s.encode=(e,t,n)=>{const s=i.encode(e);return r(s,t,n)},s}const Hb=Object.freeze({Create:{index:0,layout:ug.struct([ug.u32("instruction"),ug.ns64("lamports"),ug.ns64("space"),xb("programId")])},Assign:{index:1,layout:ug.struct([ug.u32("instruction"),xb("programId")])},Transfer:{index:2,layout:ug.struct([ug.u32("instruction"),$b("lamports")])},CreateWithSeed:{index:3,layout:ug.struct([ug.u32("instruction"),xb("base"),vb("seed"),ug.ns64("lamports"),ug.ns64("space"),xb("programId")])},AdvanceNonceAccount:{index:4,layout:ug.struct([ug.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:ug.struct([ug.u32("instruction"),ug.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:ug.struct([ug.u32("instruction"),xb("authorized")])},AuthorizeNonceAccount:{index:7,layout:ug.struct([ug.u32("instruction"),xb("authorized")])},Allocate:{index:8,layout:ug.struct([ug.u32("instruction"),ug.ns64("space")])},AllocateWithSeed:{index:9,layout:ug.struct([ug.u32("instruction"),xb("base"),vb("seed"),ug.ns64("space"),xb("programId")])},AssignWithSeed:{index:10,layout:ug.struct([ug.u32("instruction"),xb("base"),vb("seed"),xb("programId")])},TransferWithSeed:{index:11,layout:ug.struct([ug.u32("instruction"),$b("lamports"),vb("seed"),xb("programId")])},UpgradeNonceAccount:{index:12,layout:ug.struct([ug.u32("instruction")])}});class Wb{constructor(){}static createAccount(e){const t=Ub(Hb.Create,{lamports:e.lamports,space:e.space,programId:ob(e.programId.toBuffer())});return new Mb({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,n;if("basePubkey"in e){t=Ub(Hb.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:ob(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=Ub(Hb.Transfer,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Mb({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){t=Ub(Hb.AssignWithSeed,{base:ob(e.basePubkey.toBuffer()),seed:e.seed,programId:ob(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=Ub(Hb.Assign,{programId:ob(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Mb({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Ub(Hb.CreateWithSeed,{base:ob(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:ob(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Mb({keys:n,programId:this.programId,data:t})}static createNonceAccount(e){const t=new Db;"basePubkey"in e&&"seed"in e?t.add(Wb.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:qb,programId:this.programId})):t.add(Wb.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:qb,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){const t=Ub(Hb.InitializeNonceAccount,{authorized:ob(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Rb,isSigner:!1,isWritable:!1},{pubkey:Ob,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new Mb(n)}static nonceAdvance(e){const t=Ub(Hb.AdvanceNonceAccount),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Rb,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new Mb(n)}static nonceWithdraw(e){const t=Ub(Hb.WithdrawNonceAccount,{lamports:e.lamports});return new Mb({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Rb,isSigner:!1,isWritable:!1},{pubkey:Ob,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=Ub(Hb.AuthorizeNonceAccount,{authorized:ob(e.newAuthorizedPubkey.toBuffer())});return new Mb({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,n;if("basePubkey"in e){t=Ub(Hb.AllocateWithSeed,{base:ob(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:ob(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=Ub(Hb.Allocate,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Mb({keys:n,programId:this.programId,data:t})}}function Kb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qb,Yb;function Xb(){if(Yb)return Qb;Yb=1;var e=Object.prototype.toString,t=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function n(r,s){var i,a,o,l,c,u,d;if(!0===r)return"true";if(!1===r)return"false";switch(typeof r){case"object":if(null===r)return null;if(r.toJSON&&"function"==typeof r.toJSON)return n(r.toJSON(),s);if("[object Array]"===(d=e.call(r))){for(o="[",a=r.length-1,i=0;i<a;i++)o+=n(r[i],!0)+",";return a>-1&&(o+=n(r[i],!0)),o+"]"}if("[object Object]"===d){for(a=(l=t(r).sort()).length,o="",i=0;i<a;)void 0!==(u=n(r[c=l[i]],!1))&&(o&&(o+=","),o+=JSON.stringify(c)+":"+u),i++;return"{"+o+"}"}return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Qb=function(e){var t=n(e,!1);if(void 0!==t)return""+t}}Wb.programId=new fb("11111111111111111111111111111111"),new fb("BPFLoader2111111111111111111111111111111111");var Jb=Kb(Xb());function Zb(e){let t=0;for(;e>1;)e/=2,t++;return t}class ex{constructor(e,t,n,r,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=r,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Zb(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-Zb(32)-1;return[n,e-(this.getSlotsInEpoch(n)-32)]}{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+n,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Zb(32)):this.slotsPerEpoch}}var tx=globalThis.fetch;class nx extends Iy{constructor(e,t,n){super(e=>{const n=function(e,t){return new Ty(e,t)}(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return this.underlyingSocket="socket"in n?n.socket:n,n},e,t,n),this.underlyingSocket=void 0}call(...e){const t=this.underlyingSocket?.readyState;return 1===t?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){const t=this.underlyingSocket?.readyState;return 1===t?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}class rx{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=function(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}(sx,e),n=e.length-56;Nb(n>=0,"lookup table is invalid"),Nb(n%32==0,"lookup table is invalid");const r=n/32,{addresses:s}=ug.struct([ug.seq(xb(),r,"addresses")]).decode(e.slice(56));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new fb(t.authority[0]):void 0,addresses:s.map(e=>new fb(e))}}}const sx={index:1,layout:ug.struct([ug.u32("typeIndex"),$b("deactivationSlot"),ug.nu64("lastExtendedSlot"),ug.u8("lastExtendedStartIndex"),ug.u8(),ug.seq(xb(),ug.offset(ug.u8(),-1),"authority")])},ix=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const ax=$g(Dg(fb),Ug(),e=>new fb(e)),ox=zg([Ug(),Rg("base64")]),lx=$g(Dg(af.Buffer),ox,e=>af.Buffer.from(e[0],"base64"));function cx(e){let t,n;if("string"==typeof e)t=e;else if(e){const{commitment:r,...s}=e;t=r,n=s}return{commitment:t,config:n}}function ux(e){return e.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function dx(e){return qg([Vg({jsonrpc:Rg("2.0"),id:Ug(),result:e}),Vg({jsonrpc:Rg("2.0"),id:Ug(),error:Vg({code:Gg(),message:Ug(),data:Lg(Ig("any",()=>!0))})})])}const hx=dx(Gg());function fx(e){return $g(dx(e),hx,t=>"error"in t?t:{...t,result:Cg(t.result,e)})}function mx(e){return fx(Vg({context:Vg({slot:Fg()}),value:e}))}function px(e){return Vg({context:Vg({slot:Fg()}),value:e})}function gx(e,t){return 0===e?new Ab({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new fb(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Hp.decode(e.data)})),addressTableLookups:t.addressTableLookups}):new Tb(t)}const yx=Vg({foundation:Fg(),foundationTerm:Fg(),initial:Fg(),taper:Fg(),terminal:Fg()}),bx=fx(Pg(Og(Vg({epoch:Fg(),effectiveSlot:Fg(),amount:Fg(),postBalance:Fg(),commission:Lg(Og(Fg()))})))),xx=Pg(Vg({slot:Fg(),prioritizationFee:Fg()})),vx=Vg({total:Fg(),validator:Fg(),foundation:Fg(),epoch:Fg()}),wx=Vg({epoch:Fg(),slotIndex:Fg(),slotsInEpoch:Fg(),absoluteSlot:Fg(),blockHeight:Lg(Fg()),transactionCount:Lg(Fg())}),Sx=Vg({slotsPerEpoch:Fg(),leaderScheduleSlotOffset:Fg(),warmup:Mg(),firstNormalEpoch:Fg(),firstNormalSlot:Fg()}),kx=Bg(Ug(),Pg(Fg())),Nx=Og(qg([Vg({}),Ug()])),jx=Vg({err:Nx}),Ex=Rg("receivedSignature"),_x=Vg({"solana-core":Ug(),"feature-set":Lg(Fg())}),Cx=Vg({program:Ug(),programId:ax,parsed:Gg()}),Tx=Vg({programId:ax,accounts:Pg(ax),data:Ug()}),Ax=mx(Vg({err:Og(qg([Vg({}),Ug()])),logs:Og(Pg(Ug())),accounts:Lg(Og(Pg(Og(Vg({executable:Mg(),owner:Ug(),lamports:Fg(),data:Pg(Ug()),rentEpoch:Lg(Fg())}))))),unitsConsumed:Lg(Fg()),returnData:Lg(Og(Vg({programId:Ug(),data:zg([Ug(),Rg("base64")])}))),innerInstructions:Lg(Og(Pg(Vg({index:Fg(),instructions:Pg(qg([Cx,Tx]))}))))})),Ix=mx(Vg({byIdentity:Bg(Ug(),Pg(Fg())),range:Vg({firstSlot:Fg(),lastSlot:Fg()})}));const Px=fx(yx),Mx=fx(vx),Dx=fx(xx),Rx=fx(wx),Ox=fx(Sx),Fx=fx(kx),Lx=fx(Fg()),Bx=mx(Vg({total:Fg(),circulating:Fg(),nonCirculating:Fg(),nonCirculatingAccounts:Pg(ax)})),Ux=Vg({amount:Ug(),uiAmount:Og(Fg()),decimals:Fg(),uiAmountString:Lg(Ug())}),zx=mx(Pg(Vg({address:ax,amount:Ug(),uiAmount:Og(Fg()),decimals:Fg(),uiAmountString:Lg(Ug())}))),Vx=mx(Pg(Vg({pubkey:ax,account:Vg({executable:Mg(),owner:ax,lamports:Fg(),data:lx,rentEpoch:Fg()})}))),qx=Vg({program:Ug(),parsed:Gg(),space:Fg()}),Gx=mx(Pg(Vg({pubkey:ax,account:Vg({executable:Mg(),owner:ax,lamports:Fg(),data:qx,rentEpoch:Fg()})}))),$x=mx(Pg(Vg({lamports:Fg(),address:ax}))),Hx=Vg({executable:Mg(),owner:ax,lamports:Fg(),data:lx,rentEpoch:Fg()}),Wx=Vg({pubkey:ax,account:Hx}),Kx=$g(qg([Dg(af.Buffer),qx]),qg([ox,qx]),e=>Array.isArray(e)?Cg(e,lx):e),Qx=Vg({executable:Mg(),owner:ax,lamports:Fg(),data:Kx,rentEpoch:Fg()}),Yx=Vg({pubkey:ax,account:Qx}),Xx=Vg({state:qg([Rg("active"),Rg("inactive"),Rg("activating"),Rg("deactivating")]),active:Fg(),inactive:Fg()}),Jx=fx(Pg(Vg({signature:Ug(),slot:Fg(),err:Nx,memo:Og(Ug()),blockTime:Lg(Og(Fg()))}))),Zx=fx(Pg(Vg({signature:Ug(),slot:Fg(),err:Nx,memo:Og(Ug()),blockTime:Lg(Og(Fg()))}))),ev=Vg({subscription:Fg(),result:px(Hx)}),tv=Vg({pubkey:ax,account:Hx}),nv=Vg({subscription:Fg(),result:px(tv)}),rv=Vg({parent:Fg(),slot:Fg(),root:Fg()}),sv=Vg({subscription:Fg(),result:rv}),iv=qg([Vg({type:qg([Rg("firstShredReceived"),Rg("completed"),Rg("optimisticConfirmation"),Rg("root")]),slot:Fg(),timestamp:Fg()}),Vg({type:Rg("createdBank"),parent:Fg(),slot:Fg(),timestamp:Fg()}),Vg({type:Rg("frozen"),slot:Fg(),timestamp:Fg(),stats:Vg({numTransactionEntries:Fg(),numSuccessfulTransactions:Fg(),numFailedTransactions:Fg(),maxTransactionsPerEntry:Fg()})}),Vg({type:Rg("dead"),slot:Fg(),timestamp:Fg(),err:Ug()})]),av=Vg({subscription:Fg(),result:iv}),ov=Vg({subscription:Fg(),result:px(qg([jx,Ex]))}),lv=Vg({subscription:Fg(),result:Fg()}),cv=Vg({pubkey:Ug(),gossip:Og(Ug()),tpu:Og(Ug()),rpc:Og(Ug()),version:Og(Ug())}),uv=Vg({votePubkey:Ug(),nodePubkey:Ug(),activatedStake:Fg(),epochVoteAccount:Mg(),epochCredits:Pg(zg([Fg(),Fg(),Fg()])),commission:Fg(),lastVote:Fg(),rootSlot:Og(Fg())}),dv=fx(Vg({current:Pg(uv),delinquent:Pg(uv)})),hv=qg([Rg("processed"),Rg("confirmed"),Rg("finalized")]),fv=Vg({slot:Fg(),confirmations:Og(Fg()),err:Nx,confirmationStatus:Lg(hv)}),mv=mx(Pg(Og(fv))),pv=fx(Fg()),gv=Vg({accountKey:ax,writableIndexes:Pg(Fg()),readonlyIndexes:Pg(Fg())}),yv=Vg({signatures:Pg(Ug()),message:Vg({accountKeys:Pg(Ug()),header:Vg({numRequiredSignatures:Fg(),numReadonlySignedAccounts:Fg(),numReadonlyUnsignedAccounts:Fg()}),instructions:Pg(Vg({accounts:Pg(Fg()),data:Ug(),programIdIndex:Fg()})),recentBlockhash:Ug(),addressTableLookups:Lg(Pg(gv))})}),bv=Vg({pubkey:ax,signer:Mg(),writable:Mg(),source:Lg(qg([Rg("transaction"),Rg("lookupTable")]))}),xv=Vg({accountKeys:Pg(bv),signatures:Pg(Ug())}),vv=Vg({parsed:Gg(),program:Ug(),programId:ax}),wv=Vg({accounts:Pg(ax),data:Ug(),programId:ax}),Sv=$g(qg([wv,vv]),qg([Vg({parsed:Gg(),program:Ug(),programId:Ug()}),Vg({accounts:Pg(Ug()),data:Ug(),programId:Ug()})]),e=>Cg(e,"accounts"in e?wv:vv)),kv=Vg({signatures:Pg(Ug()),message:Vg({accountKeys:Pg(bv),instructions:Pg(Sv),recentBlockhash:Ug(),addressTableLookups:Lg(Og(Pg(gv)))})}),Nv=Vg({accountIndex:Fg(),mint:Ug(),owner:Lg(Ug()),programId:Lg(Ug()),uiTokenAmount:Ux}),jv=Vg({writable:Pg(ax),readonly:Pg(ax)}),Ev=Vg({err:Nx,fee:Fg(),innerInstructions:Lg(Og(Pg(Vg({index:Fg(),instructions:Pg(Vg({accounts:Pg(Fg()),data:Ug(),programIdIndex:Fg()}))})))),preBalances:Pg(Fg()),postBalances:Pg(Fg()),logMessages:Lg(Og(Pg(Ug()))),preTokenBalances:Lg(Og(Pg(Nv))),postTokenBalances:Lg(Og(Pg(Nv))),loadedAddresses:Lg(jv),computeUnitsConsumed:Lg(Fg()),costUnits:Lg(Fg())}),_v=Vg({err:Nx,fee:Fg(),innerInstructions:Lg(Og(Pg(Vg({index:Fg(),instructions:Pg(Sv)})))),preBalances:Pg(Fg()),postBalances:Pg(Fg()),logMessages:Lg(Og(Pg(Ug()))),preTokenBalances:Lg(Og(Pg(Nv))),postTokenBalances:Lg(Og(Pg(Nv))),loadedAddresses:Lg(jv),computeUnitsConsumed:Lg(Fg()),costUnits:Lg(Fg())}),Cv=qg([Rg(0),Rg("legacy")]),Tv=Vg({pubkey:Ug(),lamports:Fg(),postBalance:Og(Fg()),rewardType:Og(Ug()),commission:Lg(Og(Fg()))}),Av=fx(Og(Vg({blockhash:Ug(),previousBlockhash:Ug(),parentSlot:Fg(),transactions:Pg(Vg({transaction:yv,meta:Og(Ev),version:Lg(Cv)})),rewards:Lg(Pg(Tv)),blockTime:Og(Fg()),blockHeight:Og(Fg())}))),Iv=fx(Og(Vg({blockhash:Ug(),previousBlockhash:Ug(),parentSlot:Fg(),rewards:Lg(Pg(Tv)),blockTime:Og(Fg()),blockHeight:Og(Fg())}))),Pv=fx(Og(Vg({blockhash:Ug(),previousBlockhash:Ug(),parentSlot:Fg(),transactions:Pg(Vg({transaction:xv,meta:Og(Ev),version:Lg(Cv)})),rewards:Lg(Pg(Tv)),blockTime:Og(Fg()),blockHeight:Og(Fg())}))),Mv=fx(Og(Vg({blockhash:Ug(),previousBlockhash:Ug(),parentSlot:Fg(),transactions:Pg(Vg({transaction:kv,meta:Og(_v),version:Lg(Cv)})),rewards:Lg(Pg(Tv)),blockTime:Og(Fg()),blockHeight:Og(Fg())}))),Dv=fx(Og(Vg({blockhash:Ug(),previousBlockhash:Ug(),parentSlot:Fg(),transactions:Pg(Vg({transaction:xv,meta:Og(_v),version:Lg(Cv)})),rewards:Lg(Pg(Tv)),blockTime:Og(Fg()),blockHeight:Og(Fg())}))),Rv=fx(Og(Vg({blockhash:Ug(),previousBlockhash:Ug(),parentSlot:Fg(),rewards:Lg(Pg(Tv)),blockTime:Og(Fg()),blockHeight:Og(Fg())}))),Ov=fx(Og(Vg({blockhash:Ug(),previousBlockhash:Ug(),parentSlot:Fg(),transactions:Pg(Vg({transaction:yv,meta:Og(Ev)})),rewards:Lg(Pg(Tv)),blockTime:Og(Fg())}))),Fv=fx(Og(Vg({blockhash:Ug(),previousBlockhash:Ug(),parentSlot:Fg(),signatures:Pg(Ug()),blockTime:Og(Fg())}))),Lv=fx(Og(Vg({slot:Fg(),meta:Og(Ev),blockTime:Lg(Og(Fg())),transaction:yv,version:Lg(Cv)}))),Bv=fx(Og(Vg({slot:Fg(),transaction:kv,meta:Og(_v),blockTime:Lg(Og(Fg())),version:Lg(Cv)}))),Uv=mx(Vg({blockhash:Ug(),lastValidBlockHeight:Fg()})),zv=mx(Mg()),Vv=fx(Pg(Vg({slot:Fg(),numTransactions:Fg(),numSlots:Fg(),samplePeriodSecs:Fg()}))),qv=mx(Og(Vg({feeCalculator:Vg({lamportsPerSignature:Fg()})}))),Gv=fx(Ug()),$v=fx(Ug()),Hv=Vg({err:Nx,logs:Pg(Ug()),signature:Ug()}),Wv=Vg({result:px(Hv),subscription:Fg()}),Kv={"solana-client":"js/1.0.0-maintenance"};class Qv{constructor(e,t){let n,r,s,i,a,o;var l;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const e={};return async t=>{const{commitment:n,config:r}=cx(t),s=this._buildArgs([],n,void 0,r),i=Jb(s);return e[i]=e[i]??(async()=>{try{const e=Cg(await this._rpcRequest("getBlockHeight",s),fx(Fg()));if("error"in e)throw new Lb(e.error,"failed to get block height information");return e.result}finally{delete e[i]}})(),await e[i]}})(),t&&"string"==typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,r=t.httpHeaders,s=t.fetch,i=t.fetchMiddleware,a=t.disableRetryOnRateLimit,o=t.httpAgent),this._rpcEndpoint=function(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=n||function(e){const t=e.match(ix);if(null==t)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,s,i]=t,a=e.startsWith("https:")?"wss:":"ws:",o=null==s?null:parseInt(s.slice(1),10);return`${a}//${r}${null==o?"":`:${o+1}`}${i}`}(e),this._rpcClient=function(e,t,n,r,s,i){const a=n||tx;let o;return null!=i&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),r&&(o=async(e,t)=>{const n=await new Promise((n,s)=>{try{r(e,t,(e,t)=>n([e,t]))}catch(i){s(i)}});return await a(...n)}),new Ny(async(n,r)=>{const i={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},t||{},Kv)};try{let t,n=5,l=500;for(;t=o?await o(e,i):await a(e,i),429===t.status&&!0!==s&&(n-=1,0!==n);)console.error(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${l}ms delay...`),await Bb(l),l*=2;const c=await t.text();t.ok?r(null,c):r(new Error(`${t.status} ${t.statusText}: ${c}`))}catch(l){l instanceof Error&&r(l)}},{})}(e,r,s,i,a,o),this._rpcRequest=(l=this._rpcClient,(e,t)=>new Promise((n,r)=>{l.request(e,t,(e,t)=>{e?r(e):n(t)})})),this._rpcBatchRequest=function(e){return t=>new Promise((n,r)=>{0===t.length&&n([]);const s=t.map(t=>e.request(t.methodName,t.args));e.request(s,(e,t)=>{e?r(e):n(t)})})}(this._rpcClient),this._rpcWebSocket=new nx(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:n,config:r}=cx(t),s=this._buildArgs([e.toBase58()],n,void 0,r),i=Cg(await this._rpcRequest("getBalance",s),mx(Fg()));if("error"in i)throw new Lb(i.error,`failed to get balance for ${e.toBase58()}`);return i.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(e=>e.value).catch(t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)})}async getBlockTime(e){const t=Cg(await this._rpcRequest("getBlockTime",[e]),fx(Og(Fg())));if("error"in t)throw new Lb(t.error,`failed to get block time for slot ${e}`);return t.result}async getMinimumLedgerSlot(){const e=Cg(await this._rpcRequest("minimumLedgerSlot",[]),fx(Fg()));if("error"in e)throw new Lb(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const e=Cg(await this._rpcRequest("getFirstAvailableBlock",[]),Lx);if("error"in e)throw new Lb(e.error,"failed to get first available block");return e.result}async getSupply(e){let t={};t="string"==typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const n=Cg(await this._rpcRequest("getSupply",[t]),Bx);if("error"in n)throw new Lb(n.error,"failed to get supply");return n.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),r=Cg(await this._rpcRequest("getTokenSupply",n),mx(Ux));if("error"in r)throw new Lb(r.error,"failed to get token supply");return r.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),r=Cg(await this._rpcRequest("getTokenAccountBalance",n),mx(Ux));if("error"in r)throw new Lb(r.error,"failed to get token account balance");return r.result}async getTokenAccountsByOwner(e,t,n){const{commitment:r,config:s}=cx(n);let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const a=this._buildArgs(i,r,"base64",s),o=Cg(await this._rpcRequest("getTokenAccountsByOwner",a),Vx);if("error"in o)throw new Lb(o.error,`failed to get token accounts owned by account ${e.toBase58()}`);return o.result}async getParsedTokenAccountsByOwner(e,t,n){let r=[e.toBase58()];"mint"in t?r.push({mint:t.mint.toBase58()}):r.push({programId:t.programId.toBase58()});const s=this._buildArgs(r,n,"jsonParsed"),i=Cg(await this._rpcRequest("getTokenAccountsByOwner",s),Gx);if("error"in i)throw new Lb(i.error,`failed to get token accounts owned by account ${e.toBase58()}`);return i.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],r=Cg(await this._rpcRequest("getLargestAccounts",n),$x);if("error"in r)throw new Lb(r.error,"failed to get largest accounts");return r.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),r=Cg(await this._rpcRequest("getTokenLargestAccounts",n),zx);if("error"in r)throw new Lb(r.error,"failed to get token largest accounts");return r.result}async getAccountInfoAndContext(e,t){const{commitment:n,config:r}=cx(t),s=this._buildArgs([e.toBase58()],n,"base64",r),i=Cg(await this._rpcRequest("getAccountInfo",s),mx(Og(Hx)));if("error"in i)throw new Lb(i.error,`failed to get info about account ${e.toBase58()}`);return i.result}async getParsedAccountInfo(e,t){const{commitment:n,config:r}=cx(t),s=this._buildArgs([e.toBase58()],n,"jsonParsed",r),i=Cg(await this._rpcRequest("getAccountInfo",s),mx(Og(Qx)));if("error"in i)throw new Lb(i.error,`failed to get info about account ${e.toBase58()}`);return i.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,t){const{commitment:n,config:r}=cx(t),s=e.map(e=>e.toBase58()),i=this._buildArgs([s],n,"jsonParsed",r),a=Cg(await this._rpcRequest("getMultipleAccounts",i),mx(Pg(Og(Qx))));if("error"in a)throw new Lb(a.error,`failed to get info for accounts ${s}`);return a.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:n,config:r}=cx(t),s=e.map(e=>e.toBase58()),i=this._buildArgs([s],n,"base64",r),a=Cg(await this._rpcRequest("getMultipleAccounts",i),mx(Pg(Og(Hx))));if("error"in a)throw new Lb(a.error,`failed to get info for accounts ${s}`);return a.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){const{commitment:r,config:s}=cx(t),i=this._buildArgs([e.toBase58()],r,void 0,{...s,epoch:null!=n?n:s?.epoch}),a=Cg(await this._rpcRequest("getStakeActivation",i),fx(Xx));if("error"in a)throw new Lb(a.error,`failed to get Stake Activation ${e.toBase58()}`);return a.result}async getProgramAccounts(e,t){const{commitment:n,config:r}=cx(t),{encoding:s,...i}=r||{},a=this._buildArgs([e.toBase58()],n,s||"base64",{...i,...i.filters?{filters:ux(i.filters)}:null}),o=await this._rpcRequest("getProgramAccounts",a),l=Pg(Wx),c=!0===i.withContext?Cg(o,mx(l)):Cg(o,fx(l));if("error"in c)throw new Lb(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async getParsedProgramAccounts(e,t){const{commitment:n,config:r}=cx(t),s=this._buildArgs([e.toBase58()],n,"jsonParsed",r),i=Cg(await this._rpcRequest("getProgramAccounts",s),fx(Pg(Yx)));if("error"in i)throw new Lb(i.error,`failed to get accounts owned by program ${e.toBase58()}`);return i.result}async confirmTransaction(e,t){let n,r;if("string"==typeof e)n=e;else{const t=e;if(t.abortSignal?.aborted)return Promise.reject(t.abortSignal.reason);n=t.signature}try{r=Hp.decode(n)}catch(s){throw new Error("signature must be base58 encoded: "+n)}return Nb(64===r.length,"signature has invalid length"),"string"==typeof e?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,n)=>{null!=e&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let n,r,s=!1;return{abortConfirmation:()=>{r&&(r(),r=void 0),null!=n&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:new Promise((i,a)=>{try{n=this.onSignature(t,(e,t)=>{n=void 0;const r={context:t,value:e};i({__type:Ib.PROCESSED,response:r})},e);const o=new Promise(e=>{null==n?e():r=this._onSubscriptionStateChange(n,t=>{"subscribed"===t&&e()})});(async()=>{if(await o,s)return;const n=await this.getSignatureStatus(t);if(s)return;if(null==n)return;const{context:r,value:l}=n;if(null!=l)if(l?.err)a(l.err);else{switch(e){case"confirmed":case"single":case"singleGossip":if("processed"===l.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===l.confirmationStatus||"confirmed"===l.confirmationStatus)return}s=!0,i({__type:Ib.PROCESSED,response:{context:r,value:l}})}})()}catch(o){a(o)}})}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:n,signature:r}}){let s=!1;const i=new Promise(t=>{const r=async()=>{try{return await this.getBlockHeight(e)}catch(t){return-1}};(async()=>{let e=await r();if(!s){for(;e<=n;){if(await Bb(1e3),s)return;if(e=await r(),s)return}t({__type:Ib.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),l=this.getCancellationPromise(t);let c;try{const e=await Promise.race([l,o,i]);if(e.__type!==Ib.PROCESSED)throw new pb(r);c=e.response}finally{s=!0,a()}return c}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:n,nonceAccountPubkey:r,nonceValue:s,signature:i}}){let a=!1;const o=new Promise(t=>{let i=s,o=null;const l=async()=>{try{const{context:t,value:s}=await this.getNonceAndContext(r,{commitment:e,minContextSlot:n});return o=t.slot,s?.nonce}catch(t){return i}};(async()=>{if(i=await l(),!a)for(;;){if(s!==i)return void t({__type:Ib.NONCE_INVALID,slotInWhichNonceDidAdvance:o});if(await Bb(2e3),a)return;if(i=await l(),a)return}})()}),{abortConfirmation:l,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(t);let d;try{const t=await Promise.race([u,c,o]);if(t.__type===Ib.PROCESSED)d=t.response;else{let r;for(;;){const e=await this.getSignatureStatus(i);if(null==e)break;if(!(e.context.slot<(t.slotInWhichNonceDidAdvance??n))){r=e;break}await Bb(400)}if(!r?.value)throw new yb(i);{const t=e||"finalized",{confirmationStatus:n}=r.value;switch(t){case"processed":case"recent":if("processed"!==n&&"confirmed"!==n&&"finalized"!==n)throw new yb(i);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==n&&"finalized"!==n)throw new yb(i);break;case"finalized":case"max":case"root":if("finalized"!==n)throw new yb(i)}d={context:r.context,value:{err:r.value.err}}}}}finally{a=!0,l()}return d}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let n;const r=new Promise(t=>{let r=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":r=this._confirmTransactionInitialTimeout||3e4}n=setTimeout(()=>t({__type:Ib.TIMED_OUT,timeoutMs:r}),r)}),{abortConfirmation:s,confirmationPromise:i}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const e=await Promise.race([i,r]);if(e.__type!==Ib.PROCESSED)throw new gb(t,e.timeoutMs/1e3);a=e.response}finally{clearTimeout(n),s()}return a}async getClusterNodes(){const e=Cg(await this._rpcRequest("getClusterNodes",[]),fx(Pg(cv)));if("error"in e)throw new Lb(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=Cg(await this._rpcRequest("getVoteAccounts",t),dv);if("error"in n)throw new Lb(n.error,"failed to get vote accounts");return n.result}async getSlot(e){const{commitment:t,config:n}=cx(e),r=this._buildArgs([],t,void 0,n),s=Cg(await this._rpcRequest("getSlot",r),fx(Fg()));if("error"in s)throw new Lb(s.error,"failed to get slot");return s.result}async getSlotLeader(e){const{commitment:t,config:n}=cx(e),r=this._buildArgs([],t,void 0,n),s=Cg(await this._rpcRequest("getSlotLeader",r),fx(Ug()));if("error"in s)throw new Lb(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,t){const n=[e,t],r=Cg(await this._rpcRequest("getSlotLeaders",n),fx(Pg(ax)));if("error"in r)throw new Lb(r.error,"failed to get slot leaders");return r.result}async getSignatureStatus(e,t){const{context:n,value:r}=await this.getSignatureStatuses([e],t);Nb(1===r.length);return{context:n,value:r[0]}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const r=Cg(await this._rpcRequest("getSignatureStatuses",n),mv);if("error"in r)throw new Lb(r.error,"failed to get signature status");return r.result}async getTransactionCount(e){const{commitment:t,config:n}=cx(e),r=this._buildArgs([],t,void 0,n),s=Cg(await this._rpcRequest("getTransactionCount",r),fx(Fg()));if("error"in s)throw new Lb(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=Cg(await this._rpcRequest("getInflationGovernor",t),Px);if("error"in n)throw new Lb(n.error,"failed to get inflation");return n.result}async getInflationReward(e,t,n){const{commitment:r,config:s}=cx(n),i=this._buildArgs([e.map(e=>e.toBase58())],r,void 0,{...s,epoch:null!=t?t:s?.epoch}),a=Cg(await this._rpcRequest("getInflationReward",i),bx);if("error"in a)throw new Lb(a.error,"failed to get inflation reward");return a.result}async getInflationRate(){const e=Cg(await this._rpcRequest("getInflationRate",[]),Mx);if("error"in e)throw new Lb(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(e){const{commitment:t,config:n}=cx(e),r=this._buildArgs([],t,void 0,n),s=Cg(await this._rpcRequest("getEpochInfo",r),Rx);if("error"in s)throw new Lb(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const e=Cg(await this._rpcRequest("getEpochSchedule",[]),Ox);if("error"in e)throw new Lb(e.error,"failed to get epoch schedule");const t=e.result;return new ex(t.slotsPerEpoch,t.leaderScheduleSlotOffset,t.warmup,t.firstNormalEpoch,t.firstNormalSlot)}async getLeaderSchedule(){const e=Cg(await this._rpcRequest("getLeaderSchedule",[]),Fx);if("error"in e)throw new Lb(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),r=Cg(await this._rpcRequest("getMinimumBalanceForRentExemption",n),pv);return"error"in r?(console.warn("Unable to fetch minimum balance for rent exemption"),0):r.result}async getRecentBlockhashAndContext(e){const{context:t,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON:()=>({})}}}}async getRecentPerformanceSamples(e){const t=Cg(await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),Vv);if("error"in t)throw new Lb(t.error,"failed to get recent performance samples");return t.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),r=Cg(await this._rpcRequest("getFeeCalculatorForBlockhash",n),qv);if("error"in r)throw new Lb(r.error,"failed to get fee calculator");const{context:s,value:i}=r.result;return{context:s,value:null!==i?i.feeCalculator:null}}async getFeeForMessage(e,t){const n=ob(e.serialize()).toString("base64"),r=this._buildArgs([n],t),s=Cg(await this._rpcRequest("getFeeForMessage",r),mx(Og(Fg())));if("error"in s)throw new Lb(s.error,"failed to get fee for message");if(null===s.result)throw new Error("invalid blockhash");return s.result}async getRecentPrioritizationFees(e){const t=e?.lockedWritableAccounts?.map(e=>e.toBase58()),n=t?.length?[t]:[],r=Cg(await this._rpcRequest("getRecentPrioritizationFees",n),Dx);if("error"in r)throw new Lb(r.error,"failed to get recent prioritization fees");return r.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:n}=cx(e),r=this._buildArgs([],t,void 0,n),s=Cg(await this._rpcRequest("getLatestBlockhash",r),Uv);if("error"in s)throw new Lb(s.error,"failed to get latest blockhash");return s.result}async isBlockhashValid(e,t){const{commitment:n,config:r}=cx(t),s=this._buildArgs([e],n,void 0,r),i=Cg(await this._rpcRequest("isBlockhashValid",s),zv);if("error"in i)throw new Lb(i.error,"failed to determine if the blockhash `"+e+"`is valid");return i.result}async getVersion(){const e=Cg(await this._rpcRequest("getVersion",[]),fx(_x));if("error"in e)throw new Lb(e.error,"failed to get version");return e.result}async getGenesisHash(){const e=Cg(await this._rpcRequest("getGenesisHash",[]),fx(Ug()));if("error"in e)throw new Lb(e.error,"failed to get genesis hash");return e.result}async getBlock(e,t){const{commitment:n,config:r}=cx(t),s=this._buildArgsAtLeastConfirmed([e],n,void 0,r),i=await this._rpcRequest("getBlock",s);try{switch(r?.transactionDetails){case"accounts":{const e=Cg(i,Pv);if("error"in e)throw e.error;return e.result}case"none":{const e=Cg(i,Iv);if("error"in e)throw e.error;return e.result}default:{const e=Cg(i,Av);if("error"in e)throw e.error;const{result:t}=e;return t?{...t,transactions:t.transactions.map(({transaction:e,meta:t,version:n})=>({meta:t,transaction:{...e,message:gx(n,e.message)},version:n}))}:null}}}catch(a){throw new Lb(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:n,config:r}=cx(t),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),i=await this._rpcRequest("getBlock",s);try{switch(r?.transactionDetails){case"accounts":{const e=Cg(i,Dv);if("error"in e)throw e.error;return e.result}case"none":{const e=Cg(i,Rv);if("error"in e)throw e.error;return e.result}default:{const e=Cg(i,Mv);if("error"in e)throw e.error;return e.result}}}catch(a){throw new Lb(a,"failed to get block")}}async getBlockProduction(e){let t,n;if("string"==typeof e)n=e;else if(e){const{commitment:r,...s}=e;n=r,t=s}const r=this._buildArgs([],n,"base64",t),s=Cg(await this._rpcRequest("getBlockProduction",r),Ix);if("error"in s)throw new Lb(s.error,"failed to get block production information");return s.result}async getTransaction(e,t){const{commitment:n,config:r}=cx(t),s=this._buildArgsAtLeastConfirmed([e],n,void 0,r),i=Cg(await this._rpcRequest("getTransaction",s),Lv);if("error"in i)throw new Lb(i.error,"failed to get transaction");const a=i.result;return a?{...a,transaction:{...a.transaction,message:gx(a.version,a.transaction.message)}}:a}async getParsedTransaction(e,t){const{commitment:n,config:r}=cx(t),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),i=Cg(await this._rpcRequest("getTransaction",s),Bv);if("error"in i)throw new Lb(i.error,"failed to get transaction");return i.result}async getParsedTransactions(e,t){const{commitment:n,config:r}=cx(t),s=e.map(e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r)}));return(await this._rpcBatchRequest(s)).map(e=>{const t=Cg(e,Bv);if("error"in t)throw new Lb(t.error,"failed to get transactions");return t.result})}async getTransactions(e,t){const{commitment:n,config:r}=cx(t),s=e.map(e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,void 0,r)}));return(await this._rpcBatchRequest(s)).map(e=>{const t=Cg(e,Lv);if("error"in t)throw new Lb(t.error,"failed to get transactions");const n=t.result;return n?{...n,transaction:{...n.transaction,message:gx(n.version,n.transaction.message)}}:n})}async getConfirmedBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=Cg(await this._rpcRequest("getBlock",n),Ov);if("error"in r)throw new Lb(r.error,"failed to get confirmed block");const s=r.result;if(!s)throw new Error("Confirmed block "+e+" not found");const i={...s,transactions:s.transactions.map(({transaction:e,meta:t})=>{const n=new Tb(e.message);return{meta:t,transaction:{...e,message:n}}})};return{...i,transactions:i.transactions.map(({transaction:e,meta:t})=>({meta:t,transaction:Db.populate(e.message,e.signatures)}))}}async getBlocks(e,t,n){const r=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],n),s=Cg(await this._rpcRequest("getBlocks",r),fx(Pg(Fg())));if("error"in s)throw new Lb(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=Cg(await this._rpcRequest("getBlock",n),Fv);if("error"in r)throw new Lb(r.error,"failed to get block");const s=r.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=Cg(await this._rpcRequest("getBlock",n),Fv);if("error"in r)throw new Lb(r.error,"failed to get confirmed block");const s=r.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=Cg(await this._rpcRequest("getTransaction",n),Lv);if("error"in r)throw new Lb(r.error,"failed to get transaction");const s=r.result;if(!s)return s;const i=new Tb(s.transaction.message),a=s.transaction.signatures;return{...s,transaction:Db.populate(i,a)}}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),r=Cg(await this._rpcRequest("getTransaction",n),Bv);if("error"in r)throw new Lb(r.error,"failed to get confirmed transaction");return r.result}async getParsedConfirmedTransactions(e,t){const n=e.map(e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(e=>{const t=Cg(e,Bv);if("error"in t)throw new Lb(t.error,"failed to get confirmed transactions");return t.result})}async getConfirmedSignaturesForAddress(e,t,n){let r={},s=await this.getFirstAvailableBlock();for(;!("until"in r)&&!(--t<=0||t<s);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(r.until=e.signatures[e.signatures.length-1].toString())}catch(a){if(a instanceof Error&&a.message.includes("skipped"))continue;throw a}let i=await this.getSlot("finalized");for(;!("before"in r||++n>i);)try{const e=await this.getConfirmedBlockSignatures(n);e.signatures.length>0&&(r.before=e.signatures[e.signatures.length-1].toString())}catch(a){if(a instanceof Error&&a.message.includes("skipped"))continue;throw a}return(await this.getConfirmedSignaturesForAddress2(e,r)).map(e=>e.signature)}async getConfirmedSignaturesForAddress2(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),s=Cg(await this._rpcRequest("getConfirmedSignaturesForAddress2",r),Jx);if("error"in s)throw new Lb(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),s=Cg(await this._rpcRequest("getSignaturesForAddress",r),Zx);if("error"in s)throw new Lb(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let s=null;return null!==r&&(s=new rx({key:e,state:rx.deserialize(r.data)})),{context:n,value:s}}async getNonceAndContext(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let s=null;return null!==r&&(s=Gb.fromAccountData(r.data)),{context:n,value:s}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(e=>e.value).catch(t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)})}async requestAirdrop(e,t){const n=Cg(await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),Gv);if("error"in n)throw new Lb(n.error,`airdrop to ${e.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Bb(100);const e=Date.now()-this._blockhashInfo.lastFetch>=3e4;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,n=t?t.blockhash:null;for(let r=0;r<50;r++){const e=await this.getLatestBlockhash("finalized");if(n!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await Bb(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:n}=cx(e),r=this._buildArgs([],t,"base64",n),s=Cg(await this._rpcRequest("getStakeMinimumDelegation",r),mx(Fg()));if("error"in s)throw new Lb(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,t,n){if("message"in e){const r=e.serialize(),s=af.Buffer.from(r).toString("base64");if(Array.isArray(t)||void 0!==n)throw new Error("Invalid arguments");const i=t||{};i.encoding="base64","commitment"in i||(i.commitment=this.commitment),t&&"object"==typeof t&&"innerInstructions"in t&&(i.innerInstructions=t.innerInstructions);const a=[s,i],o=Cg(await this._rpcRequest("simulateTransaction",a),Ax);if("error"in o)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}let r;if(e instanceof Db){let t=e;r=new Db,r.feePayer=t.feePayer,r.instructions=e.instructions,r.nonceInfo=t.nonceInfo,r.signatures=t.signatures}else r=Db.populate(e),r._message=r._json=void 0;if(void 0!==t&&!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(r.nonceInfo&&s)r.sign(...s);else{let e=this._disableBlockhashCaching;for(;;){const t=await this._blockhashWithExpiryBlockHeight(e);if(r.lastValidBlockHeight=t.lastValidBlockHeight,r.recentBlockhash=t.blockhash,!s)break;if(r.sign(...s),!r.signature)throw new Error("!signature");const n=r.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}e=!0}}const i=r._compile(),a=i.serialize(),o=r._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(n){const e=(Array.isArray(n)?n:i.nonProgramIds()).map(e=>e.toBase58());l.accounts={encoding:"base64",addresses:e}}s&&(l.sigVerify=!0),t&&"object"==typeof t&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const c=[o,l],u=Cg(await this._rpcRequest("simulateTransaction",c),Ax);if("error"in u){let e;if("data"in u.error&&(e=u.error.data.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(u.error.message,n)}throw new Fb({action:"simulate",signature:"",transactionMessage:u.error.message,logs:e})}return u.result}async sendTransaction(e,t,n){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const n=e.serialize();return await this.sendRawTransaction(n,t)}if(void 0===t||!Array.isArray(t))throw new Error("Invalid arguments");const r=t;if(e.nonceInfo)e.sign(...r);else{let t=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(t);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...r),!e.signature)throw new Error("!signature");const s=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(s)){this._blockhashInfo.transactionSignatures.push(s);break}t=!0}}const s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,t){const n=ob(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},r=t&&t.skipPreflight,s=!0===r?"processed":t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(n.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(n.minContextSlot=t.minContextSlot),r&&(n.skipPreflight=r),s&&(n.preflightCommitment=s);const i=[e,n],a=Cg(await this._rpcRequest("sendTransaction",i),$v);if("error"in a){let e;throw"data"in a.error&&(e=a.error.data.logs),new Fb({action:r?"send":"simulate",signature:"",transactionMessage:a.error.message,logs:e})}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,t])=>{this._setSubscription(e,{...t,state:"pending"})})):this._updateSubscriptions()}_setSubscription(e,t){const n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,n!==t.state){const n=this._subscriptionStateChangeCallbacksByHash[e];n&&n.forEach(e=>{try{e(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const n=this._subscriptionHashByClientSubscriptionId[e];if(null==n)return()=>{};const r=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return r.add(t),()=>{r.delete(t),0===r.size&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}},500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async e=>{const n=this._subscriptionsByHash[e];if(void 0!==n)switch(n.state){case"pending":case"unsubscribed":if(0===n.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===n.state&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void(await this._updateSubscriptions());await(async()=>{const{args:r,method:s}=n;try{this._setSubscription(e,{...n,state:"subscribing"});const t=await this._rpcWebSocket.call(s,r);this._setSubscription(e,{...n,serverSubscriptionId:t,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[t]=n.callbacks,await this._updateSubscriptions()}catch(i){if(console.error(`Received ${i instanceof Error?"":"JSON-RPC "}error calling \`${s}\``,{args:r,error:i}),!t())return;this._setSubscription(e,{...n,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===n.callbacks.size&&await(async()=>{const{serverSubscriptionId:r,unsubscribeMethod:s}=n;if(this._subscriptionsAutoDisposedByRpc.has(r))this._subscriptionsAutoDisposedByRpc.delete(r);else{this._setSubscription(e,{...n,state:"unsubscribing"}),this._setSubscription(e,{...n,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[r])}catch(i){if(i instanceof Error&&console.error(`${s} error:`,i.message),!t())return;return this._setSubscription(e,{...n,state:"subscribed"}),void(await this._updateSubscriptions())}}this._setSubscription(e,{...n,state:"unsubscribed"}),await this._updateSubscriptions()})()}}))}_handleServerNotification(e,t){const n=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==n&&n.forEach(e=>{try{e(...t)}catch(n){console.error(n)}})}_wsOnAccountNotification(e){const{result:t,subscription:n}=Cg(e,ev);this._handleServerNotification(n,[t.value,t.context])}_makeSubscription(e,t){const n=this._nextClientSubscriptionId++,r=Jb([e.method,t]),s=this._subscriptionsByHash[r];return void 0===s?this._subscriptionsByHash[r]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=r,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const t=this._subscriptionsByHash[r];Nb(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,t,n){const{commitment:r,config:s}=cx(n),i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:n}=Cg(e,nv);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,n,r){const{commitment:s,config:i}=cx(n),a=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i||(r?{filters:ux(r)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,n){const r=this._buildArgs(["object"==typeof e?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},r)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:n}=Cg(e,Wv);this._handleServerNotification(n,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:n}=Cg(e,sv);this._handleServerNotification(n,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:n}=Cg(e,av);this._handleServerNotification(n,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,n,r){const s=t||this._commitment;if(s||n||r){let t={};n&&(t.encoding=n),s&&(t.commitment=s),r&&(t=Object.assign(t,r)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,n,r){const s=t||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,r)}_wsOnSignatureNotification(e){const{result:t,subscription:n}=Cg(e,ov);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,n){const r=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(e,n)=>{if("status"===e.type){t(e.result,n);try{this.removeSignatureListener(s)}catch(r){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},r);return s}onSignatureWithOptions(e,t,n){const{commitment:r,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},i=this._buildArgs([e],r,void 0,s),a=this._makeSubscription({callback:(e,n)=>{t(e,n);try{this.removeSignatureListener(a)}catch(r){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:n}=Cg(e,lv);this._handleServerNotification(n,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Yv{constructor(e){this._keypair=void 0,this._keypair=e??rb()}static generate(){return new Yv(rb())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const n=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),r=sb(t);for(let e=0;e<32;e++)if(n[e]!==r[e])throw new Error("provided secretKey is invalid")}return new Yv({publicKey:n,secretKey:e})}static fromSeed(e){const t=sb(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new Yv({publicKey:t,secretKey:n})}get publicKey(){return new fb(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}var Xv;Object.freeze({CreateLookupTable:{index:0,layout:ug.struct([ug.u32("instruction"),$b("recentSlot"),ug.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:ug.struct([ug.u32("instruction")])},ExtendLookupTable:{index:2,layout:ug.struct([ug.u32("instruction"),$b(),ug.seq(xb(),ug.offset(ug.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:ug.struct([ug.u32("instruction")])},CloseLookupTable:{index:4,layout:ug.struct([ug.u32("instruction")])}}),new fb("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:ug.struct([ug.u8("instruction"),ug.u32("units"),ug.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:ug.struct([ug.u8("instruction"),ug.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:ug.struct([ug.u8("instruction"),ug.u32("units")])},SetComputeUnitPrice:{index:3,layout:ug.struct([ug.u8("instruction"),$b("microLamports")])}}),new fb("ComputeBudget111111111111111111111111111111"),ug.struct([ug.u8("numSignatures"),ug.u8("padding"),ug.u16("signatureOffset"),ug.u16("signatureInstructionIndex"),ug.u16("publicKeyOffset"),ug.u16("publicKeyInstructionIndex"),ug.u16("messageDataOffset"),ug.u16("messageDataSize"),ug.u16("messageInstructionIndex")]),new fb("Ed25519SigVerify111111111111111111111111111"),nb.utils.isValidPrivateKey,ug.struct([ug.u8("numSignatures"),ug.u16("signatureOffset"),ug.u8("signatureInstructionIndex"),ug.u16("ethAddressOffset"),ug.u8("ethAddressInstructionIndex"),ug.u16("messageDataOffset"),ug.u16("messageDataSize"),ug.u8("messageInstructionIndex"),ug.blob(20,"ethAddress"),ug.blob(64,"signature"),ug.u8("recoveryId")]),new fb("KeccakSecp256k11111111111111111111111111111"),new fb("StakeConfig11111111111111111111111111111111");class Jv{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}Xv=Jv,Jv.default=new Xv(0,0,fb.default),Object.freeze({Initialize:{index:0,layout:ug.struct([ug.u32("instruction"),((e="authorized")=>ug.struct([xb("staker"),xb("withdrawer")],e))(),((e="lockup")=>ug.struct([ug.ns64("unixTimestamp"),ug.ns64("epoch"),xb("custodian")],e))()])},Authorize:{index:1,layout:ug.struct([ug.u32("instruction"),xb("newAuthorized"),ug.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:ug.struct([ug.u32("instruction")])},Split:{index:3,layout:ug.struct([ug.u32("instruction"),ug.ns64("lamports")])},Withdraw:{index:4,layout:ug.struct([ug.u32("instruction"),ug.ns64("lamports")])},Deactivate:{index:5,layout:ug.struct([ug.u32("instruction")])},Merge:{index:7,layout:ug.struct([ug.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:ug.struct([ug.u32("instruction"),xb("newAuthorized"),ug.u32("stakeAuthorizationType"),vb("authoritySeed"),xb("authorityOwner")])}}),new fb("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:ug.struct([ug.u32("instruction"),((e="voteInit")=>ug.struct([xb("nodePubkey"),xb("authorizedVoter"),xb("authorizedWithdrawer"),ug.u8("commission")],e))()])},Authorize:{index:1,layout:ug.struct([ug.u32("instruction"),xb("newAuthorized"),ug.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:ug.struct([ug.u32("instruction"),ug.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:ug.struct([ug.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:ug.struct([ug.u32("instruction"),((e="voteAuthorizeWithSeedArgs")=>ug.struct([ug.u32("voteAuthorizationType"),xb("currentAuthorityDerivedKeyOwnerPubkey"),vb("currentAuthorityDerivedKeySeed"),xb("newAuthorized")],e))()])}}),new fb("Vote111111111111111111111111111111111111111"),new fb("Va1idator1nfo111111111111111111111111111111"),Vg({name:Ug(),website:Lg(Ug()),details:Lg(Ug()),iconUrl:Lg(Ug()),keybaseUsername:Lg(Ug())}),new fb("Vote111111111111111111111111111111111111111"),ug.struct([xb("nodePubkey"),xb("authorizedWithdrawer"),ug.u8("commission"),ug.nu64(),ug.seq(ug.struct([ug.nu64("slot"),ug.u32("confirmationCount")]),ug.offset(ug.u32(),-8),"votes"),ug.u8("rootSlotValid"),ug.nu64("rootSlot"),ug.nu64(),ug.seq(ug.struct([ug.nu64("epoch"),xb("authorizedVoter")]),ug.offset(ug.u32(),-8),"authorizedVoters"),ug.struct([ug.seq(ug.struct([xb("authorizedPubkey"),ug.nu64("epochOfLastAuthorizedSwitch"),ug.nu64("targetEpoch")]),32,"buf"),ug.nu64("idx"),ug.u8("isEmpty")],"priorVoters"),ug.nu64(),ug.seq(ug.struct([ug.nu64("epoch"),ug.nu64("credits"),ug.nu64("prevCredits")]),ug.offset(ug.u32(),-8),"epochCredits"),ug.struct([ug.nu64("slot"),ug.nu64("timestamp")],"lastTimestamp")]);const Zv={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function ew(e,t){return Zv.https[e]}const tw=new Qv(ew("devnet"),{commitment:"confirmed",fetchMiddleware:(e,t)=>fetch(e,{...t,mode:"cors",keepalive:!0,headers:{...t?.headers,"Content-Type":"application/json"}})});async function nw(){if("undefined"==typeof window)throw new Error("Window not available");let e=0;for(;e<10;){const t=window.solana;if(t&&t.isPhantom)return t;await new Promise(e=>setTimeout(e,100)),e++}throw new Error("Phantom not found - please ensure Phantom is installed and try refreshing the page")}async function rw(){const e=await nw();try{return(await e.connect()).publicKey.toString()}catch(t){if(console.log(" Standard connect failed, trying mobile-specific approach..."),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))try{return(await e.connect({onlyIfTrusted:!1})).publicKey.toString()}catch(n){throw console.error(" Mobile connection failed:",n),new Error("Mobile connection failed. Please try using the Phantom browser app instead of external browsers.")}throw t}}async function sw(){if(console.log(" Attempting mobile Phantom connection..."),navigator.userAgent.includes("Phantom")||window.phantom||navigator.userAgent.includes("PhantomWallet"))return console.log(" Detected Phantom browser, using direct connection"),rw();throw console.log(" External browser detected - connection may not work properly"),new Error("For best mobile experience, please use the Phantom browser app instead of external browsers like Firefox or Safari.")}const iw=rw,aw=()=>{if("undefined"==typeof window)return null;if("solana"in window){const e=window.solana;if(e?.publicKey&&e.isConnected)return e.publicKey.toString()}if("solflare"in window){const e=window.solflare;if(e?.publicKey&&e.isConnected)return e.publicKey.toString()}return null},ow=(e,t=8)=>e.length<=2*t?e:`${e.slice(0,t)}...${e.slice(-t)}`,lw=async e=>{try{console.log(" Fetching SOL balance for:",e.slice(0,8)+"...");const t=await tw.getBalance(new fb(e))/1e9;return console.log(" SOL balance fetched:",t),t}catch(t){throw console.error(" Error fetching SOL balance:",t),t}},cw=()=>"undefined"!=typeof window&&("solana"in window&&window.solana?.isPhantom),uw=()=>"undefined"!=typeof window&&"solflare"in window,dw=({isConnected:t,onConnect:n,onDisconnect:r})=>{const[s,i]=D.useState(null),[a,o]=D.useState(null),[l,c]=D.useState(!1),[u,d]=D.useState(null),[h,f]=D.useState(!1),[m,p]=D.useState(!1);D.useEffect(()=>{let e=()=>{};return(async()=>{const t=await async function(){try{const e=await nw(),t=await e.connect({onlyIfTrusted:!0});return t?.publicKey?.toString()??null}catch{return null}}();t&&(console.log(" Silent wallet reconnect:",t.slice(0,8)+"..."),i(t),n(),console.log(" Initial balance fetch for:",t.slice(0,8)+"..."),lw(t).then(e=>{console.log(" Balance loaded:",e),o(e)}).catch(e=>{console.error(" Balance fetch failed:",e),o(null)}));try{const t=await nw(),s=e=>{const r=t.publicKey?.toString();r&&(console.log(" Wallet connected:",r.slice(0,8)+"..."),i(r),n())},a=()=>{console.log(" Wallet disconnected"),i(null),o(null),r()};t.on("connect",s),t.on("disconnect",a),e=()=>{t.off("connect",s),t.off("disconnect",a)}}catch{}})(),()=>e()},[]),D.useEffect(()=>{if(!s)return void console.log(" Auto-refresh: No address, skipping");console.log(" Auto-refresh: Starting for address:",s.slice(0,8)+"...");let e=!1;const t=async()=>{try{console.log(" Auto-refresh: Fetching balance...");const t=await nw(),n=new Qv(ew("devnet"),"confirmed"),r=await n.getBalance(t.publicKey),s=r/1e9;console.log(" Auto-refresh: Raw balance:",r,"lamports =",s,"SOL"),e||(o(s),console.log(" Balance auto-refreshed:",s.toFixed(4),"SOL"))}catch(t){console.warn("Balance auto-refresh failed:",t)}};console.log(" Auto-refresh: Initial fetch"),t(),console.log(" Auto-refresh: Setting up 15s interval");const n=setInterval(t,15e3);return()=>{console.log(" Auto-refresh: Cleanup"),e=!0,clearInterval(n)}},[s]);const g=async()=>{try{await(async()=>{if("undefined"!=typeof window){if("solana"in window){const e=window.solana;e?.disconnect&&await e.disconnect()}if("solflare"in window){const e=window.solflare;e?.disconnect&&await e.disconnect()}}})(),i(null),o(null),d(null),r()}catch(e){console.error("Disconnect failed:",e)}},y=async()=>{if(s){f(!0),d(null);try{const e="11111111111111111111111111111112",t=await(async(e,t,n)=>{try{const r=window.solana;if(!r)throw new Error("No wallet provider found");const s=(new Db).add(Wb.transfer({fromPubkey:new fb(e),toPubkey:new fb(t),lamports:1e9*n})),{blockhash:i}=await tw.getLatestBlockhash();s.recentBlockhash=i,s.feePayer=new fb(e);const a=await r.signTransaction(s),o=await tw.sendRawTransaction(a.serialize());return await tw.confirmTransaction(o,"confirmed"),o}catch(r){throw console.error("Error sending SOL:",r),r}})(s,e,.01),n=await lw(s);o(n),alert(`Test transaction sent! Signature: ${t.slice(0,8)}...`)}catch(e){d(e instanceof Error?e.message:"Transaction failed"),console.error("Test transaction failed:",e)}finally{f(!1)}}};return s?e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-400",children:ow(s)}),e.jsx("div",{className:"text-white font-semibold",children:null!==a?`${a.toFixed(4)} SOL`:"Loading balance..."})]}),e.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 border border-green-500/30 rounded text-xs",children:" Connected"}),e.jsx("button",{onClick:y,disabled:h||null!==a&&a<.01,className:"px-3 py-1 bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded hover:bg-blue-500/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Sending...":"Test 0.01 SOL"}),e.jsx("button",{onClick:g,className:"px-3 py-1 border border-gray-600 text-white rounded hover:bg-gray-800 transition-colors",children:"Disconnect"})]}):cw()||uw()?e.jsxs("div",{className:"flex flex-col space-y-2",children:[u&&e.jsx("div",{className:"text-red-400 text-sm bg-red-500/10 border border-red-500/20 rounded p-2",children:u}),cw()&&e.jsx("button",{onClick:async()=>{c(!0),d(null);try{const t=await sw();i(t),n(),console.log(" Manual connect - fetching balance for:",t.slice(0,8)+"...");try{const e=await lw(t);console.log(" Manual connect - balance loaded:",e),o(e)}catch(e){console.error(" Balance fetch failed:",e),o(null)}}catch(t){console.error("Phantom connection failed:",t),d(t instanceof Error?t.message:"Failed to connect")}finally{c(!1)}},disabled:l,className:"px-4 py-2 bg-gradient-to-r from-cyan-400 to-purple-500 text-black font-semibold rounded-lg hover:brightness-110 transition-all disabled:opacity-50",children:l?"Connecting...":" Connect Phantom"}),l&&e.jsx("div",{className:"text-sm text-blue-400 bg-blue-500/10 border border-blue-500/20 rounded p-2",children:" Please approve the connection in your wallet popup."}),uw()&&e.jsx("button",{onClick:async()=>{c(!0),d(null);try{const t=await(async()=>{if("undefined"==typeof window)throw new Error("Window not available");if("solflare"in window){const e=window.solflare;if(e)try{return await e.connect(),e.publicKey.toString()}catch(u){throw console.error("Solflare connection error:",u),u}}throw new Error("Solflare not found")})();i(t),(e=>{localStorage.setItem("wallet_connected","true"),localStorage.setItem("wallet_address",e),console.log(" Wallet connection saved to localStorage")})(t),n();try{const e=await lw(t);o(e)}catch(e){console.error(" Balance fetch failed:",e),o(null)}}catch(t){d(t instanceof Error?t.message:"Failed to connect"),console.error("Solflare connection failed:",t)}finally{c(!1)}},disabled:l,className:"px-4 py-2 border border-gray-600 text-white rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50",children:l?"Connecting...":" Connect Solflare"})]}):e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"No wallet detected. Please install a wallet to continue."}),e.jsx("button",{onClick:()=>window.open("https://phantom.app/download","_blank"),className:"px-4 py-2 bg-gradient-to-r from-cyan-400 to-purple-500 text-black font-semibold rounded-lg hover:brightness-110 transition-all",children:" Install Phantom"}),e.jsx("button",{onClick:()=>window.open("https://solflare.com/download","_blank"),className:"px-4 py-2 border border-gray-600 text-white rounded-lg hover:bg-gray-800 transition-colors",children:" Install Solflare"})]})},hw=new Qv(ew("devnet"),"confirmed");async function fw(e){console.log(" Updating registry with new challenge...");try{const t=[...await async function(){console.log(" Fetching challenge registry...");try{const e=localStorage.getItem("usdfg_challenge_registry");if(!e)return console.log(" Registry not found - no challenges yet"),[];const t=JSON.parse(e);return console.log(` Found ${t.length} challenges in registry`),t}catch(e){return console.error(" Failed to fetch registry:",e),[]}}(),e];localStorage.setItem("usdfg_challenge_registry",JSON.stringify(t)),console.log(` Registry updated with ${t.length} challenges`)}catch(t){console.error(" Failed to update registry:",t)}}async function mw(e){console.log(` Fetching events for player: ${e}`);return[{id:"1",title:"Fighting Game Challenge",date:"2024-01-15",result:"win",amount:50,game:"Street Fighter 6"},{id:"2",title:"Racing Challenge",date:"2024-01-14",result:"loss",amount:-25,game:"F1 2023"},{id:"3",title:"Sports Challenge",date:"2024-01-13",result:"win",amount:75,game:"Madden 26"}]}async function pw(e,t,n){try{return console.log(` Joining challenge ${e} with entry fee ${t} USDFG`),console.log(` Wallet: ${n}`),console.log(" Join transaction simulated successfully"),!0}catch(r){throw console.error(" Error joining challenge on-chain:",r),r}}const gw=Object.freeze(Object.defineProperty({__proto__:null,createChallengeOnChain:async function(e){console.log(" Creating challenge on-chain...");try{const t=window.solana;if(!t||!t.isPhantom)throw new Error("Phantom wallet not found");if(!t.publicKey)throw new Error("Wallet not connected");console.log(" Wallet connected:",t.publicKey.toString());const n=Yv.generate(),r=n.publicKey;console.log(" Generated challenge account:",r.toString());const s=await hw.getMinimumBalanceForRentExemption(0);console.log(" Rent exemption required:",s,"lamports");const i=Wb.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r,lamports:s,space:0,programId:Wb.programId}),a=(new Db).add(i),{blockhash:o}=await hw.getLatestBlockhash();a.recentBlockhash=o,a.feePayer=t.publicKey,console.log(" Signing and sending transaction..."),a.partialSign(n);const l=await t.signTransaction(a),c=await hw.sendRawTransaction(l.serialize());console.log(" Transaction sent:",c),await hw.confirmTransaction(c),console.log(" Transaction confirmed:",c);const u=r.toString(),d={id:u,creator:t.publicKey.toString(),game:e.game,entryFee:e.entryFee,maxPlayers:e.maxPlayers,rules:e.rules,timestamp:Date.now(),expiresAt:Date.now()+72e5},h=JSON.parse(localStorage.getItem("usdfg_challenge_ids")||"[]"),f=JSON.parse(localStorage.getItem("usdfg_challenge_metadata")||"[]");return h.push(u),f.push(d),localStorage.setItem("usdfg_challenge_ids",JSON.stringify(h)),localStorage.setItem("usdfg_challenge_metadata",JSON.stringify(f)),await fw(u),console.log(" Challenge created successfully:",u),u}catch(t){throw console.error(" Failed to create challenge:",t),t}},fetchPlayerEvents:mw,joinChallengeOnChain:pw},Symbol.toStringTag,{value:"Module"}));var yw={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296==(64512&s)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},xw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,a=i?e[s+1]:0,o=s+2<e.length,l=o?e[s+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(bw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const a=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==a||null==o)throw new vw;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class vw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ww=function(e){return function(e){const t=bw(e);return xw.encodeByteArray(t,!0)}(e).replace(/\./g,"")};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Sw=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof globalThis)return globalThis;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,kw=()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&function(e){try{return xw.decodeString(e,!0)}catch(n){console.error("base64Decode failed: ",n)}return null}(e[1]);return t&&JSON.parse(t)},Nw=()=>{try{return Sw()||(()=>{if("undefined"==typeof process)return;const e=yw.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||kw()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},jw=e=>{const t=(e=>Nw()?.emulatorHosts?.[e])(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ew=()=>Nw()?.config;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}const Tw={};let Aw=!1;function Iw(e,t){if("undefined"==typeof window||"undefined"==typeof document||!Cw(window.location.host)||Tw[e]===t||Tw[e]||Aw)return;function n(e){return`__firebase__banner__${e}`}Tw[e]=t;const r="__firebase__banner",s=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Tw))Tw[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Aw=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}s?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(){return!function(){const e=Nw()?.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(globalThis.process)}catch(t){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class Mw extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Mw.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dw.prototype.create)}}class Dw{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],i=s?function(e,t){return e.replace(Rw,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(s,n):"Error",a=`${this.serviceName}: ${i} (${r}).`;return new Mw(r,a,n)}}const Rw=/\{\$([^}]+)}/g;function Ow(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(Fw(n)&&Fw(i)){if(!Ow(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Fw(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(e){return e&&e._delegate?e._delegate:e}class Bw{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new _w;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(n)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:Uw})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e=Uw){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=Uw){return this.instances.has(e)}getOptions(e=Uw){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);const s=this.instances.get(n);return s&&e(s,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===Uw?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}var r;return n||null}normalizeInstanceIdentifier(e=Uw){return this.component?this.component.multipleInstances?e:Uw:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Vw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qw,Gw;(Gw=qw||(qw={}))[Gw.DEBUG=0]="DEBUG",Gw[Gw.VERBOSE=1]="VERBOSE",Gw[Gw.INFO=2]="INFO",Gw[Gw.WARN=3]="WARN",Gw[Gw.ERROR=4]="ERROR",Gw[Gw.SILENT=5]="SILENT";const $w={debug:qw.DEBUG,verbose:qw.VERBOSE,info:qw.INFO,warn:qw.WARN,error:qw.ERROR,silent:qw.SILENT},Hw=qw.INFO,Ww={[qw.DEBUG]:"log",[qw.VERBOSE]:"log",[qw.INFO]:"info",[qw.WARN]:"warn",[qw.ERROR]:"error"},Kw=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),s=Ww[t];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[s](`[${r}]  ${e.name}:`,...n)};class Qw{constructor(e){this.name=e,this._logLevel=Hw,this._logHandler=Kw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qw))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?$w[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qw.DEBUG,...e),this._logHandler(this,qw.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qw.VERBOSE,...e),this._logHandler(this,qw.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qw.INFO,...e),this._logHandler(this,qw.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qw.WARN,...e),this._logHandler(this,qw.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qw.ERROR,...e),this._logHandler(this,qw.ERROR,...e)}}let Yw,Xw;const Jw=new WeakMap,Zw=new WeakMap,eS=new WeakMap,tS=new WeakMap,nS=new WeakMap;let rS={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Zw.get(e);if("objectStoreNames"===t)return e.objectStoreNames||eS.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return aS(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function sS(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Xw||(Xw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(oS(this),t),aS(Jw.get(this))}:function(...t){return aS(e.apply(oS(this),t))}:function(t,...n){const r=e.call(oS(this),t,...n);return eS.set(r,t.sort?t.sort():[t]),aS(r)}}function iS(e){return"function"==typeof e?sS(e):(e instanceof IDBTransaction&&function(e){if(Zw.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});Zw.set(e,t)}(e),t=e,(Yw||(Yw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,rS):e);var t}function aS(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(aS(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&Jw.set(t,e)}).catch(()=>{}),nS.set(t,e),t}(e);if(tS.has(e))return tS.get(e);const t=iS(e);return t!==e&&(tS.set(e,t),nS.set(t,e)),t}const oS=e=>nS.get(e);const lS=["get","getKey","getAll","getAllKeys","count"],cS=["put","add","delete","clear"],uS=new Map;function dS(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(uS.get(t))return uS.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=cS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!lS.includes(n))return;const i=async function(e,...t){const i=this.transaction(e,s?"readwrite":"readonly");let a=i.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),s&&i.done]))[0]};return uS.set(t,i),i}rS=(e=>({...e,get:(t,n,r)=>dS(t,n)||e.get(t,n,r),has:(t,n)=>!!dS(t,n)||e.has(t,n)}))(rS);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class hS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const fS="@firebase/app",mS="0.14.3",pS=new Qw("@firebase/app"),gS="@firebase/app-compat",yS="@firebase/analytics-compat",bS="@firebase/analytics",xS="@firebase/app-check-compat",vS="@firebase/app-check",wS="@firebase/auth",SS="@firebase/auth-compat",kS="@firebase/database",NS="@firebase/data-connect",jS="@firebase/database-compat",ES="@firebase/functions",_S="@firebase/functions-compat",CS="@firebase/installations",TS="@firebase/installations-compat",AS="@firebase/messaging",IS="@firebase/messaging-compat",PS="@firebase/performance",MS="@firebase/performance-compat",DS="@firebase/remote-config",RS="@firebase/remote-config-compat",OS="@firebase/storage",FS="@firebase/storage-compat",LS="@firebase/firestore",BS="@firebase/ai",US="@firebase/firestore-compat",zS="firebase",VS="[DEFAULT]",qS={[fS]:"fire-core",[gS]:"fire-core-compat",[bS]:"fire-analytics",[yS]:"fire-analytics-compat",[vS]:"fire-app-check",[xS]:"fire-app-check-compat",[wS]:"fire-auth",[SS]:"fire-auth-compat",[kS]:"fire-rtdb",[NS]:"fire-data-connect",[jS]:"fire-rtdb-compat",[ES]:"fire-fn",[_S]:"fire-fn-compat",[CS]:"fire-iid",[TS]:"fire-iid-compat",[AS]:"fire-fcm",[IS]:"fire-fcm-compat",[PS]:"fire-perf",[MS]:"fire-perf-compat",[DS]:"fire-rc",[RS]:"fire-rc-compat",[OS]:"fire-gcs",[FS]:"fire-gcs-compat",[LS]:"fire-fst",[US]:"fire-fst-compat",[BS]:"fire-vertex","fire-js":"fire-js",[zS]:"fire-js-all"},GS=new Map,$S=new Map,HS=new Map;function WS(e,t){try{e.container.addComponent(t)}catch(n){pS.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function KS(e){const t=e.name;if(HS.has(t))return pS.debug(`There were multiple attempts to register component ${t}.`),!1;HS.set(t,e);for(const n of GS.values())WS(n,e);for(const n of $S.values())WS(n,e);return!0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const QS=new Dw("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class YS{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Bw("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw QS.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r={name:VS,automaticDataCollectionEnabled:!0,...t},s=r.name;if("string"!=typeof s||!s)throw QS.create("bad-app-name",{appName:String(s)});if(n||(n=Ew()),!n)throw QS.create("no-options");const i=GS.get(s);if(i){if(Ow(n,i.options)&&Ow(r,i.config))return i;throw QS.create("duplicate-app",{appName:s})}const a=new Vw(s);for(const l of HS.values())a.addComponent(l);const o=new YS(n,r,a);return GS.set(s,o),o}function JS(e,t,n){let r=qS[e]??e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const e=[`Unable to register library "${r}" with version "${t}":`];return s&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&e.push("and"),i&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void pS.warn(e.join(" "))}KS(new Bw(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="firebase-heartbeat-store";let ek=null;function tk(){return ek||(ek=function(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const a=indexedDB.open(e,t),o=aS(a);return r&&a.addEventListener("upgradeneeded",e=>{r(aS(a.result),e.oldVersion,e.newVersion,aS(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{i&&e.addEventListener("close",()=>i()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ZS)}catch(n){console.warn(n)}}}).catch(e=>{throw QS.create("idb-open",{originalErrorMessage:e.message})})),ek}async function nk(e,t){try{const n=(await tk()).transaction(ZS,"readwrite"),r=n.objectStore(ZS);await r.put(t,rk(e)),await n.done}catch(n){if(n instanceof Mw)pS.warn(n.message);else{const e=QS.create("idb-set",{originalErrorMessage:n?.message});pS.warn(e.message)}}}function rk(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ak(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=ik();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pS.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=ik(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let r=e.slice();for(const s of e){const e=n.find(e=>e.agent===s.agent);if(e){if(e.dates.push(s.date),ok(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ok(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=ww(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return pS.warn(e),""}}}function ik(){return(new Date).toISOString().substring(0,10)}class ak{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{t(s.error?.message||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await tk()).transaction(ZS),n=await t.objectStore(ZS).get(rk(e));return await t.done,n}catch(t){if(t instanceof Mw)pS.warn(t.message);else{const e=QS.create("idb-get",{originalErrorMessage:t?.message});pS.warn(e.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return nk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return nk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function ok(e){return ww(JSON.stringify({version:2,heartbeats:e})).length}var lk;lk="",KS(new Bw("platform-logger",e=>new hS(e),"PRIVATE")),KS(new Bw("heartbeat",e=>new sk(e),"PRIVATE")),JS(fS,mS,lk),JS(fS,mS,"esm2020"),JS("fire-js","");var ck,uk,dk="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e;
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"==typeof t)for(var s=0;s<16;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;s<16;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];let i,a=e.g[3];i=t+(a^n&(s^a))+r[0]+3614090360&4294967295,i=a+(s^(t=n+(i<<7&4294967295|i>>>25))&(n^s))+r[1]+3905402710&4294967295,a=t+(i<<12&4294967295|i>>>20),i=s+(n^a&(t^n))+r[2]+606105819&4294967295,i=n+(t^(s=a+(i<<17&4294967295|i>>>15))&(a^t))+r[3]+3250441966&4294967295,i=t+(a^(n=s+(i<<22&4294967295|i>>>10))&(s^a))+r[4]+4118548399&4294967295,i=a+(s^(t=n+(i<<7&4294967295|i>>>25))&(n^s))+r[5]+1200080426&4294967295,a=t+(i<<12&4294967295|i>>>20),i=s+(n^a&(t^n))+r[6]+2821735955&4294967295,i=n+(t^(s=a+(i<<17&4294967295|i>>>15))&(a^t))+r[7]+4249261313&4294967295,i=t+(a^(n=s+(i<<22&4294967295|i>>>10))&(s^a))+r[8]+1770035416&4294967295,i=a+(s^(t=n+(i<<7&4294967295|i>>>25))&(n^s))+r[9]+2336552879&4294967295,a=t+(i<<12&4294967295|i>>>20),i=s+(n^a&(t^n))+r[10]+4294925233&4294967295,i=n+(t^(s=a+(i<<17&4294967295|i>>>15))&(a^t))+r[11]+2304563134&4294967295,i=t+(a^(n=s+(i<<22&4294967295|i>>>10))&(s^a))+r[12]+1804603682&4294967295,i=a+(s^(t=n+(i<<7&4294967295|i>>>25))&(n^s))+r[13]+4254626195&4294967295,a=t+(i<<12&4294967295|i>>>20),i=s+(n^a&(t^n))+r[14]+2792965006&4294967295,i=n+(t^(s=a+(i<<17&4294967295|i>>>15))&(a^t))+r[15]+1236535329&4294967295,i=t+(s^a&((n=s+(i<<22&4294967295|i>>>10))^s))+r[1]+4129170786&4294967295,i=a+(n^s&((t=n+(i<<5&4294967295|i>>>27))^n))+r[6]+3225465664&4294967295,a=t+(i<<9&4294967295|i>>>23),i=s+(t^n&(a^t))+r[11]+643717713&4294967295,i=n+(a^t&((s=a+(i<<14&4294967295|i>>>18))^a))+r[0]+3921069994&4294967295,i=t+(s^a&((n=s+(i<<20&4294967295|i>>>12))^s))+r[5]+3593408605&4294967295,i=a+(n^s&((t=n+(i<<5&4294967295|i>>>27))^n))+r[10]+38016083&4294967295,a=t+(i<<9&4294967295|i>>>23),i=s+(t^n&(a^t))+r[15]+3634488961&4294967295,i=n+(a^t&((s=a+(i<<14&4294967295|i>>>18))^a))+r[4]+3889429448&4294967295,i=t+(s^a&((n=s+(i<<20&4294967295|i>>>12))^s))+r[9]+568446438&4294967295,i=a+(n^s&((t=n+(i<<5&4294967295|i>>>27))^n))+r[14]+3275163606&4294967295,a=t+(i<<9&4294967295|i>>>23),i=s+(t^n&(a^t))+r[3]+4107603335&4294967295,i=n+(a^t&((s=a+(i<<14&4294967295|i>>>18))^a))+r[8]+1163531501&4294967295,i=t+(s^a&((n=s+(i<<20&4294967295|i>>>12))^s))+r[13]+2850285829&4294967295,i=a+(n^s&((t=n+(i<<5&4294967295|i>>>27))^n))+r[2]+4243563512&4294967295,a=t+(i<<9&4294967295|i>>>23),i=s+(t^n&(a^t))+r[7]+1735328473&4294967295,i=n+(a^t&((s=a+(i<<14&4294967295|i>>>18))^a))+r[12]+2368359562&4294967295,i=t+((n=s+(i<<20&4294967295|i>>>12))^s^a)+r[5]+4294588738&4294967295,i=a+((t=n+(i<<4&4294967295|i>>>28))^n^s)+r[8]+2272392833&4294967295,a=t+(i<<11&4294967295|i>>>21),i=s+(a^t^n)+r[11]+1839030562&4294967295,i=n+((s=a+(i<<16&4294967295|i>>>16))^a^t)+r[14]+4259657740&4294967295,i=t+((n=s+(i<<23&4294967295|i>>>9))^s^a)+r[1]+2763975236&4294967295,i=a+((t=n+(i<<4&4294967295|i>>>28))^n^s)+r[4]+1272893353&4294967295,a=t+(i<<11&4294967295|i>>>21),i=s+(a^t^n)+r[7]+4139469664&4294967295,i=n+((s=a+(i<<16&4294967295|i>>>16))^a^t)+r[10]+3200236656&4294967295,i=t+((n=s+(i<<23&4294967295|i>>>9))^s^a)+r[13]+681279174&4294967295,i=a+((t=n+(i<<4&4294967295|i>>>28))^n^s)+r[0]+3936430074&4294967295,a=t+(i<<11&4294967295|i>>>21),i=s+(a^t^n)+r[3]+3572445317&4294967295,i=n+((s=a+(i<<16&4294967295|i>>>16))^a^t)+r[6]+76029189&4294967295,i=t+((n=s+(i<<23&4294967295|i>>>9))^s^a)+r[9]+3654602809&4294967295,i=a+((t=n+(i<<4&4294967295|i>>>28))^n^s)+r[12]+3873151461&4294967295,a=t+(i<<11&4294967295|i>>>21),i=s+(a^t^n)+r[15]+530742520&4294967295,i=n+((s=a+(i<<16&4294967295|i>>>16))^a^t)+r[2]+3299628645&4294967295,i=t+(s^((n=s+(i<<23&4294967295|i>>>9))|~a))+r[0]+4096336452&4294967295,i=a+(n^((t=n+(i<<6&4294967295|i>>>26))|~s))+r[7]+1126891415&4294967295,a=t+(i<<10&4294967295|i>>>22),i=s+(t^(a|~n))+r[14]+2878612391&4294967295,i=n+(a^((s=a+(i<<15&4294967295|i>>>17))|~t))+r[5]+4237533241&4294967295,i=t+(s^((n=s+(i<<21&4294967295|i>>>11))|~a))+r[12]+1700485571&4294967295,i=a+(n^((t=n+(i<<6&4294967295|i>>>26))|~s))+r[3]+2399980690&4294967295,a=t+(i<<10&4294967295|i>>>22),i=s+(t^(a|~n))+r[10]+4293915773&4294967295,i=n+(a^((s=a+(i<<15&4294967295|i>>>17))|~t))+r[1]+2240044497&4294967295,i=t+(s^((n=s+(i<<21&4294967295|i>>>11))|~a))+r[8]+1873313359&4294967295,i=a+(n^((t=n+(i<<6&4294967295|i>>>26))|~s))+r[15]+4264355552&4294967295,a=t+(i<<10&4294967295|i>>>22),i=s+(t^(a|~n))+r[6]+2734768916&4294967295,i=n+(a^((s=a+(i<<15&4294967295|i>>>17))|~t))+r[13]+1309151649&4294967295,i=t+(s^((n=s+(i<<21&4294967295|i>>>11))|~a))+r[4]+4149444226&4294967295,i=a+(n^((t=n+(i<<6&4294967295|i>>>26))|~s))+r[11]+3174756917&4294967295,a=t+(i<<10&4294967295|i>>>22),i=s+(t^(a|~n))+r[2]+718787259&4294967295,i=n+(a^((s=a+(i<<15&4294967295|i>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let s=e.length-1;s>=0;s--){const i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,s=this.C;let i=this.h,a=0;for(;a<t;){if(0==i)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(s[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,s),i=0;break}}else for(;a<t;)if(s[i++]=e[a++],i==this.blockSize){n(this,s),i=0;break}}this.h=i,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var s={};function i(e){return-128<=e&&e<128?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(e<0)return h(a(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(o,o);if(d(e))return t=g(h(e),t),new p(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new p(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=y(n),r=y(r);var s=b(n,1),i=b(r,1);for(r=b(r,2),n=b(n,2);!u(r);){var c=i.add(r);c.l(e)<=0&&(s=s.add(n),i=c),r=b(r,1),n=b(n,1)}return t=f(e,s.j(t)),new p(s,t)}for(s=o;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(i=a(n)).j(t);d(c)||c.l(e)>0;)c=(i=a(n-=r)).j(t);u(i)&&(i=l),s=s.add(i),e=f(e,c)}return new p(s,e)}function y(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function b(e,t){const n=t>>5;t%=32;const s=e.g.length-n,i=[];for(let r=0;r<s;r++)i[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=a(Math.pow(e,6));var n=this;let r="";for(;;){const s=g(n,t).g;let i=(((n=f(n,s.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=s))return i+r;for(;i.length<6;)i="0"+i;r=i+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let s=0;for(let r=0;r<=t;r++){let t=s+(65535&this.i(r))+(65535&e.i(r)),i=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);s=i>>>16,t&=65535,i&=65535,n[r]=i<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return a(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(let t=0;t<e.g.length;t++){const r=this.i(s)>>>16,i=65535&this.i(s),a=e.i(t)>>>16,o=65535&e.i(t);n[2*s+2*t]+=i*o,m(n,2*s+2*t),n[2*s+2*t+1]+=r*o,m(n,2*s+2*t+1),n[2*s+2*t+1]+=i*a,m(n,2*s+2*t+1),n[2*s+2*t+2]+=r*a,m(n,2*s+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,uk=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=a(Math.pow(n,8));let s=o;for(let o=0;o<t.length;o+=8){var i=Math.min(8,t.length-o);const e=parseInt(t.substring(o,o+i),n);i<8?(i=a(Math.pow(n,i)),s=s.j(i).add(a(e))):(s=s.j(r),s=s.add(a(e)))}return s},ck=r}).apply(void 0!==dk?dk:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var hk,fk,mk,pk,gk,yk,bk,xk,vk="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof vk&&vk];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var s=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in s))break e;s=s[a]}(r=r(i=s[e=e[e.length-1]]))!=i&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */
var s=s||{},i=this||self;function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=o).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}var d="undefined"!=typeof AsyncContext&&"function"==typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function m(e){i.setTimeout(()=>{throw e},0)}function p(){var e=v;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new y,e=>e.reset());class y{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let b,x=!1,v=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},w=()=>{const e=Promise.resolve(void 0);b=()=>{e.then(S)}};function S(){for(var e;e=p();){try{e.h.call(e.g)}catch(n){m(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}x=!1}function k(){this.u=this.u,this.C=this.C}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},N.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function E(e){return/^[\s\xa0]*$/.test(e)}function _(e,t){N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(_,N),_.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&_.Z.h.call(this)},_.prototype.h=function(){_.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var C="closure_listenable_"+(1e6*Math.random()|0),T=0;function A(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++T,this.da=this.fa=!1}function I(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function P(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function M(e){const t={};for(const n in e)t[n]=e[n];return t}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function O(e){this.src=e,this.g={},this.h=0}function F(e,t){const n=t.type;if(n in e.g){var r,s=e.g[n],i=Array.prototype.indexOf.call(s,t,void 0);(r=i>=0)&&Array.prototype.splice.call(s,i,1),r&&(I(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function L(e,t,n,r){for(let s=0;s<e.length;++s){const i=e[s];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return s}return-1}O.prototype.add=function(e,t,n,r,s){const i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);const a=L(e,t,r,s);return a>-1?(t=e[a],n||(t.fa=!1)):((t=new A(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var B="closure_lm_"+(1e6*Math.random()|0),U={};function z(e,t,n,r,s){if(Array.isArray(t)){for(let i=0;i<t.length;i++)z(e,t[i],n,r,s);return null}return n=K(n),e&&e[C]?e.J(t,n,!!a(r)&&!!r.capture,s):function(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");const o=a(s)?!!s.capture:!!s;let l=H(e);if(l||(e[B]=l=new O(e)),n=l.add(t,n,r,o,i),n.proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=$;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)j||(s=o),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(G(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}(e,t,n,!1,r,s)}function V(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)V(e,t[i],n,r,s);else r=a(r)?!!r.capture:!!r,n=K(n),e&&e[C]?(e=e.i,(i=String(t).toString())in e.g&&((n=L(t=e.g[i],n,r,s))>-1&&(I(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[i],e.h--)))):e&&(e=H(e))&&(t=e.g[t.toString()],e=-1,t&&(e=L(t,n,r,s)),(n=e>-1?t[e]:null)&&q(n))}function q(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[C])F(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(G(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=H(t))?(F(n,e),0==n.h&&(n.src=null,t[B]=null)):I(e)}}}function G(e){return e in U?U[e]:U[e]="on"+e}function $(e,t){if(e.da)e=!0;else{t=new _(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&q(e),e=n.call(r,t)}return e}function H(e){return(e=e[B])instanceof O?e:null}var W="__closure_events_fn_"+(1e9*Math.random()>>>0);function K(e){return"function"==typeof e?e:(e[W]||(e[W]=function(t){return e.handleEvent(t)}),e[W])}function Q(){k.call(this),this.i=new O(this),this.M=this,this.G=null}function Y(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var s=t;R(t=new N(r,e),s)}let i,a;if(s=!0,n)for(a=n.length-1;a>=0;a--)i=t.g=n[a],s=X(i,r,!0,t)&&s;if(i=t.g=e,s=X(i,r,!0,t)&&s,s=X(i,r,!1,t)&&s,n)for(a=0;a<n.length;a++)i=t.g=n[a],s=X(i,r,!1,t)&&s}function X(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let s=!0;for(let i=0;i<t.length;++i){const a=t[i];if(a&&!a.da&&a.capture==n){const t=a.listener,n=a.ha||a.src;a.fa&&F(e.i,a),s=!1!==t.call(n,r)&&s}}return s&&!r.defaultPrevented}function J(e){e.g=function(e,t){if("function"!=typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:i.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,J(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(Q,k),Q.prototype[C]=!0,Q.prototype.removeEventListener=function(e,t,n,r){V(this,e,t,n,r)},Q.prototype.N=function(){if(Q.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)I(n[e]);delete e.g[t],e.h--}}this.G=null},Q.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Q.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class Z extends k{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:J(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ee(e){k.call(this),this.h=e,this.g={}}u(ee,k);var te=[];function ne(e){P(e.g,function(e,t){this.g.hasOwnProperty(t)&&q(e)},e),e.g={}}ee.prototype.N=function(){ee.Z.N.call(this),ne(this)},ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var re=i.JSON.stringify,se=i.JSON.parse,ie=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function ae(){}function oe(){}var le={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ce(){N.call(this,"d")}function ue(){N.call(this,"c")}u(ce,N),u(ue,N);var de={},he=null;function fe(){return he=he||new Q}function me(e){N.call(this,de.Ia,e)}function pe(e){const t=fe();Y(t,new me(t))}function ge(e,t){N.call(this,de.STAT_EVENT,e),this.stat=t}function ye(e){const t=fe();Y(t,new ge(t,e))}function be(e,t){N.call(this,de.Ja,e),this.size=t}function xe(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function ve(){this.g=!0}function we(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const i=JSON.parse(t);if(i)for(e=0;e<i.length;e++)if(Array.isArray(i[e])){var n=i[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(let e=1;e<r.length;e++)r[e]=""}}}return re(i)}catch(i){return t}}(e,n)+(r?" "+r:"")})}de.Ia="serverreachability",u(me,N),de.STAT_EVENT="statevent",u(ge,N),de.Ja="timingevent",u(be,N),ve.prototype.ua=function(){this.g=!1},ve.prototype.info=function(){};var Se,ke={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ne={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function je(){}function Ee(e){return encodeURIComponent(String(e))}function _e(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ce(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ee(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Te}function Te(){this.i=null,this.g="",this.h=!1}u(je,ae),je.prototype.g=function(){return new XMLHttpRequest},Se=new je;var Ae={},Ie={};function Pe(e,t,n){e.M=1,e.A=rt(Je(t)),e.u=n,e.R=!0,Me(e,null)}function Me(e,t){e.F=Date.now(),Oe(e),e.B=Je(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),yt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Te,e.g=rn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new Z(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var s="readystatechange";Array.isArray(s)||(s&&(te[0]=s.toString()),s=te);for(let i=0;i<s.length;i++){const e=z(n,s[i],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?M(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),pe(),function(e,t,n,r,s,i){e.info(function(){if(e.g)if(i){var a="",o=i.split("&");for(let e=0;e<o.length;e++){var l=o[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");a=t.length>=2&&"type"==t[1]?a+(e+"=")+l+"&":a+(e+"=redacted&")}}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.v,e.B,e.l,e.S,e.u)}function De(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Re(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ie:(n=Number(t.substring(n,r)),isNaN(n)?Ae:(r+=1)+n>t.length?Ie:(t=t.slice(r,r+n),e.C=r+n,t))}function Oe(e){e.T=Date.now()+e.H,Fe(e,e.H)}function Fe(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=xe(l(e.aa,e),t)}function Le(e){e.D&&(i.clearTimeout(e.D),e.D=null)}function Be(e){0==e.j.I||e.K||Jt(e.j,e)}function Ue(e){Le(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ne(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function ze(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||He(n.h,e)))if(!e.L&&He(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Xt(n),zt(n)}Kt(n),ye(18)}}else n.xa=s[1],0<n.xa-n.K&&s[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=xe(l(n.Va,n),6e3));$e(n.h)<=1&&n.ta&&(n.ta=void 0)}else en(n,11)}else if((e.L||n.g==e)&&Xt(n),!E(t))for(s=n.Ba.g.parse(t),t=0;t<s.length;t++){let l=s[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const s=l[4];null!=s&&(n.za=s,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"==typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(We(i,i.h),i.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,nt(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var a=e;if((r=n).na=nn(r,r.L?r.ba:null,r.W),a.L){Ke(r.h,a);var o=a,c=r.O;c&&(o.H=c),o.D&&(Le(o),Oe(o)),r.g=a}else Wt(r);n.i.length>0&&qt(n)}else"stop"!=l[0]&&"close"!=l[0]||en(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?en(n,7):Ut(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}pe()}catch(u){}}Ce.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ot(e)?t.j():this.Y(e)},Ce.prototype.Y=function(e){try{if(e==this.g)e:{const l=Ot(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||4!=l||7==c||pe(),Le(this);var t=this.g.ca();this.X=t;var n=function(e){if(!De(e))return e.g.la();const t=Ft(e.g);if(""===t)return"";let n="";const r=t.length,s=4==Ot(e.g);if(!e.h.i){if("undefined"==typeof TextDecoder)return Ue(e),Be(e),"";e.h.i=new i.TextDecoder}for(let i=0;i<r;i++)e.h.h=!0,n+=e.h.i.decode(t[i],{stream:!(s&&i==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,s,i,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+a})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,s=this.g;if((r=s.g?s.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(r)){var a=r;break t}}a=null}if(!(e=a)){this.o=!1,this.m=3,ye(12),Ue(this),Be(this);break e}we(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ze(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Re(this,n),t==Ie){4==l&&(this.m=4,ye(14),e=!1),we(this.i,this.l,null,"[Incomplete Response]");break}if(t==Ae){this.m=4,ye(15),we(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}we(this.i,this.l,t,null),ze(this,t)}if(De(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,ye(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qt(o),o.P=!0,ye(11))}}else we(this.i,this.l,n,"[Invalid Chunked Response]"),Ue(this),Be(this)}else we(this.i,this.l,n,null),ze(this,n);4==l&&Ue(this),this.o&&!this.K&&(4==l?Jt(this.j,this):(this.o=!1,Oe(this)))}else(function(e){const t={};e=(e.g&&Ot(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(E(e[r]))continue;var n=_e(e[r]);const s=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),Ue(this),Be(this)}}}catch(l){}},Ce.prototype.cancel=function(){this.K=!0,Ue(this)},Ce.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(pe(),ye(17)),Ue(this),this.m=2,Be(this)):Fe(this,this.T-e)};var Ve=class{constructor(e,t){this.g=e,this.map=t}};function qe(e){this.l=e||10,i.PerformanceNavigationTiming?e=(e=i.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ge(e){return!!e.h||!!e.g&&e.g.size>=e.j}function $e(e){return e.h?1:e.g?e.g.size:0}function He(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function We(e,t){e.g?e.g.add(t):e.h=t}function Ke(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Qe(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}qe.prototype.cancel=function(){if(this.i=Qe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Ye=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xe(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Xe?(this.l=e.l,Ze(this,e.j),this.o=e.o,this.g=e.g,et(this,e.u),this.h=e.h,tt(this,bt(e.i)),this.m=e.m):e&&(t=String(e).match(Ye))?(this.l=!1,Ze(this,t[1]||"",!0),this.o=st(t[2]||""),this.g=st(t[3]||"",!0),et(this,t[4]),this.h=st(t[5]||"",!0),tt(this,t[6]||"",!0),this.m=st(t[7]||"")):(this.l=!1,this.i=new ht(null,this.l))}function Je(e){return new Xe(e)}function Ze(e,t,n){e.j=n?st(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function et(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function tt(e,t,n){t instanceof ht?(e.i=t,function(e,t){t&&!e.j&&(ft(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(mt(this,t),yt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=it(t,ut)),e.i=new ht(t,e.l))}function nt(e,t,n){e.i.set(t,n)}function rt(e){return nt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function st(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function it(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,at),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function at(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Xe.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(it(t,ot,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(it(t,ot,!0),"@"),e.push(Ee(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(it(n,"/"==n.charAt(0)?ct:lt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",it(n,dt)),e.join("")},Xe.prototype.resolve=function(e){const t=Je(this);let n=!!e.j;n?Ze(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)et(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var s=t.h.lastIndexOf("/");-1!=s&&(r=t.h.slice(0,s+1)+r)}if(".."==(s=r)||"."==s)r="";else if(-1!=s.indexOf("./")||-1!=s.indexOf("/.")){r=0==s.lastIndexOf("/",0),s=s.split("/");const e=[];for(let t=0;t<s.length;){const n=s[t++];"."==n?r&&t==s.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==s.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=s}return n?t.h=r:n=""!==e.i.toString(),n?tt(t,bt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ot=/[#\/\?@]/g,lt=/[#\?:]/g,ct=/[#\?]/g,ut=/[#\?@]/g,dt=/#/g;function ht(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ft(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let s,i=null;r>=0?(s=e[n].substring(0,r),i=e[n].substring(r+1)):s=e[n],t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function mt(e,t){ft(e),t=xt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function pt(e,t){return ft(e),t=xt(e,t),e.g.has(t)}function gt(e,t){ft(e);let n=[];if("string"==typeof t)pt(e,t)&&(n=n.concat(e.g.get(xt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function yt(e,t,n){mt(e,t),n.length>0&&(e.i=null,e.g.set(xt(e,t),h(n)),e.h+=n.length)}function bt(e){const t=new ht;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function vt(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(i){}}function wt(){this.g=new ie}function St(e){this.i=e.Sb||null,this.h=e.ab||!1}function kt(e,t){Q.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Nt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function jt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Et(e)}function Et(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function _t(e){let t="";return P(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Ct(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=_t(n),"string"==typeof e?null!=n&&Ee(n):nt(e,t,n))}function Tt(e){Q.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=ht.prototype).add=function(e,t){ft(this),this.i=null,e=xt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){ft(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return ft(this),this.i=null,pt(this,e=xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=gt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const s=Ee(n);n=gt(this,n);for(let t=0;t<n.length;t++){let r=s;""!==n[t]&&(r+="="+Ee(n[t])),e.push(r)}}return this.i=e.join("&")},u(St,ae),St.prototype.g=function(){return new kt(this.i,this.h)},u(kt,Q),(e=kt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Et(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||i).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,jt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Et(this)),this.g&&(this.readyState=3,Et(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(void 0!==i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Nt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jt(this):Et(this),3==this.readyState&&Nt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,jt(this))},e.Na=function(e){this.g&&(this.response=e,jt(this))},e.ga=function(){this.g&&jt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(kt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Tt,Q);var At=/^https?$/i,It=["POST","PUT"];function Pt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Mt(e),Rt(e)}function Mt(e){e.A||(e.A=!0,Y(e,"complete"),Y(e,"error"))}function Dt(e){if(e.h&&void 0!==s)if(e.v&&4==Ot(e))setTimeout(e.Ca.bind(e),0);else if(Y(e,"readystatechange"),4==Ot(e)){e.h=!1;try{const s=e.ca();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){let t=String(e.D).match(Ye)[1]||null;!t&&i.self&&i.self.location&&(t=i.self.location.protocol.slice(0,-1)),r=!At.test(t?t.toLowerCase():"")}n=r}if(n)Y(e,"complete"),Y(e,"success");else{e.o=6;try{var a=Ot(e)>2?e.g.statusText:""}catch(o){a=""}e.l=a+" ["+e.ca()+"]",Mt(e)}}finally{Rt(e)}}}function Rt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||Y(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Ot(e){return e.g?e.g.readyState:0}function Ft(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Lt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Bt(e){this.za=0,this.i=[],this.j=new ve,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Lt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Lt("baseRetryDelayMs",5e3,e),this.Za=Lt("retryDelaySeedMs",1e4,e),this.Ta=Lt("forwardChannelMaxRetries",2,e),this.va=Lt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new qe(e&&e.concurrentRequestLimit),this.Ba=new wt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Ut(e){if(Vt(e),3==e.I){var t=e.V++,n=Je(e.J);if(nt(n,"SID",e.M),nt(n,"RID",t),nt(n,"TYPE","terminate"),$t(e,n),(t=new Ce(e,e.j,t)).M=2,t.A=rt(Je(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.A,n=!0),n||(t.g=rn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Oe(t)}tn(e)}function zt(e){e.g&&(Qt(e),e.g.cancel(),e.g=null)}function Vt(e){zt(e),e.v&&(i.clearTimeout(e.v),e.v=null),Xt(e),e.h.cancel(),e.m&&("number"==typeof e.m&&i.clearTimeout(e.m),e.m=null)}function qt(e){if(!Ge(e.h)&&!e.m){e.m=!0;var t=e.Ea;b||w(),x||(b(),x=!0),v.add(t,e),e.D=0}}function Gt(e,t){var n;n=t?t.l:e.V++;const r=Je(e.J);nt(r,"SID",e.M),nt(r,"RID",n),nt(r,"AID",e.K),$t(e,r),e.u&&e.o&&Ct(r,e.u,e.o),n=new Ce(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Ht(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),We(e.h,n),Pe(n,r,t)}function $t(e,t){e.H&&P(e.H,function(e,n){nt(t,n,e)}),e.l&&P({},function(e,n){nt(t,n,e)})}function Ht(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let u=0;u<n;u++){var i=s[u].g;const n=s[u].map;if((i-=t)<0)t=Math.max(0,s[u].g-100),l=!1;else try{i="req"+i+"_"||"";try{var o=n instanceof Map?n:Object.entries(n);for(const[t,n]of o){let r=n;a(n)&&(r=re(n)),e.push(i+t+"="+encodeURIComponent(r))}}catch(c){throw e.push(i+"type="+encodeURIComponent("_badmap")),c}}catch(c){r&&r(n)}}if(l){o=e.join("&");break e}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Wt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;b||w(),x||(b(),x=!0),v.add(t,e),e.A=0}}function Kt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=xe(l(e.Da,e),Zt(e,e.A)),e.A++,!0)}function Qt(e){null!=e.B&&(i.clearTimeout(e.B),e.B=null)}function Yt(e){e.g=new Ce(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=Je(e.na);nt(t,"RID","rpc"),nt(t,"SID",e.M),nt(t,"AID",e.K),nt(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&nt(t,"TO",e.ia),nt(t,"TYPE","xmlhttp"),$t(e,t),e.u&&e.o&&Ct(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=rt(Je(t)),n.u=null,n.R=!0,Me(n,e)}function Xt(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function Jt(e,t){var n=null;if(e.g==t){Xt(e),Qt(e),e.g=null;var r=2}else{if(!He(e.h,t))return;n=t.G,Ke(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var s=e.D;Y(r=fe(),new be(r,n)),qt(e)}else Wt(e);else if(3==(s=t.m)||0==s&&t.X>0||!(1==r&&function(e,t){return!($e(e.h)>=e.h.j-(e.m?1:0)||(e.m?(e.i=t.G.concat(e.i),0):1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta)||(e.m=xe(l(e.Ea,e,t),Zt(e,e.D)),e.D++,0)))}(e,t)||2==r&&Kt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),s){case 1:en(e,5);break;case 4:en(e,10);break;case 3:en(e,6);break;default:en(e,2)}}function Zt(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function en(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Xe(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||Ze(r,"https"),rt(r),t?function(e,t){const n=new ve;if(i.Image){const r=new Image;r.onload=c(vt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(vt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(vt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(vt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new ve;const n=new AbortController,r=setTimeout(()=>{n.abort(),vt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?vt(0,0,!0,t):vt(0,0,!1,t)}).catch(()=>{clearTimeout(r),vt(0,0,!1,t)})}(r.toString(),n)}else ye(2);e.I=0,e.l&&e.l.pa(t),tn(e),Vt(e)}function tn(e){if(e.I=0,e.ja=[],e.l){const t=Qe(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function nn(e,t,n){var r=n instanceof Xe?Je(n):new Xe(n);if(""!=r.g)t&&(r.g=t+"."+r.g),et(r,r.u);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;const e=new Xe(null);r&&Ze(e,r),t&&(e.g=t),s&&et(e,s),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&nt(r,n,t),nt(r,"VER",e.ka),$t(e,r),r}function rn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Tt(new St({ab:n})):new Tt(e.ma)).Fa(e.L),t}function sn(){}function an(){}function on(e,t){Q.call(this),this.g=new Bt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!E(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!E(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new un(this)}function ln(e){ce.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function cn(){ue.call(this),this.status=1}function un(e){this.g=e}(e=Tt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Se.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Pt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(Array.prototype.indexOf.call(It,t,void 0)>=0)||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(a){Pt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,Y(this,"complete"),Y(this,"abort"),Rt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Rt(this,!0)),Tt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Dt(this):this.Xa())},e.Xa=function(){Dt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ot(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),se(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=Bt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){ye(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=nn(this,null,this.W),qt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const s=new Ce(this,this.j,e);let i=this.o;if(this.U&&(i?(i=M(i),R(i,this.U)):i=this.U),null!==this.u||this.R||(s.J=i,i=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ht(this,s,t),nt(n=Je(this.J),"RID",e),nt(n,"CVER",22),this.G&&nt(n,"X-HTTP-Session-Id",this.G),$t(this,n),i&&(this.R?t="headers="+Ee(_t(i))+"&"+t:this.u&&Ct(n,this.u,i)),We(this.h,s),this.Ra&&nt(n,"TYPE","init"),this.S?(nt(n,"$req",t),nt(n,"SID","null"),s.U=!0,Pe(s,n,null)):Pe(s,n,t),this.I=2}}else 3==this.I&&(e?Gt(this,e):0==this.i.length||Ge(this.h)||Gt(this))},e.Da=function(){if(this.v=null,Yt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=xe(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),zt(this),Yt(this))},e.Va=function(){null!=this.C&&(this.C=null,zt(this),Kt(this),ye(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=sn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},an.prototype.g=function(e,t){return new on(e,t)},u(on,Q),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Ut(this.g)},on.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=re(e),e=n);t.i.push(new Ve(t.Ya++,e)),3==t.I&&qt(t)},on.prototype.N=function(){this.g.l=null,delete this.j,Ut(this.g),delete this.g,on.Z.N.call(this)},u(ln,ce),u(cn,ue),u(un,sn),un.prototype.ra=function(){Y(this.g,"a")},un.prototype.qa=function(e){Y(this.g,new ln(e))},un.prototype.pa=function(e){Y(this.g,new cn)},un.prototype.oa=function(){Y(this.g,"b")},an.prototype.createWebChannel=an.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,xk=function(){return new an},bk=function(){return fe()},yk=de,gk={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,pk=ke,Ne.COMPLETE="complete",mk=Ne,oe.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",Q.prototype.listen=Q.prototype.J,fk=oe,Tt.prototype.listenOnce=Tt.prototype.K,Tt.prototype.getLastError=Tt.prototype.Ha,Tt.prototype.getLastErrorCode=Tt.prototype.ya,Tt.prototype.getStatus=Tt.prototype.ca,Tt.prototype.getResponseJson=Tt.prototype.La,Tt.prototype.getResponseText=Tt.prototype.la,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Fa,hk=Tt}).apply(void 0!==vk?vk:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const wk="@firebase/firestore",Sk="4.9.2";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kk.UNAUTHENTICATED=new kk(null),kk.GOOGLE_CREDENTIALS=new kk("google-credentials-uid"),kk.FIRST_PARTY=new kk("first-party-uid"),kk.MOCK_USER=new kk("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Nk="12.3.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=new Qw("@firebase/firestore");function Ek(){return jk.logLevel}function _k(e,...t){if(jk.logLevel<=qw.DEBUG){const n=t.map(Ak);jk.debug(`Firestore (${Nk}): ${e}`,...n)}}function Ck(e,...t){if(jk.logLevel<=qw.ERROR){const n=t.map(Ak);jk.error(`Firestore (${Nk}): ${e}`,...n)}}function Tk(e,...t){if(jk.logLevel<=qw.WARN){const n=t.map(Ak);jk.warn(`Firestore (${Nk}): ${e}`,...n)}}function Ak(e){if("string"==typeof e)return e;try{
/**
    * @license
    * Copyright 2020 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */
return t=e,JSON.stringify(t)}catch(n){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Pk(e,r,n)}function Pk(e,t,n){let r=`FIRESTORE (${Nk}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(s){r+=" CONTEXT: "+n}throw Ck(r),new Error(r)}function Mk(e,t,n,r){let s="Unexpected state";"string"==typeof n?s=n:r=n,e||Pk(t,s,r)}function Dk(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ok extends Mw{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(kk.UNAUTHENTICATED))}shutdown(){}}class Uk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zk{constructor(e){this.t=e,this.currentUser=kk.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Mk(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new Fk;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fk,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=s;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{_k("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(_k("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fk)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(_k("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Mk("string"==typeof t.accessToken,31837,{l:t}),new Lk(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mk(null===e||"string"==typeof e,2055,{h:e}),new kk(e)}}class Vk{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=kk.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qk{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Vk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(kk.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $k{constructor(e,t){var n;this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,null!=(n=e)&&void 0!==n.settings&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Mk(void 0===this.o,3512);const n=e=>{null!=e.error&&_k("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,_k("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{_k("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):_k("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Gk(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Mk("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Gk(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Hk(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Kk(e,t){return e<t?-1:e>t?1:0}function Qk(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),s=t.charAt(r);if(n!==s)return Jk(n)===Jk(s)?Kk(n,s):Jk(n)?1:-1}return Kk(e.length,t.length)}const Yk=55296,Xk=57343;function Jk(e){const t=e.charCodeAt(0);return t>=Yk&&t<=Xk}function Zk(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="__name__";class tN{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ik(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Ik(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===tN.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tN?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=tN.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Kk(e.length,t.length)}static compareSegments(e,t){const n=tN.isNumericId(e),r=tN.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?tN.extractNumericId(e).compare(tN.extractNumericId(t)):Qk(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ck.fromString(e.substring(4,e.length-2))}}class nN extends tN{construct(e,t,n){return new nN(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ok(Rk.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new nN(t)}static emptyPath(){return new nN([])}}const rN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sN extends tN{construct(e,t,n){return new sN(e,t,n)}static isValidIdentifier(e){return rN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sN.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===eN}static keyField(){return new sN([eN])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new Ok(Rk.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ok(Rk.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ok(Rk.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new Ok(Rk.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sN(t)}static emptyPath(){return new sN([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.path=e}static fromPath(e){return new iN(nN.fromString(e))}static fromName(e){return new iN(nN.fromString(e).popFirst(5))}static empty(){return new iN(nN.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nN.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nN.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new iN(new nN(e.slice()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(e,t,n){if(!n)throw new Ok(Rk.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function oN(e,t,n,r){if(!0===t&&!0===r)throw new Ok(Rk.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function lN(e){if(!iN.isDocumentKey(e))throw new Ok(Rk.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function cN(e){if(iN.isDocumentKey(e))throw new Ok(Rk.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function uN(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function dN(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":Ik(12329,{type:typeof e})}function hN(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ok(Rk.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dN(e);throw new Ok(Rk.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(e,t){const n={typeString:e};return t&&(n.value=t),n}function mN(e,t){if(!uN(e))throw new Ok(Rk.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(s&&typeof a!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(void 0!==i&&a!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Ok(Rk.INVALID_ARGUMENT,n);return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=-62135596800,gN=1e6;class yN{static now(){return yN.fromMillis(Date.now())}static fromDate(e){return yN.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*gN);return new yN(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ok(Rk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ok(Rk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pN)throw new Ok(Rk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ok(Rk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gN}_compareTo(e){return this.seconds===e.seconds?Kk(this.nanoseconds,e.nanoseconds):Kk(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yN._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mN(e,yN._jsonSchema))return new yN(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yN._jsonSchemaVersion="firestore/timestamp/1.0",yN._jsonSchema={type:fN("string",yN._jsonSchemaVersion),seconds:fN("number"),nanoseconds:fN("number")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class bN{static fromTimestamp(e){return new bN(e)}static min(){return new bN(new yN(0,0))}static max(){return new bN(new yN(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(e){return new vN(e.readTime,e.key,-1)}class vN{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new vN(bN.min(),iN.empty(),-1)}static max(){return new vN(bN.max(),iN.empty(),-1)}}function wN(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=iN.comparator(e.documentKey,t.documentKey),0!==n?n:Kk(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class SN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(e){if(e.code!==Rk.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;_k("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ik(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new NN((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof NN?t:NN.resolve(t)}catch(t){return NN.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):NN.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):NN.reject(t)}static resolve(e){return new NN((t,n)=>{t(e)})}static reject(e){return new NN((t,n)=>{n(e)})}static waitFor(e){return new NN((t,n)=>{let r=0,s=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++s,i&&s===r&&t()},e=>n(e))}),i=!0,s===r&&t()})}static or(e){let t=NN.resolve(!1);for(const n of e)t=t.next(e=>e?NN.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new NN((n,r)=>{const s=e.length,i=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next(e=>{i[l]=e,++a,a===s&&n(i)},e=>r(e))}})}static doWhile(e,t){return new NN((n,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):n()};s()})}}function jN(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}EN.ce=-1;function _N(e){return null==e}function CN(e){return 0===e&&1/e==-1/0}function TN(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function AN(e){return e+""}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function PN(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function MN(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,t){this.comparator=e,this.root=t||ON.EMPTY}insert(e,t){return new DN(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ON.BLACK,null,null))}remove(e){return new DN(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ON.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new RN(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new RN(this.root,e,this.comparator,!1)}getReverseIterator(){return new RN(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new RN(this.root,e,this.comparator,!0)}}class RN{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ON{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:ON.RED,this.left=null!=r?r:ON.EMPTY,this.right=null!=s?s:ON.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new ON(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ON.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ON.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ON.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ON.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ik(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ik(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ik(27949);return e+(this.isRed()?0:1)}}ON.EMPTY=null,ON.RED=!0,ON.BLACK=!1,ON.EMPTY=new class{constructor(){this.size=0}get key(){throw Ik(57766)}get value(){throw Ik(16141)}get color(){throw Ik(16727)}get left(){throw Ik(29726)}get right(){throw Ik(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new ON(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class FN{constructor(e){this.comparator=e,this.data=new DN(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new LN(this.data.getIterator())}getIteratorFrom(e){return new LN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof FN))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new FN(this.comparator);return t.data=e,t}}class LN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.fields=e,e.sort(sN.comparator)}static empty(){return new BN([])}unionWith(e){let t=new FN(sN.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new BN(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zk(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new UN("Invalid base64 string: "+t):t}}(e);return new zN(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new zN(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kk(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zN.EMPTY_BYTE_STRING=new zN("");const VN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qN(e){if(Mk(!!e,39018),"string"==typeof e){let t=0;const n=VN.exec(e);if(Mk(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:GN(e.seconds),nanos:GN(e.nanos)}}function GN(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function $N(e){return"string"==typeof e?zN.fromBase64String(e):zN.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="server_timestamp",WN="__type__",KN="__previous_value__",QN="__local_write_time__";function YN(e){const t=(e?.mapValue?.fields||{})[WN]?.stringValue;return t===HN}function XN(e){const t=e.mapValue.fields[KN];return YN(t)?XN(t):t}function JN(e){const t=qN(e.mapValue.fields[QN].timestampValue);return new yN(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,t,n,r,s,i,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const ej="(default)";class tj{constructor(e,t){this.projectId=e,this.database=t||ej}static empty(){return new tj("","")}get isDefaultDatabase(){return this.database===ej}isEqual(e){return e instanceof tj&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="__type__",rj="__max__",sj={},ij="__vector__",aj="value";function oj(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?YN(e)?4:function(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===rj}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:function(e){const t=(e?.mapValue?.fields||{})[nj]?.stringValue;return t===ij}(e)?10:11:Ik(28295,{value:e})}function lj(e,t){if(e===t)return!0;const n=oj(e);if(n!==oj(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return JN(e).isEqual(JN(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=qN(e.timestampValue),r=qN(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,$N(e.bytesValue).isEqual($N(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return GN(e.geoPointValue.latitude)===GN(t.geoPointValue.latitude)&&GN(e.geoPointValue.longitude)===GN(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return GN(e.integerValue)===GN(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=GN(e.doubleValue),r=GN(t.doubleValue);return n===r?CN(n)===CN(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Zk(e.arrayValue.values||[],t.arrayValue.values||[],lj);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(IN(n)!==IN(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!lj(n[s],r[s])))return!1;return!0}(e,t);default:return Ik(52216,{left:e})}var r}function cj(e,t){return void 0!==(e.values||[]).find(e=>lj(e,t))}function uj(e,t){if(e===t)return 0;const n=oj(e),r=oj(t);if(n!==r)return Kk(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kk(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=GN(e.integerValue||e.doubleValue),r=GN(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return dj(e.timestampValue,t.timestampValue);case 4:return dj(JN(e),JN(t));case 5:return Qk(e.stringValue,t.stringValue);case 6:return function(e,t){const n=$N(e),r=$N(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=Kk(n[s],r[s]);if(0!==e)return e}return Kk(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Kk(GN(e.latitude),GN(t.latitude));return 0!==n?n:Kk(GN(e.longitude),GN(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return hj(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=t.fields||{},s=n[aj]?.arrayValue,i=r[aj]?.arrayValue,a=Kk(s?.values?.length||0,i?.values?.length||0);return 0!==a?a:hj(s,i)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===sj&&t===sj)return 0;if(e===sj)return 1;if(t===sj)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=Qk(r[a],i[a]);if(0!==e)return e;const t=uj(n[r[a]],s[i[a]]);if(0!==t)return t}return Kk(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Ik(23264,{he:n})}}function dj(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Kk(e,t);const n=qN(e),r=qN(t),s=Kk(n.seconds,r.seconds);return 0!==s?s:Kk(n.nanos,r.nanos)}function hj(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=uj(n[s],r[s]);if(e)return e}return Kk(n.length,r.length)}function fj(e){return mj(e)}function mj(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=qN(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?$N(e.bytesValue).toBase64():"referenceValue"in e?function(e){return iN.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=mj(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+=`${s}:${mj(e.fields[s])}`;return n+"}"}(e.mapValue):Ik(61005,{value:e})}function pj(e){switch(oj(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=XN(e);return t?16+pj(t):16;case 5:return 2*e.stringValue.length;case 6:return $N(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(e.arrayValue.values||[]).reduce((e,t)=>e+pj(t),0);case 10:case 11:return function(e){let t=0;return PN(e.fields,(e,n)=>{t+=e.length+pj(n)}),t}(e.mapValue);default:throw Ik(13486,{value:e})}}function gj(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function yj(e){return!!e&&"integerValue"in e}function bj(e){return!!e&&"arrayValue"in e}function xj(e){return!!e&&"nullValue"in e}function vj(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wj(e){return!!e&&"mapValue"in e}function Sj(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return PN(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Sj(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Sj(e.arrayValue.values[n]);return t}return{...e}}class kj{constructor(e){this.value=e}static empty(){return new kj({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!wj(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sj(t)}setAll(e){let t=sN.emptyPath(),n={},r=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=Sj(e):r.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());wj(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return lj(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];wj(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){PN(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new kj(Sj(this.value))}}function Nj(e){const t=[];return PN(e.fields,(e,n)=>{const r=new sN([e]);if(wj(n)){const e=Nj(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new BN(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class jj{constructor(e,t,n,r,s,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new jj(e,0,bN.min(),bN.min(),bN.min(),kj.empty(),0)}static newFoundDocument(e,t,n,r){return new jj(e,1,t,bN.min(),n,r,0)}static newNoDocument(e,t){return new jj(e,2,t,bN.min(),bN.min(),kj.empty(),0)}static newUnknownDocument(e,t){return new jj(e,3,t,bN.min(),bN.min(),kj.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bN.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kj.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kj.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bN.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof jj&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jj(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,t){this.position=e,this.inclusive=t}}function _j(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(r=i.field.isKeyField()?iN.comparator(iN.fromName(a.referenceValue),n.key):uj(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function Cj(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!lj(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,t="asc"){this.field=e,this.dir=t}}function Aj(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{}class Pj extends Ij{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Bj(e,t,n):"array-contains"===t?new qj(e,n):"in"===t?new Gj(e,n):"not-in"===t?new $j(e,n):"array-contains-any"===t?new Hj(e,n):new Pj(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Uj(e,n):new zj(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(uj(t,this.value)):null!==t&&oj(this.value)===oj(t)&&this.matchesComparison(uj(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ik(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mj extends Ij{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Mj(e,t)}matches(e){return Dj(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Dj(e){return"and"===e.op}function Rj(e){return function(e){for(const t of e.filters)if(t instanceof Mj)return!1;return!0}(e)&&Dj(e)}function Oj(e){if(e instanceof Pj)return e.field.canonicalString()+e.op.toString()+fj(e.value);if(Rj(e))return e.filters.map(e=>Oj(e)).join(",");{const t=e.filters.map(e=>Oj(e)).join(",");return`${e.op}(${t})`}}function Fj(e,t){return e instanceof Pj?(n=e,(r=t)instanceof Pj&&n.op===r.op&&n.field.isEqual(r.field)&&lj(n.value,r.value)):e instanceof Mj?function(e,t){return t instanceof Mj&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Fj(n,t.filters[r]),!0)}(e,t):void Ik(19439);var n,r}function Lj(e){return e instanceof Pj?`${(t=e).field.canonicalString()} ${t.op} ${fj(t.value)}`:e instanceof Mj?function(e){return e.op.toString()+" {"+e.getFilters().map(Lj).join(" ,")+"}"}(e):"Filter";var t}class Bj extends Pj{constructor(e,t,n){super(e,t,n),this.key=iN.fromName(n.referenceValue)}matches(e){const t=iN.comparator(e.key,this.key);return this.matchesComparison(t)}}class Uj extends Pj{constructor(e,t){super(e,"in",t),this.keys=Vj("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class zj extends Pj{constructor(e,t){super(e,"not-in",t),this.keys=Vj("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vj(e,t){return(t.arrayValue?.values||[]).map(e=>iN.fromName(e.referenceValue))}class qj extends Pj{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bj(t)&&cj(t.arrayValue,this.value)}}class Gj extends Pj{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&cj(this.value.arrayValue,t)}}class $j extends Pj{constructor(e,t){super(e,"not-in",t)}matches(e){if(cj(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!cj(this.value.arrayValue,t)}}class Hj extends Pj{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bj(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>cj(this.value.arrayValue,e))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,t=null,n=[],r=[],s=null,i=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.Te=null}}function Kj(e,t=null,n=[],r=[],s=null,i=null,a=null){return new Wj(e,t,n,r,s,i,a)}function Qj(e){const t=Dk(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Oj(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>{return(t=e).field.canonicalString()+t.dir;var t}).join(","),_N(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>fj(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>fj(e)).join(",")),t.Te=e}return t.Te}function Yj(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Aj(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Fj(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Cj(e.startAt,t.startAt)&&Cj(e.endAt,t.endAt)}function Xj(e){return iN.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,t=null,n=[],r=[],s=null,i="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Zj(e){return new Jj(e)}function eE(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function tE(e){return null!==e.collectionGroup}function nE(e){const t=Dk(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new FN(sN.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t})(t).forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Tj(r,n))}),e.has(sN.keyField().canonicalString())||t.Ie.push(new Tj(sN.keyField(),n))}return t.Ie}function rE(e){const t=Dk(e);return t.Ee||(t.Ee=function(e,t){if("F"===e.limitType)return Kj(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Tj(e.field,t)});const n=e.endAt?new Ej(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ej(e.startAt.position,e.startAt.inclusive):null;return Kj(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,nE(e))),t.Ee}function sE(e,t){const n=e.filters.concat([t]);return new Jj(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function iE(e,t,n){return new Jj(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function aE(e,t){return Yj(rE(e),rE(t))&&e.limitType===t.limitType}function oE(e){return`${Qj(rE(e))}|lt:${e.limitType}`}function lE(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>Lj(e)).join(", ")}]`),_N(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>fj(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>fj(e)).join(",")),`Target(${t})`}(rE(e))}; limitType=${e.limitType})`}function cE(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):iN.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of nE(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){const r=_j(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,nE(n),r)||n.endAt&&!function(e,t,n){const r=_j(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,nE(n),r)));var n,r}function uE(e){return(t,n)=>{let r=!1;for(const s of nE(e)){const e=dE(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function dE(e,t,n){const r=e.field.isKeyField()?iN.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?uj(r,s):Ik(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ik(19790,{direction:e.dir})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){PN(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return MN(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=new DN(iN.comparator);function mE(){return fE}const pE=new DN(iN.comparator);function gE(...e){let t=pE;for(const n of e)t=t.insert(n.key,n);return t}function yE(e){let t=pE;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function bE(){return vE()}function xE(){return vE()}function vE(){return new hE(e=>e.toString(),(e,t)=>e.isEqual(t))}const wE=new DN(iN.comparator),SE=new FN(iN.comparator);function kE(...e){let t=SE;for(const n of e)t=t.add(n);return t}const NE=new FN(Kk);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function jE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:CN(t)?"-0":t}}function EE(e){return{integerValue:""+e}}function _E(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!CN(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)?EE(t):jE(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this._=void 0}}function TE(e,t,n){return e instanceof PE?function(e,t){const n={fields:{[WN]:{stringValue:HN},[QN]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&YN(t)&&(t=XN(t)),t&&(n.fields[KN]=t),{mapValue:n}}(n,t):e instanceof ME?DE(e,t):e instanceof RE?OE(e,t):function(e,t){const n=IE(e,t),r=LE(n)+LE(e.Ae);return yj(n)&&yj(e.Ae)?EE(r):jE(e.serializer,r)}(e,t)}function AE(e,t,n){return e instanceof ME?DE(e,t):e instanceof RE?OE(e,t):n}function IE(e,t){return e instanceof FE?yj(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null;var n,r}class PE extends CE{}class ME extends CE{constructor(e){super(),this.elements=e}}function DE(e,t){const n=BE(t);for(const r of e.elements)n.some(e=>lj(e,r))||n.push(r);return{arrayValue:{values:n}}}class RE extends CE{constructor(e){super(),this.elements=e}}function OE(e,t){let n=BE(t);for(const r of e.elements)n=n.filter(e=>!lj(e,r));return{arrayValue:{values:n}}}class FE extends CE{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function LE(e){return GN(e.integerValue||e.doubleValue)}function BE(e){return bj(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,t){this.field=e,this.transform=t}}class zE{constructor(e,t){this.version=e,this.transformResults=t}}class VE{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new VE}static exists(e){return new VE(void 0,e)}static updateTime(e){return new VE(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qE(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class GE{}function $E(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new t_(e.key,VE.none()):new YE(e.key,e.data,VE.none());{const n=e.data,r=kj.empty();let s=new FN(sN.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new XE(e.key,r,new BN(s.toArray()),VE.none())}}function HE(e,t,n){var r;e instanceof YE?function(e,t,n){const r=e.value.clone(),s=ZE(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof XE?function(e,t,n){if(!qE(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ZE(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(JE(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):(r=n,t.convertToNoDocument(r.version).setHasCommittedMutations())}function WE(e,t,n,r){return e instanceof YE?function(e,t,n,r){if(!qE(e.precondition,t))return n;const s=e.value.clone(),i=e_(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof XE?function(e,t,n,r){if(!qE(e.precondition,t))return n;const s=e_(e.fieldTransforms,r,t),i=t.data;return i.setAll(JE(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):(s=t,i=n,qE(e.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):i);var s,i}function KE(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=IE(r.transform,e||null);null!=s&&(null===n&&(n=kj.empty()),n.set(r.field,s))}return n||null}function QE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Zk(n,r,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof ME&&r instanceof ME||n instanceof RE&&r instanceof RE?Zk(n.elements,r.elements,lj):n instanceof FE&&r instanceof FE?lj(n.Ae,r.Ae):n instanceof PE&&r instanceof PE);var n,r}(e,t)))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}class YE extends GE{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class XE extends GE{constructor(e,t,n,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function JE(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function ZE(e,t,n){const r=new Map;Mk(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,o=t.data.field(i.field);r.set(i.field,AE(a,o,n[s]))}return r}function e_(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,TE(e,i,t))}return r}class t_ extends GE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n_ extends GE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&HE(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=WE(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=WE(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=xE();return this.mutations.forEach(r=>{const s=e.get(r.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=t.has(r.key)?null:a;const o=$E(i,a);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(bN.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),kE())}isEqual(e){return this.batchId===e.batchId&&Zk(this.mutations,e.mutations,(e,t)=>QE(e,t))&&Zk(this.baseMutations,e.baseMutations,(e,t)=>QE(e,t))}}class s_{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Mk(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=function(){return wE}();const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new s_(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o_,l_;function c_(e){if(void 0===e)return Ck("GRPC error has no .code"),Rk.UNKNOWN;switch(e){case o_.OK:return Rk.OK;case o_.CANCELLED:return Rk.CANCELLED;case o_.UNKNOWN:return Rk.UNKNOWN;case o_.DEADLINE_EXCEEDED:return Rk.DEADLINE_EXCEEDED;case o_.RESOURCE_EXHAUSTED:return Rk.RESOURCE_EXHAUSTED;case o_.INTERNAL:return Rk.INTERNAL;case o_.UNAVAILABLE:return Rk.UNAVAILABLE;case o_.UNAUTHENTICATED:return Rk.UNAUTHENTICATED;case o_.INVALID_ARGUMENT:return Rk.INVALID_ARGUMENT;case o_.NOT_FOUND:return Rk.NOT_FOUND;case o_.ALREADY_EXISTS:return Rk.ALREADY_EXISTS;case o_.PERMISSION_DENIED:return Rk.PERMISSION_DENIED;case o_.FAILED_PRECONDITION:return Rk.FAILED_PRECONDITION;case o_.ABORTED:return Rk.ABORTED;case o_.OUT_OF_RANGE:return Rk.OUT_OF_RANGE;case o_.UNIMPLEMENTED:return Rk.UNIMPLEMENTED;case o_.DATA_LOSS:return Rk.DATA_LOSS;default:return Ik(39323,{code:e})}}(l_=o_||(o_={}))[l_.OK=0]="OK",l_[l_.CANCELLED=1]="CANCELLED",l_[l_.UNKNOWN=2]="UNKNOWN",l_[l_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",l_[l_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",l_[l_.NOT_FOUND=5]="NOT_FOUND",l_[l_.ALREADY_EXISTS=6]="ALREADY_EXISTS",l_[l_.PERMISSION_DENIED=7]="PERMISSION_DENIED",l_[l_.UNAUTHENTICATED=16]="UNAUTHENTICATED",l_[l_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",l_[l_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",l_[l_.ABORTED=10]="ABORTED",l_[l_.OUT_OF_RANGE=11]="OUT_OF_RANGE",l_[l_.UNIMPLEMENTED=12]="UNIMPLEMENTED",l_[l_.INTERNAL=13]="INTERNAL",l_[l_.UNAVAILABLE=14]="UNAVAILABLE",l_[l_.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const u_=new ck([4294967295,4294967295],0);function d_(e){const t=(new TextEncoder).encode(e),n=new uk;return n.update(t),new Uint8Array(n.digest())}function h_(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new ck([n,r],0),new ck([s,i],0)]}class f_{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new m_(`Invalid padding: ${t}`);if(n<0)throw new m_(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new m_(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new m_(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ck.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(ck.fromNumber(n)));return 1===r.compare(u_)&&(r=new ck([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=d_(e),[n,r]=h_(t);for(let s=0;s<this.hashCount;s++){const e=this.ye(n,r,s);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new f_(s,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.ge)return;const t=d_(e),[n,r]=h_(t);for(let s=0;s<this.hashCount;s++){const e=this.ye(n,r,s);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class m_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,g_.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new p_(bN.min(),r,new DN(Kk),mE(),kE())}}class g_{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new g_(n,t,kE(),kE(),kE())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class b_{constructor(e,t){this.targetId=e,this.Ce=t}}class x_{constructor(e,t,n=zN.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class v_{constructor(){this.ve=0,this.Fe=k_(),this.Me=zN.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=kE(),t=kE(),n=kE();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ik(38017,{changeType:s})}}),new g_(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=k_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Mk(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class w_{constructor(e){this.Ge=e,this.ze=new Map,this.je=mE(),this.Je=S_(),this.He=S_(),this.Ye=new DN(Kk)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Ik(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const s=r.target;if(Xj(s))if(0===n){const e=new iN(s.path);this.et(t,e,jj.newNoDocument(e,bN.min()))}else Mk(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){const n=this.ut(e),s=n?this.ct(n,e,r):1;if(0!==s){this.it(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let i,a;try{i=$N(n).toUint8Array()}catch(o){if(o instanceof UN)return Tk("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new f_(i,r,s)}catch(o){return Tk(o instanceof m_?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const s=this.Ge.ht(),i=`projects/${s.projectId}/databases/${s.database}/documents/${n.path.canonicalString()}`;e.mightContain(i)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const s=this.ot(r);if(s){if(n.current&&Xj(s.target)){const t=new iN(s.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,jj.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=kE();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new p_(e,t,this.Ye,this.je,n);return this.je=mE(),this.Je=S_(),this.He=S_(),this.Ye=new DN(Kk),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new v_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new FN(Kk),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new FN(Kk),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||_k("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new v_),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function S_(){return new DN(iN.comparator)}function k_(){return new DN(iN.comparator)}const N_=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),j_=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),E_=(()=>({and:"AND",or:"OR"}))();class __{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function C_(e,t){return e.useProto3Json||_N(t)?t:{value:t}}function T_(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function A_(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function I_(e,t){return T_(e,t.toTimestamp())}function P_(e){return Mk(!!e,49232),bN.fromTimestamp(function(e){const t=qN(e);return new yN(t.seconds,t.nanos)}(e))}function M_(e,t){return D_(e,t).canonicalString()}function D_(e,t){const n=(r=e,new nN(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?n:n.child(t)}function R_(e){const t=nN.fromString(e);return Mk(Z_(t),10190,{key:t.toString()}),t}function O_(e,t){return M_(e.databaseId,t.path)}function F_(e,t){const n=R_(t);if(n.get(1)!==e.databaseId.projectId)throw new Ok(Rk.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ok(Rk.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new iN(U_(n))}function L_(e,t){return M_(e.databaseId,t)}function B_(e){return new nN(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function U_(e){return Mk(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function z_(e,t,n){return{name:O_(e,t),fields:n.value.mapValue.fields}}function V_(e,t){return{documents:[L_(e,t.path)]}}function q_(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=L_(e,s);const i=function(e){if(0!==e.length)return X_(Mj.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map(e=>{return{field:Q_((t=e).field),direction:H_(t.dir)};var t})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=C_(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:s};var l}function G_(e){let t=function(e){const t=R_(e);return 4===t.length?nN.emptyPath():U_(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Mk(1===r,65062);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=$_(e);return t instanceof Mj&&Rj(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>{return new Tj(Y_((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,_N(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ej(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ej(n,t)}(n.endAt)),function(e,t,n,r,s,i,a,o){return new Jj(e,t,n,r,s,i,a,o)}(t,s,a,i,o,"F",l,c)}function $_(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Y_(e.unaryFilter.field);return Pj.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Y_(e.unaryFilter.field);return Pj.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Y_(e.unaryFilter.field);return Pj.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Y_(e.unaryFilter.field);return Pj.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ik(61313);default:return Ik(60726)}}(e):void 0!==e.fieldFilter?(t=e,Pj.create(Y_(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ik(58110);default:return Ik(50506)}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return Mj.create(e.compositeFilter.filters.map(e=>$_(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ik(1026)}}(e.compositeFilter.op))}(e):Ik(30097,{filter:e});var t}function H_(e){return N_[e]}function W_(e){return j_[e]}function K_(e){return E_[e]}function Q_(e){return{fieldPath:e.canonicalString()}}function Y_(e){return sN.fromServerFormat(e.fieldPath)}function X_(e){return e instanceof Pj?function(e){if("=="===e.op){if(vj(e.value))return{unaryFilter:{field:Q_(e.field),op:"IS_NAN"}};if(xj(e.value))return{unaryFilter:{field:Q_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(vj(e.value))return{unaryFilter:{field:Q_(e.field),op:"IS_NOT_NAN"}};if(xj(e.value))return{unaryFilter:{field:Q_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Q_(e.field),op:W_(e.op),value:e.value}}}(e):e instanceof Mj?function(e){const t=e.getFilters().map(e=>X_(e));return 1===t.length?t[0]:{compositeFilter:{op:K_(e.op),filters:t}}}(e):Ik(54877,{filter:e})}function J_(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Z_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,t,n,r,s=bN.min(),i=bN.min(),a=zN.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new eC(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new eC(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new eC(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new eC(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.yt=e}}function nC(e){const t=G_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?iE(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.Cn=new sC}addToCollectionParentIndex(e,t){return this.Cn.add(t),NN.resolve()}getCollectionParents(e,t){return NN.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return NN.resolve()}deleteFieldIndex(e,t){return NN.resolve()}deleteAllFieldIndexes(e){return NN.resolve()}createTargetIndexes(e,t){return NN.resolve()}getDocumentsMatchingTarget(e,t){return NN.resolve(null)}getIndexType(e,t){return NN.resolve(0)}getFieldIndexes(e,t){return NN.resolve([])}getNextCollectionGroupToUpdate(e){return NN.resolve(null)}getMinOffset(e,t){return NN.resolve(vN.min())}getMinOffsetFromCollectionGroup(e,t){return NN.resolve(vN.min())}updateCollectionGroup(e,t,n){return NN.resolve()}updateIndexEntries(e,t){return NN.resolve()}}class sC{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new FN(nN.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new FN(nN.comparator)).toArray()}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aC=41943040;class oC{static withCacheSize(e){return new oC(e,oC.DEFAULT_COLLECTION_PERCENTILE,oC.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oC.DEFAULT_COLLECTION_PERCENTILE=10,oC.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oC.DEFAULT=new oC(aC,oC.DEFAULT_COLLECTION_PERCENTILE,oC.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oC.DISABLED=new oC(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class lC{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new lC(0)}static cr(){return new lC(-1)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="LruGarbageCollector";function uC([e,t],[n,r]){const s=Kk(e,n);return 0===s?Kk(t,r):s}class dC{constructor(e){this.Ir=e,this.buffer=new FN(uC),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();uC(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hC{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){_k(cC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){jN(e)?_k(cC,"Ignoring IndexedDB error during garbage collection: ",e):await kN(e)}await this.Vr(3e5)})}}class fC{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return NN.resolve(EN.ce);const n=new dC(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(_k("LruGarbageCollector","Garbage collection skipped; disabled"),NN.resolve(iC)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(_k("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iC):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,s,i,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(_k("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(s=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Ek()<=qw.DEBUG&&_k("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${i-c}ms\n\tDetermined least recently used ${r} in `+(a-i)+`ms\n\tRemoved ${s} targets in `+(o-a)+`ms\n\tRemoved ${e} documents in `+(l-o)+`ms\nTotal Duration: ${l-c}ms`),NN.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e})))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class mC{constructor(){this.changes=new hE(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jj.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?NN.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&WE(n.mutation,e,BN.empty(),yN.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,kE()).next(()=>t))}getLocalViewOfDocuments(e,t,n=kE()){const r=bE();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=gE();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=bE();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,kE()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let s=mE();const i=vE(),a=vE();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof XE)?s=s.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),WE(a.mutation,t,a.mutation.getFieldMask(),yN.now())):i.set(t.key,BN.empty())}),this.recalculateAndSaveOverlays(e,s).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>a.set(e,new pC(t,i.get(e)??null))),a))}recalculateAndSaveOverlays(e,t){const n=vE();let r=new DN((e,t)=>e-t),s=kE();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const s of e)s.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||BN.empty();a=s.applyToLocalView(i,a),n.set(e,a);const o=(r.get(s.batchId)||kE()).add(e);r=r.insert(s.batchId,o)})}).next(()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=xE();l.forEach(e=>{if(!s.has(e)){const r=$E(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return NN.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return s=t,iN.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):tE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r);var s}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):NN.resolve(bE());let a=-1,o=s;return i.next(t=>NN.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(t)?NN.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,s)).next(()=>this.computeViews(e,o,t,kE())).next(e=>({batchId:a,changes:yE(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new iN(t)).next(e=>{let t=gE();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let i=gE();return this.indexManager.getCollectionParents(e,s).next(a=>NN.forEach(a,a=>{const o=(l=t,c=a.child(s),new Jj(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r))).next(e=>{s.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,jj.newInvalidDocument(r)))});let n=gE();return e.forEach((e,r)=>{const i=s.get(e);void 0!==i&&WE(i.mutation,r,BN.empty(),yN.now()),cE(t,r)&&(n=n.insert(e,r))}),n})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return NN.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,{id:(n=t).id,version:n.version,createTime:P_(n.createTime)}),NN.resolve();var n}getNamedQuery(e,t){return NN.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,{name:(n=t).name,query:nC(n.bundledQuery),readTime:P_(n.readTime)}),NN.resolve();var n}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.overlays=new DN(iN.comparator),this.qr=new Map}getOverlay(e,t){return NN.resolve(this.overlays.get(t))}getOverlays(e,t){const n=bE();return NN.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),NN.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),NN.resolve()}getOverlaysForCollection(e,t,n){const r=bE(),s=t.length+1,i=new iN(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return NN.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new DN((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=bE(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=bE(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return NN.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new i_(t,n));let s=this.qr.get(t);void 0===s&&(s=kE(),this.qr.set(t,s)),this.qr.set(t,s.add(n.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.sessionToken=zN.EMPTY_BYTE_STRING}getSessionToken(e){return NN.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,NN.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.Qr=new FN(wC.$r),this.Ur=new FN(wC.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new wC(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new wC(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new iN(new nN([])),n=new wC(t,e),r=new wC(t,e+1),s=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),s.push(e.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new iN(new nN([])),n=new wC(t,e),r=new wC(t,e+1);let s=kE();return this.Ur.forEachInRange([n,r],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new wC(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class wC{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return iN.comparator(e.key,t.key)||Kk(e.Yr,t.Yr)}static Kr(e,t){return Kk(e.Yr,t.Yr)||iN.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new FN(wC.$r)}checkEmpty(e){return NN.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new r_(s,t,n,r);this.mutationQueue.push(i);for(const a of r)this.Zr=this.Zr.add(new wC(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return NN.resolve(i)}lookupMutationBatch(e,t){return NN.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),s=r<0?0:r;return NN.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return NN.resolve(0===this.mutationQueue.length?-1:this.tr-1)}getAllMutationBatches(e){return NN.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new wC(t,0),r=new wC(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);s.push(t)}),NN.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new FN(Kk);return t.forEach(e=>{const t=new wC(e,0),r=new wC(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),NN.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;iN.isDocumentKey(s)||(s=s.child(""));const i=new wC(new iN(s),0);let a=new FN(Kk);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},i),NN.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Mk(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return NN.forEach(t.mutations,r=>{const s=new wC(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new wC(t,0),r=this.Zr.firstAfterOrEqual(n);return NN.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,NN.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.ri=e,this.docs=new DN(iN.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return NN.resolve(n?n.document.mutableCopy():jj.newInvalidDocument(t))}getEntries(e,t){let n=mE();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():jj.newInvalidDocument(e))}),NN.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=mE();const i=t.path,a=new iN(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||wN(xN(a),n)<=0||(r.has(a.key)||cE(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return NN.resolve(s)}getAllFromCollectionGroup(e,t,n,r){Ik(9500)}ii(e,t){return NN.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new NC(this)}getSize(e){return NN.resolve(this.size)}}class NC extends mC{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),NN.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.persistence=e,this.si=new hE(e=>Qj(e),Yj),this.lastRemoteSnapshotVersion=bN.min(),this.highestTargetId=0,this.oi=0,this._i=new vC,this.targetCount=0,this.ai=lC.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),NN.resolve()}getLastRemoteSnapshotVersion(e){return NN.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return NN.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),NN.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),NN.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new lC(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,NN.resolve()}updateTargetData(e,t){return this.Pr(t),NN.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,NN.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.si.forEach((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),NN.waitFor(s).next(()=>r)}getTargetCount(e){return NN.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return NN.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),NN.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(t=>{s.push(r.markPotentiallyOrphaned(e,t))}),NN.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),NN.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return NN.resolve(n)}containsKey(e,t){return NN.resolve(this._i.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,t){this.ui={},this.overlays={},this.ci=new EN(0),this.li=!1,this.li=!0,this.hi=new xC,this.referenceDelegate=e(this),this.Pi=new jC(this),this.indexManager=new rC,this.remoteDocumentCache=new kC(e=>this.referenceDelegate.Ti(e)),this.serializer=new tC(t),this.Ii=new yC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new SC(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){_k("MemoryPersistence","Starting transaction:",e);const r=new _C(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return NN.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class _C extends SN{constructor(e){super(),this.currentSequenceNumber=e}}class CC{constructor(e){this.persistence=e,this.Ri=new vC,this.Vi=null}static mi(e){return new CC(e)}get fi(){if(this.Vi)return this.Vi;throw Ik(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),NN.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),NN.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),NN.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return NN.forEach(this.fi,n=>{const r=iN.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,bN.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return NN.or([()=>NN.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class TC{constructor(e,t){this.persistence=e,this.pi=new hE(e=>function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=AN(t)),t=TN(e.get(n),t);return AN(t)}(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=function(e,t){return new fC(e,t)}(this,t)}static mi(e,t){return new TC(e,t)}Ei(){}di(e){return NN.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return NN.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?NN.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,s.removeEntry(r,bN.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),NN.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),NN.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),NN.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),NN.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=pj(e.data.value)),t}br(e,t,n){return NN.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return NN.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=kE(),r=kE();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new AC(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Pw()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}("undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:"")>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.ys(e,t).next(e=>{s.result=e}).next(()=>{if(!s.result)return this.ws(e,t,r,n).next(e=>{s.result=e})}).next(()=>{if(s.result)return;const n=new IC;return this.Ss(e,t,n).next(r=>{if(s.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>s.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Ek()<=qw.DEBUG&&_k("QueryEngine","SDK will not create cache indexes for query:",lE(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),NN.resolve()):(Ek()<=qw.DEBUG&&_k("QueryEngine","Query:",lE(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Ek()<=qw.DEBUG&&_k("QueryEngine","The SDK decides to create cache indexes for query:",lE(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rE(t))):NN.resolve())}ys(e,t){if(eE(t))return NN.resolve(null);let n=rE(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=iE(t,null,"F"),n=rE(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const s=kE(...r);return this.ps.getDocuments(e,s).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.Ds(t,r);return this.Cs(t,i,s,n.readTime)?this.ys(e,iE(t,null,"F")):this.vs(e,i,t,n)}))})))}ws(e,t,n,r){return eE(t)||r.isEqual(bN.min())?NN.resolve(null):this.ps.getDocuments(e,n).next(s=>{const i=this.Ds(t,s);return this.Cs(t,i,n,r)?NN.resolve(null):(Ek()<=qw.DEBUG&&_k("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lE(t)),this.vs(e,i,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=bN.fromTimestamp(1e9===r?new yN(n+1,0):new yN(n,r));return new vN(s,iN.empty(),t)}(r,-1)).next(e=>e))})}Ds(e,t){let n=new FN(uE(e));return t.forEach((t,r)=>{cE(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,n){return Ek()<=qw.DEBUG&&_k("QueryEngine","Using full collection scan to execute query:",lE(t)),this.ps.getDocumentsMatchingQuery(e,t,vN.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="LocalStore";class DC{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new DN(Kk),this.xs=new hE(e=>Qj(e),Yj),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}async function RC(e,t){const n=Dk(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(s=>(r=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const s=[],i=[];let a=kE();for(const e of r){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:s,addedBatchIds:i}))})})}function OC(e){const t=Dk(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function FC(e,t){const n=Dk(e),r=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];t.targetChanges.forEach((i,o)=>{const l=s.get(o);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,i.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(zN.EMPTY_BYTE_STRING,bN.min()).withLastLimboFreeSnapshotVersion(bN.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(o,c),function(e,t,n){if(0===e.resumeToken.approximateByteSize())return!0;if(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8)return!0;return n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,i)&&a.push(n.Pi.updateTargetData(e,c))});let o=mE(),l=kE();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(function(e,t,n){let r=kE(),s=kE();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=mE();return n.forEach((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(bN.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):_k(MC,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)}),{ks:r,qs:s}})}(e,i,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(bN.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return NN.waitFor(a).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=s,e))}function LC(e,t){const n=Dk(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}async function BC(e,t,n){const r=Dk(e),s=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,s))}catch(a){if(!jN(a))throw a;_k(MC,`Failed to update sequence numbers for target ${t}: ${a}`)}r.Ms=r.Ms.remove(t),r.xs.delete(s.target)}function UC(e,t,n){const r=Dk(e);let s=bN.min(),i=kE();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Dk(e),s=r.xs.get(n);return void 0!==s?NN.resolve(r.Ms.get(s)):r.Pi.getTargetData(t,n)}(r,e,rE(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?s:bN.min(),n?i:kE())).next(e=>(function(e,t,n){let r=e.Os.get(t)||bN.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,Qs:i})))}class zC{constructor(){this.activeTargetIds=NE}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class VC{constructor(){this.Mo=new zC,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new zC,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{Oo(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="ConnectivityMonitor";class $C{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_k(GC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){_k(GC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HC=null;function WC(){return null===HC?HC=268435456+Math.round(2147483648*Math.random()):HC++,"0x"+HC.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const KC="RestConnection",QC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===ej?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,s){const i=WC(),a=this.zo(e,t.toUriEncodedString());_k(KC,`Sending RPC '${e}' ${i}:`,a,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,s);const{host:l}=new URL(a),c=Cw(l);return this.Jo(e,a,o,n,c).then(t=>(_k(KC,`Received RPC '${e}' ${i}: `,t),t),t=>{throw Tk(KC,`RPC '${e}' ${i} failed with error: `,t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,s,i){return this.Go(e,t,n,r,s)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Nk,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=QC[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="WebChannelConnection";class ZC extends YC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,s){const i=WC();return new Promise((s,a)=>{const o=new hk;o.setWithCredentials(!0),o.listenOnce(mk.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case pk.NO_ERROR:const t=o.getResponseJson();_k(JC,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case pk.TIMEOUT:_k(JC,`RPC '${e}' ${i} timed out`),a(new Ok(Rk.DEADLINE_EXCEEDED,"Request time out"));break;case pk.HTTP_ERROR:const n=o.getStatus();if(_k(JC,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=e?.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Rk).indexOf(t)>=0?t:Rk.UNKNOWN}(t.status);a(new Ok(e,t.message))}else a(new Ok(Rk.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Ok(Rk.UNAVAILABLE,"Connection failed."));break;default:Ik(9055,{l_:e,streamId:i,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{_k(JC,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(r);_k(JC,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=WC(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=xk(),a=bk(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");_k(JC,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=i.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const f=new XC({Yo:t=>{h?_k(JC,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(_k(JC,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),_k(JC,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(t){setTimeout(()=>{throw t},0)}})};return m(u,fk.EventType.OPEN,()=>{h||(_k(JC,`RPC '${e}' stream ${r} transport opened.`),f.o_())}),m(u,fk.EventType.CLOSE,()=>{h||(h=!0,_k(JC,`RPC '${e}' stream ${r} transport closed`),f.a_(),this.E_(u))}),m(u,fk.EventType.ERROR,t=>{h||(h=!0,Tk(JC,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.a_(new Ok(Rk.UNAVAILABLE,"The operation could not be completed")))}),m(u,fk.EventType.MESSAGE,t=>{if(!h){const n=t.data[0];Mk(!!n,16349);const s=n,i=s?.error||s[0]?.error;if(i){_k(JC,`RPC '${e}' stream ${r} received error:`,i);const t=i.status;let n=function(e){const t=o_[e];if(void 0!==t)return c_(t)}(t),s=i.message;void 0===n&&(n=Rk.INTERNAL,s="Unknown error status: "+t+" with message "+i.message),h=!0,f.a_(new Ok(n,s)),u.close()}else _k(JC,`RPC '${e}' stream ${r} received:`,n),f.u_(n)}}),m(a,yk.STAT_EVENT,t=>{t.stat===gk.PROXY?_k(JC,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===gk.NOPROXY&&_k(JC,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.__()},0),f}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function eT(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(e){return new __(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,t,n=1e3,r=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&_k("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="PersistentStream";class sT{constructor(e,t,n,r,s,i,a,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nT(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Rk.RESOURCE_EXHAUSTED?(Ck(t.toString()),Ck("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Rk.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.D_===t&&this.G_(e,n)},t=>{e(()=>{const e=new Ok(Rk.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return _k(rT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(_k(rT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iT extends sT{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const s="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:Ik(39313,{state:r}),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Mk(void 0===t||"string"==typeof t,58123),zN.fromBase64String(t||"")):(Mk(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),zN.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&function(e){const t=void 0===e.code?Rk.UNKNOWN:c_(e.code);return new Ok(t,e.message||"")}(o);n=new x_(s,i,a,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=F_(e,r.document.name),i=P_(r.document.updateTime),a=r.document.createTime?P_(r.document.createTime):bN.min(),o=new kj({mapValue:{fields:r.document.fields}}),l=jj.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new y_(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=F_(e,r.document),i=r.readTime?P_(r.readTime):bN.min(),a=jj.newNoDocument(s,i),o=r.removedTargetIds||[];n=new y_([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=F_(e,r.document),i=r.removedTargetIds||[];n=new y_([],i,s,null)}else{if(!("filter"in t))return Ik(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new a_(r,s),a=e.targetId;n=new b_(a,i)}}var r;return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return bN.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?bN.min():t.readTime?P_(t.readTime):bN.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=B_(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Xj(r)?{documents:V_(e,r)}:{query:q_(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=A_(e,t.resumeToken);const r=C_(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(bN.min())>0){n.readTime=T_(e,t.snapshotVersion.toTimestamp());const r=C_(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ik(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=B_(this.serializer),t.removeTarget=e,this.q_(t)}}class aT extends sT{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Mk(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Mk(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Mk(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Mk(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?P_(e.updateTime):P_(t);return n.isEqual(bN.min())&&(n=P_(t)),new zE(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=P_(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=B_(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>function(e,t){let n;if(t instanceof YE)n={update:z_(e,t.key,t.value)};else if(t instanceof t_)n={delete:O_(e,t.key)};else if(t instanceof XE)n={update:z_(e,t.key,t.data),updateMask:J_(t.fieldMask)};else{if(!(t instanceof n_))return Ik(16599,{Vt:t.type});n={verify:O_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof PE)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ME)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof RE)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof FE)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Ik(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(s=t.precondition).updateTime?{updateTime:I_(r,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ik(27497))),n;var r,s}(this.serializer,e))};this.q_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{}class lT extends oT{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Ok(Rk.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Go(e,D_(t,n),r,s,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Rk.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ok(Rk.UNKNOWN,e.toString())})}Ho(e,t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Ho(e,D_(t,n),r,i,a,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Rk.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ok(Rk.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class cT{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ck(t),this.aa=!1):_k("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="RemoteStore";class dT{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{vT(this)&&(_k(uT,"Restarting streams for network reachability change."),await async function(e){const t=Dk(e);t.Ea.add(4),await fT(t),t.Ra.set("Unknown"),t.Ea.delete(4),await hT(t)}(this))})}),this.Ra=new cT(n,r)}}async function hT(e){if(vT(e))for(const t of e.da)await t(!0)}async function fT(e){for(const t of e.da)await t(!1)}function mT(e,t){const n=Dk(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),xT(n)?bT(n):LT(n).O_()&&gT(n,t))}function pT(e,t){const n=Dk(e),r=LT(n);n.Ia.delete(t),r.O_()&&yT(n,t),0===n.Ia.size&&(r.O_()?r.L_():vT(n)&&n.Ra.set("Unknown"))}function gT(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bN.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}LT(e).Y_(t)}function yT(e,t){e.Va.Ue(t),LT(e).Z_(t)}function bT(e){e.Va=new w_({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),LT(e).start(),e.Ra.ua()}function xT(e){return vT(e)&&!LT(e).x_()&&e.Ia.size>0}function vT(e){return 0===Dk(e).Ea.size}function wT(e){e.Va=void 0}async function ST(e){e.Ra.set("Online")}async function kT(e){e.Ia.forEach((t,n)=>{gT(e,t)})}async function NT(e,t){wT(e),xT(e)?(e.Ra.ha(t),bT(e)):e.Ra.set("Unknown")}async function jT(e,t,n){if(e.Ra.set("Online"),t instanceof x_&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(r){_k(uT,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ET(e,r)}else if(t instanceof y_?e.Va.Ze(t):t instanceof b_?e.Va.st(t):e.Va.tt(t),!n.isEqual(bN.min()))try{const t=await OC(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Ia.get(r);s&&e.Ia.set(r,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(zN.EMPTY_BYTE_STRING,r.snapshotVersion)),yT(e,t);const s=new eC(r.target,t,n,r.sequenceNumber);gT(e,s)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(s){_k(uT,"Failed to raise snapshot:",s),await ET(e,s)}}async function ET(e,t,n){if(!jN(t))throw t;e.Ea.add(1),await fT(e),e.Ra.set("Offline"),n||(n=()=>OC(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{_k(uT,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await hT(e)})}function _T(e,t){return t().catch(n=>ET(e,n,t))}async function CT(e){const t=Dk(e),n=BT(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:-1;for(;TT(t);)try{const e=await LC(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,AT(t,e)}catch(s){await ET(t,s)}IT(t)&&PT(t)}function TT(e){return vT(e)&&e.Ta.length<10}function AT(e,t){e.Ta.push(t);const n=BT(e);n.O_()&&n.X_&&n.ea(t.mutations)}function IT(e){return vT(e)&&!BT(e).x_()&&e.Ta.length>0}function PT(e){BT(e).start()}async function MT(e){BT(e).ra()}async function DT(e){const t=BT(e);for(const n of e.Ta)t.ea(n.mutations)}async function RT(e,t,n){const r=e.Ta.shift(),s=s_.from(r,t,n);await _T(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await CT(e)}async function OT(e,t){t&&BT(e).X_&&await async function(e,t){if(function(e){switch(e){case Rk.OK:return Ik(64938);case Rk.CANCELLED:case Rk.UNKNOWN:case Rk.DEADLINE_EXCEEDED:case Rk.RESOURCE_EXHAUSTED:case Rk.INTERNAL:case Rk.UNAVAILABLE:case Rk.UNAUTHENTICATED:return!1;case Rk.INVALID_ARGUMENT:case Rk.NOT_FOUND:case Rk.ALREADY_EXISTS:case Rk.PERMISSION_DENIED:case Rk.FAILED_PRECONDITION:case Rk.ABORTED:case Rk.OUT_OF_RANGE:case Rk.UNIMPLEMENTED:case Rk.DATA_LOSS:return!0;default:return Ik(15467,{code:e})}}(n=t.code)&&n!==Rk.ABORTED){const n=e.Ta.shift();BT(e).B_(),await _T(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await CT(e)}var n}(e,t),IT(e)&&PT(e)}async function FT(e,t){const n=Dk(e);n.asyncQueue.verifyOperationInProgress(),_k(uT,"RemoteStore received new credentials");const r=vT(n);n.Ea.add(3),await fT(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await hT(n)}function LT(e){return e.ma||(e.ma=function(e,t,n){const r=Dk(e);return r.sa(),new iT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:ST.bind(null,e),t_:kT.bind(null,e),r_:NT.bind(null,e),H_:jT.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),xT(e)?bT(e):e.Ra.set("Unknown")):(await e.ma.stop(),wT(e))})),e.ma}function BT(e){return e.fa||(e.fa=function(e,t,n){const r=Dk(e);return r.sa(),new aT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:MT.bind(null,e),r_:OT.bind(null,e),ta:DT.bind(null,e),na:RT.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await CT(e)):(await e.fa.stop(),e.Ta.length>0&&(_k(uT,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class UT{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new Fk,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,a=new UT(e,t,i,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ok(Rk.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zT(e,t){if(Ck("AsyncQueue",`${t}: ${e}`),jN(e))return new Ok(Rk.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{static emptySet(e){return new VT(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||iN.comparator(t.key,n.key):(e,t)=>iN.comparator(e.key,t.key),this.keyedMap=gE(),this.sortedSet=new DN(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof VT))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new VT;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.ga=new DN(iN.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ik(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class GT{constructor(e,t,n,r,s,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new GT(e,t,VT.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&aE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class HT{constructor(){this.queries=WT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Dk(e),r=n.queries;n.queries=WT(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Ok(Rk.ABORTED,"Firestore shutting down"))}}function WT(){return new hE(e=>oE(e),aE)}async function KT(e,t){const n=Dk(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.ba()&&t.Da()&&(r=2):(i=new $T,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(a){const e=zT(a,`Initialization of query '${lE(t.query)}' failed`);return void t.onError(e)}n.queries.set(s,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&JT(n)}async function QT(e,t){const n=Dk(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?s=t.Da()?0:1:!i.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function YT(e,t){const n=Dk(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(s)&&(r=!0);t.wa=s}}r&&JT(n)}function XT(e,t,n){const r=Dk(e),s=r.queries.get(t);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(t)}function JT(e){e.Ca.forEach(e=>{e.next()})}var ZT,eA;(eA=ZT||(ZT={})).Ma="default",eA.Cache="cache";class tA{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new GT(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=GT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ZT.Cache}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e){this.key=e}}class rA{constructor(e){this.key=e}}class sA{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kE(),this.mutatedKeys=kE(),this.eu=uE(e),this.tu=new VT(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new qT,r=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=cE(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(i=i.add(u),s=h?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{tu:i,iu:n,Cs:a,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ik(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=r??!1;const a=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==i.length||l?{snapshot:new GT(this.query,e.tu,s,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=kE(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new rA(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new nA(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=kE();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return GT.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const iA="SyncEngine";class aA{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class oA{constructor(e){this.key=e,this.hu=!1}}class lA{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new hE(e=>oE(e),aE),this.Iu=new Map,this.Eu=new Set,this.du=new DN(iN.comparator),this.Au=new Map,this.Ru=new vC,this.Vu={},this.mu=new Map,this.fu=lC.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function cA(e,t,n=!0){const r=AA(e);let s;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await dA(r,t,n,!0),s}async function uA(e,t){const n=AA(e);await dA(n,t,!0,!1)}async function dA(e,t,n,r){const s=await function(e,t){const n=Dk(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(s=>s?(r=s,NN.resolve(r)):n.Pi.allocateTargetId(e).next(s=>(r=new eC(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}(e.localStore,rE(t)),i=s.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await async function(e,t,n,r,s){e.pu=(t,n,r)=>async function(e,t,n,r){let s=t.view.ru(n);s.Cs&&(s=await UC(e.localStore,t.query,!1).then(({documents:e})=>t.view.ru(e,s)));const i=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(s,e.isPrimaryClient,i,a);return NA(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const i=await UC(e.localStore,t,!0),a=new sA(t,i.Qs),o=a.ru(i.documents),l=g_.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=a.applyChanges(o,e.isPrimaryClient,l);NA(e,n,c.au);const u=new aA(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}(e,t,i,"current"===a,s.resumeToken)),e.isPrimaryClient&&n&&mT(e.remoteStore,s),o}async function hA(e,t,n){const r=Dk(e),s=r.Tu.get(t),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(e=>!aE(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await BC(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&pT(r.remoteStore,s.targetId),SA(r,s.targetId)}).catch(kN)):(SA(r,s.targetId),await BC(r.localStore,s.targetId,!0))}async function fA(e,t){const n=Dk(e),r=n.Tu.get(t),s=n.Iu.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pT(n.remoteStore,r.targetId))}async function mA(e,t,n){const r=function(e){const t=Dk(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xA.bind(null,t),t}(e);try{const e=await function(e,t){const n=Dk(e),r=yN.now(),s=t.reduce((e,t)=>e.add(t.key),kE());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=mE(),l=kE();return n.Ns.getEntries(e,s).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(s=>{i=s;const a=[];for(const e of t){const t=KE(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new XE(e.key,t,Nj(t.value.mapValue),VE.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:yE(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new DN(Kk)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await _A(r,e.changes),await CT(r.remoteStore)}catch(s){const e=zT(s,"Failed to persist write");n.reject(e)}}async function pA(e,t){const n=Dk(e);try{const e=await FC(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Mk(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Mk(r.hu,14607):e.removedDocuments.size>0&&(Mk(r.hu,42227),r.hu=!1))}),await _A(n,e,t)}catch(r){await kN(r)}}function gA(e,t,n){const r=Dk(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const s=r.view.va(t);s.snapshot&&e.push(s.snapshot)}),function(e,t){const n=Dk(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const s of n.Sa)s.va(t)&&(r=!0)}),r&&JT(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function yA(e,t,n){const r=Dk(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Au.get(t),i=s&&s.key;if(i){let e=new DN(iN.comparator);e=e.insert(i,jj.newNoDocument(i,bN.min()));const n=kE().add(i),s=new p_(bN.min(),new Map,new DN(Kk),e,n);await pA(r,s),r.du=r.du.remove(i),r.Au.delete(t),EA(r)}else await BC(r.localStore,t,!1).then(()=>SA(r,t,n)).catch(kN)}async function bA(e,t){const n=Dk(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Dk(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let a=NN.resolve();return i.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);Mk(null!==i,48541),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,s))}(n,e,t,s).next(()=>s.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=kE();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);wA(n,r,null),vA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _A(n,e)}catch(s){await kN(s)}}async function xA(e,t,n){const r=Dk(e);try{const e=await function(e,t){const n=Dk(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Mk(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);wA(r,t,n),vA(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await _A(r,e)}catch(s){await kN(s)}}function vA(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function wA(e,t,n){const r=Dk(e);let s=r.Vu[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Vu[r.currentUser.toKey()]=s}}function SA(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||kA(e,t)})}function kA(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(pT(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),EA(e))}function NA(e,t,n){for(const r of n)r instanceof nA?(e.Ru.addReference(r.key,t),jA(e,r)):r instanceof rA?(_k(iA,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||kA(e,r.key)):Ik(19791,{wu:r})}function jA(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(_k(iA,"New document in limbo: "+n),e.Eu.add(r),EA(e))}function EA(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new iN(nN.fromString(t)),r=e.fu.next();e.Au.set(r,new oA(n)),e.du=e.du.insert(n,r),mT(e.remoteStore,new eC(rE(Zj(n.path)),r,"TargetPurposeLimboResolution",EN.ce))}}async function _A(e,t,n){const r=Dk(e),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{a.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){const t=e?!e.fromCache:n?.targetChanges.get(o.targetId)?.current;r.sharedClientState.updateQueryState(o.targetId,t?"current":"not-current")}if(e){s.push(e);const t=AC.As(o.targetId,e);i.push(t)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(e,t){const n=Dk(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>NN.forEach(t,t=>NN.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>NN.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(r){if(!jN(r))throw r;_k(MC,"Failed to update sequence numbers: "+r)}for(const s of t){const e=s.targetId;if(!s.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,s)}}}(r.localStore,i))}async function CA(e,t){const n=Dk(e);if(!n.currentUser.isEqual(t)){_k(iA,"User change. New user:",t.toKey());const e=await RC(n.localStore,t);n.currentUser=t,s="'waitForPendingWrites' promise is rejected due to a user change.",(r=n).mu.forEach(e=>{e.forEach(e=>{e.reject(new Ok(Rk.CANCELLED,s))})}),r.mu.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await _A(n,e.Ls)}var r,s}function TA(e,t){const n=Dk(e),r=n.Au.get(t);if(r&&r.hu)return kE().add(r.key);{let e=kE();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function AA(e){const t=Dk(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yA.bind(null,t),t.Pu.H_=YT.bind(null,t.eventManager),t.Pu.yu=XT.bind(null,t.eventManager),t}class IA{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tT(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return function(e,t,n,r){return new DC(e,t,n,r)}(this.persistence,new PC,e.initialUser,this.serializer)}Cu(e){return new EC(CC.mi,this.serializer)}Du(e){return new VC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}IA.provider={build:()=>new IA};class PA extends IA{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Mk(this.persistence.referenceDelegate instanceof TC,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new hC(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?oC.withCacheSize(this.cacheSizeBytes):oC.DEFAULT;return new EC(e=>TC.mi(e,t),this.serializer)}}class MA{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>gA(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=CA.bind(null,this.syncEngine),await async function(e,t){const n=Dk(e);t?(n.Ea.delete(2),await hT(n)):t||(n.Ea.add(2),await fT(n),n.Ra.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new HT}createDatastore(e){const t=tT(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new ZC(r));var r;return function(e,t,n,r){return new lT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,s){return new dT(e,t,n,r,s)}(this.localStore,this.datastore,e.asyncQueue,e=>gA(this.syncEngine,e,0),$C.v()?new $C:new qC)}createSyncEngine(e,t){return function(e,t,n,r,s,i,a){const o=new lA(e,t,n,r,s,i);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){const t=Dk(e);_k(uT,"RemoteStore shutting down."),t.Ea.add(5),await fT(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}MA.provider={build:()=>new MA};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class DA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ck("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="FirestoreClient";class OA{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=kk.UNAUTHENTICATED,this.clientId=Wk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async e=>{_k(RA,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(_k(RA,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fk;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=zT(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function FA(e,t){e.asyncQueue.verifyOperationInProgress(),_k(RA,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await RC(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function LA(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){_k(RA,"Using user provided OfflineComponentProvider");try{await FA(e,e._uninitializedComponentsProvider._offline)}catch(t){const s=t;if(!("FirebaseError"===(n=s).name?n.code===Rk.FAILED_PRECONDITION||n.code===Rk.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw s;Tk("Error using user provided cache. Falling back to memory cache: "+s),await FA(e,new IA)}}else _k(RA,"Using default OfflineComponentProvider"),await FA(e,new PA(void 0));var n;return e._offlineComponents}(e);_k(RA,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>FT(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>FT(t.remoteStore,n)),e._onlineComponents=t}async function BA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(_k(RA,"Using user provided OnlineComponentProvider"),await LA(e,e._uninitializedComponentsProvider._online)):(_k(RA,"Using default OnlineComponentProvider"),await LA(e,new MA))),e._onlineComponents}async function UA(e){const t=await BA(e),n=t.eventManager;return n.onListen=cA.bind(null,t.syncEngine),n.onUnlisten=hA.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=uA.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=fA.bind(null,t.syncEngine),n}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function zA(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const VA=new Map,qA="firestore.googleapis.com",GA=!0;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new Ok(Rk.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qA,this.ssl=GA}else this.host=e.host,this.ssl=e.ssl??GA;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=aC;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ok(Rk.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zA(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ok(Rk.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Ok(Rk.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Ok(Rk.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class HA{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $A({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ok(Rk.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ok(Rk.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $A(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Bk;switch(e.type){case"firstParty":return new qk(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ok(Rk.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=VA.get(e);t&&(_k("ComponentProvider","Removing Datastore"),VA.delete(e),t.terminate())}(this),Promise.resolve()}}function WA(e,t,n,r={}){e=hN(e,HA);const s=Cw(t),i=e._getSettings(),a={...i,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;s&&(async function(e){(await fetch(e,{credentials:"include"})).ok}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(`https://${o}`),Iw("Firestore",!0)),i.host!==qA&&i.host!==o&&Tk("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:o,ssl:s,emulatorOptions:r};if(!Ow(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=kk.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[ww(JSON.stringify({alg:"none",type:"JWT"})),ww(JSON.stringify(i)),""].join(".")}(r.mockUserToken,e._app?.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Ok(Rk.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new kk(s)}e._authCredentials=new Uk(new Lk(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new KA(this.firestore,e,this._query)}}class QA{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new YA(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new QA(this.firestore,e,this._key)}toJSON(){return{type:QA._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(mN(t,QA._jsonSchema))return new QA(e,n||null,new iN(nN.fromString(t.referencePath)))}}QA._jsonSchemaVersion="firestore/documentReference/1.0",QA._jsonSchema={type:fN("string",QA._jsonSchemaVersion),referencePath:fN("string")};class YA extends KA{constructor(e,t,n){super(e,t,Zj(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new QA(this.firestore,null,new iN(e))}withConverter(e){return new YA(this.firestore,e,this._path)}}function XA(e,t,...n){if(e=Lw(e),aN("collection","path",t),e instanceof HA){const r=nN.fromString(t,...n);return cN(r),new YA(e,null,r)}{if(!(e instanceof QA||e instanceof YA))throw new Ok(Rk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(nN.fromString(t,...n));return cN(r),new YA(e.firestore,null,r)}}function JA(e,t,...n){if(e=Lw(e),1===arguments.length&&(t=Wk.newId()),aN("doc","path",t),e instanceof HA){const r=nN.fromString(t,...n);return lN(r),new QA(e,null,new iN(r))}{if(!(e instanceof QA||e instanceof YA))throw new Ok(Rk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(nN.fromString(t,...n));return lN(r),new QA(e.firestore,e instanceof YA?e.converter:null,new iN(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="AsyncQueue";class eI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nT(this,"async_queue_retry"),this._c=()=>{const e=eT();e&&_k(ZA,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=eT();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=eT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Fk;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jN(e))throw e;_k(ZA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Ck("INTERNAL UNHANDLED ERROR: ",tI(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=UT.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Ik(47125,{Pc:tI(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function tI(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function nI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class rI extends HA{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new eI,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eI(e),this._firestoreClient=void 0,await e}}}function sI(e,t){const n="object"==typeof e?e:function(e=VS){const t=GS.get(e);if(!t&&e===VS&&Ew())return XS();if(!t)throw QS.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:ej,s=function(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const e=jw("firestore");e&&WA(s,...e)}return s}function iI(e){if(e._terminated)throw new Ok(Rk.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){const t=e._freezeSettings(),n=(r=e._databaseId,s=e._app?.options.appId||"",i=e._persistenceKey,a=t,new ZN(r,s,i,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,zA(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator));var r,s,i,a;e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new OA(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){const t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e),e._firestoreClient}class aI{constructor(e){this._byteString=e}static fromBase64String(e){try{return new aI(zN.fromBase64String(e))}catch(t){throw new Ok(Rk.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new aI(zN.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:aI._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mN(e,aI._jsonSchema))return aI.fromBase64String(e.bytes)}}aI._jsonSchemaVersion="firestore/bytes/1.0",aI._jsonSchema={type:fN("string",aI._jsonSchemaVersion),bytes:fN("string")};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class oI{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ok(Rk.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sN(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ok(Rk.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ok(Rk.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Kk(this._lat,e._lat)||Kk(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cI._jsonSchemaVersion}}static fromJSON(e){if(mN(e,cI._jsonSchema))return new cI(e.latitude,e.longitude)}}cI._jsonSchemaVersion="firestore/geoPoint/1.0",cI._jsonSchema={type:fN("string",cI._jsonSchemaVersion),latitude:fN("number"),longitude:fN("number")};
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class uI{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:uI._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mN(e,uI._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new uI(e.vectorValues);throw new Ok(Rk.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}uI._jsonSchemaVersion="firestore/vectorValue/1.0",uI._jsonSchema={type:fN("string",uI._jsonSchemaVersion),vectorValues:fN("object")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const dI=/^__.*__$/;class hI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new XE(e,this.data,this.fieldMask,t,this.fieldTransforms):new YE(e,this.data,t,this.fieldTransforms)}}class fI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new XE(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ik(40011,{Ac:e})}}class pI{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new pI({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return II(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(mI(this.Ac)&&dI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gI{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||tT(e)}Cc(e,t,n,r=!1){return new pI({Ac:e,methodName:t,Dc:n,path:sN.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yI(e){const t=e._freezeSettings(),n=tT(e._databaseId);return new gI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function bI(e,t,n,r,s,i={}){const a=e.Cc(i.merge||i.mergeFields?2:0,t,n,s);_I("Data must be an object, but it was:",a,r);const o=jI(r,a);let l,c;if(i.merge)l=new BN(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=CI(t,r,n);if(!a.contains(s))throw new Ok(Rk.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);PI(e,s)||e.push(s)}l=new BN(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new hI(new kj(o),l,c)}class xI extends lI{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xI}}class vI extends lI{_toFieldTransform(e){return new UE(e.path,new PE)}isEqual(e){return e instanceof vI}}class wI extends lI{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=function(e,t,n){return new pI({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}(this,e,!0),n=this.vc.map(e=>NI(e,t)),r=new ME(n);return new UE(e.path,r)}isEqual(e){return e instanceof wI&&Ow(this.vc,e.vc)}}function SI(e,t,n,r){const s=e.Cc(1,t,n);_I("Data must be an object, but it was:",s,r);const i=[],a=kj.empty();PN(r,(e,r)=>{const o=AI(t,e,n);r=Lw(r);const l=s.yc(o);if(r instanceof xI)i.push(o);else{const e=NI(r,l);null!=e&&(i.push(o),a.set(o,e))}});const o=new BN(i);return new fI(a,o,s.fieldTransforms)}function kI(e,t,n,r,s,i){const a=e.Cc(1,t,n),o=[CI(t,r,n)],l=[s];if(i.length%2!=0)throw new Ok(Rk.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(CI(t,i[h])),l.push(i[h+1]);const c=[],u=kj.empty();for(let h=o.length-1;h>=0;--h)if(!PI(c,o[h])){const e=o[h];let t=l[h];t=Lw(t);const n=a.yc(e);if(t instanceof xI)c.push(e);else{const r=NI(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new BN(c);return new fI(u,d,a.fieldTransforms)}function NI(e,t){if(EI(e=Lw(e)))return _I("Unsupported field value:",t,e),jI(e,t);if(e instanceof lI)return function(e,t){if(!mI(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=NI(s,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Lw(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return _E(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=yN.fromDate(e);return{timestampValue:T_(t.serializer,n)}}if(e instanceof yN){const n=new yN(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:T_(t.serializer,n)}}if(e instanceof cI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof aI)return{bytesValue:A_(t.serializer,e._byteString)};if(e instanceof QA){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:M_(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof uI)return n=e,r=t,{mapValue:{fields:{[nj]:{stringValue:ij},[aj]:{arrayValue:{values:n.toArray().map(e=>{if("number"!=typeof e)throw r.Sc("VectorValues must only contain numeric values.");return jE(r.serializer,e)})}}}}};var n,r;throw t.Sc(`Unsupported field value: ${dN(e)}`)}(e,t)}function jI(e,t){const n={};return MN(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):PN(e,(e,r)=>{const s=NI(r,t.mc(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function EI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof yN||e instanceof cI||e instanceof aI||e instanceof QA||e instanceof lI||e instanceof uI)}function _I(e,t,n){if(!EI(n)||!uN(n)){const r=dN(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function CI(e,t,n){if((t=Lw(t))instanceof oI)return t._internalPath;if("string"==typeof t)return AI(e,t);throw II("Field path arguments must be of type string or ",e,!1,void 0,n)}const TI=new RegExp("[~\\*/\\[\\]]");function AI(e,t,n){if(t.search(TI)>=0)throw II(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new oI(...t.split("."))._internalPath}catch(r){throw II(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function II(e,t,n,r,s){const i=r&&!r.isEmpty(),a=void 0!==s;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=` in field ${r}`),a&&(l+=` in document ${s}`),l+=")"),new Ok(Rk.INVALID_ARGUMENT,o+e+l)}function PI(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new QA(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new DI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(RI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class DI extends MI{data(){return super.data()}}function RI(e,t){return"string"==typeof t?AI(e,t):t instanceof oI?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ok(Rk.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FI{}class LI extends FI{}function BI(e,t,...n){let r=[];t instanceof FI&&r.push(t),r=r.concat(n),function(e){const t=e.filter(e=>e instanceof zI).length,n=e.filter(e=>e instanceof UI).length;if(t>1||t>0&&n>0)throw new Ok(Rk.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)e=s._apply(e);return e}class UI extends LI{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new UI(e,t,n)}_apply(e){const t=this._parse(e);return HI(e._query,t),new KA(e.firestore,e.converter,sE(e._query,t))}_parse(e){const t=yI(e.firestore),n=function(e,t,n,r,s,i,a){let o;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Ok(Rk.INVALID_ARGUMENT,`Invalid Query. You can't perform '${i}' queries on documentId().`);if("in"===i||"not-in"===i){$I(a,i);const t=[];for(const n of a)t.push(GI(r,e,n));o={arrayValue:{values:t}}}else o=GI(r,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||$I(a,i),o=function(e,t,n,r=!1){return NI(n,e.Cc(r?4:3,t))}(n,t,a,"in"===i||"not-in"===i);return Pj.create(s,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class zI extends FI{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zI(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Mj.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const s of r)HI(n,s),n=sE(n,s)}(e._query,t),new KA(e.firestore,e.converter,sE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class VI extends LI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new VI(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Ok(Rk.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ok(Rk.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tj(t,n)}(e._query,this._field,this._direction);return new KA(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Jj(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function qI(e,t="asc"){const n=t,r=RI("orderBy",e);return VI._create(r,n)}function GI(e,t,n){if("string"==typeof(n=Lw(n))){if(""===n)throw new Ok(Rk.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tE(t)&&-1!==n.indexOf("/"))throw new Ok(Rk.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(nN.fromString(n));if(!iN.isDocumentKey(r))throw new Ok(Rk.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gj(e,new iN(r))}if(n instanceof QA)return gj(e,n._key);throw new Ok(Rk.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dN(n)}.`)}function $I(e,t){if(!Array.isArray(e)||0===e.length)throw new Ok(Rk.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function HI(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ok(Rk.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ok(Rk.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class WI{convertValue(e,t="none"){switch(oj(e)){case 0:return null;case 1:return e.booleanValue;case 2:return GN(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($N(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ik(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return PN(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){const t=e.fields?.[aj].arrayValue?.values?.map(e=>GN(e.doubleValue));return new uI(t)}convertGeoPoint(e){return new cI(GN(e.latitude),GN(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=XN(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(JN(e));default:return null}}convertTimestamp(e){const t=qN(e);return new yN(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=nN.fromString(e);Mk(Z_(n),9688,{name:e});const r=new tj(n.get(1),n.get(3)),s=new iN(n.popFirst(5));return r.isEqual(t)||Ck(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class QI{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class YI extends MI{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new XI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(RI("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ok(Rk.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=YI._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}YI._jsonSchemaVersion="firestore/documentSnapshot/1.0",YI._jsonSchema={type:fN("string",YI._jsonSchemaVersion),bundleSource:fN("string","DocumentSnapshot"),bundleName:fN("string"),bundle:fN("string")};class XI extends YI{data(e={}){return super.data(e)}}class JI{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new QI(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new XI(this._firestore,this._userDataWriter,n.key,n,new QI(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ok(Rk.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new XI(e._firestore,e._userDataWriter,n.doc.key,n.doc,new QI(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new XI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new QI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:ZI(t.type),doc:r,oldIndex:s,newIndex:i}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ok(Rk.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=JI._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wk.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ik(61501,{type:e})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(e){e=hN(e,QA);const t=hN(e.firestore,rI);return function(e,t,n={}){const r=new Fk;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new DA({next:o=>{i.Nu(),t.enqueueAndForget(()=>QT(e,a));const l=o.docs.has(n);!l&&o.fromCache?s.reject(new Ok(Rk.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?s.reject(new Ok(Rk.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(o)},error:e=>s.reject(e)}),a=new tA(Zj(n.path),i,{includeMetadataChanges:!0,qa:!0});return KT(e,a)}(await UA(e),e.asyncQueue,t,n,r)),r.promise}(iI(t),e._key).then(n=>lP(t,e,n))}JI._jsonSchemaVersion="firestore/querySnapshot/1.0",JI._jsonSchema={type:fN("string",JI._jsonSchemaVersion),bundleSource:fN("string","QuerySnapshot"),bundleName:fN("string"),bundle:fN("string")};class tP extends WI{constructor(e){super(),this.firestore=e}convertBytes(e){return new aI(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new QA(this.firestore,null,t)}}function nP(e){e=hN(e,KA);const t=hN(e.firestore,rI),n=iI(t),r=new tP(t);return OI(e._query),function(e,t,n={}){const r=new Fk;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new DA({next:n=>{i.Nu(),t.enqueueAndForget(()=>QT(e,a)),n.fromCache&&"server"===r.source?s.reject(new Ok(Rk.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),a=new tA(n,i,{includeMetadataChanges:!0,qa:!0});return KT(e,a)}(await UA(e),e.asyncQueue,t,n,r)),r.promise}(n,e._query).then(n=>new JI(t,r,e,n))}function rP(e,t,n,...r){e=hN(e,QA);const s=hN(e.firestore,rI),i=yI(s);let a;return a="string"==typeof(t=Lw(t))||t instanceof oI?kI(i,"updateDoc",e._key,t,n,r):SI(i,"updateDoc",e._key,t),oP(s,[a.toMutation(e._key,VE.exists(!0))])}function sP(e){return oP(hN(e.firestore,rI),[new t_(e._key,VE.none())])}function iP(e,t){const n=hN(e.firestore,rI),r=JA(e),s=KI(e.converter,t);return oP(n,[bI(yI(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,VE.exists(!1))]).then(()=>r)}function aP(e,...t){e=Lw(e);let n={includeMetadataChanges:!1,source:"default"},r=0;"object"!=typeof t[r]||nI(t[r])||(n=t[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(nI(t[r])){const e=t[r];t[r]=e.next?.bind(e),t[r+1]=e.error?.bind(e),t[r+2]=e.complete?.bind(e)}let i,a,o;if(e instanceof QA)a=hN(e.firestore,rI),o=Zj(e._key.path),i={next:n=>{t[r]&&t[r](lP(a,e,n))},error:t[r+1],complete:t[r+2]};else{const n=hN(e,KA);a=hN(n.firestore,rI),o=n._query;const s=new tP(a);i={next:e=>{t[r]&&t[r](new JI(a,s,n,e))},error:t[r+1],complete:t[r+2]},OI(e._query)}return function(e,t,n,r){const s=new DA(r),i=new tA(t,s,n);return e.asyncQueue.enqueueAndForget(async()=>KT(await UA(e),i)),()=>{s.Nu(),e.asyncQueue.enqueueAndForget(async()=>QT(await UA(e),i))}}(iI(a),o,s,i)}function oP(e,t){return function(e,t){const n=new Fk;return e.asyncQueue.enqueueAndForget(async()=>mA(await function(e){return BA(e).then(e=>e.syncEngine)}(e),t,n)),n.promise}(iI(e),t)}function lP(e,t,n){const r=n.docs.get(t._key),s=new tP(e);return new YI(e,s,t._key,r,new QI(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=yI(e)}set(e,t,n){this._verifyNotCommitted();const r=uP(e,this._firestore),s=KI(r.converter,t,n),i=bI(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,VE.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const s=uP(e,this._firestore);let i;return i="string"==typeof(t=Lw(t))||t instanceof oI?kI(this._dataReader,"WriteBatch.update",s._key,t,n,r):SI(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(i.toMutation(s._key,VE.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=uP(e,this._firestore);return this._mutations=this._mutations.concat(new t_(t._key,VE.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ok(Rk.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uP(e,t){if((e=Lw(e)).firestore!==t)throw new Ok(Rk.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function dP(){return new vI("serverTimestamp")}function hP(...e){return new wI("arrayUnion",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(e){return iI(e=hN(e,rI)),new cP(e,t=>oP(e,t))}!function(e,t=!0){Nk="12.3.0",KS(new Bw("firestore",(e,{instanceIdentifier:n,options:r})=>{const s=e.getProvider("app").getImmediate(),i=new rI(new zk(e.getProvider("auth-internal")),new $k(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ok(Rk.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tj(e.options.projectId,t)}(s,n),s);return r={useFetchStreams:t,...r},i._setSettings(r),i},"PUBLIC").setMultipleInstances(!0)),JS(wk,Sk,e),JS(wk,Sk,"esm2020")}();const mP=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:WI,Bytes:aI,CollectionReference:YA,DocumentReference:QA,DocumentSnapshot:YI,FieldPath:oI,FieldValue:lI,Firestore:rI,FirestoreError:Ok,GeoPoint:cI,Query:KA,QueryCompositeFilterConstraint:zI,QueryConstraint:LI,QueryDocumentSnapshot:XI,QueryFieldFilterConstraint:UI,QueryOrderByConstraint:VI,QuerySnapshot:JI,SnapshotMetadata:QI,Timestamp:yN,VectorValue:uI,WriteBatch:cP,_AutoId:Wk,_ByteString:zN,_DatabaseId:tj,_DocumentKey:iN,_EmptyAuthCredentialsProvider:Bk,_FieldPath:sN,_cast:hN,_logWarn:Tk,_validateIsNotUsedTogether:oN,addDoc:iP,arrayUnion:hP,collection:XA,connectFirestoreEmulator:WA,deleteDoc:sP,doc:JA,ensureFirestoreConfigured:iI,executeWrite:oP,getDoc:eP,getDocs:nP,getFirestore:sI,onSnapshot:aP,orderBy:qI,query:BI,serverTimestamp:dP,updateDoc:rP,writeBatch:fP},Symbol.toStringTag,{value:"Module"}));
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
JS("firebase","12.3.0","app");const pP=sI(XS({apiKey:"AIzaSyCacuEPoqLi5_FYOCnbaz8RPz7HKeF8WZI",authDomain:"usdfg-app.firebaseapp.com",projectId:"usdfg-app",storageBucket:"usdfg-app.firebasestorage.app",messagingSenderId:"10599746981",appId:"1:10599746981:web:97ce124f98f9b96872c4c"}));async function gP(){try{const e=await nP(XA(pP,"challenges"));return console.log(" Firestore connected. Challenges found:",e.size),!0}catch(e){return console.error(" Firestore connection failed:",e),!1}}const yP=XA(pP,"challenges");XA(pP,"users");const bP=async(e,t)=>{try{const n=JA(pP,"challenges",e);await rP(n,{status:t,updatedAt:yN.now()}),console.log(" Challenge status updated:",e,"to",t)}catch(n){throw console.error(" Error updating challenge status:",n),n}},xP=e=>aP(BI(yP,qI("createdAt","desc")),t=>{const n=t.docs.map(e=>({id:e.id,...e.data()}));console.log(" Real-time update: Received",n.length,"challenges"),e(n)},e=>{console.error(" Firestore listener error:",e)}),vP=async()=>{try{const e=BI(yP,qI("createdAt","desc")),t=(await nP(e)).docs.map(e=>({id:e.id,...e.data()}));return console.log(" Fetched",t.length,"challenges"),t}catch(e){return console.error(" Error fetching challenges:",e),[]}},wP=async(e,t)=>{try{const n=JA(pP,"challenges",e),r=await eP(n);if(!r.exists())throw new Error("Challenge not found");const s=r.data();if(s.players&&s.players.length>=s.maxPlayers)throw new Error("Challenge already full");if(s.players&&s.players.includes(t))throw new Error("You are already in this challenge");const i=s.players?[...s.players,t]:[t],a=i.length>=s.maxPlayers;return await rP(n,{players:i,status:a?"in-progress":"active",joinedBy:hP(t),updatedAt:dP()}),console.log(" Player joined challenge:",e),!0}catch(n){throw console.error(" Error joining challenge:",n),n}};async function SP(e){const t=JA(pP,"challenges",e),n=JA(pP,"challenges_archive",e),r=fP(pP);r.set(n,{refId:e,movedAt:yN.now()}),r.delete(t),await r.commit(),console.log(" Challenge archived:",e)}const kP=Object.freeze(Object.defineProperty({__proto__:null,addChallenge:async e=>{try{const t=await iP(yP,{...e,createdAt:yN.now(),players:[e.creator]});return console.log(" Challenge created with ID:",t.id),t.id}catch(t){throw console.error(" Error creating challenge:",t),t}},archiveChallenge:SP,deleteChallenge:async e=>{try{const t=JA(pP,"challenges",e);await sP(t),console.log(" Challenge deleted:",e)}catch(t){throw console.error(" Error deleting challenge:",t),t}},fetchChallenges:vP,joinChallenge:wP,listenToChallenges:xP,testFirestoreConnection:gP,updateChallengeStatus:bP},Symbol.toStringTag,{value:"Module"}));const NP=()=>{const[t,n]=D.useState(()=>"true"===localStorage.getItem("wallet_connected")),[r,s]=D.useState(!1),[i,a]=D.useState(!1),[o,l]=D.useState(!1),[c,u]=D.useState(null),[d,h]=D.useState("All"),[f,m]=D.useState("All"),[p,g]=D.useState(!1),[y,b]=D.useState(.15),[x,v]=D.useState(new Date),[w,S]=D.useState(!0),[k,N]=D.useState(0),j=D.useCallback(async()=>{try{const e=.15,t=.02*(Math.random()-.5),n=Math.max(.01,e+t);b(Number(n.toFixed(4)))}catch(e){console.error("Failed to fetch USDFG price:",e),b(.15)}},[]);D.useEffect(()=>{j();const e=setInterval(j,3e4);return()=>clearInterval(e)},[j]),D.useEffect(()=>{console.log(" Testing Firestore connection..."),gP().then(e=>{e?console.log(" Firebase Firestore is ready for real-time challenges!"):console.error(" Firebase connection failed - check your config")})},[]);const E=D.useCallback(e=>e*y,[y]),{challenges:_,loading:C,error:T}=(()=>{const[e,t]=D.useState([]),[n,r]=D.useState(!0),[s,i]=D.useState(null);return D.useEffect(()=>{console.log(" Setting up real-time challenge listener...");const e=xP(e=>{console.log(" Real-time update received:",e.length,"challenges"),t(e),r(!1),i(null)});return(async()=>{try{const e=await vP();e.length>0&&t(e)}catch(e){console.error(" Failed to fetch initial challenges:",e),i("Failed to load challenges")}})(),()=>{console.log(" Cleaning up challenge listener..."),e()}},[]),{challenges:e,loading:n,error:s}})();!function(e){D.useEffect(()=>{if(!e?.length)return;const t=Date.now();e.forEach(async e=>{e.expiresAt&&(e.expiresAt.toMillis?e.expiresAt.toMillis():e.expiresAt)<t&&("active"===e.status||"pending"===e.status)&&(console.log(" Auto-expiring challenge:",e.id),await bP(e.id,"completed"),setTimeout(async()=>{await SP(e.id),console.log(" Challenge archived:",e.id)},5e3))})},[e])}(_);const A=_.map(e=>{const t=(t=>{switch(t.toLowerCase()){case"head-to-head":case"1v1":return 2;case"tournament":case"bracket":return 8;case"battle royale":return 16;case"team vs team":return 4;default:return e.maxPlayers||2}})(e.mode),n=e.players?.length||1;return{id:e.id,clientId:e.id,title:`${e.game} ${e.mode}`,game:e.game,mode:e.mode,platform:e.platform,username:e.creatorTag,entryFee:e.entryFee,prizePool:e.prizePool,players:n,capacity:t,category:e.category,creator:e.creator,rules:e.rules,createdAt:e.createdAt?.toDate?.()?.toISOString()||(new Date).toISOString(),timestamp:e.createdAt?.toDate?.()?.getTime()||Date.now(),expiresAt:e.expiresAt?.toDate?.()?.getTime()||Date.now()+72e5,status:e.status}});console.log(" Current Firestore challenges for display:",A.length),console.log(" Challenges loading:",C),T&&console.error(" Challenges error:",T),A.length>0&&console.log(" First challenge:",A[0]);const I=A.filter(e=>{const t="All"===d||e.category===d,n="All"===f||e.game===f,r=!p||e.creator===aw();return t&&n&&r}),P=["All",...Array.from(new Set(A.map(e=>e.game)))],M=aw(),O=M&&A.some(e=>e.creator===M&&("active"===e.status||"pending"===e.status));return e.jsxs(e.Fragment,{children:[e.jsxs(Kh,{children:[e.jsx("title",{children:"USDFG Arena - Gaming Platform | USDFGAMING"}),e.jsx("meta",{name:"description",content:"Enter the USDFG Arena - Compete in skill-based challenges, earn USDFG, and prove your gaming prowess."})]}),e.jsxs("div",{className:"min-h-screen bg-background-1 relative",children:[e.jsx("div",{className:"parallax-glow"}),e.jsx("div",{className:"border-b border-soft bg-background-2/80 backdrop-blur-sm neocore-panel",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(R,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-glow-cyan to-glow-electric rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-black font-bold",children:""})}),e.jsx("span",{className:"neocore-h2 text-text-primary",children:"USDFG Arena"})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>{O?alert("You already have an active challenge. Complete or delete it before creating a new one."):(console.log(" CREATE CHALLENGE BUTTON CLICKED!"),s(!0))},disabled:O,className:"elite-btn neocore-button "+(O?"opacity-50 cursor-not-allowed":""),title:O?"You already have an active challenge":"Create a new challenge",children:O?"Active Challenge":"Create Challenge"}),e.jsx(dw,{isConnected:t,onConnect:()=>{n(!0),localStorage.setItem("wallet_connected","true")},onDisconnect:()=>{n(!1),localStorage.removeItem("wallet_connected"),localStorage.removeItem("wallet_address")}})]})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full "+(C||T?"bg-red-400":"bg-green-400 animate-pulse")}),e.jsxs("span",{className:"text-text-dim",children:[C?"Loading...":T?"Error":"Firestore Live","  ",A.length," active challenges"]})]}),e.jsx("div",{className:"text-text-dim",children:"Real-time sync enabled"})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center neocore-section",children:[e.jsxs("div",{className:"inline-flex items-center bg-background-2/60 border border-glow/20 rounded-full px-4 py-2 mb-6 backdrop-blur-sm glow-soft",children:[e.jsx("div",{className:"w-2 h-2 bg-glow-cyan rounded-full mr-2 animate-pulse"}),e.jsx("span",{className:"text-sm text-text-dim mr-2 neocore-body",children:"USDFG Price:"}),e.jsxs("span",{className:"text-glow-cyan font-semibold neocore-body",children:[y.toFixed(4)," USDFG"]}),e.jsx("span",{className:"text-xs text-text-dim ml-2 neocore-body",children:"Live"})]}),e.jsxs("h1",{className:"neocore-h1",children:["Welcome to the ",e.jsx("span",{className:"bg-gradient-to-r from-glow-cyan to-glow-electric bg-clip-text text-transparent",children:"Arena"})]}),e.jsx("p",{className:"text-xl max-w-2xl mx-auto neocore-body mb-8",children:"Compete in skill-based challenges, earn USDFG, and prove your gaming prowess against players worldwide."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[e.jsx("button",{onClick:()=>s(!0),className:"elite-btn neocore-button px-6 py-3",children:"Create Challenge"}),e.jsx(R,{to:"#challenges",className:"text-glow-cyan underline underline-offset-4 hover:text-glow-cyan/80 transition-colors neocore-body",children:"Browse Challenges"})]}),!t&&e.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-lg p-4 max-w-md mx-auto",children:e.jsx("p",{className:"text-yellow-400 text-sm",children:"Connect your wallet to start competing and earning rewards!"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-black/20 border border-gray-800 rounded-lg p-6 text-center backdrop-blur-sm",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"1,247"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Active Challenges"})]}),e.jsxs("div",{className:"bg-black/20 border border-gray-800 rounded-lg p-6 text-center backdrop-blur-sm",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"8,432"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Players Online"})]}),e.jsxs("div",{className:"bg-black/20 border border-gray-800 rounded-lg p-6 text-center backdrop-blur-sm",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"45,678"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"USDFG Rewarded"})]}),e.jsxs("div",{className:"bg-black/20 border border-gray-800 rounded-lg p-6 text-center backdrop-blur-sm",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("div",{className:"text-2xl font-bold text-white",children:"+12.5%"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Win Rate"})]})]}),e.jsx("section",{id:"challenges",className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Available Challenges"}),e.jsx("button",{onClick:()=>s(!0),className:"bg-gradient-to-r from-cyan-400 to-purple-500 text-black px-4 py-2 rounded-full font-semibold hover:brightness-110 transition-all",children:"Create Challenge"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-black/20 border border-gray-800 rounded-lg backdrop-blur-sm",children:[e.jsxs("div",{className:"p-6 border-b border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[e.jsx("span",{className:"mr-2",children:""}),"Available Challenges"]}),e.jsxs("span",{className:"text-sm text-gray-400",children:[I.length," challenge",1!==I.length?"s":""]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Category:"}),e.jsx("select",{value:d,onChange:e=>h(e.target.value),className:"px-3 py-1.5 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm focus:border-cyan-400 focus:outline-none",children:["All","Fighting","Sports","Shooting","Racing"].map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-400",children:"Game:"}),e.jsx("select",{value:f,onChange:e=>m(e.target.value),className:"px-3 py-1.5 bg-gray-800 border border-gray-600 rounded-lg text-white text-sm focus:border-cyan-400 focus:outline-none",children:P.map(t=>e.jsx("option",{value:t,children:t},t))})]}),t&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:()=>g(!p),className:"px-3 py-1.5 rounded-lg border text-sm transition-all "+(p?"bg-cyan-500/20 border-cyan-500/30 text-cyan-400":"bg-gray-800 border-gray-600 text-white hover:bg-gray-700"),children:p?" My Challenges":" All Challenges"})}),("All"!==d||"All"!==f||p)&&e.jsx("button",{onClick:()=>{h("All"),m("All"),g(!1)},className:"px-3 py-1.5 bg-red-500/20 text-red-400 border border-red-500/30 rounded-lg text-sm hover:bg-red-500/30 transition-colors",children:"Clear Filters"})]})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:0===I.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"No challenges found matching your filters."}),e.jsx("button",{onClick:()=>{h("All"),m("All")},className:"text-cyan-400 hover:text-cyan-300 text-sm underline",children:"Clear filters to see all challenges"})]}):I.map(n=>{const r=(e=>{const t=aw(),n=t&&e.creator===t;return console.log(" Ownership check:",{currentWallet:t?t.slice(0,8)+"...":"null",challengeCreator:e.creator?e.creator.slice(0,8)+"...":"null",isOwner:n}),n})(n);return e.jsxs("div",{className:"challenge-card p-4 cursor-pointer hover:bg-background-2/40 transition-colors "+("completed"===n.status?"challenge-expired":""),onClick:()=>{u(n),l(!0)},children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-glow-pink to-glow-electric rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white",children:""})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-text-primary font-semibold neocore-body",children:n.title}),e.jsxs("p",{className:"text-text-dim text-sm neocore-body",children:[n.category,"  ",n.game]}),n.platform&&n.username&&e.jsxs("p",{className:"text-text-dim/60 text-xs neocore-body",children:[" ",n.platform,"   ",n.username]}),n.createdAt&&e.jsxs("p",{className:"text-text-dim/60 text-xs neocore-body",children:["Created ",new Date(n.createdAt).toLocaleDateString()," at ",new Date(n.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),n.expiresAt&&e.jsxs("p",{className:"text-orange-400/80 text-xs neocore-body",children:[" Expires in ",Math.max(0,Math.floor((n.expiresAt-Date.now())/6e4))," minutes"]}),r&&e.jsx("span",{className:"inline-block px-2 py-1 bg-glow-electric/20 text-glow-electric border border-glow-electric/30 rounded text-xs mt-1 neocore-body",children:"Your Challenge"})]})]}),"active"===n.status&&e.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 border border-green-500/30 rounded text-xs",children:"Active"}),"completed"===n.status&&e.jsx("span",{className:"px-2 py-1 bg-red-500/20 text-red-400 border border-red-500/30 rounded text-xs animate-pulse",children:"Expired"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-white font-semibold",children:[n.entryFee," USDFG"]}),e.jsx("div",{className:"text-gray-400 text-xs",children:"Entry Fee"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-white font-semibold",children:[n.prizePool," USDFG"]}),e.jsx("div",{className:"text-gray-400 text-xs",children:"Prize Pool"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-white font-semibold",children:[n.players,"/",n.capacity]}),e.jsx("div",{className:"text-gray-400 text-xs",children:"Players"})]})]}),(n.description||n.rules||n.requirements)&&e.jsx("div",{className:"mb-4",children:e.jsxs("details",{className:"group",children:[e.jsxs("summary",{className:"cursor-pointer text-sm text-cyan-400 hover:text-cyan-300 flex items-center",children:[e.jsx("span",{className:"mr-2",children:""}),"Challenge Details",e.jsx("span",{className:"ml-auto group-open:rotate-180 transition-transform",children:""})]}),e.jsxs("div",{className:"mt-3 space-y-3 text-sm",children:[n.description&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400 font-medium",children:"Description:"}),e.jsx("p",{className:"text-gray-300 mt-1",children:n.description})]}),n.rules&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400 font-medium",children:"Rules:"}),e.jsx("p",{className:"text-gray-300 mt-1",children:n.rules})]}),n.requirements&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400 font-medium",children:"Requirements:"}),e.jsx("p",{className:"text-gray-300 mt-1",children:n.requirements})]}),n.matchFormat&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400 font-medium",children:"Format:"}),e.jsx("p",{className:"text-gray-300 mt-1",children:n.matchFormat})]}),n.restrictions&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400 font-medium",children:"Restrictions:"}),e.jsx("p",{className:"text-gray-300 mt-1",children:n.restrictions})]})]})]})}),r?e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),(async e=>{if(console.log(" Attempting to delete challenge:",e),window.confirm("Are you sure you want to delete this challenge? This action cannot be undone."))try{const{deleteChallenge:t}=await Xh(async()=>{const{deleteChallenge:e}=await Promise.resolve().then(()=>kP);return{deleteChallenge:e}},void 0);await t(e),console.log(" Challenge deleted from Firestore"),console.log(" Real-time listener will update UI automatically")}catch(t){console.error(" Failed to delete challenge:",t),alert("Failed to delete challenge: "+(t instanceof Error?t.message:"Unknown error"))}})(n.id)},className:"flex-1 px-4 py-2 bg-red-600/20 text-red-400 border border-red-600/30 font-semibold rounded-lg hover:bg-red-600/30 transition-all",children:" Delete"}),e.jsx("button",{onClick:e=>e.stopPropagation(),className:"flex-1 px-4 py-2 bg-gray-600/20 text-gray-400 border border-gray-600/30 font-semibold rounded-lg hover:bg-gray-600/30 transition-all",disabled:!0,children:" Edit (Coming Soon)"})]}):e.jsx("div",{className:"w-full",children:"active"===n.status&&n.players<n.capacity?e.jsx("button",{onClick:()=>{u(n),a(!0)},className:"w-full px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-500 text-white font-semibold rounded-lg hover:brightness-110 transition-all disabled:opacity-50",disabled:!t,children:t?"Join Challenge":"Connect to Join"}):"active"===n.status&&n.players>=n.capacity?e.jsx("div",{className:"w-full px-4 py-2 bg-gray-600/20 text-gray-400 border border-gray-600/30 font-semibold rounded-lg text-center",children:" Challenge Full"}):"completed"===n.status?e.jsx("div",{className:"w-full px-4 py-2 bg-red-600/20 text-red-400 border border-red-600/30 font-semibold rounded-lg text-center",children:" Expired"}):e.jsx("div",{className:"w-full px-4 py-2 bg-gray-600/20 text-gray-400 border border-gray-600/30 font-semibold rounded-lg text-center",children:" View Details"})})]},n.id)})})})]}),e.jsxs("div",{className:"bg-black/20 border border-gray-800 rounded-lg backdrop-blur-sm",children:[e.jsx("div",{className:"p-6 border-b border-gray-800",children:e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[e.jsx("span",{className:"mr-2",children:""}),"Top Players"]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"bg-gradient-to-r from-yellow-500/20 to-orange-500/20 rounded-lg p-4 border border-yellow-500/30",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-black font-bold text-lg",children:"1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:"CryptoGamer_Pro"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"2,847 USDFG earned"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-white font-semibold",children:"94.2%"}),e.jsx("div",{className:"text-gray-400 text-sm",children:"Win Rate"})]})]})})})})]})]})]}),r&&e.jsxs(e.Fragment,{children:[console.log(" MODAL IS RENDERING!"),e.jsx(CP,{onClose:()=>{console.log(" MODAL CLOSING!"),s(!1)},isConnected:t,onConnect:()=>n(!0),onCreateChallenge:async e=>{console.log(" Starting challenge creation process..."),console.log(" Challenge data:",e);try{const t=aw();if(!t)throw new Error("Wallet not connected");const n=A.find(e=>e.creator===t&&("active"===e.status||"pending"===e.status));if(n)return alert("You already have an active challenge. Complete or delete it before creating a new one."),void console.log(" Blocked: User already has active challenge:",n.id);console.log(" No active challenges found, proceeding with creation..."),console.log(" Importing createChallengeOnChain function...");const{createChallengeOnChain:r}=await Xh(async()=>{const{createChallengeOnChain:e}=await Promise.resolve().then(()=>gw);return{createChallengeOnChain:e}},void 0),s=(e=>{switch(e.toLowerCase()){case"head-to-head":case"1v1":default:return 2;case"tournament":case"bracket":return 8;case"battle royale":return 16;case"team vs team":return 4}})(e.mode);console.log(` Setting maxPlayers to ${s} for mode: ${e.mode}`),console.log(" Calling createChallengeOnChain...");const i=await r({game:e.game,entryFee:e.entryFee,maxPlayers:s,rules:e.rules||""});console.log(" Challenge created successfully:",i);const a=.05,o=2*e.entryFee,l=o-o*a,c=e=>["NBA 2K25","FIFA 24","Madden NFL 24"].includes(e)?"Sports":["Street Fighter 6","Tekken 8"].includes(e)?"Fighting":["Call of Duty","Valorant"].includes(e)?"Shooting":["Forza Horizon"].includes(e)?"Racing":"Other",{addChallenge:u}=await Xh(async()=>{const{addChallenge:e}=await Promise.resolve().then(()=>kP);return{addChallenge:e}},void 0),{Timestamp:d}=await Xh(async()=>{const{Timestamp:e}=await Promise.resolve().then(()=>mP);return{Timestamp:e}},void 0),h={creator:t,creatorTag:e.username,game:e.game,mode:"Custom Mode"===e.mode?e.customMode:e.mode,platform:e.platform,entryFee:e.entryFee,maxPlayers:s,rules:e.rules||"",status:"active",players:[t],expiresAt:d.fromDate(new Date(Date.now()+72e5)),solanaAccountId:i,category:c(e.game),prizePool:Math.round(l)};console.log(" Adding challenge to Firestore...");const f=await u(h);console.log(" Challenge added to Firestore with ID:",f),console.log(" Real-time listener will update UI automatically")}catch(t){console.error(" Failed to create challenge:",t),alert("Failed to create challenge: "+(t instanceof Error?t.message:"Unknown error"))}},usdfgPrice:y,usdfgToUsd:E})]}),i&&c&&e.jsx(TP,{challenge:c,onClose:()=>a(!1),isConnected:t,onConnect:()=>n(!0)}),o&&c&&e.jsx(AP,{challenge:c,onClose:()=>l(!1),onJoin:()=>{l(!1),a(!0)},isConnected:t,onConnect:()=>n(!0)}),e.jsx("button",{onClick:()=>s(!0),className:"fixed bottom-6 right-6 sm:hidden bg-gradient-to-r from-cyan-400 to-purple-500 text-black p-4 rounded-full shadow-lg hover:brightness-110 transition-all z-40",children:e.jsx("span",{className:"text-xl",children:"+"})})]})]})},jP=({label:t,children:n,helperText:r})=>e.jsxs("label",{className:"block text-sm",children:[e.jsx("div",{className:"mb-1 block text-sm font-semibold text-white",children:t}),n,r&&e.jsx("p",{className:"text-xs text-muted mb-2 mt-2",children:r})]}),EP=({children:t,onClick:n,disabled:r,className:s="",type:i})=>e.jsx("button",{type:i||"button",disabled:r,onClick:n,className:`inline-flex items-center justify-center rounded-xl px-4 py-2 font-semibold text-black bg-cyan-400 hover:bg-cyan-300 disabled:opacity-50 disabled:cursor-not-allowed ${s}`,children:t}),_P=({children:t,onClick:n,disabled:r,className:s=""})=>e.jsx("button",{disabled:r,onClick:n,className:`inline-flex items-center justify-center rounded-xl px-4 py-2 font-semibold text-white border border-white/20 hover:bg-white/10 disabled:opacity-50 disabled:cursor-not-allowed ${s}`,children:t}),CP=({onClose:t,isConnected:n,onConnect:r,onCreateChallenge:s,usdfgPrice:i,usdfgToUsd:a})=>{const[o,l]=D.useState({game:"NBA 2K25",platform:"PS5",username:"",entryFee:50,mode:"Head-to-Head",customMode:"",rules:"",customRules:!1}),[c,u]=D.useState(1),[d,h]=D.useState(!1),[f,m]=D.useState([]),[p,g]=D.useState(!1),y={"NBA 2K25":["Head-to-Head (Full Game)","Best of 3 Series","Quick Match (2 Quarters)","Park Match (2v2/3v3)","Custom Challenge"],"FIFA 24":["Head-to-Head (Full Match)","Best of 3 Series","Quick Match (2 Halves)","Squad Match (2v2)","Custom Challenge"],"Street Fighter 6":["Versus Match","Best of 3 Series","Elimination Bracket","First to 5","Custom Challenge"],"Call of Duty":["Duel (1v1)","Squad Battle (2v2)","Full Lobby (5v5)","Battle Royale","Custom Challenge"],"Tekken 8":["Versus Match","Best of 3 Series","Elimination Bracket","First to 5","Custom Challenge"],"Forza Horizon":["Time Trial","Head-to-Head Race","Grand Prix Series","Drift Challenge","Custom Challenge"],Valorant:["Duel (1v1)","Squad Battle (2v2)","Full Lobby (5v5)","Tournament Bracket","Custom Challenge"],"Madden NFL 24":["Head-to-Head (Full Game)","Best of 3 Series","Quick Match (2 Quarters)","Squad Match (2v2)","Custom Challenge"],"Other/Custom":["Custom Challenge"]},b={"NBA 2K25":{"Head-to-Head (Full Game)":{rules:["Game Length: 4x6 minute quarters","Difficulty: All-Star","No duplicate teams","Standard NBA rules","Pause abuse = forfeit","Disconnect = forfeit unless rematch agreed"]},"Best of 3 Series":{rules:["First to 2 wins advances","Each game 4x6 minute quarters","Difficulty: All-Star","Disconnect = forfeit unless rematch agreed","Winner keeps team choice","Loser can switch teams"]},"Quick Match (2 Quarters)":{rules:["2 quarters only","Standard teams only","Difficulty: All-Star","No pause abuse","Disconnect = forfeit unless rematch agreed","Quick timeout rules apply"]},"Park Match (2v2/3v3)":{rules:["2v2 or 3v3 MyPlayer mode","No AI teammates","Win by 2 points","Disconnect = forfeit unless rematch agreed","Communication allowed","Standard park rules"]},"Custom Challenge":{rules:["Add your own clear, fair, and balanced rules.","Unclear or unfair custom rules may be rejected.","Ensure both players understand the rules before starting."]}},"FIFA 24":{"Head-to-Head (Full Match)":{rules:["Match length: 6-minute halves","Difficulty: World Class","No duplicate teams","Draw = penalties","Disconnect = forfeit unless rematch agreed","Standard FIFA rules apply"]},"Best of 3 Series":{rules:["First to 2 wins advances","Each match 6-minute halves","Difficulty: World Class","Disconnect = forfeit unless rematch agreed","Winner keeps team choice","Loser can switch teams"]},"Quick Match (2 Halves)":{rules:["2 halves only","Standard teams only","Difficulty: World Class","No pause abuse","Disconnect = forfeit unless rematch agreed","Quick timeout rules apply"]},"Squad Match (2v2)":{rules:["2v2 or 3v3 format","Teams must be different","Voice chat allowed","Both players must agree to restart","Communication required","Standard FIFA squad rules"]},"Custom Challenge":{rules:["Add your own clear, fair, and balanced rules.","Unclear or unfair custom rules may be rejected.","Ensure both players understand the rules before starting."]}},"Street Fighter 6":{"Versus Match":{rules:["Best of 3 rounds per match","Standard character roster","No duplicate characters","Tournament legal stages only","Rage quit = forfeit","Standard round timer (99 seconds)"]},"Best of 3 Series":{rules:["Best of 5 matches","Winner keeps character","Loser can switch","Tournament legal stages","Standard round timer","No pause abuse"]},"Elimination Bracket":{rules:["Single elimination format","Best of 3 per match","Character lock per match","Tournament legal stages","Winner advances","Loser eliminated"]},"First to 5":{rules:["First to 5 wins","Character switching allowed","Tournament legal stages","Standard round timer","No pause abuse","Winner takes all"]},"Custom Challenge":{rules:["Add your own clear, fair, and balanced rules.","Unclear or unfair custom rules may be rejected.","Ensure both players understand the rules before starting."]}},"Call of Duty":{"Duel (1v1)":{rules:["First to 6 rounds wins","Random weapon rotation","No killstreaks","Standard gunfight maps","Connection issues require rematch","No camping allowed"]},"Squad Battle (2v2)":{rules:["First to 6 rounds","Standard loadouts only","Communication allowed","No scorestreaks","Team must stay together","2v2 or 3v3 format"]},"Full Lobby (5v5)":{rules:["Team vs team format","5v5 or 6v6 matches","Standard game modes","Communication allowed","No cheating/exploits","Best of 3 maps"]},"Battle Royale":{rules:["Last player/team standing","Solo or squad entry allowed","No teaming in solos","Standard BR rules","No stream sniping","Connection issues = rematch if early"]},"Custom Challenge":{rules:["Add your own clear, fair, and balanced rules.","Unclear or unfair custom rules may be rejected.","Ensure both players understand the rules before starting."]}},"Tekken 8":{"Versus Match":{rules:["Best of 3 rounds per match","All characters allowed","Tournament legal stages","No rage quitting","Standard round timer","No pause abuse"]},"Best of 3 Series":{rules:["Best of 5 matches","Character switching allowed","Tournament legal stages","Winner keeps character option","Standard combo rules","No infinite combos"]},"Elimination Bracket":{rules:["Single elimination tournament","Best of 3 per match","Character lock per set","Tournament stages only","Winner advances","Standard Tekken rules"]},"First to 5":{rules:["First to 5 wins","Character switching allowed","Tournament legal stages","Standard round timer","No pause abuse","Winner takes all"]},"Custom Challenge":{rules:["Add your own clear, fair, and balanced rules.","Unclear or unfair custom rules may be rejected.","Ensure both players understand the rules before starting."]}},"Forza Horizon":{"Time Trial":{rules:["Best single lap time wins","Stock vehicle restrictions","No collision detection","Track boundaries enforced","3 attempts maximum","Weather conditions: clear"]},"Head-to-Head Race":{rules:["1v1 or small group races","Clean racing required","No ramming/griefing","Stock or tuned vehicles allowed","Best of 3 races","Track vote system"]},"Grand Prix Series":{rules:["Multi-track championship","Points system: 25-18-15-12-10-8-6-4-2-1","Clean racing enforced","Vehicle restrictions by class","Weather randomization","5-7 race series"]},"Drift Challenge":{rules:["Best drift score wins","Stock or tuned vehicles allowed","No collision detection","Track boundaries enforced","3 attempts maximum","Clean racing required"]},"Custom Challenge":{rules:["Add your own clear, fair, and balanced rules.","Unclear or unfair custom rules may be rejected.","Ensure both players understand the rules before starting."]}},Valorant:{"Duel (1v1)":{rules:["First to 13 rounds wins","Standard competitive rules","No coaching mid-game","Agent selection standard","Connection issues = pause/rematch","Anti-cheat required"]},"Squad Battle (2v2)":{rules:["2v2 competitive format","Standard map pool","Agent restrictions by team agreement","Communication allowed","Standard economy rules","Overtime rules apply"]},"Full Lobby (5v5)":{rules:["Full team vs team","Tournament format","Map bans/picks allowed","Professional ruleset","Coaching allowed between maps","Best of 3 maps"]},"Tournament Bracket":{rules:["Single elimination format","Best of 3 maps per match","Map bans/picks allowed","Professional ruleset","Winner advances","Loser eliminated"]},"Custom Challenge":{rules:["Add your own clear, fair, and balanced rules.","Unclear or unfair custom rules may be rejected.","Ensure both players understand the rules before starting."]}},"Madden NFL 24":{"Head-to-Head (Full Game)":{rules:["4x6 minute quarters","All-Pro difficulty","No duplicate teams","Standard NFL rules","No pause abuse","Disconnect = forfeit unless technical issue"]},"Best of 3 Series":{rules:["First to 2 wins advances","Each game 4x6 minute quarters","All-Pro difficulty","Disconnect = forfeit unless technical issue","Winner keeps team choice","Loser can switch teams"]},"Quick Match (2 Quarters)":{rules:["2 quarters only","Standard teams only","All-Pro difficulty","No pause abuse","Disconnect = forfeit unless technical issue","Quick timeout rules apply"]},"Squad Match (2v2)":{rules:["2v2 or 3v3 format","Each player controls specific positions","Communication required","Team coordination essential","Standard game length","No AI assistance"]},"Custom Challenge":{rules:["Add your own clear, fair, and balanced rules.","Unclear or unfair custom rules may be rejected.","Ensure both players understand the rules before starting."]}}},x=D.useCallback(()=>{if(!o.customRules&&"Other/Custom"!==o.game){const e=b[o.game]?.[o.mode];e&&v({rules:e.rules.join("\n ")})}},[o.game,o.mode,o.customRules]),v=D.useCallback(e=>{l(t=>({...t,...e}))},[]),w=D.useCallback(()=>{const e=[];return o.game&&""!==o.game.trim()||e.push("Please select a game"),o.mode&&""!==o.mode.trim()||e.push("Please select a game mode"),"Custom Mode"!==o.mode||o.customMode&&""!==o.customMode.trim()||e.push("Please enter a custom mode name"),o.platform&&""!==o.platform.trim()||e.push("Please select a platform"),o.username&&""!==o.username.trim()||e.push("Please enter your username/gamertag"),(!o.entryFee||o.entryFee<10||o.entryFee>1e4)&&e.push("Entry fee must be between 10 and 10,000 USDFG"),e},[o]),S=D.useCallback(()=>{const e=[];return o.rules&&""!==o.rules.trim()||e.push("Rules cannot be empty"),o.rules&&o.rules.trim().length<10&&e.push("Rules must be at least 10 characters long"),e},[o.rules]),k=D.useCallback(e=>{console.log(" MODAL: handleSubmit called!"),e.preventDefault(),g(!0);const n=[...w(),...S()];m(n),n.length>0?console.log(" MODAL: Validation errors found:",n):(console.log(" MODAL: Validation passed, calling onCreateChallenge with:",o),s(o),t())},[o,s,t,w,S]),N=D.useCallback(()=>{if(g(!0),c<3){let e=[];if(1===c?e=w():2===c&&(e=S()),m(e),e.length>0)return;const t=c+1;u(t),g(!1),m([]),2===t&&setTimeout(()=>x(),100)}},[c,3,x,w,S]),j=D.useCallback(()=>{c>1&&(u(c-1),m([]),g(!1))},[c]),E=D.useCallback(e=>!!p&&f.some(t=>t.toLowerCase().includes(e.toLowerCase())),[p,f]);D.useEffect(()=>{setTimeout(()=>x(),100)},[o.game,o.mode,x]);return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:t}),e.jsxs("div",{className:"relative w-[92vw] max-w-xl max-h-[90vh] rounded-2xl border border-white/10 bg-[#11051E] p-5 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Create Challenge"}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Step ",c," of ",3]})]}),e.jsx("button",{onClick:t,className:"text-white/70 hover:text-white",children:""})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex space-x-2",children:Array.from({length:3},(t,n)=>e.jsx("div",{className:"h-1 flex-1 rounded-full "+(n+1<=c?"bg-cyan-400":"bg-white/10")},n))}),1===c&&e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Step 1 of 3  Game Setup"}),2===c&&e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Step 2 of 3  Rules & Customization"}),3===c&&e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Step 3 of 3  Review & Confirm"})]}),n?e.jsxs("form",{onSubmit:k,className:"mt-4",children:[p&&f.length>0&&e.jsxs("div",{className:"mb-4 p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center text-red-400 text-sm mb-2",children:[e.jsx("span",{className:"mr-2",children:""}),"Please complete the following fields:"]}),e.jsx("ul",{className:"text-red-300 text-xs space-y-1",children:f.map((t,n)=>e.jsxs("li",{children:[" ",t]},n))})]}),1===c&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(jP,{label:e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:""}),"Game Selection"]}),children:e.jsx("select",{value:o.game,onChange:e=>{const t=e.target.value,n=y[t]?.[0]||"Custom Mode";v({game:t,mode:n})},className:"w-full rounded-xl bg-white/5 border border-white/10 px-3 py-2 text-white mt-4 mb-4",children:["NBA 2K25","FIFA 24","Street Fighter 6","Call of Duty","Tekken 8","Forza Horizon","Valorant","Madden NFL 24","Other/Custom"].map(t=>e.jsx("option",{value:t,children:t},t))})}),e.jsxs(jP,{label:" Mode Selection",children:[e.jsx("select",{value:o.mode,onChange:e=>{v({mode:e.target.value}),setTimeout(()=>x(),100)},className:"w-full rounded-xl bg-white/5 border border-white/10 px-3 py-2 text-white mt-4 mb-4",children:y[o.game]?.map(t=>e.jsx("option",{value:t,children:t},t))}),o.mode&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm text-gray-400 italic leading-relaxed",children:(e=>{switch(e){case"Head-to-Head (Full Game)":return"Game Length: 4  6 minute quarters  Difficulty: All-Star  No duplicate teams  Pause abuse = forfeit.";case"Best of 3 Series":return"First to 2 wins advances  Each game 4  6 min quarters  Disconnect = forfeit unless rematch agreed.";case"Quick Match (2 Quarters)":return"2 quarters only  No pause abuse  Standard teams only.";case"Park Match (2v2/3v3)":return"2v2 or 3v3 MyPlayer mode  No AI teammates  Win by 2.";case"Custom Challenge":return"Add your own rules clearly and fairly. Unclear or unfair rules may be rejected.";default:return""}})(o.mode)}),e.jsx("div",{className:"h-[1px] bg-gray-700 my-3"})]})]}),"Custom Mode"===o.mode&&e.jsx(jP,{label:e.jsxs("span",{children:["Custom Mode Name ",e.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),children:e.jsx("input",{type:"text",value:o.customMode,onChange:e=>v({customMode:e.target.value}),className:"w-full rounded-xl bg-white/5 border px-3 py-2 text-white mt-4 mb-4 "+(E("custom mode")?"border-red-500/50 bg-red-500/5":"border-white/10"),placeholder:"Enter your custom mode name...",required:!0})}),e.jsx(jP,{label:e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:""}),"Platform"]}),children:e.jsx("select",{value:o.platform,onChange:e=>v({platform:e.target.value}),className:"w-full rounded-xl bg-white/5 border border-white/10 px-3 py-2 text-white mt-4 mb-4",children:["PS5","Xbox","PC","Switch","Other/Custom"].map(t=>e.jsx("option",{value:t,children:t},t))})}),e.jsx(jP,{label:e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:""}),"Username / Gamertag ",e.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),children:e.jsx("input",{type:"text",value:o.username,onChange:e=>v({username:e.target.value}),className:"w-full rounded-xl bg-white/5 border px-3 py-2 text-white mt-4 mb-4 "+(E("username")?"border-red-500/50 bg-red-500/5":"border-white/10"),placeholder:"PSN ID, Xbox Gamertag, Steam, etc.",required:!0})}),e.jsxs(jP,{label:e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"mr-2",children:""}),"Entry Fee ",e.jsx("span",{className:"text-red-400 ml-1",children:"*"})]}),children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:o.entryFee,onChange:e=>v({entryFee:Number(e.target.value)}),className:"w-full rounded-xl bg-white/5 border px-3 py-2 text-white mt-4 mb-1 "+(E("entry fee")?"border-red-500/50 bg-red-500/5":"border-white/10"),min:"10",max:"10000",placeholder:"50",required:!0}),e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 mt-2",children:e.jsx("span",{className:"text-gray-400 text-sm",children:"USDFG"})})]}),e.jsxs("div",{className:"mt-2 mb-4 p-3 bg-cyan-400/5 border border-cyan-400/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-cyan-400 text-sm",children:" USD Equivalent:"}),e.jsxs("span",{className:"text-white font-semibold",children:[a(o.entryFee).toFixed(2)," USD"]})]}),e.jsxs("div",{className:"text-xs text-gray-400",children:["1 USDFG = ",i.toFixed(4)," USD"]})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Prize pool: ",(2*a(o.entryFee)*.95).toFixed(2)," USD (after 5% platform fee)"]})]})]}),e.jsx("div",{className:"flex justify-end mt-6 mb-4 sticky bottom-0 bg-[#11051E] pt-4",children:e.jsx(EP,{onClick:N,className:"min-h-[44px] px-6 py-3 text-base touch-manipulation",children:"Next"})})]}),2===c&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mb-4",children:[e.jsx("h4",{className:"text-white font-semibold mb-2",children:" Challenge Preview"}),e.jsxs("div",{className:"text-sm text-gray-300",children:[e.jsxs("span",{className:"text-cyan-400",children:[" ",o.game]})," ",e.jsxs("span",{className:"text-purple-400 ml-1",children:[" ","Custom Mode"===o.mode?o.customMode:o.mode]})," ",e.jsxs("span",{className:"text-green-400 ml-1",children:[" ",o.platform]})]})]}),e.jsxs(jP,{label:" Rules & Regulations",children:[e.jsxs("div",{className:"mb-2",children:[e.jsxs("label",{className:"flex items-center text-sm text-gray-300",children:[e.jsx("input",{type:"checkbox",checked:o.customRules,onChange:e=>v({customRules:e.target.checked}),className:"mr-2 rounded border-gray-600 bg-gray-700 text-cyan-400 focus:ring-cyan-400"}),"Custom Rules (override presets)"]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:o.customRules?"Write your own rules to customize the challenge experience.":"Professional rules are auto-generated based on your game and mode selection."})]}),e.jsx("textarea",{value:o.rules,onChange:e=>v({rules:e.target.value}),className:"w-full rounded-xl bg-white/5 border px-3 py-2 text-white h-40 resize-none mt-2 mb-4 "+(E("rules")?"border-red-500/50 bg-red-500/5":"border-white/10"),placeholder:o.customRules?"Enter your custom rules...":"Rules auto-fill based on game and mode selection...",readOnly:!o.customRules&&"Other/Custom"!==o.game,required:!0})]}),!o.customRules&&e.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center text-blue-400 text-sm mb-1",children:[e.jsx("span",{className:"mr-2",children:""}),"Professional Rules Applied"]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["These rules are automatically generated based on competitive standards for ",o.game," ",o.mode," matches."]})]}),e.jsxs("div",{className:"flex justify-between mt-6 mb-4 sticky bottom-0 bg-[#11051E] pt-4",children:[e.jsx(_P,{onClick:j,className:"min-h-[44px] px-6 py-3 text-base touch-manipulation",children:"Back"}),e.jsx(EP,{onClick:N,className:"min-h-[44px] px-6 py-3 text-base touch-manipulation",children:"Review & Create"})]})]}),3===c&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-xl border border-cyan-400/20 bg-cyan-400/5 p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[e.jsx("span",{className:"mr-2",children:""}),"Challenge Summary"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[e.jsx("span",{className:"text-gray-400",children:" Game + Platform:"}),e.jsxs("span",{className:"text-white font-semibold",children:[o.game," (",o.platform,")"]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[e.jsx("span",{className:"text-gray-400",children:" Host Username:"}),e.jsx("span",{className:"text-white font-semibold",children:o.username})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[e.jsx("span",{className:"text-gray-400",children:" Entry Fee:"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-cyan-400 font-bold",children:[o.entryFee," USDFG"]}),e.jsxs("div",{className:"text-xs text-gray-400",children:[a(o.entryFee).toFixed(2)," USD"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/10",children:[e.jsx("span",{className:"text-gray-400",children:" Selected Mode:"}),e.jsx("span",{className:"text-white font-semibold",children:"Custom Mode"===o.mode?o.customMode:o.mode})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-white font-semibold mb-2",children:" Rules List:"}),e.jsx("div",{className:"bg-white/5 rounded-lg p-3 max-h-32 overflow-y-auto",children:e.jsx("pre",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:o.rules})})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(_P,{onClick:j,children:"Back"}),e.jsx(EP,{type:"submit",className:"bg-gradient-to-r from-cyan-400 to-purple-500 hover:from-cyan-300 hover:to-purple-400",children:"Create Challenge"})]})]})]}):e.jsxs("div",{className:"mt-4 rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsx("p",{className:"text-sm text-gray-300",children:"Connect your wallet to start a challenge."}),e.jsx("div",{className:"mt-3",children:e.jsx(EP,{onClick:async()=>{if(cw()){h(!0);try{await iw(),r(),t()}catch(e){console.error("Connection failed:",e)}finally{h(!1)}}else window.open("https://phantom.app/download","_blank")},disabled:d,children:d?"Connecting...":"Connect Phantom"})})]})]})]})},TP=({challenge:t,onClose:n,isConnected:r,onConnect:s})=>{const[i,a]=D.useState("review"),[o,l]=D.useState(null),[c,u]=D.useState(!1);return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:n}),e.jsxs("div",{className:"relative w-[90vw] max-w-md rounded-2xl border border-gray-800 bg-gray-900 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Join Challenge"}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white",children:""})]}),"review"===i&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Challenge:"}),e.jsx("span",{className:"text-white font-medium",children:t.title})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Entry Fee:"}),e.jsxs("span",{className:"text-white font-medium",children:[t.entryFee," USDFG"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Prize Pool:"}),e.jsxs("span",{className:"text-white font-medium",children:[t.prizePool," USDFG"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Players:"}),e.jsxs("span",{className:"text-white font-medium",children:[t.players,"/",t.capacity]})]})]}),e.jsx("p",{className:"text-xs text-gray-400",children:"You will need to approve a transaction in your wallet. Make sure you have enough USDFG and SOL for fees."}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{onClick:async()=>{if(!r)return l("Please connect your wallet first"),void a("error");a("processing");try{const e=aw();if(!e)throw new Error("Wallet not connected");console.log(" Joining challenge:",t.id),await pw(t.id,t.entryFee,e),await wP(t.id,e),console.log(" Successfully joined challenge!"),a("success"),setTimeout(()=>{n()},1500)}catch(e){console.error(" Join failed:",e),l(e.message||"Failed to join challenge. Please try again."),a("error")}},className:"bg-gradient-to-r from-purple-600 to-pink-500 text-white px-6 py-2 rounded-lg font-semibold hover:brightness-110 transition-all",children:"Join Challenge"})]})]}),"processing"===i&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto h-12 w-12 animate-spin rounded-full border-2 border-gray-600 border-t-cyan-400 mb-4"}),e.jsx("p",{className:"text-gray-300",children:"Processing your request..."})]}),"success"===i&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-green-500/20 flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-green-400 text-xl",children:""})}),e.jsx("p",{className:"text-green-400 font-medium",children:"Successfully joined the challenge!"}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Good luck in the Arena!"})]}),"error"===i&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto h-12 w-12 rounded-full bg-red-500/20 flex items-center justify-center mb-4",children:e.jsx("span",{className:"text-red-400 text-xl",children:""})}),e.jsx("p",{className:"text-red-400 font-medium",children:o}),r?e.jsx("button",{onClick:()=>a("review"),className:"mt-4 bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Try Again"}):e.jsx("button",{onClick:async()=>{if(cw()){u(!0);try{await iw(),s(),a("review")}catch(e){console.error("Connection failed:",e),l("Failed to connect wallet"),a("error")}finally{u(!1)}}else window.open("https://phantom.app/download","_blank")},disabled:c,className:"mt-4 bg-gradient-to-r from-cyan-400 to-purple-500 text-black px-4 py-2 rounded-lg font-semibold hover:brightness-110 transition-all disabled:opacity-50",children:c?"Connecting...":"Connect Phantom"})]})]})]})},AP=({challenge:t,onClose:n,onJoin:r,isConnected:s,onConnect:i})=>{const[a,o]=D.useState(!1);return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-background-2/95 border border-glow/20 rounded-2xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto backdrop-blur-sm glow-soft",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-text-primary neocore-h2",children:"Challenge Details"}),e.jsx("button",{onClick:n,className:"text-text-dim hover:text-text-primary transition-colors",children:""})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-glow-pink to-glow-electric rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:""})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-text-primary neocore-body",children:t.title}),e.jsxs("p",{className:"text-text-dim neocore-body",children:[t.category,"  ",t.game]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-background/50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-text-dim mb-1",children:"Entry Fee"}),e.jsxs("div",{className:"text-lg font-semibold text-text-primary",children:[t.entryFee," USDFG"]})]}),e.jsxs("div",{className:"bg-background/50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-text-dim mb-1",children:"Prize Pool"}),e.jsxs("div",{className:"text-lg font-semibold text-text-primary",children:[t.prizePool," USDFG"]})]}),e.jsxs("div",{className:"bg-background/50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-text-dim mb-1",children:"Players"}),e.jsxs("div",{className:"text-lg font-semibold text-text-primary",children:[t.players,"/",t.capacity]})]}),e.jsxs("div",{className:"bg-background/50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-text-dim mb-1",children:"Platform"}),e.jsx("div",{className:"text-lg font-semibold text-text-primary",children:t.platform})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-text-primary mb-3 neocore-body",children:"Rules & Requirements"}),e.jsx("div",{className:"bg-background/50 rounded-lg p-4",children:e.jsx("pre",{className:"text-text-primary whitespace-pre-wrap neocore-body",children:t.rules})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-text-primary mb-3 neocore-body",children:"Challenge Creator"}),e.jsx("div",{className:"bg-background/50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-cyan-400 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold",children:t.username?.charAt(0)||""})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-text-primary font-semibold neocore-body",children:t.username||"Anonymous Player"}),e.jsxs("div",{className:"text-text-dim text-sm neocore-body",children:["Created ",new Date(t.createdAt).toLocaleDateString()]})]})]})})]}),e.jsxs("div",{className:"flex space-x-3",children:[s?e.jsx("button",{onClick:r,className:"flex-1 bg-gradient-to-r from-cyan-400 to-purple-500 text-black font-semibold py-3 px-6 rounded-lg hover:brightness-110 transition-all neocore-button",children:"Join Challenge"}):e.jsx("button",{onClick:async()=>{if(cw()){o(!0);try{await iw(),i()}catch(e){console.error("Connection failed:",e)}finally{o(!1)}}else window.open("https://phantom.app/download","_blank")},disabled:a,className:"flex-1 bg-gradient-to-r from-cyan-400 to-purple-500 text-black font-semibold py-3 px-6 rounded-lg hover:brightness-110 transition-all disabled:opacity-50 neocore-button",children:a?"Connecting...":"Connect Wallet to Join"}),e.jsx("button",{onClick:n,className:"px-6 py-3 border border-gray-600 text-text-primary rounded-lg hover:bg-gray-800 transition-colors",children:"Close"})]})]})]})})};function IP(){const[t,n]=D.useState(!1),[r,s]=D.useState("");return D.useEffect(()=>{"true"===localStorage.getItem("arena-access")&&n(!0)},[]),t?e.jsx(NP,{}):e.jsxs("div",{className:"min-h-screen bg-background-1 text-text-primary flex flex-col items-center justify-center relative",children:[e.jsx("div",{className:"parallax-glow"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center neocore-panel p-8",children:[e.jsx("h1",{className:"neocore-h2 mb-4 text-glow-cyan",children:"Enter Arena Password"}),e.jsx("input",{type:"password",value:r,onChange:e=>s(e.target.value),className:"px-3 py-2 rounded-md bg-background-2/60 border border-glow/30 text-text-primary backdrop-blur-sm focus:border-glow-cyan/60 focus:outline-none neocore-body",placeholder:"Password"}),e.jsx("button",{onClick:()=>{"6996"===r?(n(!0),localStorage.setItem("arena-access","true")):alert("Wrong password")},className:"mt-3 elite-btn neocore-button",children:"Enter"})]})]})}const PP=E,MP=_,DP=D.forwardRef(({className:t,children:n,...r},s)=>e.jsxs(m,{ref:s,className:Sn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-white px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[n,e.jsx(p,{asChild:!0,children:e.jsx(ut,{className:"h-4 w-4 opacity-50"})})]}));DP.displayName=m.displayName;const RP=D.forwardRef(({className:t,...n},r)=>e.jsx(g,{ref:r,className:Sn("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(dt,{className:"h-4 w-4"})}));RP.displayName=g.displayName;const OP=D.forwardRef(({className:t,...n},r)=>e.jsx(y,{ref:r,className:Sn("flex cursor-default items-center justify-center py-1",t),...n,children:e.jsx(ut,{className:"h-4 w-4"})}));OP.displayName=y.displayName;const FP=D.forwardRef(({className:t,children:n,position:r="popper",...s},i)=>e.jsx(b,{children:e.jsxs(x,{ref:i,className:Sn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...s,children:[e.jsx(RP,{}),e.jsx(v,{className:Sn("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),e.jsx(OP,{})]})}));FP.displayName=x.displayName;D.forwardRef(({className:t,...n},r)=>e.jsx(w,{ref:r,className:Sn("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...n})).displayName=w.displayName;const LP=D.forwardRef(({className:t,children:n,...r},s)=>e.jsxs(S,{ref:s,className:Sn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(k,{children:e.jsx(ct,{className:"h-4 w-4"})})}),e.jsx(N,{children:n})]}));LP.displayName=S.displayName;D.forwardRef(({className:t,...n},r)=>e.jsx(j,{ref:r,className:Sn("-mx-1 my-1 h-px bg-muted",t),...n})).displayName=j.displayName;const BP=({onSubmit:t,isSubmitting:n})=>{const[r,s]=D.useState({game:"",category:"",entryFee:"",maxPlayers:"2",timeLimit:"30",rules:"",customRules:""}),i={Fighting:["Street Fighter 6","Tekken 8","Mortal Kombat 1","Guilty Gear Strive"],Racing:["F1 2023","Mario Kart 8","Gran Turismo 7","Forza Horizon 5"],Shooting:["Call of Duty: MW3","Fortnite","Valorant","Apex Legends"],Sports:["EA UFC 6","FIFA 24","Madden 24","NBA 2K24"]},a=(e,t)=>{s(n=>({...n,[e]:t}))};return e.jsxs("form",{onSubmit:e=>{e.preventDefault(),t(r)},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(Qn,{htmlFor:"category",className:"text-sm font-medium text-gray-400 mb-2 block",children:"Game Category"}),e.jsxs(PP,{value:r.category,onValueChange:e=>a("category",e),children:[e.jsx(DP,{className:"bg-background border-gray-700 text-white",children:e.jsx(MP,{placeholder:"Select category"})}),e.jsx(FP,{children:Object.keys(i).map(t=>e.jsx(LP,{value:t,children:t},t))})]})]}),e.jsxs("div",{children:[e.jsx(Qn,{htmlFor:"game",className:"text-sm font-medium text-gray-400 mb-2 block",children:"Specific Game"}),e.jsxs(PP,{value:r.game,onValueChange:e=>a("game",e),disabled:!r.category,children:[e.jsx(DP,{className:"bg-background border-gray-700 text-white",children:e.jsx(MP,{placeholder:"Select game"})}),e.jsx(FP,{children:r.category&&i[r.category]?.map(t=>e.jsx(LP,{value:t,children:t},t))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx(Qn,{htmlFor:"entryFee",className:"text-sm font-medium text-gray-400 mb-2 block",children:"Entry Fee (USDFG)"}),e.jsx(Hn,{id:"entryFee",type:"number",placeholder:"10.00",value:r.entryFee,onChange:e=>a("entryFee",e.target.value),className:"bg-background border-gray-700 text-white",min:"0.01",step:"0.01",required:!0})]}),e.jsxs("div",{children:[e.jsx(Qn,{htmlFor:"maxPlayers",className:"text-sm font-medium text-gray-400 mb-2 block",children:"Max Players"}),e.jsxs(PP,{value:r.maxPlayers,onValueChange:e=>a("maxPlayers",e),children:[e.jsx(DP,{className:"bg-background border-gray-700 text-white",children:e.jsx(MP,{})}),e.jsxs(FP,{children:[e.jsx(LP,{value:"2",children:"2 Players"}),e.jsx(LP,{value:"4",children:"4 Players"}),e.jsx(LP,{value:"8",children:"8 Players"}),e.jsx(LP,{value:"16",children:"16 Players"})]})]})]}),e.jsxs("div",{children:[e.jsx(Qn,{htmlFor:"timeLimit",className:"text-sm font-medium text-gray-400 mb-2 block",children:"Time Limit (minutes)"}),e.jsxs(PP,{value:r.timeLimit,onValueChange:e=>a("timeLimit",e),children:[e.jsx(DP,{className:"bg-background border-gray-700 text-white",children:e.jsx(MP,{})}),e.jsxs(FP,{children:[e.jsx(LP,{value:"15",children:"15 minutes"}),e.jsx(LP,{value:"30",children:"30 minutes"}),e.jsx(LP,{value:"60",children:"1 hour"}),e.jsx(LP,{value:"120",children:"2 hours"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(Qn,{htmlFor:"rules",className:"text-sm font-medium text-gray-400 mb-2 block",children:"Challenge Rules"}),e.jsxs(PP,{value:r.rules,onValueChange:e=>a("rules",e),children:[e.jsx(DP,{className:"bg-background border-gray-700 text-white",children:e.jsx(MP,{placeholder:"Select standard rules"})}),e.jsxs(FP,{children:[e.jsx(LP,{value:"best-of-3",children:"Best of 3"}),e.jsx(LP,{value:"best-of-5",children:"Best of 5"}),e.jsx(LP,{value:"first-to-5",children:"First to 5"}),e.jsx(LP,{value:"first-to-10",children:"First to 10"}),e.jsx(LP,{value:"custom",children:"Custom Rules"})]})]})]}),"custom"===r.rules&&e.jsxs("div",{children:[e.jsx(Qn,{htmlFor:"customRules",className:"text-sm font-medium text-gray-400 mb-2 block",children:"Custom Rules"}),e.jsx(Wn,{id:"customRules",rows:4,placeholder:"Describe your custom rules clearly...",value:r.customRules,onChange:e=>a("customRules",e.target.value),className:"bg-background border-gray-700 text-white",required:"custom"===r.rules})]}),r.game&&r.entryFee&&e.jsxs(In,{className:"bg-card/30 border-gray-700",children:[e.jsx(Pn,{children:e.jsx(Mn,{className:"text-white text-lg",children:"Challenge Preview"})}),e.jsxs(Dn,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(yt,{className:"w-4 h-4 text-cyan-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Game"}),e.jsx("p",{className:"text-white font-semibold",children:r.game})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(gt,{className:"w-4 h-4 text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Entry Fee"}),e.jsxs("p",{className:"text-white font-semibold",children:[r.entryFee," USDFG"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"w-4 h-4 text-purple-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Players"}),e.jsx("p",{className:"text-white font-semibold",children:r.maxPlayers})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ft,{className:"w-4 h-4 text-yellow-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:"Time Limit"}),e.jsxs("p",{className:"text-white font-semibold",children:[r.timeLimit,"m"]})]})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Total Prize Pool:"}),e.jsxs("span",{className:"text-2xl font-bold text-cyan-400",children:[(parseFloat(r.entryFee)*parseInt(r.maxPlayers)).toFixed(2)," USDFG"]})]})})]})]}),e.jsx("div",{className:"flex justify-end space-x-4",children:e.jsxs(Fn,{type:"submit",disabled:n||!r.game||!r.entryFee,className:"bg-gradient-to-r from-cyan-400 to-purple-500 text-black font-semibold hover:brightness-110",children:[e.jsx(wt,{className:"w-4 h-4 mr-2"}),n?"Creating Challenge...":"Create Challenge"]})})]})},UP=()=>{const t=B(),[n,r]=D.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs(Kh,{children:[e.jsx("title",{children:"Create Challenge - USDFG Arena | USDFGAMING"}),e.jsx("meta",{name:"description",content:"Create a new skill-based gaming challenge in the USDFG Arena."})]}),e.jsxs("div",{className:"min-h-screen bg-background-1 relative",children:[e.jsx("div",{className:"parallax-glow"}),e.jsx("header",{className:"border-b border-soft bg-background-2/80 backdrop-blur-sm neocore-panel",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(R,{to:"/app",children:e.jsxs(Fn,{variant:"ghost",size:"sm",className:"text-text-dim hover:text-text-primary",children:[e.jsx(lt,{className:"w-4 h-4 mr-2"}),"Back to Arena"]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-glow-cyan to-glow-electric rounded-lg flex items-center justify-center",children:e.jsx(yt,{className:"w-5 h-5 text-black"})}),e.jsx("h1",{className:"neocore-h2 text-text-primary",children:"Create Challenge"})]})]})})}),e.jsx("main",{className:"container mx-auto px-4 py-8 relative z-10",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs(In,{className:"challenge-card",children:[e.jsxs(Pn,{children:[e.jsx(Mn,{className:"neocore-h2 text-text-primary",children:"New Gaming Challenge"}),e.jsx("p",{className:"text-text-dim neocore-body",children:"Set up a skill-based challenge and let the best gamer win."})]}),e.jsx(Dn,{children:e.jsx(BP,{onSubmit:async e=>{r(!0),console.log("Creating challenge:",e),await new Promise(e=>setTimeout(e,2e3)),r(!1),t("/app")},isSubmitting:n})})]})})})]})]})},zP=tt("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-black"}},defaultVariants:{variant:"default"}});function VP({className:t,variant:n,...r}){return e.jsx("div",{className:Sn(zP({variant:n}),t),...r})}var qP,GP,$P={exports:{}},HP={};var WP=(GP||(GP=1,$P.exports=function(){if(qP)return HP;qP=1;var e=P(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useState,r=e.useEffect,s=e.useLayoutEffect,i=e.useDebugValue;function a(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!t(e,r)}catch(s){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var o=t(),l=n({inst:{value:o,getSnapshot:t}}),c=l[0].inst,u=l[1];return s(function(){c.value=o,c.getSnapshot=t,a(c)&&u({inst:c})},[e,o,t]),r(function(){return a(c)&&u({inst:c}),e(function(){a(c)&&u({inst:c})})},[e]),i(o),o};return HP.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:o,HP}()),$P.exports);function KP(){return()=>{}}var QP="Avatar",[YP]=C(QP),[XP,JP]=YP(QP),ZP=D.forwardRef((t,n)=>{const{__scopeAvatar:r,...s}=t,[i,a]=D.useState("idle");return e.jsx(XP,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:e.jsx(T.span,{...s,ref:n})})});ZP.displayName=QP;var eM="AvatarImage",tM=D.forwardRef((t,n)=>{const{__scopeAvatar:r,src:s,onLoadingStatusChange:i=()=>{},...a}=t,o=JP(eM,r),l=function(e,{referrerPolicy:t,crossOrigin:n}){const r=WP.useSyncExternalStore(KP,()=>!0,()=>!1),s=D.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[a,o]=D.useState(()=>sM(i,e));return I(()=>{o(sM(i,e))},[i,e]),I(()=>{const e=e=>()=>{o(e)};if(!i)return;const r=e("loaded"),s=e("error");return i.addEventListener("load",r),i.addEventListener("error",s),t&&(i.referrerPolicy=t),"string"==typeof n&&(i.crossOrigin=n),()=>{i.removeEventListener("load",r),i.removeEventListener("error",s)}},[i,n,t]),a}(s,a),c=A(e=>{i(e),o.onImageLoadingStatusChange(e)});return I(()=>{"idle"!==l&&c(l)},[l,c]),"loaded"===l?e.jsx(T.img,{...a,ref:n,src:s}):null});tM.displayName=eM;var nM="AvatarFallback",rM=D.forwardRef((t,n)=>{const{__scopeAvatar:r,delayMs:s,...i}=t,a=JP(nM,r),[o,l]=D.useState(void 0===s);return D.useEffect(()=>{if(void 0!==s){const e=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(e)}},[s]),o&&"loaded"!==a.imageLoadingStatus?e.jsx(T.span,{...i,ref:n}):null});function sM(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}rM.displayName=nM;var iM=ZP,aM=tM,oM=rM;const lM=D.forwardRef(({className:t,...n},r)=>e.jsx(iM,{ref:r,className:Sn("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...n}));lM.displayName=iM.displayName;D.forwardRef(({className:t,...n},r)=>e.jsx(aM,{ref:r,className:Sn("aspect-square h-full w-full",t),...n})).displayName=aM.displayName;const cM=D.forwardRef(({className:t,...n},r)=>e.jsx(oM,{ref:r,className:Sn("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...n}));function uM(e){if(0===e.length)return{wins:0,losses:0,winRate:0,totalEarnings:0,currentStreak:0,bestStreak:0,last10:[],gamesByCategory:{},monthlyStats:[]};const t=[...e].sort((e,t)=>t.timestamp-e.timestamp),n=e.filter(e=>"win"===e.result).length,r=e.filter(e=>"loss"===e.result).length,s=e.length>0?n/e.length*100:0,i=e.reduce((e,t)=>e+("win"===t.result?t.amount:0),0),a=function(e){if(0===e.length)return 0;const t=e[0].result;let n=1;for(let r=1;r<e.length&&e[r].result===t;r++)n++;return"win"===t?n:-n}(t),o=function(e){if(0===e.length)return 0;let t=0,n=0;for(const r of e)"win"===r.result?(n++,t=Math.max(t,n)):n=0;return t}(t),l=t.slice(0,10).map(e=>({result:e.result,game:e.game,amount:e.amount,timestamp:e.timestamp})),c=function(e){const t={};for(const n of e){const e=dM(n.game);t[e]||(t[e]={wins:0,losses:0,totalEarnings:0}),"win"===n.result?(t[e].wins++,t[e].totalEarnings+=n.amount):t[e].losses++}return t}(e),u=function(e){const t={};for(const n of e){const e=new Date(n.timestamp),r=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}`;t[r]||(t[r]={wins:0,losses:0,earnings:0}),"win"===n.result?(t[r].wins++,t[r].earnings+=n.amount):t[r].losses++}return Object.entries(t).map(([e,t])=>({month:e,...t})).sort((e,t)=>e.month.localeCompare(t.month)).slice(-12)}(e);return{wins:n,losses:r,winRate:Math.round(10*s)/10,totalEarnings:i,currentStreak:a,bestStreak:o,last10:l,gamesByCategory:c,monthlyStats:u}}function dM(e){const t=e.toLowerCase();return t.includes("street fighter")||t.includes("tekken")||t.includes("mortal kombat")||t.includes("guilty gear")?"Fighting":t.includes("f1")||t.includes("mario kart")||t.includes("gran turismo")||t.includes("forza")?"Racing":t.includes("call of duty")||t.includes("fortnite")||t.includes("valorant")||t.includes("apex")?"Shooting":t.includes("ufc")||t.includes("fifa")||t.includes("madden")||t.includes("nba")?"Sports":"Other"}cM.displayName=oM.displayName;const hM=()=>{const{address:t}=U(),[n,r]=D.useState(null),[s,i]=D.useState(!0);return D.useEffect(()=>{(async()=>{if(t){i(!0);try{uM(await mw(t));const e={address:t,displayName:`Player_${t.slice(0,8)}`,stats:{wins:23,losses:7,winRate:76.7,totalEarnings:1250,currentStreak:5,bestStreak:12,last10:[{result:"win",game:"Street Fighter 6",amount:100,timestamp:Date.now()-72e5},{result:"loss",game:"Tekken 8",amount:-50,timestamp:Date.now()-18e6},{result:"win",game:"Mortal Kombat 1",amount:75,timestamp:Date.now()-864e5}]},recentChallenges:[{id:"1",game:"Street Fighter 6",result:"win",amount:100,timestamp:Date.now()-72e5},{id:"2",game:"Tekken 8",result:"loss",amount:-50,timestamp:Date.now()-18e6},{id:"3",game:"Mortal Kombat 1",result:"win",amount:75,timestamp:Date.now()-864e5}]};r(e)}catch(e){console.error("Failed to load profile:",e)}finally{i(!1)}}})()},[t]),s?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-card flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-cyan-400 to-purple-500 rounded-full flex items-center justify-center mx-auto animate-pulse",children:e.jsx(yt,{className:"w-6 h-6 text-black"})}),e.jsx("p",{className:"text-gray-400",children:"Loading player profile..."})]})}):n?e.jsxs(e.Fragment,{children:[e.jsxs(Kh,{children:[e.jsxs("title",{children:[n.displayName," - Player Profile | USDFG Arena"]}),e.jsx("meta",{name:"description",content:`View ${n.displayName}'s gaming stats and challenge history in the USDFG Arena.`})]}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-card",children:[e.jsx("header",{className:"border-b border-gray-800 bg-background/80 backdrop-blur-sm",children:e.jsx("div",{className:"container mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(R,{to:"/app",children:e.jsxs(Fn,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:[e.jsx(lt,{className:"w-4 h-4 mr-2"}),"Back to Arena"]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-400 to-purple-500 rounded-lg flex items-center justify-center",children:e.jsx(yt,{className:"w-5 h-5 text-black"})}),e.jsx("h1",{className:"text-xl font-bold text-white",children:"Player Profile"})]})]})})}),e.jsx("main",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[e.jsx(In,{className:"bg-card/50 border-gray-800",children:e.jsx(Dn,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsx(lM,{className:"w-20 h-20",children:e.jsx(cM,{className:"bg-gradient-to-r from-cyan-400 to-purple-500 text-black text-2xl font-bold",children:n.displayName.charAt(0)})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:n.displayName}),e.jsx("p",{className:"text-gray-400 font-mono text-sm",children:n.address}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsxs(VP,{variant:"secondary",className:"bg-green-500/20 text-green-400",children:[e.jsx(Nt,{className:"w-3 h-3 mr-1"}),n.stats.wins," Wins"]}),e.jsxs(VP,{variant:"secondary",className:"bg-cyan-500/20 text-cyan-400",children:[e.jsx(Ct,{className:"w-3 h-3 mr-1"}),n.stats.totalEarnings," USDFG"]})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(In,{className:"bg-card/50 border-gray-800",children:[e.jsx(Pn,{className:"pb-3",children:e.jsx(Mn,{className:"text-sm font-medium text-gray-400",children:"Win Rate"})}),e.jsxs(Dn,{children:[e.jsxs("div",{className:"text-3xl font-bold text-green-400",children:[n.stats.winRate,"%"]}),e.jsxs("p",{className:"text-sm text-gray-400",children:[n.stats.wins,"W / ",n.stats.losses,"L"]})]})]}),e.jsxs(In,{className:"bg-card/50 border-gray-800",children:[e.jsx(Pn,{className:"pb-3",children:e.jsx(Mn,{className:"text-sm font-medium text-gray-400",children:"Current Streak"})}),e.jsxs(Dn,{children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-400",children:n.stats.currentStreak}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Best: ",n.stats.bestStreak]})]})]}),e.jsxs(In,{className:"bg-card/50 border-gray-800",children:[e.jsx(Pn,{className:"pb-3",children:e.jsx(Mn,{className:"text-sm font-medium text-gray-400",children:"Total Earnings"})}),e.jsxs(Dn,{children:[e.jsx("div",{className:"text-3xl font-bold text-cyan-400",children:n.stats.totalEarnings}),e.jsx("p",{className:"text-sm text-gray-400",children:"USDFG"})]})]}),e.jsxs(In,{className:"bg-card/50 border-gray-800",children:[e.jsx(Pn,{className:"pb-3",children:e.jsx(Mn,{className:"text-sm font-medium text-gray-400",children:"Total Games"})}),e.jsxs(Dn,{children:[e.jsx("div",{className:"text-3xl font-bold text-white",children:n.stats.wins+n.stats.losses}),e.jsx("p",{className:"text-sm text-gray-400",children:"Challenges"})]})]})]}),e.jsxs(In,{className:"bg-card/50 border-gray-800",children:[e.jsx(Pn,{children:e.jsxs(Mn,{className:"text-white flex items-center",children:[e.jsx(ft,{className:"w-5 h-5 mr-2"}),"Recent Challenges"]})}),e.jsx(Dn,{children:e.jsx("div",{className:"space-y-3",children:n.recentChallenges.map((t,n)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-background/50 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center "+("win"===t.result?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"),children:"win"===t.result?e.jsx(Nt,{className:"w-4 h-4"}):e.jsx(kt,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-semibold",children:t.game}),e.jsx("p",{className:"text-sm text-gray-400",children:new Date(t.timestamp).toLocaleDateString()})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold "+(t.amount>0?"text-green-400":"text-red-400"),children:[t.amount>0?"+":"",t.amount," USDFG"]}),e.jsx("p",{className:"text-sm "+("win"===t.result?"text-green-400":"text-red-400"),children:"win"===t.result?"Victory":"Defeat"})]})]},t.id))})})]})]})})]})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-card flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Player Not Found"}),e.jsx("p",{className:"text-gray-400",children:"This player profile could not be found."}),e.jsx(R,{to:"/app",children:e.jsx(Fn,{className:"bg-gradient-to-r from-cyan-400 to-purple-500 text-black",children:"Back to Arena"})})]})})},fM=()=>(D.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),e.jsxs(e.Fragment,{children:[e.jsxs(Kh,{children:[e.jsx("title",{children:"Privacy Policy | USDFGAMING  Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{name:"description",content:"Read the Privacy Policy for USDFGAMING. Learn how we protect your data and privacy on the elite, skill-based crypto gaming platform."}),e.jsx("meta",{name:"keywords",content:"USDFG, USDFG, privacy policy, crypto gaming privacy, skill-based gaming, data protection, non-custodial, USDFGAMING"}),e.jsx("link",{rel:"canonical",href:"https://usdfg.pro/privacy"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:"https://usdfg.pro/privacy"}),e.jsx("meta",{property:"og:title",content:"Privacy Policy | USDFGAMING  Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{property:"og:description",content:"Read the Privacy Policy for USDFGAMING. Learn how we protect your data and privacy on the elite, skill-based crypto gaming platform."}),e.jsx("meta",{property:"og:image",content:"https://usdfg.pro/usdfg-og-banner.png"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:site",content:"@USDFGAMING"}),e.jsx("meta",{name:"twitter:title",content:"Privacy Policy | USDFGAMING  Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{name:"twitter:description",content:"Read the Privacy Policy for USDFGAMING. Learn how we protect your data and privacy on the elite, skill-based crypto gaming platform."}),e.jsx("meta",{name:"twitter:image",content:"https://usdfg.pro/usdfg-og-banner.png"}),e.jsx("script",{type:"application/ld+json",children:'\n          {\n            "@context": "https://schema.org",\n            "@graph": [\n              {\n                "@type": "Organization",\n                "name": "USDFGAMING",\n                "url": "https://usdfg.pro",\n                "logo": "https://usdfg.pro/usdfg-og-banner.png",\n                "sameAs": [\n                  "https://twitter.com/USDFGAMING",\n                  "https://t.me/+TPjhAyJiAF9mZTI0",\n                  "https://instagram.com/usdfgaming",\n                  "https://www.tiktok.com/@usdfgames"\n                ]\n              },\n              {\n                "@type": "WebPage",\n                "url": "https://usdfg.pro/privacy",\n                "name": "Privacy Policy | USDFGAMING  Skill-Based Crypto Gaming Platform",\n                "description": "Read the Privacy Policy for USDFGAMING. Learn how we protect your data and privacy on the elite, skill-based crypto gaming platform."\n              }\n            ]\n          }\n        '})]}),e.jsx(Ln,{}),e.jsxs("div",{className:"relative flex flex-col md:flex-row",children:[e.jsxs("nav",{className:"hidden md:block md:w-64 sticky top-24 h-fit self-start px-2 py-6 mr-8 bg-[#0b0b0c]/80 border border-cyan-400/30 rounded-lg shadow-[0_0_12px_#22d3ee22] mt-12 animate-fade-in",children:[e.jsx("h2",{className:"text-cyan-400 font-bold text-lg mb-4 tracking-wide",children:"On This Page"}),e.jsxs("ul",{className:"space-y-2 text-cyan-200 text-sm",children:[e.jsx("li",{children:e.jsx("a",{href:"#section-1",className:"hover:text-white transition",children:"What We Collect"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-2",className:"hover:text-white transition",children:"How We Use Data"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-3",className:"hover:text-white transition",children:"No Tracking or Profiling"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-4",className:"hover:text-white transition",children:"Platform Security"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-5",className:"hover:text-white transition",children:"Smart Contract Transparency"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-6",className:"hover:text-white transition",children:"Audit & Security Notices"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-7",className:"hover:text-white transition",children:"Cookies & Local Storage"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-8",className:"hover:text-white transition",children:"Third-Party Services"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-9",className:"hover:text-white transition",children:"Data Retention"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-10",className:"hover:text-white transition",children:"Data Location"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-11",className:"hover:text-white transition",children:"Data Access Format"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-12",className:"hover:text-white transition",children:"Your Rights"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-13",className:"hover:text-white transition",children:"Global Compliance"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-14",className:"hover:text-white transition",children:"Fair Play Monitoring"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-15",className:"hover:text-white transition",children:"Non-Custodial Disclaimer"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-16",className:"hover:text-white transition",children:"Not a Security"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-17",className:"hover:text-white transition",children:"AI & User-Generated Content"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-18",className:"hover:text-white transition",children:"Community Governance"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-19",className:"hover:text-white transition",children:"Platform Evolution"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-20",className:"hover:text-white transition",children:"Third-Party Hosted Events"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-21",className:"hover:text-white transition",children:"Policy Updates"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-22",className:"hover:text-white transition",children:"Children's Privacy"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-23",className:"hover:text-white transition",children:"Contact"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-related",className:"hover:text-white transition",children:"Related Policies"})})]})]}),e.jsx("main",{className:"min-h-screen bg-gradient-to-b from-[#181c2f] via-[#1a142e] to-[#181c2f] flex-1 text-cyan-100",children:e.jsxs("div",{className:"container mx-auto px-4 py-12 sm:py-16 md:py-20",children:[e.jsx("p",{className:"text-center text-sm text-neutral-400 italic mb-6",children:"No mercy. No reruns. Just skill."}),e.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-8 text-center",style:{color:"var(--text-light)",textShadow:"var(--neon-glow)"},children:"Privacy Policy"}),e.jsxs("div",{className:"max-w-2xl mx-auto mb-6 text-center animate-fade-in",children:[e.jsx("p",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Why This Policy Matters"}),e.jsx("p",{className:"text-base text-white/90",children:"USDFG is built for elite gamers and crypto users who demand privacy, transparency, and self-custody. This policy explains exactly how we protect your data and your rightsno fine print, no hidden tracking, ever."})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8 animate-fade-in",children:[e.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-[#0b0b0c] border border-cyan-400 text-cyan-300 font-bold shadow-[0_0_8px_#22d3ee] text-sm",children:"100% Non-Custodial"}),e.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-[#0b0b0c] border border-cyan-400 text-cyan-300 font-bold shadow-[0_0_8px_#22d3ee] text-sm",children:"No Tracking"}),e.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-[#0b0b0c] border border-cyan-400 text-cyan-300 font-bold shadow-[0_0_8px_#22d3ee] text-sm",children:"GDPR Aligned"}),e.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-[#0b0b0c] border border-cyan-400 text-cyan-300 font-bold shadow-[0_0_8px_#22d3ee] text-sm",children:"Self-Custody"})]}),e.jsx("div",{className:"text-center mb-8 animate-fade-in",children:e.jsx("span",{className:"inline-block px-4 py-1 rounded bg-[#0b0b0c] border border-cyan-400 text-cyan-200 font-medium text-xs tracking-wide shadow-[0_0_8px_#22d3ee]",children:"Last Updated: May 1, 2025 | Version: v1.0"})}),e.jsx("section",{className:"whitepaper-section max-w-4xl mx-auto bg-[#111]/90 border border-[#22d3ee] p-6 sm:p-8 rounded-lg shadow-lg mb-10 transform transition-all duration-300 hover:scale-[1.01] hover:shadow-[0_0_20px_rgba(34,211,238,0.3)]",children:e.jsxs("div",{className:"prose prose-invert max-w-none",children:[e.jsx("p",{className:"text-base sm:text-lg mb-8 text-white",children:"USDFG is built on the principles of decentralization, skill-based competition, and user sovereignty. We minimize data exposure, do not host accounts, and never collect personal identifiers."}),e.jsxs("div",{className:"space-y-8 text-white",children:[e.jsxs("div",{id:"section-1",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 1. What We Collect"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsxs("p",{children:["USDFG does not collect or store personal data such as names, emails, or passwords. The platform is fully ",e.jsx("span",{className:"text-cyan-400 font-bold",children:"non-custodial"}),"  we do not manage wallets or user accounts."]}),e.jsx("p",{children:"We may process limited public and system-level data strictly for platform functionality:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Public wallet addresses  used to verify challenge entries and reward eligibility"}),e.jsx("li",{children:"Challenge participation records  linked to wallets for match history and dispute resolution"}),e.jsx("li",{children:"Interaction signals  used for anti-cheat logic and improving performance"})]})]}),e.jsxs("div",{id:"section-2",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 2. How We Use Data"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"We do not sell, profile, or track users across the internet. All data processing is limited to:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Verifying wallet-based challenge participation"}),e.jsx("li",{children:"Preventing abuse through basic non-invasive anti-cheat"}),e.jsx("li",{children:"Platform analytics and integrity"}),e.jsx("li",{children:"Satisfying legal or compliance obligations (if required)"})]})]}),e.jsxs("div",{id:"section-3",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 3. No Tracking or Profiling"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsxs("p",{children:[e.jsx("span",{className:"text-cyan-400 font-bold",children:"USDFG does not use tracking pixels, fingerprinting scripts, cross-site cookies, or behavioral advertising systems."})," We do not monitor users beyond the platform or build advertising profiles."]})]}),e.jsxs("div",{id:"section-4",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 4. Platform Security"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"While USDFG does not collect personal data, we apply technical safeguards (e.g., HTTPS encryption, code audits) to protect gameplay, transactions, and system integrity."})]}),e.jsxs("div",{id:"section-5",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 5. Smart Contract Transparency"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"All core USDFG challenge and token contracts are publicly viewable on the Solana blockchain. Users are encouraged to review contract logic and interact only through the official platform interface."})]}),e.jsxs("div",{id:"section-6",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 6. Audit & Security Notices"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"While best efforts are made to review platform code, USDFG does not guarantee absolute security. Use of the platform is at your own risk. Known vulnerabilities should be reported to the USDFG team immediately for responsible disclosure."})]}),e.jsxs("div",{id:"section-7",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 7. Cookies and Local Storage"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"We may use cookies or local storage to remember user preferences, such as:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Dark mode settings"}),e.jsx("li",{children:"Last connected wallet"}),e.jsx("li",{children:"Basic UX enhancements"})]}),e.jsx("p",{children:"These can be disabled in your browser at any time."})]}),e.jsxs("div",{id:"section-8",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 8. Third-Party Services"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG integrates with external tools strictly for essential platform operations:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Phantom Wallet  for wallet connection and transaction approval"}),e.jsx("li",{children:"Solana RPC infrastructure  for interacting with the blockchain"})]}),e.jsx("p",{children:"These providers may operate under their own terms and policies. USDFG does not store or control any private data from these tools."})]}),e.jsxs("div",{id:"section-9",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 9. Data Retention"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"We retain only the minimum amount of system-level data needed to operate:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"No personal profiles"}),e.jsx("li",{children:"No off-chain identity storage"}),e.jsx("li",{children:"Challenge logs are kept only for fair play enforcement and dispute resolution"})]})]}),e.jsxs("div",{id:"section-10",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 10. Data Location"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG infrastructure is hosted in the United States or on decentralized cloud services. All data interactions follow U.S. regulatory standards where applicable."})]}),e.jsxs("div",{id:"section-11",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 11. Data Access Format"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"If you request access to your data, we will provide any stored system records linked to your wallet in a machine-readable format (e.g., JSON or CSV), where applicable."})]}),e.jsxs("div",{id:"section-12",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 12. Your Rights"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Depending on your jurisdiction, you may request to:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Access data linked to your public wallet address"}),e.jsx("li",{children:"Request deletion of match history (if applicable)"}),e.jsx("li",{children:"File a data complaint with a regulatory authority"})]}),e.jsx("p",{children:"Submit all requests via the contact methods below."})]}),e.jsxs("div",{id:"section-13",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 13. Global Compliance"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG aligns with major global data principles such as GDPR and CCPA by minimizing data processing, avoiding personal identifiers, and honoring data access or deletion requests when applicable. Users may contact us to exercise applicable rights."})]}),e.jsxs("div",{id:"section-14",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 14. Fair Play Monitoring"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"To maintain a fair competitive environment, USDFG may monitor gameplay activity, match logs, and behavior patterns for signs of cheating, abuse, or collusion. This data is processed anonymously and used strictly for enforcing platform rules."})]}),e.jsxs("div",{id:"section-15",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 15. Non-Custodial Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is a non-custodial platform. Users hold and manage their own wallets and private keys. USDFG cannot assist with recovery of lost access, assets sent to incorrect addresses, or unauthorized transactions initiated from a user's wallet."})]}),e.jsxs("div",{id:"section-16",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 16. Not a Security"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is not offered or intended to be a security, investment vehicle, or financial product. It has no profit expectation, voting rights, or dividend structure. USDFG is a utility token for skill-based participation only, and its legal structure is designed to comply with U.S. and global regulatory guidelines regarding digital assets."})]}),e.jsxs("div",{id:"section-17",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 17. AI and User-Generated Content Usage"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"By submitting, tagging, or creating content related to USDFG  including gameplay clips, memes, or commentary involving the brand, mascot, or platform  you grant USDFG a non-exclusive, royalty-free license to repost, remix, or use that content for marketing or community engagement. This includes AI-generated content incorporating USDFG themes."})]}),e.jsxs("div",{id:"section-18",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 18. Community Governance (Non-Binding)"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"If USDFG launches decentralized governance features or DAOs, participation is optional and non-binding unless clearly specified. DAO proposals do not override the platform's legal structure or ownership. Participation does not confer rights, control, or equity in the platform."})]}),e.jsxs("div",{id:"section-19",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 19. Platform Evolution"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG may update features, integrate third-party tools, or expand use cases over time. Any new functionality will remain subject to these core privacy principles unless explicitly noted."})]}),e.jsxs("div",{id:"section-20",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 20. Third-Party Hosted Events"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Tournaments or challenges hosted by external partners, streamers, or organizations using USDFG's infrastructure remain subject to these Terms. USDFG is not liable for payouts, results, or communications managed by third-party hosts. Users must verify host credibility before joining."})]}),e.jsxs("div",{id:"section-21",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 21. Policy Updates"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"We may update this Privacy Policy as the platform evolves. Major changes will be communicated via the platform or official channels."})]}),e.jsxs("div",{id:"section-22",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 22. Children's Privacy"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is not intended for users under the age of 13, or the minimum legal age in your region."}),e.jsx("p",{children:"We do not knowingly collect any data from minors."})]}),e.jsxs("div",{id:"section-23",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 23. Contact"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("div",{className:"bg-[#0b0b0c] border border-cyan-400 rounded-lg p-6 shadow-[0_0_16px_rgba(72,216,255,0.2)] max-w-lg mx-auto",children:e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsxs("li",{children:[" Email: ",e.jsx("a",{href:"mailto:founder@usdfg.pro",className:"text-[#22d3ee] hover:underline",children:"founder@usdfg.pro"})," or ",e.jsx("a",{href:"mailto:support@usdfg.pro",className:"text-[#22d3ee] hover:underline",children:"support@usdfg.pro"})]}),e.jsxs("li",{children:[" Twitter/X: ",e.jsx("a",{href:"https://twitter.com/USDFGAMING",className:"text-[#22d3ee] hover:underline",children:"@USDFGAMING"})]})]})})]}),e.jsxs("div",{id:"section-related",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" Related Policies"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:e.jsx("a",{href:"/terms",className:"text-[#22d3ee] hover:underline",children:"View Terms of Service"})})]}),e.jsxs("div",{className:"mt-8 pt-8 border-t border-[#22d3ee]/30 text-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] mb-4",children:" Closing Statement"}),e.jsx("p",{children:"USDFG is founded on self-custody, transparency, and zero reliance on centralized infrastructure."}),e.jsx("p",{children:"We believe in proof over promises  and protecting our players from exploitation at every step."}),e.jsxs("div",{className:"mt-8 flex flex-col items-center",children:[e.jsx("span",{className:"text-cyan-400 font-bold text-lg",children:"Hussein Ali"}),e.jsx("span",{className:"text-neutral-400 text-xs",children:"Founder, USDFGAMING"})]})]})]})]})})]})})]}),e.jsx(Un,{}),e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-6 right-6 z-50 bg-[#0b0b0c] border border-cyan-400 text-cyan-200 rounded-full px-4 py-2 shadow-[0_0_12px_#22d3ee] hover:bg-cyan-400 hover:text-[#0b0b0c] transition-all duration-300 text-sm font-bold md:block hidden","aria-label":"Back to Top",children:" Back to Top"}),e.jsx("style",{children:"\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes slideIn {\n          from {\n            opacity: 0;\n            transform: translateX(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n\n        .animate-fade-in {\n          opacity: 0;\n          animation: fadeIn 0.5s ease-out forwards;\n        }\n\n        .animate-slide-in {\n          opacity: 0;\n          animation: slideIn 0.5s ease-out forwards;\n        }\n\n        /* Mobile optimizations */\n        @media (max-width: 640px) {\n          .whitepaper-section {\n            padding: 1rem;\n            margin: 0.5rem;\n            border-width: 1px;\n          }\n\n          h1 {\n            font-size: 2rem;\n            margin-bottom: 1.5rem;\n            padding: 0 0.5rem;\n          }\n\n          h2 {\n            font-size: 1.5rem;\n            margin-bottom: 1rem;\n          }\n\n          h3 {\n            font-size: 1.25rem;\n            line-height: 1.4;\n          }\n\n          p, li {\n            font-size: 0.875rem;\n            line-height: 1.5;\n          }\n\n          .container {\n            padding-left: 1rem;\n            padding-right: 1rem;\n          }\n\n          ul {\n            padding-left: 1.25rem;\n          }\n\n          /* Adjust spacing for mobile */\n          .space-y-8 > div {\n            margin-bottom: 1.5rem;\n          }\n\n          /* Ensure links are easily tappable */\n          a {\n            padding: 0.25rem 0;\n            display: inline-block;\n          }\n\n          /* Adjust disclaimer banner for mobile */\n          .fixed.bottom-0 {\n            padding: 0.75rem 1rem;\n          }\n\n          .fixed.bottom-0 p {\n            font-size: 0.75rem;\n            line-height: 1.4;\n          }\n        }\n\n        /* Smooth scrolling for the entire page */\n        html {\n          scroll-behavior: smooth;\n        }\n\n        /* Custom scrollbar */\n        ::-webkit-scrollbar {\n          width: 8px;\n        }\n\n        ::-webkit-scrollbar-track {\n          background: #111;\n        }\n\n        ::-webkit-scrollbar-thumb {\n          background: #22d3ee;\n          border-radius: 4px;\n        }\n\n        ::-webkit-scrollbar-thumb:hover {\n          background: #67e8f9;\n        }\n      "})]})),mM=()=>(D.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),e.jsxs(e.Fragment,{children:[e.jsxs(Kh,{children:[e.jsx("title",{children:"Terms of Service | USDFGAMING  Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{name:"description",content:"Read the Terms of Service for USDFGAMING, the elite, skill-based crypto gaming platform. Understand your rights, responsibilities, and our commitment to fair, on-chain competition."}),e.jsx("meta",{name:"keywords",content:"USDFG, USDFG, terms of service, crypto gaming terms, skill-based gaming, fair play, non-custodial, USDFGAMING"}),e.jsx("link",{rel:"canonical",href:"https://usdfg.pro/terms"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:"https://usdfg.pro/terms"}),e.jsx("meta",{property:"og:title",content:"Terms of Service | USDFGAMING  Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{property:"og:description",content:"Read the Terms of Service for USDFGAMING, the elite, skill-based crypto gaming platform. Understand your rights, responsibilities, and our commitment to fair, on-chain competition."}),e.jsx("meta",{property:"og:image",content:"https://usdfg.pro/usdfg-og-banner.png"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:site",content:"@USDFGAMING"}),e.jsx("meta",{name:"twitter:title",content:"Terms of Service | USDFGAMING  Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{name:"twitter:description",content:"Read the Terms of Service for USDFGAMING, the elite, skill-based crypto gaming platform. Understand your rights, responsibilities, and our commitment to fair, on-chain competition."}),e.jsx("meta",{name:"twitter:image",content:"https://usdfg.pro/usdfg-og-banner.png"}),e.jsx("script",{type:"application/ld+json",children:'\n          {\n            "@context": "https://schema.org",\n            "@graph": [\n              {\n                "@type": "Organization",\n                "name": "USDFGAMING",\n                "url": "https://usdfg.pro",\n                "logo": "https://usdfg.pro/usdfg-og-banner.png",\n                "sameAs": [\n                  "https://twitter.com/USDFGAMING",\n                  "https://t.me/+TPjhAyJiAF9mZTI0",\n                  "https://instagram.com/usdfgaming",\n                  "https://www.tiktok.com/@usdfgames"\n                ]\n              },\n              {\n                "@type": "WebPage",\n                "url": "https://usdfg.pro/terms",\n                "name": "Terms of Service | USDFGAMING  Skill-Based Crypto Gaming Platform",\n                "description": "Read the Terms of Service for USDFGAMING, the elite, skill-based crypto gaming platform. Understand your rights, responsibilities, and our commitment to fair, on-chain competition."\n              }\n            ]\n          }\n        '})]}),e.jsx(Ln,{}),e.jsxs("div",{className:"relative flex flex-col md:flex-row",children:[e.jsxs("nav",{className:"hidden md:block md:w-64 sticky top-24 h-fit self-start px-2 py-6 mr-8 bg-[#0b0b0c]/80 border border-cyan-400/30 rounded-lg shadow-[0_0_12px_#22d3ee22] mt-12 animate-fade-in",children:[e.jsx("h2",{className:"text-cyan-400 font-bold text-lg mb-4 tracking-wide",children:"On This Page"}),e.jsxs("ul",{className:"space-y-2 text-cyan-200 text-sm",style:{maxHeight:"70vh",overflowY:"auto"},children:[e.jsx("li",{children:e.jsx("a",{href:"#section-0",className:"hover:text-white transition",children:"Founder & Team"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-1",className:"hover:text-white transition",children:"Legal Classification"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-2",className:"hover:text-white transition",children:"Service Overview"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-3",className:"hover:text-white transition",children:"Eligibility"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-4",className:"hover:text-white transition",children:"Skill-Based Platform"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-5",className:"hover:text-white transition",children:"Token Use & Risk"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-6",className:"hover:text-white transition",children:"User Conduct"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-7",className:"hover:text-white transition",children:"Limitation of Liability"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-8",className:"hover:text-white transition",children:"Platform Availability"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-9",className:"hover:text-white transition",children:"Modifications"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-10",className:"hover:text-white transition",children:"Termination"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-11",className:"hover:text-white transition",children:"Governing Law"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-12",className:"hover:text-white transition",children:"Contact"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-13",className:"hover:text-white transition",children:"Dispute Resolution"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-14",className:"hover:text-white transition",children:"No Financial Advice"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-15",className:"hover:text-white transition",children:"User Responsibility"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-16",className:"hover:text-white transition",children:"Assumption of Risk"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-17",className:"hover:text-white transition",children:"Severability"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-18",className:"hover:text-white transition",children:"Naming Notice"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-19",className:"hover:text-white transition",children:"Indemnification"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-20",className:"hover:text-white transition",children:"Jurisdictional Use"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-21",className:"hover:text-white transition",children:"No Agency"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-22",className:"hover:text-white transition",children:"No Ownership Rights"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-23",className:"hover:text-white transition",children:"Token Acquisition & Use"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-24",className:"hover:text-white transition",children:"Legal Safeguards"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-25",className:"hover:text-white transition",children:"Third-Party Tools"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-26",className:"hover:text-white transition",children:"Intellectual Property"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-27",className:"hover:text-white transition",children:"Token Use Limitation"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-28",className:"hover:text-white transition",children:"Autonomous Execution"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-29",className:"hover:text-white transition",children:"No Promoter Liability"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-30",className:"hover:text-white transition",children:"Wallet & Transaction"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-31",className:"hover:text-white transition",children:"International Use"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-32",className:"hover:text-white transition",children:"Platform Fees"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-33",className:"hover:text-white transition",children:"No Guarantee of Earnings"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-34",className:"hover:text-white transition",children:"Blockchain Risks"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-35",className:"hover:text-white transition",children:"No Fiduciary Relationship"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-36",className:"hover:text-white transition",children:"Misuse & Harassment"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-37",className:"hover:text-white transition",children:"Regulatory Cooperation"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-38",className:"hover:text-white transition",children:"No Custodial Holdings"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-39",className:"hover:text-white transition",children:"Community Participation"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-40",className:"hover:text-white transition",children:"KYC / Identity"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-41",className:"hover:text-white transition",children:"Content Ownership"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-42",className:"hover:text-white transition",children:"Challenge Dispute"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-43",className:"hover:text-white transition",children:"Affiliate/Referral"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-44",className:"hover:text-white transition",children:"AI Use & Automation"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-45",className:"hover:text-white transition",children:"Analytics & Anti-Cheat"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-46",className:"hover:text-white transition",children:"Bounty & Rewards"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-47",className:"hover:text-white transition",children:"Platform Lifecycle"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-48",className:"hover:text-white transition",children:"Legal Jurisdiction"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-49",className:"hover:text-white transition",children:"Community Content & AI"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-50",className:"hover:text-white transition",children:"DAO Participation"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-51",className:"hover:text-white transition",children:"Successor Entity"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-52",className:"hover:text-white transition",children:"AI Gameplay"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-53",className:"hover:text-white transition",children:"Account Suspension"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-54",className:"hover:text-white transition",children:"Token Migration"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-55",className:"hover:text-white transition",children:"Data Retention"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-56",className:"hover:text-white transition",children:"No Service-Level Guarantee"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-57",className:"hover:text-white transition",children:"Regulatory Change"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-58",className:"hover:text-white transition",children:"Sponsored Content"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-59",className:"hover:text-white transition",children:"AI & User Content"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-60",className:"hover:text-white transition",children:"Community Governance"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-61",className:"hover:text-white transition",children:"Third-Party Events"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-62",className:"hover:text-white transition",children:"Not a Security"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-63",className:"hover:text-white transition",children:"Non-Custodial"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-64",className:"hover:text-white transition",children:"Platform Snapshot"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-65",className:"hover:text-white transition",children:"Forking Restrictions"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-66",className:"hover:text-white transition",children:"Platform Integrity"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-67",className:"hover:text-white transition",children:"Multichain Disclaimer"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-68",className:"hover:text-white transition",children:"Fixed Supply"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-69",className:"hover:text-white transition",children:"Smart Contract Stability"})}),e.jsx("li",{children:e.jsx("a",{href:"#section-70",className:"hover:text-white transition",children:"Related Policies"})})]})]}),e.jsx("main",{className:"min-h-screen bg-gradient-to-b from-[#181c2f] via-[#1a142e] to-[#181c2f] flex-1 text-cyan-100",children:e.jsxs("div",{className:"container mx-auto px-4 py-12 sm:py-16 md:py-20",children:[e.jsx("p",{className:"text-center text-sm text-neutral-400 italic mb-6",children:"No mercy. No reruns. Just skill."}),e.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-8 text-center",style:{color:"var(--text-light)",textShadow:"var(--neon-glow)"},children:"Terms of Service"}),e.jsxs("div",{className:"max-w-2xl mx-auto mb-6 text-center animate-fade-in",children:[e.jsx("p",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Why These Terms Matter"}),e.jsx("p",{className:"text-base text-white/90",children:"USDFG is built for elite gamers and crypto users who demand fairness, transparency, and self-custody. These Terms set the standard for how we protect your rights, your assets, and your experienceno fine print, no hidden risks, ever."})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8 animate-fade-in",children:[e.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-[#0b0b0c] border border-cyan-400 text-cyan-300 font-bold shadow-[0_0_8px_#22d3ee] text-sm",children:"100% Non-Custodial"}),e.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-[#0b0b0c] border border-cyan-400 text-cyan-300 font-bold shadow-[0_0_8px_#22d3ee] text-sm",children:"No Gambling"}),e.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-[#0b0b0c] border border-cyan-400 text-cyan-300 font-bold shadow-[0_0_8px_#22d3ee] text-sm",children:"Skill-Based"}),e.jsx("span",{className:"inline-flex items-center gap-2 px-4 py-1 rounded-full bg-[#0b0b0c] border border-cyan-400 text-cyan-300 font-bold shadow-[0_0_8px_#22d3ee] text-sm",children:"Self-Custody"})]}),e.jsx("div",{className:"text-center mb-8 animate-fade-in",children:e.jsx("span",{className:"inline-block px-4 py-1 rounded bg-[#0b0b0c] border border-cyan-400 text-cyan-200 font-medium text-xs tracking-wide shadow-[0_0_8px_#22d3ee]",children:"Last Updated: May 1, 2025 | Version: v1.0"})}),e.jsx("section",{className:"whitepaper-section max-w-4xl mx-auto bg-[#111]/90 border border-[#22d3ee] p-6 sm:p-8 rounded-lg shadow-lg mb-10 transform transition-all duration-300 hover:scale-[1.01] hover:shadow-[0_0_20px_rgba(34,211,238,0.3)]",children:e.jsxs("div",{className:"prose prose-invert max-w-none",children:[e.jsx("p",{className:"text-base sm:text-lg mb-4 text-white",children:"Effective Date: May 1, 2025"}),e.jsx("p",{className:"text-base sm:text-lg mb-4 text-white font-semibold",children:"USDFG is founded and led by Hussein Ali, a builder who created the platform to champion skill, self-sovereignty, and competition over chance."}),e.jsxs("div",{className:"space-y-8 text-white",children:[e.jsxs("div",{id:"section-0",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 0. Founder and Team Structure"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsxs("p",{children:["USDFG is a platform founded and currently operated solely by ",e.jsx("span",{className:"text-cyan-400 font-bold",children:"Hussein Ali"}),' (the "Founder"). For the purposes of this agreement, any references to the "USDFG team" shall be interpreted as referring to the Founder and any authorized representatives who may be appointed in the future. This structure ensures clear accountability while allowing for future operational growth.']})]}),e.jsxs("div",{id:"section-1",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 1. Legal Classification Statement"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is a skill-based digital competition platform operated solely by its Founder. It does not offer any form of gambling, wagering, lotteries, or games of chance. Participation is voluntary and rewards are based exclusively on user skill and verified performance. USDFG is a utility token used solely to access platform features and has no guaranteed monetary value. These Terms are designed to comply with applicable laws related to gaming, digital assets, and consumer protections."})]}),e.jsxs("div",{id:"section-2",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 2. Service Overview"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is a skill-based digital platform where users participate in challenges, earn rewards, and engage with competitive content. The platform is powered by the USDFG token, used strictly for in-platform utilities and skill-based competitions. No gambling, betting, or games of chance are offered or supported. All competitions are based solely on user skill and verified performance metrics."})]}),e.jsxs("div",{id:"section-3",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 3. Eligibility"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is a platform for users 18 and older. Players aged 13 to 17 may participate only if parental or legal guardian consent is granted and verifiable. Users under 13 are strictly prohibited."}),e.jsx("p",{children:"USDFG does not collect personal identifiers or account data. Proof of age or consent may be requested where legally required."})]}),e.jsxs("div",{id:"section-4",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 4. Skill-Based Platform Only"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is a skill-based competition platform. We do not host, facilitate, or allow gambling, betting, lotteries, or games of chance. All outcomes are based solely on performance, gameplay ability, and user verification."})]}),e.jsxs("div",{id:"section-5",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 5. Token Use & Risk Disclosure"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is a utility token with no guaranteed value, used exclusively for platform participation and skill-based competitions."}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Token values may fluctuate and are not guaranteed."}),e.jsx("li",{children:"USDFG is non-custodial - we do not store or control your wallet or private keys."}),e.jsx("li",{children:"We cannot restore lost access or funds - users are responsible for their wallet security."}),e.jsx("li",{children:"You are fully responsible for complying with your local crypto laws."}),e.jsx("li",{children:"Tokens are for utility only - not for speculative investment."})]})]}),e.jsxs("div",{id:"section-6",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 6. User Conduct"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"By using USDFG, you agree to play fairly, respect others, stay legal, and protect the platform. Violations may result in immediate suspension or permanent ban."})]}),e.jsxs("div",{id:"section-7",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 7. Limitation of Liability"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"To the maximum extent allowed by law, USDFG and its founder are not liable for losses related to token use, platform downtime, unauthorized access, regulatory action, or indirect/incidental damages. Services are provided as-is."})]}),e.jsxs("div",{id:"section-8",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 8. Platform Availability"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"We do not guarantee 24/7 uptime. Downtime may occur due to blockchain outages, maintenance, or technical failures."})]}),e.jsxs("div",{id:"section-9",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 9. Modifications"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"These Terms may be updated at any time. If major changes are made, we'll notify you via in-platform notice or email. Continued use of USDFG constitutes acceptance of the new Terms."})]}),e.jsxs("div",{id:"section-10",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 10. Termination"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"We may terminate or suspend your access at any time for violating these Terms, abusing the platform, or engaging in fraudulent or illegal activity."})]}),e.jsxs("div",{id:"section-11",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 11. Governing Law"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"These Terms are governed by the laws of the United States. All legal matters must be resolved in U.S. courts."})]}),e.jsxs("div",{id:"section-12",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 12. Contact"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("div",{className:"bg-[#0b0b0c] border border-cyan-400 rounded-lg p-6 shadow-[0_0_16px_rgba(72,216,255,0.2)] max-w-lg mx-auto",children:e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsxs("li",{children:["X (Twitter): ",e.jsx("a",{href:"https://twitter.com/USDFGAMING",className:"text-[#22d3ee] hover:underline",children:"https://twitter.com/USDFGAMING"})]}),e.jsxs("li",{children:["Email: ",e.jsx("a",{href:"mailto:founder@usdfg.pro",className:"text-[#22d3ee] hover:underline",children:"founder@usdfg.pro"})," or ",e.jsx("a",{href:"mailto:support@usdfg.pro",className:"text-[#22d3ee] hover:underline",children:"support@usdfg.pro"})]}),e.jsxs("li",{children:["Official Website: ",e.jsx("a",{href:"https://usdfg.pro",className:"text-[#22d3ee] hover:underline",children:"https://usdfg.pro"})]})]})})]}),e.jsxs("div",{id:"section-13",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 13. Dispute Resolution"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"All disputes shall be resolved through binding arbitration under the rules of the American Arbitration Association. Class actions, collective claims, and public litigation are not permitted."})]}),e.jsxs("div",{id:"section-14",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 14. No Financial Advice"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG does not provide any financial, investment, or tax advice. The platform is strictly for competitive entertainment."})]}),e.jsxs("div",{id:"section-15",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 15. User Responsibility"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"You are fully responsible for wallet security, lawful use of the platform, and your own actions. USDFG is a non-custodial platform and does not manage user funds."})]}),e.jsxs("div",{id:"section-16",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 16. Assumption of Risk"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"You understand that cryptocurrency is volatile, features may change, and technical issues can occur. You use USDFG at your own risk."})]}),e.jsxs("div",{id:"section-17",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 17. Severability"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"If any clause is unenforceable, the remaining Terms remain valid."})]}),e.jsxs("div",{id:"section-18",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 18. Naming Notice"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"The official name is United We Stand Divided We Fall Gaming. The Solana-registered token is United We Stand Gaming. The brand is USDFGAMING and the ticker is USDFG. All references refer to the same entity."})]}),e.jsxs("div",{id:"section-19",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 19. Indemnification"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"You agree to defend and hold harmless USDFG, its Founder, and any future authorized representatives. The Founder is not liable for the project's legal or operational obligations."})]}),e.jsxs("div",{id:"section-20",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 20. Jurisdictional Use"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"You must verify that your local laws permit use of skill-based digital platforms and crypto. USDFG is not available in restricted regions."})]}),e.jsxs("div",{id:"section-21",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 21. No Agency"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"No agency, partnership, or employment relationship is created by using this platform."})]}),e.jsxs("div",{id:"section-22",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 22. No Ownership Rights"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Holding USDFG does not grant ownership, equity, voting power, or legal claim over the platform."})]}),e.jsxs("div",{id:"section-23",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 23. Token Acquisition and Use"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Users may acquire USDFG tokens to access features, create or join challenges, and participate in skill-based competitions. Acquiring tokens is not a bet, wager, or speculative investment, and using tokens to enter a challenge is not gambling. Challenge rewards are based solely on measurable performance and outcome verification. Users may withdraw earned tokens to their wallets and convert them using external platforms at their discretion. USDFG does not offer, facilitate, or control currency exchange or financial speculation."})]}),e.jsxs("div",{id:"section-24",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 24. Legal Safeguards and Gambling Exclusion"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG only hosts competitions where skill determines the result, and chance plays no role. Challenge rewards are distributed by programmatic smart contracts based on verifiable performance outcomes. USDFG's platform is structured in accordance with legal standards governing skill-based contests under U.S. law. USDFG is prepared to demonstrate the technical structure of its skill-based competitions upon formal legal request."})]}),e.jsxs("div",{id:"section-25",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 25. Third-Party Tools Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG integrates with external services like Phantom Wallet and Solana infrastructure. We are not responsible for issues on these third-party platforms."})]}),e.jsxs("div",{id:"section-26",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 26. Intellectual Property Ownership"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"All branding, designs, logos, mascots, token structures, and code are owned by USDFG or its licensors."})]}),e.jsxs("div",{id:"section-27",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 26.1. Third-Party Game Publisher Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is not affiliated with or endorsed by any third-party game publishers. All game trademarks, logos, and intellectual property belong to their respective owners. USDFG's platform operates independently and does not claim any official association with the games featured on our platform."})]}),e.jsxs("div",{id:"section-28",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 26.2. Game IP Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"All game titles referenced by users are owned by their respective publishers. USDFG is not affiliated with or endorsed by any game company."})]}),e.jsxs("div",{id:"section-29",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 27. Token Use Limitation"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Holding or acquiring USDFG does not entitle users to revenue, profits, dividends, ownership, or governance influence."})]}),e.jsxs("div",{id:"section-30",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 28. Autonomous Execution Clause"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Challenges and rewards operate via smart contracts. Results are final unless fraud or verified dispute is proven."})]}),e.jsxs("div",{id:"section-31",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 29. No Promoter Liability"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Marketing and community content is for entertainment only and does not constitute advice or guarantees. The Founder and any future authorized representatives are not liable for promotional content."})]}),e.jsxs("div",{id:"section-32",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 30. Wallet & Transaction Responsibility"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Users are solely responsible for wallet access, transaction accuracy, and associated fees."})]}),e.jsxs("div",{id:"section-33",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 31. International Use Exemption"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Users accessing the platform from outside the U.S. do so at their own risk."})]}),e.jsxs("div",{id:"section-34",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 32. Platform Fees and Use of Funds"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG applies a 5% fee on challenge transactions. Fees fund platform operations, compensation, and future growth. This is disclosed before challenge entry."})]}),e.jsxs("div",{id:"section-35",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 33. No Guarantee of Earnings or Results"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG does not guarantee earnings, token value, or personal results. It is not an investment or passive income scheme."})]}),e.jsxs("div",{id:"section-36",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 34. Acknowledgment of Blockchain Risks"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Users accept risks like volatility, delays, bugs, and external threats when using the platform."})]}),e.jsxs("div",{id:"section-37",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 35. No Fiduciary Relationship"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Using USDFG does not create a fiduciary relationship. Users are responsible for their own decisions."})]}),e.jsxs("div",{id:"section-38",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 36. Misuse, False Claims, and Public Harassment"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG may take legal or platform action against users spreading false claims or harassing the founder."})]}),e.jsxs("div",{id:"section-39",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 37. Regulatory Cooperation and Jurisdiction"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is not a security, investment, or gambling offering. We will comply with legal requests and may restrict access when required."})]}),e.jsxs("div",{id:"section-40",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 38. No Custodial Holdings or Token Sales"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG does not offer custodial services. Users manage their own wallets and tokens."})]}),e.jsxs("div",{id:"section-41",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 39. Community Participation Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Token holders do not have rights to influence financial or operational decisions. Feedback is optional and non-binding."})]}),e.jsxs("div",{id:"section-42",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 40. KYC / Identity Verification Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG may implement identity verification to prevent fraud and meet legal requirements."})]}),e.jsxs("div",{id:"section-43",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 41. Content Ownership"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Users retain ownership of uploaded content but grant USDFG a license to use it in promotional materials."})]}),e.jsxs("div",{id:"section-44",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 42. Challenge Dispute Resolution System"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Disputes may be reviewed based on logs or smart contract outcomes. No guarantees of reversal unless fraud is proven."})]}),e.jsxs("div",{id:"section-45",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 43. Affiliate or Referral System Terms"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Referral programs may be offered and changed at any time by the Founder or future authorized representatives. Abuse may lead to disqualification."})]}),e.jsxs("div",{id:"section-46",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 44. AI Use and Automation Disclosure"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG may use automated systems for moderation, verification, and platform optimization."})]}),e.jsxs("div",{id:"section-47",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 45. Analytics and Anti-Cheat Monitoring"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG may analyze user behavior, device metadata, and in-game activity to detect suspicious patterns, enforce fair play, or improve platform experience. This includes automated systems that detect botting, collusion, or exploitative behavior. By using the platform, users consent to this monitoring."})]}),e.jsxs("div",{id:"section-48",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 46. Bounty & Community Reward Programs"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG may, at its discretion, offer rewards for community-reported bugs, exploits, or valuable contributions. Participation in any bounty program is optional and subject to terms provided at the time of the offer. Rewards are not guaranteed unless explicitly confirmed by USDFG."})]}),e.jsxs("div",{id:"section-49",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 47. Platform Lifecycle and Discontinuation"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG makes no guarantee of indefinite platform availability. We reserve the right to suspend, evolve, or discontinue any feature, product, or service based on economic, legal, or operational requirements. Users accept that such decisions may occur without liability or obligation."})]}),e.jsxs("div",{id:"section-50",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 48. Legal Jurisdiction Flexibility"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG reserves the right to restructure or relocate platform operations to alternative legal jurisdictions in response to regulatory changes or legal requirements. Any changes will be communicated via official channels and updated in these Terms accordingly."})]}),e.jsxs("div",{id:"section-51",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 49. Community Content and AI Use"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Any artwork, memes, commentary, or content submitted or created using USDFG's platform, mascot, or brand assets may be reused, reposted, or modified by USDFG for community engagement, marketing, or archival purposes. Content generated through AI using USDFG branding is considered part of the platform ecosystem and may be curated or removed at USDFG's discretion."})]}),e.jsxs("div",{id:"section-52",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 50. DAO Participation Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:'If USDFG evolves into a decentralized governance structure ("DAO"), user participation will be non-binding, optional, and informational only unless explicitly defined through smart contract voting mechanisms. No DAO action shall imply platform ownership, employment, or fiduciary relationship with the Founder or any future authorized representatives.'})]}),e.jsxs("div",{id:"section-53",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 51. Successor Entity and Assignment"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"In the event of a platform restructure, merger, sale, or transition to a successor organization, all rights and responsibilities under these Terms shall transfer accordingly. Continued use of the platform constitutes acceptance of the updated controlling entity."})]}),e.jsxs("div",{id:"section-54",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 52. AI Gameplay Systems and Disclaimers"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG may use automated systems and machine learning to assist in challenge validation, cheating detection, dispute resolution, and gameplay moderation. These systems are designed to supportnot replacehuman oversight and do not guarantee perfect accuracy."})]}),e.jsxs("div",{id:"section-55",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 53. Account Suspension Review"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG reserves the right to suspend or permanently ban user accounts based on suspected misconduct, fraud, or policy violations. Suspensions may be automated or manual. USDFG is not obligated to provide an appeal or review process unless required by law."})]}),e.jsxs("div",{id:"section-56",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 54. Token Migration and Upgrade"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG reserves the right to migrate or upgrade the USDFG token, smart contracts, or platform infrastructure to a new blockchain, contract address, or versioned system. Users may be required to follow official migration instructions. Failure to do so may result in permanent loss of legacy tokens or access."})]}),e.jsxs("div",{id:"section-57",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 55. Data Retention and Access"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG stores only the minimal personal data required to operate the platform. Users may request a copy of their stored data or request deletion where legally applicable. Certain records may be retained as required by law or for platform integrity."})]}),e.jsxs("div",{id:"section-58",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 56. No Service-Level Guarantee"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG makes no guarantees regarding uptime, platform availability, or service responsiveness. While we aim to provide stable and continuous access, unexpected downtime, latency, or outages may occur without notice or compensation."})]}),e.jsxs("div",{id:"section-59",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 57. Regulatory Change Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG reserves the right to modify services, user permissions, fees, wallet integrations, or platform access to comply with future legal or regulatory changes in any applicable jurisdiction. These modifications may occur without prior notice and without user compensation."})]}),e.jsxs("div",{id:"section-60",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 58. Sponsored Content & Advertising"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsx("li",{children:'USDFG may feature limited sponsored content or advertising placements in designated areas (e.g., footer, landing page, or "Powered By" banners).'}),e.jsx("li",{children:"All ads are manually reviewed to ensure alignment with the platform's values."}),e.jsx("li",{children:"We do not sell user data, enable third-party tracking, or run external ad networks."}),e.jsx("li",{children:"Sponsored placements will be clearly labeled and selected based on relevance to gaming, crypto, or competitive ecosystems."}),e.jsx("li",{children:"Ads promoting gambling, staking, or speculative financial products are strictly prohibited."}),e.jsx("li",{children:"USDFG reserves the right to approve or reject any sponsorship based on integrity, legal safety, and brand alignment."})]})]}),e.jsxs("div",{id:"section-61",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 59. AI and User-Generated Content Usage"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"By submitting, tagging, or creating content related to USDFG, including gameplay, memes, or commentary involving the brand, mascot, or platform, you grant USDFG a non-exclusive, royalty-free license to repost, remix, or use that content for marketing or community engagement. This includes AI-generated content that incorporates USDFG themes."})]}),e.jsxs("div",{id:"section-62",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 60. Community Governance (Non-Binding)"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"If USDFG launches decentralized governance features or DAOs, participation is optional and non-binding unless clearly specified. DAO proposals do not override the platform's legal structure or ownership. Participation does not confer rights, control, or equity in the platform."})]}),e.jsxs("div",{id:"section-63",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 61. Third-Party Hosted Events"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Tournaments or challenges hosted by external partners, streamers, or organizations using USDFG's infrastructure remain subject to these Terms. USDFG is not liable for payouts, results, or communications managed by third-party hosts. Users must verify host credibility before joining."})]}),e.jsxs("div",{id:"section-64",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 62. Not a Security"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is not offered or intended to be a security, investment vehicle, or financial product. It has no profit expectation, voting rights, or dividend structure. USDFG is a utility token for skill-based participation only, and its legal structure is designed to comply with U.S. and global regulatory guidelines regarding digital assets."})]}),e.jsxs("div",{id:"section-65",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 63. Non-Custodial Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG is a non-custodial platform. Users hold and manage their own wallets and private keys. USDFG cannot assist with recovery of lost access, assets sent to incorrect addresses, or unauthorized transactions initiated from a user's wallet."})]}),e.jsxs("div",{id:"section-66",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 64. Platform Snapshot Rights"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG reserves the right to take on-chain and off-chain snapshots of platform state (e.g., active challenges, wallet balances, user interactions) for auditing, dispute resolution, or governance-related decisions. These snapshots are non-editable and used solely for integrity and accountability."})]}),e.jsxs("div",{id:"section-67",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 65. Forking & Derivative Work Restrictions"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"Unless explicitly licensed, no part of USDFG's codebase, smart contracts, branding, or platform logic may be copied, forked, or redeployed under a new project. This includes unauthorized derivatives using USDFG's token model, mascot, or core platform mechanics."})]}),e.jsxs("div",{id:"section-68",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 66. Platform Integrity Enforcement"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG reserves the right to monitor gameplay and ecosystem interactions for manipulation, exploits, or abusive automation. This includes but is not limited to: reward farming, collusion, botnet participation, and vote brigading. Breaches may result in penalties or bans."})]}),e.jsxs("div",{id:"section-69",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 67. Multichain Integration Disclaimer"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG may integrate with additional blockchains or Layer 2 systems in the future. Any such integrations are subject to the same non-custodial, utility-only terms. Token bridging, wrapping, or migration tools will be optional and clearly disclosed."})]}),e.jsxs("div",{id:"section-70",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 68. Fixed Supply Statement"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"The USDFG token has a permanently fixed maximum supply of 21 million tokens. No additional minting, inflation, or hidden reserves exist. All token-related functions are transparent and verifiable on-chain."})]}),e.jsxs("div",{id:"section-71",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 69. Smart Contract Stability Notice"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsx("p",{children:"USDFG smart contracts are immutable or upgradeable only through public, documented processes. Users will not be subject to hidden contract changes, forced migrations, or stealth updates that alter core platform functionality or token behavior."})]}),e.jsxs("div",{id:"section-72",className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"inline-block w-3 h-3 rounded-full bg-cyan-400 shadow-[0_0_8px_#22d3ee]"}),e.jsx("h3",{className:"text-xl font-semibold text-[#22d3ee] tracking-wide",children:" 70. Related Policies"})]}),e.jsx("div",{className:"border-t border-cyan-400/30 mb-4"}),e.jsxs("p",{children:["For details on how we handle platform data and privacy, please review our ",e.jsx("a",{href:"/privacy",className:"text-cyan-400 underline",children:"Privacy Policy"}),"."]})]})]})]})})]})})]}),e.jsx(Un,{}),e.jsxs("p",{className:"text-sm text-muted-foreground text-center mt-10 mb-4",children:["This platform is operated at ",e.jsx("a",{href:"https://usdfg.pro",className:"underline",children:"https://usdfg.pro"})," and governed by these Terms."]}),e.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-6 right-6 z-50 bg-[#0b0b0c] border border-cyan-400 text-cyan-200 rounded-full px-4 py-2 shadow-[0_0_12px_#22d3ee] hover:bg-cyan-400 hover:text-[#0b0b0c] transition-all duration-300 text-sm font-bold md:block hidden","aria-label":"Back to Top",children:" Back to Top"}),e.jsx("style",{children:"\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes slideIn {\n          from {\n            opacity: 0;\n            transform: translateX(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n          }\n        }\n\n        .animate-fade-in {\n          opacity: 0;\n          animation: fadeIn 0.5s ease-out forwards;\n        }\n\n        .animate-slide-in {\n          opacity: 0;\n          animation: slideIn 0.5s ease-out forwards;\n        }\n\n        /* Mobile optimizations */\n        @media (max-width: 640px) {\n          .whitepaper-section {\n            padding: 1rem;\n            margin: 0.5rem;\n            border-width: 1px;\n          }\n\n          h1 {\n            font-size: 2rem;\n            margin-bottom: 1.5rem;\n            padding: 0 0.5rem;\n          }\n\n          h2 {\n            font-size: 1.5rem;\n            margin-bottom: 1rem;\n          }\n\n          h3 {\n            font-size: 1.25rem;\n            line-height: 1.4;\n          }\n\n          p, li {\n            font-size: 0.875rem;\n            line-height: 1.5;\n          }\n\n          .container {\n            padding-left: 1rem;\n            padding-right: 1rem;\n          }\n\n          ul {\n            padding-left: 1.25rem;\n          }\n\n          /* Adjust spacing for mobile */\n          .space-y-8 > div {\n            margin-bottom: 1.5rem;\n          }\n\n          /* Ensure links are easily tappable */\n          a {\n            padding: 0.25rem 0;\n            display: inline-block;\n          }\n\n          /* Adjust disclaimer banner for mobile */\n          .fixed.bottom-0 {\n            padding: 0.75rem 1rem;\n          }\n\n          .fixed.bottom-0 p {\n            font-size: 0.75rem;\n            line-height: 1.4;\n          }\n        }\n\n        /* Smooth scrolling for the entire page */\n        html {\n          scroll-behavior: smooth;\n        }\n\n        /* Custom scrollbar */\n        ::-webkit-scrollbar {\n          width: 8px;\n        }\n\n        ::-webkit-scrollbar-track {\n          background: #111;\n        }\n\n        ::-webkit-scrollbar-thumb {\n          background: #22d3ee;\n          border-radius: 4px;\n        }\n\n        ::-webkit-scrollbar-thumb:hover {\n          background: #67e8f9;\n        }\n      "})]})),pM=[{id:"intro",label:"Why This Whitepaper Matters"},{id:"trust",label:"Trust & Compliance Badges"},{id:"vision",label:"Vision & Mission"},{id:"utility",label:"Token Utility & Legal Framing"},{id:"tokenomics",label:"Tokenomics & Distribution"},{id:"security",label:"Security & Self-Custody"},{id:"roadmap",label:"Roadmap"},{id:"links",label:"Related Policies"},{id:"contact",label:"Contact & Founder"}],gM=()=>{D.useEffect(()=>{if(window.scrollTo({top:0,behavior:"smooth"}),window.location.hash){const e=window.location.hash.replace("#","");setTimeout(()=>{const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})},100)}},[]),D.useRef(null),D.useRef(null),D.useRef(null),D.useRef(null),D.useRef(null),D.useRef(null),D.useRef(null),D.useRef(null),D.useRef(null),D.useRef(null);const t=D.useRef(null);D.useRef(null),D.useRef(null);const[n,r]=D.useState(0),[s,i]=D.useState(0),[a,o]=D.useState(0),[l,c]=D.useState(0),u=D.useRef([null,null,null,null]),d=D.useRef(!1),h=(e,t,n=1e3)=>{let r;const s=i=>{r||(r=i);const a=Math.min((i-r)/n,1);t(Math.floor(a*e)),a<1?u.current[e]=requestAnimationFrame(s):t(e)};return s};return D.useEffect(()=>{const e=t.current;if(!e)return;const n=new window.IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!d.current&&(d.current=!0,requestAnimationFrame(h(65,r)),requestAnimationFrame(h(15,i)),requestAnimationFrame(h(10,o)),requestAnimationFrame(h(10,c)))})},{threshold:.2});return n.observe(e),()=>n.disconnect()},[t]),e.jsxs(e.Fragment,{children:[e.jsxs(Kh,{children:[e.jsx("title",{children:"Whitepaper | USDFGAMING  Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{name:"description",content:"Read the USDFGAMING Whitepaper. Discover the vision, tokenomics, and mechanics behind the elite, skill-based crypto gaming platform."}),e.jsx("meta",{name:"keywords",content:"USDFG, USDFG, whitepaper, crypto gaming whitepaper, skill-based gaming, tokenomics, non-custodial, USDFGAMING"}),e.jsx("link",{rel:"canonical",href:"https://usdfg.pro/whitepaper"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:"https://usdfg.pro/whitepaper"}),e.jsx("meta",{property:"og:title",content:"Whitepaper | USDFGAMING  Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{property:"og:description",content:"Read the USDFGAMING Whitepaper. Discover the vision, tokenomics, and mechanics behind the elite, skill-based crypto gaming platform."}),e.jsx("meta",{property:"og:image",content:"https://usdfg.pro/usdfg-og-banner.png"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:site",content:"@USDFGAMING"}),e.jsx("meta",{name:"twitter:title",content:"Whitepaper | USDFGAMING  Skill-Based Crypto Gaming Platform"}),e.jsx("meta",{name:"twitter:description",content:"Read the USDFGAMING Whitepaper. Discover the vision, tokenomics, and mechanics behind the elite, skill-based crypto gaming platform."}),e.jsx("meta",{name:"twitter:image",content:"https://usdfg.pro/usdfg-og-banner.png"}),e.jsx("script",{type:"application/ld+json",children:'\n          {\n            "@context": "https://schema.org",\n            "@graph": [\n              {\n                "@type": "Organization",\n                "name": "USDFGAMING",\n                "url": "https://usdfg.pro",\n                "logo": "https://usdfg.pro/usdfg-og-banner.png",\n                "sameAs": [\n                  "https://twitter.com/USDFGAMING",\n                  "https://t.me/+TPjhAyJiAF9mZTI0",\n                  "https://instagram.com/usdfgaming",\n                  "https://www.tiktok.com/@usdfgames"\n                ]\n              },\n              {\n                "@type": "WebPage",\n                "url": "https://usdfg.pro/whitepaper",\n                "name": "Whitepaper | USDFGAMING  Skill-Based Crypto Gaming Platform",\n                "description": "Read the USDFGAMING Whitepaper. Discover the vision, tokenomics, and mechanics behind the elite, skill-based crypto gaming platform."\n              }\n            ]\n          }\n        '})]}),e.jsx(Ln,{}),e.jsxs("div",{className:"relative flex flex-col md:flex-row",children:[e.jsxs("nav",{className:"hidden md:block md:w-64 sticky top-24 h-fit self-start px-2 py-6 mr-8 bg-[#0b0b0c]/90 border border-cyan-400/20 rounded-lg shadow-none mt-12 animate-fade-in",children:[e.jsx("h2",{className:"text-cyan-400 font-bold text-lg mb-4 tracking-wide",children:"On This Page"}),e.jsx("ul",{className:"space-y-2 text-cyan-200 text-sm",style:{maxHeight:"70vh",overflowY:"auto"},children:pM.map(t=>e.jsx("li",{children:e.jsx("a",{href:`#${t.id}`,className:"hover:text-white transition",children:t.label})},t.id))})]}),e.jsx("main",{className:"min-h-screen bg-gradient-to-b from-[#181c2f] via-[#1a142e] to-[#181c2f] flex-1 text-cyan-100",children:e.jsxs("div",{className:"container mx-auto px-4 py-12 sm:py-16 md:py-20",children:[e.jsx("div",{className:"flex justify-center mb-6 mt-8",children:e.jsxs("picture",{children:[e.jsx("source",{srcSet:"/assets/usdfg-logo-transparent.webp",type:"image/webp"}),e.jsx("img",{src:"/assets/usdfg-logo-transparent.png",alt:"USDFG Logo",className:"w-24 h-24 sm:w-28 sm:h-28 md:w-32 md:h-32 rounded-full border-2 border-cyan-400 shadow-[0_0_32px_#22d3ee99] animate-float",style:{background:"rgba(11,11,12,0.7)"}})]})}),e.jsx("div",{className:"max-w-2xl mx-auto mb-8 mt-8 px-6 py-4 rounded-xl bg-gradient-to-br from-white/10 to-[#a78bfa22] border border-purple-700/40 shadow-lg backdrop-blur-md animate-fade-in",children:e.jsxs("p",{className:"text-base md:text-lg text-white/90 text-center",children:[e.jsx("span",{className:"font-bold text-cyan-300",children:"Disclaimer"}),e.jsx("br",{}),"USDFG is a decentralized utility token for gameplay and access within the USDFGAMING platform. It is not a security, equity, or financial investment. There are no promises of profit, yield, or guaranteed value. All use is performance-based, skill-driven, and non-custodial. Participation is optional and self-directed. See our ",e.jsx("a",{href:"/terms",className:"text-blue-400 hover:text-cyan-300 transition-colors underline",children:"Terms of Service"})," and ",e.jsx("a",{href:"/privacy",className:"text-blue-400 hover:text-cyan-300 transition-colors underline",children:"Privacy Policy"})," for full details."]})}),e.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-2 mt-8 text-center animate-fade-in",style:{color:"var(--text-light)",textShadow:"var(--neon-glow)"},children:"USDFG Whitepaper"}),e.jsx("div",{className:"text-xl sm:text-2xl font-extrabold text-cyan-400 drop-shadow-glow animate-fade-in mb-4 text-center mt-1",style:{textShadow:"0 0 8px #22d3ee, 0 0 16px #a78bfa"},children:"The Token of Gaming"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-x-3 gap-y-2 mt-2 mb-6 animate-fade-in",children:[e.jsx("span",{className:"px-3 py-1 rounded-full bg-neutral-800 border border-cyan-500/30 text-xs font-medium",children:"100% Non-Custodial"}),e.jsx("span",{className:"px-3 py-1 rounded-full bg-neutral-800 border border-cyan-500/30 text-xs font-medium",children:"No Gambling"}),e.jsx("span",{className:"px-3 py-1 rounded-full bg-neutral-800 border border-cyan-500/30 text-xs font-medium",children:"Skill-Based Only"}),e.jsx("span",{className:"px-3 py-1 rounded-full bg-neutral-800 border border-cyan-500/30 text-xs font-medium",children:"Self-Custody"}),e.jsx("span",{className:"px-3 py-1 rounded-full bg-neutral-800 border border-cyan-500/30 text-xs font-medium",children:"Global Compliance"})]}),e.jsxs("section",{id:"intro",className:"max-w-2xl mx-auto mb-6 text-center animate-fade-in",children:[e.jsx("p",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Why This Whitepaper Matters"}),e.jsx("p",{className:"text-base text-white/90",children:"USDFGAMING is built for elite gamers and crypto users who value skill, fairness, and full control. This platform was designed to reward performance  not purchases. Everything is decentralized, transparent, and self-custodial. USDFG isn't built for passive gain. It's built for those who compete with purpose."})]}),e.jsx("div",{className:"text-center mb-8 animate-fade-in",children:e.jsx("span",{className:"mt-4 inline-block rounded-md px-3 py-1 text-xs bg-neutral-800 border border-cyan-500/20 text-cyan-300 font-medium",children:"Last Updated: May 2025 | Version: v2.0"})}),e.jsx("section",{id:"vision",className:"whitepaper-section max-w-4xl mx-auto bg-[#111]/90 border border-[#22d3ee] p-6 sm:p-8 rounded-lg shadow-lg mb-10 animate-fade-in",children:e.jsxs("div",{className:"prose prose-invert max-w-none",children:[e.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 mb-4 flex items-center gap-2",children:[e.jsx(fr,{className:"text-purple-400"})," Vision & Mission"]}),e.jsxs("p",{className:"text-white mb-4 text-lg font-semibold",children:["USDFGAMING exists to prove that ",e.jsx("span",{className:"text-cyan-300 font-bold",children:"skillnot luckdefines success"}),"."]}),e.jsx("p",{className:"text-white mb-2",children:"Our mission is to build the world's most trusted competitive platform: one where every match is earned, every reward is real, and every user stays in control."}),e.jsx("p",{className:"text-cyan-300 font-bold mt-4",children:"No middlemen. No house. Just you, your wallet, and your skill."})]})}),e.jsx("section",{id:"utility",className:"whitepaper-section max-w-4xl mx-auto bg-[#111]/90 border border-[#22d3ee] p-6 sm:p-8 rounded-lg shadow-lg mb-10 animate-fade-in",children:e.jsxs("div",{className:"prose prose-invert max-w-none",children:[e.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 mb-4 flex items-center gap-2",children:[e.jsx(mr,{className:"text-purple-400"})," Token Utility & Legal Framing"]}),e.jsx("p",{className:"text-white mb-2",children:"USDFG is a utility token designed for skill-based access, challenge entry, and verifiable rewards."}),e.jsx("p",{className:"text-white mb-2",children:"It is not a security, investment, or speculative asset. USDFG offers no staking, no passive yield, and no financial guarantees  all use is non-custodial and performance-based."}),e.jsxs("p",{className:"text-white mb-2",children:["Users retain full control of their wallets and assets at all times. No part of USDFG or this platform is structured for financial gain. ",e.jsx("a",{href:"/terms",className:"text-blue-400 hover:text-cyan-300 transition-colors underline",children:"See our Terms of Service"})," for full legal details."]})]})}),e.jsx("section",{id:"tokenomics",className:"whitepaper-section max-w-4xl mx-auto bg-[#111]/90 border border-[#22d3ee] p-6 sm:p-8 rounded-lg shadow-lg mb-10 animate-fade-in",children:e.jsxs("div",{className:"prose prose-invert max-w-none",children:[e.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 mb-4 flex items-center gap-2",children:[e.jsx(hr,{className:"text-purple-400"})," Tokenomics & Distribution"]}),e.jsxs("p",{className:"text-white mb-4",children:[e.jsx("b",{children:"Total Supply:"})," 21,000,000 USDFG (Fixed, non-inflationary)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-cyan-800/30",children:[e.jsx("h4",{className:"text-xl font-semibold text-purple-400 mb-2",children:"65% Public Trading"}),e.jsx("p",{className:"text-gray-300",children:"Non-custodial, open market supply. No presale, no early access, no staking. All users have equal opportunity to acquire tokens through public decentralized exchanges."})]}),e.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-cyan-800/30",children:[e.jsx("h4",{className:"text-xl font-semibold text-purple-400 mb-2",children:"15% Core Reserve"}),e.jsx("p",{className:"text-gray-300",children:"This allocation is held by the founder with full discretion. It may be used, held, or distributed at any time  including for personal, strategic, or project-related purposes. Tokens remain non-custodial and fully transparent."})]}),e.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-cyan-800/30",children:[e.jsx("h4",{className:"text-xl font-semibold text-purple-400 mb-2",children:"10% Development & Operations"}),e.jsx("p",{className:"text-gray-300",children:"Supports active platform development, infrastructure, scaling, and operational costs. May also include allocation for external contributors or technical support partners."})]}),e.jsxs("div",{className:"bg-[#1a1a1a] p-4 rounded-lg border border-cyan-800/30",children:[e.jsx("h4",{className:"text-xl font-semibold text-purple-400 mb-2",children:"10% Rewards & Challenges"}),e.jsx("p",{className:"text-gray-300",children:"Used to fund skill-based tournaments, no-entry-fee promotional matches, new player onboarding incentives, and limited challenge-based events."})]})]}),e.jsxs("p",{className:"mt-6 text-sm text-white/70",children:["For full legal and compliance details, see our"," ",e.jsx("a",{href:"/privacy",className:"underline text-cyan-400 hover:text-cyan-300",children:"Privacy Policy"})," ","and"," ",e.jsx("a",{href:"/terms",className:"underline text-cyan-400 hover:text-cyan-300",children:"Terms of Service"}),"."]})]})}),e.jsx("section",{id:"security",className:"whitepaper-section max-w-4xl mx-auto bg-[#111]/90 border border-[#22d3ee] p-6 sm:p-8 rounded-lg shadow-lg mb-10 animate-fade-in",children:e.jsxs("div",{className:"prose prose-invert max-w-none",children:[e.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 mb-4 flex items-center gap-2",children:[e.jsx(hr,{className:"text-purple-400"})," Security & Self-Custody"]}),e.jsx("p",{className:"text-white mb-2",children:"USDFGAMING, the skill-based crypto platform, is 100% non-custodial. We never hold your funds, keys, or personal data. All transactions are on-chain, transparent, and user-controlled. Security audits are published and updated regularly. If you lose access to your wallet, we cannot recover itself-custody is your responsibility and your right."})]})}),e.jsx("section",{id:"roadmap",className:"whitepaper-section max-w-4xl mx-auto bg-[#111]/90 border border-[#22d3ee] p-6 sm:p-8 rounded-lg shadow-lg mb-10 animate-fade-in",children:e.jsxs("div",{className:"prose prose-invert max-w-none",children:[e.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 mb-6 flex items-center gap-2",children:[e.jsx(lr,{className:"text-purple-400"})," What's Ahead for USDFG"]}),e.jsxs("ul",{className:"list-disc pl-6 text-gray-300 space-y-2 mb-6",children:[e.jsx("li",{children:"Launching head-to-head challenges with verified payouts and full non-custodial control."}),e.jsx("li",{children:"Expanding game categories to unlock new skill-based arenas."}),e.jsx("li",{children:"Rolling out competitive leaderboards and limited-supply prize pools."}),e.jsx("li",{children:"Staying fully legal, skill-based, and founder-led  no governance tokens, no staking, no hype games."})]}),e.jsx("p",{className:"text-cyan-300 font-bold mt-4",children:"USDFG doesn't grow on hype  it grows with pressure. That's the roadmap."})]})}),e.jsx("section",{id:"links",className:"whitepaper-section max-w-4xl mx-auto bg-[#111]/90 border border-[#22d3ee] p-6 sm:p-8 rounded-lg shadow-lg mb-10 animate-fade-in",children:e.jsxs("div",{className:"prose prose-invert max-w-none text-center",children:[e.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 mb-4 flex items-center gap-2",children:[e.jsx(dr,{className:"text-purple-400"})," Related Policies"]}),e.jsxs("p",{className:"text-white",children:["For full legal and privacy details, see our ",e.jsx("a",{href:"/privacy",className:"underline text-cyan-400 hover:text-cyan-300",children:"Privacy Policy"})," and ",e.jsx("a",{href:"/terms",className:"underline text-cyan-400 hover:text-cyan-300",children:"Terms of Service"}),".",e.jsx("br",{}),"USDFG is built to stay transparent, secure, and fair  always."]})]})}),e.jsx("section",{id:"contact",className:"whitepaper-section max-w-4xl mx-auto bg-[#111]/90 border border-[#22d3ee] p-6 sm:p-8 rounded-lg shadow-lg mb-10 animate-fade-in text-center",children:e.jsxs("div",{className:"prose prose-invert max-w-none",children:[e.jsxs("h2",{className:"text-2xl font-bold text-cyan-400 mb-4 flex items-center gap-2",children:[e.jsx(pr,{className:"text-purple-400"})," Contact & Founder"]}),e.jsxs("p",{className:"text-white mb-4",children:["For questions, compliance inquiries, or media, contact ",e.jsx("a",{href:"mailto:founder@usdfg.pro",className:"text-cyan-300 underline",children:"founder@usdfg.pro"})," or ",e.jsx("a",{href:"mailto:support@usdfg.pro",className:"text-cyan-300 underline",children:"support@usdfg.pro"})," or DM ",e.jsx("a",{href:"https://twitter.com/USDFGAMING",className:"text-cyan-300 underline",target:"_blank",rel:"noopener noreferrer",children:"@USDFGAMING"})," on Twitter."]}),e.jsxs("div",{className:"mt-8 text-left max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("picture",{children:[e.jsx("source",{srcSet:"/assets/usdfg-logo-transparent.webp",type:"image/webp"}),e.jsx("img",{src:"/assets/usdfg-logo-transparent.png",alt:"USDFG Logo",className:"w-10 h-10 rounded-full border border-cyan-400"})]}),e.jsx("span",{className:"font-bold text-cyan-300",children:"Hussein Ali"})]}),e.jsx("div",{className:"text-xs text-cyan-200 italic",children:"Founder & Lead Developer, USDFGAMING"}),e.jsx("div",{className:"text-xs text-neutral-400 mt-1",children:"Signed digitally for legal compliance and user trust."})]})]})}),e.jsx("section",{className:"max-w-2xl mx-auto mb-12 px-6 py-4 rounded-xl bg-gradient-to-br from-white/10 to-[#a78bfa22] border border-purple-700/40 shadow-lg backdrop-blur-md animate-fade-in text-center",children:e.jsxs("p",{className:"text-base md:text-lg text-white/90 font-bold",children:[e.jsx("span",{className:"text-purple-300",children:"Legal Note:"}),e.jsx("br",{}),"This document is not financial advice and does not offer or solicit any investment.",e.jsx("br",{}),"USDFG is a fixed-supply utility token used only for skill-based access and entertainment. Participation is optional and at your own discretion."]})})]})})]}),e.jsx(Un,{isRevealed:!0}),e.jsx("style",{children:"\n        .whitepaper-section { transition: box-shadow 0.3s, transform 0.3s; }\n        .whitepaper-section:hover { box-shadow: 0 0 32px #22d3ee33, 0 0 8px #a78bfa33; transform: scale(1.01); }\n        @media (max-width: 640px) {\n          .whitepaper-section { padding: 1rem; margin: 0.5rem; }\n          h1 { font-size: 2rem; margin-bottom: 1.5rem; }\n          h2 { font-size: 1.5rem; margin-bottom: 1rem; }\n          h3 { font-size: 1.25rem; }\n          p, li { font-size: 0.95rem; line-height: 1.5; }\n        }\n        /* Sidebar reduced glow */\n        .sidebar-glow { box-shadow: none !important; background: #0b0b0c !important; border-color: #22d3ee33 !important; }\n        /* Tag buttons - pill, less bright */\n        .tag-pill { opacity: 0.8; background: #0b0b0c; border: 1px solid #22d3ee33; color: #a5f3fc; font-size: 0.85rem; font-weight: 600; border-radius: 9999px; padding: 0.25rem 0.9rem; box-shadow: none; }\n        /* Soft fade-in for top elements */\n        .animate-fade-in { opacity: 0; animation: fadeInSoft 1.1s cubic-bezier(.4,0,.2,1) forwards; }\n        @keyframes fadeInSoft { from { opacity: 0; transform: translateY(24px); } to { opacity: 1; transform: none; } }\n      "})]})};function yM(){return e.jsx(z,{children:e.jsxs(V,{children:[e.jsx(q,{path:"/",element:e.jsx(Qh,{})}),e.jsx(q,{path:"/privacy",element:e.jsx(fM,{})}),e.jsx(q,{path:"/terms",element:e.jsx(mM,{})}),e.jsx(q,{path:"/whitepaper",element:e.jsx(gM,{})}),e.jsx(q,{path:"/app",element:e.jsx(IP,{})}),e.jsx(q,{path:"/app/challenge/new",element:e.jsx(UP,{})}),e.jsx(q,{path:"/app/profile/:address",element:e.jsx(hM,{})}),e.jsx(q,{path:"/login",element:e.jsx(Qh,{})}),e.jsx(q,{path:"*",element:e.jsx(Rn,{})})]})})}function bM(){return e.jsxs(ze,{client:Ve,children:[e.jsxs(Kh,{children:[e.jsx("title",{children:"USDFGAMING  Skill-Based Crypto Gaming | Game. Earn. Conquer."}),e.jsx("meta",{name:"description",content:"USDFGAMING is the elite, skill-based crypto gaming platform. Compete, verify results, and earn USDFG. No gambling. 100% on-chain."}),e.jsx("link",{rel:"canonical",href:"https://usdfg.pro/"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:site_name",content:"USDFGAMING"}),e.jsx("meta",{property:"og:url",content:"https://usdfg.pro/"}),e.jsx("meta",{property:"og:title",content:"USDFGAMING  Skill-Based Crypto Gaming"}),e.jsx("meta",{property:"og:description",content:"Compete in verified challenges, earn USDFG, and prove your skill."}),e.jsx("meta",{property:"og:image",content:"https://usdfg.pro/assets/usdfg-og-banner.png"}),e.jsx("meta",{property:"og:image:width",content:"1200"}),e.jsx("meta",{property:"og:image:height",content:"630"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:site",content:"@USDFGAMING"}),e.jsx("meta",{name:"twitter:title",content:"USDFGAMING  Skill-Based Crypto Gaming"}),e.jsx("meta",{name:"twitter:description",content:"Compete in verified challenges, earn USDFG, and prove your skill."}),e.jsx("meta",{name:"twitter:image",content:"https://usdfg.pro/assets/usdfg-og-banner.png"}),e.jsx("meta",{name:"theme-color",content:"#0c1222"})]}),e.jsxs("div",{className:"min-h-screen flex flex-col relative overflow-hidden",children:[e.jsx(yM,{}),e.jsx(An,{})]})]})}ee.createRoot(document.getElementById("root")).render(e.jsx(bM,{}));
